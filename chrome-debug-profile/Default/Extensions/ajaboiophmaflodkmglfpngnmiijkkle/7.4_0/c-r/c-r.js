

let zM02_shif=null,zM02_pnl=null,zM02_hLst=null,zM02_emL=null,zM02_thm,zM02_qHer=![],zM02_api,zM02_apt,zM02_sCi,zM02_sCt,zM02_sCb,zM02_pgi,zM02_pgt,zM02_qHi,zM02_qHt,zM02_cEi,zM02_cEt,zM02_pEi,zM02_tEi,zM02_hEi,zM02_mEi,zM02_tlb,zM02_qHc,zM02_srT='0',zM02_eTb=null,zM02_pNb=null,zM02_srDs=null,zM02_tScr=null,zM02_sbScr=null,zM02_lScr=null,zM02_exDs=null,zM02_sb_qHO=null,zM02_lgi=null,zM02_lgt=null,zM07_pCf=![],zM05_sb_s=null,zM05_tgi=null;const colors=['yellow','green','blue','pink','red'],zM05__ic=a=>chrome['runtime']['getURL']('icons/'+a+'.svg'),zM05__emp=()=>{!zM02_emL&&(zM02_emL=document['createElement']('div'),zM02_emL['className']='zM-sb-emp',zM02_emL['innerHTML']='<div class="zM--sb-emp-ttl">'+chrome['i18n']['getMessage']('txt_no_annotation')+'</div><div style="line-height:1.5;text-align:center;font-size:13px">'+chrome['i18n']['getMessage']('txt_no_annotation_sub')+'</div>'),zM02_hLst['appendChild'](zM02_emL);},zM02__int=(a,b)=>{const c=zM02__shD['appendChild'](Object['assign'](document['createElement']('div'),{'style':'touch-action:none;position:fixed;z-index:99999999999999;bottom:40px;right:40%;border-radius:6px;box-shadow:0 2px 4px rgba(0,0,0,.2);background-color:#1e1e1e;padding:14px 24px;animation:.5s ease-out forwards fadeIn','innerHTML':'<div style="color:#f5f5f5;font-family:Roboto,Arial;font-size:15px">'+a+'</div>'}));if(!b)setTimeout(()=>{c['remove']();},3000);},zM02__cib=(a,b)=>{const c=document['createElement']('div');c['className']='zM--imgBtn';if(b)c['appendChild'](b);return c['appendChild'](a),c;},zM02__ciI=(a,b,c=![])=>{const d=document['createElement']('img');d['width']=b,d['height']=b,d['src']=zM05__ic(a);if(!c)d['className']='zM--filter';return d;},zM02__cti=(a,b,c,d)=>{const e=document['createElement']('div');return e['className']='zM--ttip',e['style']['top']=b+'px',e['style']['right']=c+'px',e['style']['fontSize']=d+'px',e['textContent']=a,e;},zM02__apH=()=>{if(zM02_pnl&&zM02_qHer)zM02__dQh();try{chrome['runtime']['sendMessage']({'type':'ou','payload':{'url':zM04_pid?'https://app.zetamarker.com/annotations/'+encodeURIComponent(zM04_pid)+'?t='+encodeURIComponent(zM02_ath):'https://app.zetamarker.com?t='+encodeURIComponent(zM02_ath)}});}catch(a){console['error'](a),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__pBh=()=>{if(zM02_pnl&&zM02_qHer)zM02__dQh();try{chrome['runtime']['sendMessage']({'type':'pg'});}catch(a){zM02__int(chrome['i18n']['getMessag']('error'));}},zM04__iSf=async()=>{await zM04__iSi(),console['log']('inital sync after login or manual sync: ',{'zM04_sis':zM04_sis,'init_sync':init_sync,'zM02_pgu':zM02_pgu,'zM04_pid':zM04_pid,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC,'updatedAt':updatedAt,'syncedOn':syncedOn,'zM02_hAll':zM02_hAll,'zM02_hDis':zM02_hDis,'zM04_hN':zM04_hN,'zM04_hU':zM04_hU,'zM04_hD':zM04_hD}),zM04__siM();if(zM04_sis==='check'){let a=zM04__cMl('success_sync','resync_intro','380');const b=document['createElement']('div');b['style']['cssText']='margin:20px 20px 0;display:flex;justify-content:flex-end;',b['appendChild'](Object['assign'](document['createElement']('button'),{'style':'border-radius:20px;cursor:pointer;padding:10px 20px;border-color:rgba(0,0,0,.5);border-width:0.5px;margin-right:20px;','innerText':chrome['i18n']['getMessage']('dismiss'),'onclick':()=>{a['remove'](),a=null,zM04__strT();}})),b['appendChild'](Object['assign'](document['createElement']('button'),{'style':'border-radius:20px;cursor:pointer;padding:10px 20px;background-color:#47ceaf;border:none;font-weight:600;','innerText':chrome['i18n']['getMessage']('refresh'),'onclick':async()=>{a['remove'](),a=null,chrome['runtime']['sendMessage']({'type':'ref'});}})),a['appendChild'](b),zM02__shD['appendChild'](a);}},zM02__sih=async()=>{console['log']('sync status icon clicked'),zM04__stpT();if(zM04_sis==='check'){let a=zM04__cMl('cloud_check','sync_check_intro','380');const b=document['createElement']('div');b['style']['cssText']='margin:20px 20px 0;display:flex;justify-content:flex-end;',b['appendChild'](Object['assign'](document['createElement']('button'),{'style':'border-radius:20px;cursor:pointer;padding:10px 20px;border-color:rgba(0,0,0,.5);;border-width:0.5px;margin-right:20px;','innerText':chrome['i18n']['getMessage']('dismiss'),'onclick':()=>{a['remove'](),a=null,zM04__strT();}})),a['appendChild'](b),zM02__shD['appendChild'](a);return;}if(zM04_sis==='slash'){if(zM02_isP)zM02_lScr=document['body']['appendChild'](Object['assign'](document['createElement']('script'),{'src':'../../l.js'}));else chrome['runtime']['sendMessage']({'type':'ij-lg'});return;}if(zM04_sis==='fail'&&!init_sync){await zM04__iSf();return;}if(zM04_sis==='fail'&&init_sync){zM04__stpT();let c=zM04__cMl('failed_sync','sync_fail_intro','380');const d=document['createElement']('div');d['style']['cssText']='margin:20px 20px 0;display:flex;justify-content:flex-end;',d['appendChild'](Object['assign'](document['createElement']('button'),{'style':'border-radius:20px;cursor:pointer;padding:10px 20px;border-color:rgba(0,0,0,.5);;border-width:0.5px;margin-right:20px;','innerText':chrome['i18n']['getMessage']('dismiss'),'onclick':()=>{c['remove'](),c=null,zM04__strT();}})),c['appendChild'](d),zM02__shD['appendChild'](c);return;}},zM04__cColi=(a,b)=>{const c=document['createElement']('div');if(b)c['id']='zID--sb-colOp-'+b+'-'+a;return c['className']='zM--color zM--sb-'+a+'Col',c;},zM02__xHi=a=>{console['log']('item: ',a);const b=document['createElement']('div');b['className']='zM--sb-H-it',b['id']='zID-sb-it-'+a['uid'];const c=document['createElement']('div');c['id']='zID-sb-itTxt-'+a['uid'],c['className']='zM--txt-mu zM--sb-H-it-txt zM--sb-'+a['color']+'-shadow',c['innerText']=a['text'],c['onclick']=()=>{const o=document['querySelector']('[data-highlight-id="'+a['uid']+'"]');if(o)o['scrollIntoViewIfNeeded'](!![]);};const d=document['createElement']('div');d['className']='zM--sb-itD',d['innerText']=new Date(a['createdAt']?a['createdAt']:a['updatedAt'])['toLocaleString']();const e=document['createElement']('div');e['className']='zM--sb-itA';const f={};colors['forEach'](o=>{const p=zM04__cColi(o,a['uid']);if(o==='red')p['style']['marginRight']='20px';f[o]=p;}),Object['entries'](f)['forEach'](([o,p])=>{p['onclick']=()=>{if(o!==a['color']){p['innerHTML']='&#x2713;',p['style']['cursor']='default';const q=f[a['color']];q['innerHTML']='',q['style']['cursor']='pointer',a['color']=o,zM02__uC({'highlightId':a['uid'],'highlights':$('.highlighter--highlighted[data-highlight-id="'+a['uid']+'"]'),'comment':a['comment']},a['color']);}};});const g=f[a['color']];g['innerHTML']='&#x2713;',g['style']['cursor']='default';const h=document['createElement']('div');h['style']['cssText']='display:flex;margin-right:22px;',colors['forEach'](o=>{h['appendChild'](f[o]);});const i=zM02__ciI('comment','18'),j=zM02__cib(i);j['style']['marginRight']='16px',j['onclick']=()=>{const o=n['style']['display']==='block';if(!o)n['style']['display']='block',n['focus'](),i['src']=zM05__ic('done');else{n['style']['display']='none',i['src']=zM05__ic('comment');const p=n['value']['trim'](),q=a['comment']?a['comment']['trim']():'';zM02__uCh(a['uid'],p,()=>{const r=$('.highlighter--highlighted[data-highlight-id="'+a['uid']+'"]'),s=a['uid'],t=a['color'];if(p===''&&q!=='')zM02__rCi(s);else p!==''&&q===''&&zM02__aCi(r[0],s,p,t);n['style']['display']='none';});}};const k=zM02__ciI('copy','18'),l=zM02__cib(k);l['style']['marginRight']='16px',l['onclick']=()=>{navigator['clipboard']['writeText'](a['text']),k['src']=zM05__ic('check'),setTimeout(()=>k['src']=zM05__ic('copy'),1000);};const m=zM02__cib(zM02__ciI('delete','18'));m['onclick']=()=>{zM02_shif={'highlightId':a['uid'],'highlights':$('.highlighter--highlighted[data-highlight-id="'+a['uid']+'"]'),'comment':a['comment'],'color':a['color']},zM02__dHh();},e['append'](h,j,l,m);const n=document['createElement']('textarea');return n['id']='zM--item-comment-'+a['uid'],n['className']='zM--sb-H-com zM--txt-mu',n['placeholder']=chrome['i18n']['getMessage']('note_placeholder'),n['value']=a['comment']?a['comment']:'',n['onkeydown']=o=>{'Escape'===o['key']&&(o['preventDefault'](),j['click']());},b['append'](c,d,e,n),b;},zM02__dQh=()=>{zM02_qHer=![],zM02_qHi['src']=zM05__ic('highlighter'),document['body']['style']['cursor']='default';if(zM02_pnl)zM02_sb_qHO['style']['display']='none';},zM02__pXh=()=>{try{chrome['runtime']['sendMessage']({'type':'eH','payload':{'zM02_pgu':zM02_pgu,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC,'zM02_hDis':zM02_hDis}},a=>{if(chrome['runtime']['lastError']){console['error']('error in zM02__pXh: ',chrome['runtime']['lastError']),zM02__int(chrome['i18n']['getMessage']('error'));return;}let b=window['open']('','_blank');b['document']['write'](a),b['document']['close'](),b['print']();});}catch(a){console['error'](a),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__hXh=()=>{try{chrome['runtime']['sendMessage']({'type':'eH','payload':{'zM02_pgu':zM02_pgu,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC,'zM02_hDis':zM02_hDis}},a=>{if(chrome['runtime']['lastError']){console['error']('error in zM02__hXh'),zM02__int(chrome['i18n']['getMessage']('error'));return;}const b=new Blob([a],{'type':'text/html'}),c=URL['createObjectURL'](b),d=document['createElement']('a');d['href']=c,d['download']=zM02_pgu+'.html',d['click'](),URL['revokeObjectURL'](c);});}catch(a){console['error'](a),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__cXh=async()=>{try{let a=['🌐 '+zM02_pgu+'\n','📖 '+zM02_pT+'\n','📅 '+new Date()['toLocaleString'](),zM07_pC?'\n\n✍️\n'+zM07_pC+'\n':'\n','========================\n\n']['join']('');a+=zM02_hDis['map'](b=>{let c=''+b['text'];return b['comment']&&(c+='\n\n✍️"'+b['comment']+'"'),c+'\n---------------------\n\n';})['join'](''),await navigator['clipboard']['writeText'](a),zM02_cEi['src']=zM05__ic('check'),setTimeout(()=>{zM02_cEi['src']=zM05__ic('copy');},1000);}catch(b){console['error']('Error copying to clipboard: ',b),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__tXh=()=>{try{const a=['🌐 '+zM02_pgu+'\n','📖 '+zM02_pT+'\n','📅 '+new Date()['toLocaleString'](),zM07_pC?'\n\n✍️\n'+zM07_pC+'\n':'\n','========================\n\n',...zM02_hDis['map'](e=>{let f=e['text'];return e['comment']&&(f+='\n\n✍️"'+e['comment']+'"'),f+'\n---------------------\n\n';})]['join'](''),b=new Blob([a],{'type':'text/plain'}),c=URL['createObjectURL'](b),d=document['createElement']('a');d['href']=c,d['download']=zM02_pgu+'.txt',d['click'](),URL['revokeObjectURL'](c);}catch(e){console['error']('Error generating the text file:',e),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__mXh=()=>{try{const a=['# '+zM02_pT,'\n🌐 ['+zM02_pgu+'](http://'+zM02_pgu+')','\n📖 '+zM02_pT,'\n📅 '+new Date()['toLocaleString'](),zM07_pC?'\n\n✍️\n'+zM07_pC:'','\n\n**Highlights**\n',...zM02_hDis['map'](e=>{return'\n> '+e['text']+'\n'+(e['comment']?'\n✍️ '+e['comment']:'');})]['join']('\n'),b=new Blob([a],{'type':'text/markdown'}),c=URL['createObjectURL'](b),d=document['createElement']('a');d['href']=c,d['download']=zM02_pgu+'.md',d['click'](),URL['revokeObjectURL'](c);}catch(e){console['error']('Error generating the Markdown file:',e),zM02__int(chrome['i18n']['getMessage']('error'));}},zM04__siM=()=>{let a,b;switch(zM04_sis){case'check':a='cloud-check',b='cloud_check';break;case'slash':a='cloud-slash',b='cloud_slash';break;default:a='cloud-fail',b='cloud_fail';break;}zM02_sCi['src']=zM05__ic(a),zM02_sCt['textContent']=chrome['i18n']['getMessage'](b);};window['zM_D_s']='highlighter--deleted',window['zM_H_s']='highlighter--highlighted';const zM02_tNre=/>textNode:nth-of-type\(([0-9]+)\)$/iu,zM02_RI=500,zM02_MRT=10000;let zM02_hLl=new Map(),zM02_aDb,zM02_cBx,zM02_cBxTxt,zM02_aTd,zM02_yOp,zM02_gOp,zM02_bOp,zM02_pOp,zM02_rOp;const zM02__gCc=a=>({'yellow':'rgb(255, 246, 21)','green':'rgb(68, 255, 147)','blue':'rgb(66, 229, 255)','pink':'rgb(244, 151, 255)','red':'rgb(235, 73, 73)'}[a]||'rgb(255, 246, 21)'),zM05_Cm={'rgb(255, 246, 21)':'yellow','rgb(68, 255, 147)':'green','rgb(66, 229, 255)':'blue','rgb(244, 151, 255)':'pink','rgb(235, 73, 73)':'red'},zM02__efQ=a=>{a=a['replace'](/(?<!\\)\./g,'\x5c.');const b=zM02_tNre['exec'](a);if(b){const c=parseInt(b[1],10);a=a['replace'](zM02_tNre,'');const d=$(a)[0];return d?d['childNodes'][c]:undefined;}return $(a)[0];},zM02__rHe=a=>{const b=zM02__lH(a['highlight'],a['highlightId'],![]);if(b){zM02_hLl['delete'](a['highlightId']);return;}Date['now']()-a['errorTime']<zM02_MRT&&(a['timeout']=setTimeout(zM02__rHe,zM02_RI,a));},zM02__aHe=(a,b)=>{const c={'highlight':a,'highlightId':b,'errorTime':Date['now']()};c['timeout']=setTimeout(zM02__rHe,zM02_RI,c),zM02_hLl['set'](b,a);},zM02__dAT=(a,b)=>{if(!zM02_cBx['hidden'])zM02_cBx['hidden']=!![];zM02_aTd['style']['transform']='translate('+a+'px, '+b+'px)';if(zM02_aTd['style']['display']!=='flex')zM02_aTd['style']['display']='flex';for(const [c,d]of Object['entries']({'yellow':zM02_yOp,'green':zM02_gOp,'blue':zM02_bOp,'pink':zM02_pOp,'red':zM02_rOp})){const e=!zM02_shif||c!==zM02_shif['color']?'flex':'none';if(d['style']['display']!==e)d['style']['display']=e;}zM02_aDb['style']['display']=zM02_shif?'flex':'none';},_zM02__rW=(a,b,c,d)=>{const {anchor:e,focus:f,anchorOffset:g,focusOffset:h,color:i,textColor:j,highlightId:k,selectionString:l}=b,m=l['length'];return a['contents']()['each']((n,o)=>{if(d>=m)return;if(o['nodeType']!==Node['TEXT_NODE']){const y=$(o);y['is'](':visible')&&getComputedStyle(o)['visibility']!=='hidden'&&([c,d]=_zM02__rW(y,b,c,d));return;}let p=0;if(!c){if(!e['is'](o)&&!f['is'](o))return;c=!![],p=Math['min'](...[...e['is'](o)?[g]:[],...f['is'](o)?[h]:[]]);}const {nodeValue:q,parentElement:r}=o;if(p>q['length'])return;const s=o['splitText'](p);let t=p;for(;t<q['length'];t++){while(d<m&&l[d]['match'](/\s/u))d++;if(d>=m)break;const z=q[t];if(z['toLowerCase']()===l[d]['toLowerCase']())d++;else{if(!z['match'](/\s/u))return;}}if(r&&r['classList']['contains'](zM_H_s))return;const u=t-p,v=s['splitText'](u),w=s['nodeValue'];if(w['match'](/^\s*$/u)){if(r)r['normalize']();return;}const x=document['createElement']('span');x['classList']['add'](i==='inherit'?zM_D_s:zM_H_s),x['style']['backgroundColor']=i,x['style']['color']=j,x['dataset']['highlightId']=k,x['textContent']=s['nodeValue'],b['comment']&&(x['title']=b['comment']),s['remove'](),r['insertBefore'](x,v);}),[c,d];},zM02__gHi=a=>{const b=a['target']['getAttribute']('data-highlight-id'),c=a['target']['getAttribute']('title'),d=$('.highlighter--highlighted[data-highlight-id="'+b+'"]');if(d['length']===0)return;const f=d[0]['style']['backgroundColor'];return{'highlightId':b,'highlights':d,'comment':c,'color':zM05_Cm[f]||'yellow'};},zM02__hsV=(a,b,c,d,f,g,h)=>{d={'yellow':'#FFF615','green':'#44FF93','blue':'#42E5FF','pink':'#F497FF','red':'#EB4949'}[d]||'#FFF615';const i={'color':d,'textColor':f,'selectionString':a,'anchor':$(b['anchorNode']),'anchorOffset':b['anchorOffset'],'focus':$(b['focusNode']),'focusOffset':b['focusOffset'],'comment':h,'highlightId':g};try{_zM02__rW($(c),i,![],0);}catch(k){return console['error'](k),![];}b['removeAllRanges']&&b['removeAllRanges']();const j=$(c)['parent']();return j['find']('.'+zM_H_s)['each']((l,m)=>{m['addEventListener']('click',n=>{if(window['getSelection']()['toString']()['length']===0){let o=n['clientX'];if(o+100>window['innerWidth'])o=window['innerWidth']-120;let p=n['clientY'];if(p+120>window['innerHeight'])p=window['innerHeight']-180;zM02_shif=zM02__gHi(n);if(!zM02_shif)return;zM02__dAT(o,p);}});}),!![];},zM02__aCi=(a,b,c,d='yellow')=>{if(!a)return;const e=document['createDocumentFragment'](),f=document['createElement']('span');f['title']=c,f['style']['position']='relative';const g=document['createElement']('span'),h='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><path stroke="#000000" stroke-width="1" d="M22,2H6C4.897,2,4,2.897,4,4v14l4-4h14c1.103,0,2-0.897,2-2V4C24,2.897,23.103,2,22,2z"></path></svg>';g['innerHTML']=h,g['style']['cssText']='position: absolute;fill: '+zM02__gCc(d)+' !important;opacity: 1 !important;top: -10px;left: 0;',g['dataset']['zetaMarkerCommentId']=b,f['appendChild'](g),e['appendChild'](f),a['parentNode']&&a['parentNode']['insertBefore'](e,a),f['appendChild'](a);},zM02__lH=(a,b)=>{const c={'anchorNode':zM02__efQ(a['anchorNode']),'anchorOffset':a['anchorOffset'],'focusNode':zM02__efQ(a['focusNode']),'focusOffset':a['focusOffset']};let {color:d,text:e,uid:f,comment:g,container:h}=a;h=zM02__efQ(h),g=g??'';if(!c['anchorNode']||!c['focusNode']||!h)return!b&&zM02__aHe(a,f),![];const i=zM02__hsV(e,c,h,d,zM02_isP?'inherit':d==='red'?'white':'black',f,g);!b&&!i&&zM02__aHe(a,f);if(i&&g!==''){const j=document['querySelectorAll']('.highlighter--highlighted[data-highlight-id="'+f+'"]');zM02__aCi(j[0],f,g,d);}return i;},zM02__pHp=(a=()=>{})=>{try{if(!zM02_hDis||zM02_hDis['length']===0){a();return;};for(const b of zM02_hDis){zM02__lH(b,![]);}a();}catch(c){console['error'](c),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__lHs=a=>{function b(){typeof zM02__pHp==='function'&&zM02__pHp(a),document['removeEventListener']('DOMContentLoaded',b);}document['readyState']==='complete'||document['readyState']==='interactive'?b():document['addEventListener']('DOMContentLoaded',b,{'capture':!![],'once':!![]});},zM02_vPf=document['getElementById']('viewerContainer');let zM05_hAct=![];const zM02__aHer=()=>{if(zM05_hAct)return;zM05_hAct=!![],document['addEventListener']('mouseup',a=>{const b=window['getSelection']()['toString'](),c=zM02__gC['contains'](a['target']),d=a['target']['getAttribute']('data-highlight-id'),f=zM02_cBx['style']['display']==='flex';if(!b){zM02_aTd['style']['display']='none';return;}if(c||f||d)return;if(zM02_qHer){zM02__SaH(zM02_qHc);return;}let g=a['clientX'],h=a['clientY'];const {innerWidth:i,innerHeight:j}=window;g=Math['min'](g,i-80),h=Math['min'](h,j-90),zM02_shif=null,zM02__dAT(g,h);});},zM04__cCol=a=>{const b=document['createElement']('div');b['classList']['add']('zM--mrColOpt','zM--'+a);const d=document['createElement']('div');return d['classList']['add']('zM--mrOpt'),b['appendChild'](d),b;},zM02__cMaB=a=>{let b=document['createElement']('div');b['classList']['add']('zM--tool');let c=document['createElement']('img');return c['id']='zID_anntool_'+a,c['src']=zM05__ic(a),c['className']='zM--tool-ic zM--filter',b['appendChild'](c),b['addEventListener']('mousedown',function(d){d['stopPropagation'](),d['preventDefault']();}),b;},zM05__mCol=a=>{!zM02_shif?zM02__SaH(a):zM02__uC(zM02_shif,a);},zM02__iAT=()=>{zM02_aTd=document['createElement']('div');const a=zM02__cMaB('marker'),b=document['createElement']('div'),c=document['createDocumentFragment']();zM02_yOp=zM04__cCol('yellow'),zM02_gOp=zM04__cCol('green'),zM02_bOp=zM04__cCol('blue'),zM02_pOp=zM04__cCol('pink'),zM02_rOp=zM04__cCol('red'),c['append'](zM02_yOp,zM02_gOp,zM02_bOp,zM02_pOp,zM02_rOp),b['appendChild'](c),b['style']['display']='none',b['className']='zM--mrColOpts',a['appendChild'](b),a['addEventListener']('mouseover',()=>{b['style']['display']='flex';}),a['addEventListener']('mouseout',()=>{b['style']['display']='none';}),zM02_yOp['onclick']=()=>zM05__mCol('yellow'),zM02_gOp['onclick']=()=>zM05__mCol('green'),zM02_bOp['onclick']=()=>zM05__mCol('blue'),zM02_pOp['onclick']=()=>zM05__mCol('pink'),zM02_rOp['onclick']=()=>zM05__mCol('red');const d=zM02__cMaB('comment');d['addEventListener']('click',f=>{zM02_aTd['style']['display']='none',!zM02_shif?zM02__SaH('yellow','inherit',g=>{const h=$('.highlighter--highlighted[data-highlight-id="'+g+'"]');zM02_shif={'highlightId':g,'highlights':h,'color':'yellow','temp':!![]},zM02__dCb(f);}):zM02__dCb(f);});const e=zM02__cMaB('copy');e['addEventListener']('click',()=>{const f=window['getSelection']();let g=f['toString']()['trim']();zM02_shif&&g['length']===0&&(g=Array['from'](zM02_shif['highlights'])['map'](h=>h['textContent']['replace'](/\s+/gmu,' '))['join'](''),zM02_shif=null),navigator['clipboard']['writeText'](g),f['removeAllRanges'](),zM02_aTd['style']['display']='none';}),zM02_aDb=zM02__cMaB('delete'),zM02_aDb['onclick']=zM02__dHh,zM02_aTd['append'](a,d,e,zM02_aDb),zM02_aTd['className']='zM--aTd-'+zM02_thm,zM02__shD['appendChild'](zM02_aTd);},zM05__cCC=()=>{zM02_cBx=document['createElement']('div'),zM02_cBx['className']='zM--cBx',zM02_cBxTxt=document['createElement']('textarea'),zM02_cBxTxt['id']='zID_anntool_commentTxt',zM02_cBxTxt['className']='zM--cBx-txt',zM02_cBxTxt['placeholder']=chrome['i18n']['getMessage']('note_placeholder'),zM02_cBxTxt['onkeydown']=c=>{'Escape'===c['key']&&(c['preventDefault'](),b['click']());};const a=document['createElement']('div');a['className']='zM--cBx-acts';const b=document['createElement']('div');b['className']='zM--cBx-act',b['appendChild'](Object['assign'](document['createElement']('img'),{'src':zM05__ic('done')})),b['onclick']=()=>{zM02_cBx['style']['display']='none';if(!zM02_shif)return;const c=zM02_shif['comment']||'',d=zM02_cBxTxt['value'];if(d===''&&zM02_shif['temp']){zM02__dHh();return;}d!==c?(console['log']('comment entered: ',d),zM02__uCh(zM02_shif['highlightId'],d,()=>{d===''&&c!==''&&zM02__rCi(zM02_shif['highlightId']),d!==''&&c===''&&zM02__aCi(zM02_shif['highlights'][0],zM02_shif['highlightId'],d,zM02_shif['color']),zM02_shif=null;})):zM02_shif=null;},a['append'](b),zM02_cBx['append'](a,zM02_cBxTxt),zM02__shD['appendChild'](zM02_cBx);},zM02__SaH=async(a,b='inherit',c=()=>{})=>{try{if(zM02_aTd)zM02_aTd['style']['display']='none';const d=window['getSelection']();if(!d||!d['toString']()||d['rangeCount']===0)return;const e=d['getRangeAt'](0);let f=null,g=null;if(d['rangeCount']>0){const o=e['getBoundingClientRect'](),{addX:p,addY:q}=zM02_vPf?{'addX':zM02_vPf['scrollLeft'],'addY':zM02_vPf['scrollTop']}:{'addX':window['scrollX'],'addY':window['scrollY']};f=o['top']+q,g=o['left']+p;}let h=e['commonAncestorContainer'];while(h&&!h['innerHTML']){h=h['parentNode'];}if(!h)return;const i=Date['now'](),j=''+i['toString'](16)+Math['floor'](Math['random']()*16777216)['toString'](16)['padStart'](6,'0');let k={'uid':j,'text':d['toString'](),'container':zM02__gHq(h),'anchorNode':zM02__gHq(d['anchorNode']),'anchorOffset':d['anchorOffset'],'focusNode':zM02__gHq(d['focusNode']),'focusOffset':d['focusOffset'],'color':a,'textColor':b,'top':f,'left':g,'createdAt':i,'status':'new'};zM02_hAll['push'](k),updatedAt=Date['now'](),await chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'syncedOn':syncedOn,'updatedAt':updatedAt,'title':zM02_pT,'_id':zM04_pid,'note':zM07_pC}});;if(zM02_pnl){if(zM02_emL)zM02_emL['remove']();if(zM02_srT==='0')zM02_hDis['push'](k),zM02_hLst['appendChild'](zM02__xHi(k));else{if(zM02_srT==='1')zM02_hDis['unshift'](k),zM02_hLst['insertBefore'](zM02__xHi(k),zM02_hLst['firstChild']);else{const s=zM02__iSp(zM02_hDis,k);zM02_hLst['insertBefore'](zM02__xHi(k),zM02_hLst['children'][s]);}}zM02_eTb&&(zM02_eTb['style']['display']='flex',zM02_pNb['style']['display']='flex');if(zM02_exDs)zM02_exDs['style']['display']='block';if(zM02_srDs)zM02_srDs['style']['display']='block';}else zM02_hDis['push'](k);const {status:l,...m}=k;if(!zM04_hN['some'](t=>t['uid']===m['uid']))zM04_hN['push'](m);console['log']('new item was added to zM04_hN: ',zM04_hN),chrome['runtime']['sendMessage']({'type':'ch-bd','n':zM02_hDis['length']}),chrome['runtime']['sendMessage']('efmpofoemibeochefpdgajaaoliaehji',{'m':'s','pu':zM02_pgu},()=>{chrome['runtime']['lastError']&&console['log']('ZetaMarker_Notifier_not_available');});const n=zM02__hsV(d['toString'](),d,h,a,zM02_isP?'inherit':a==='red'?'white':'black',k['uid']);!n?zM02__dHL(zM02_pgu,k['uid']):c(k['uid']),d['removeAllRanges']();}catch(t){console['error'](t),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__uC=async(a,b)=>{try{zM02_aTd['style']['display']='none',zM02_shif=null;const d=zM02_hAll['find'](g=>g['uid']===a['highlightId']);if(!d)return;d['color']=b,d['status']=!d['status']?'updated':d['status'],updatedAt=Date['now'](),await chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'_id':zM04_pid,'syncedOn':syncedOn,'title':zM02_pT,'note':zM07_pC,'updatedAt':updatedAt}});if(d['status']==='updated'){const {status:g,...h}=d,i=zM04_hU['findIndex'](j=>j['uid']===h['uid']);i!==-1?(zM04_hU[i]=h,console['log']('Item with uid '+h['uid']+' was updated in zM04_hU. ',zM04_hU)):(zM04_hU['push'](h),console['log']('New item was added to zM04_hU: ',zM04_hU));}else{const j=zM04_hN['findIndex'](k=>k['uid']===d['uid']);j!==-1&&(zM04_hN[j]['color']=b,console['log']('Item with uid '+d['uid']+' was updated in zM04_hN. ',zM04_hN));}const e=a['highlights'],f=zM02__gCc(b);e['css']({'backgroundColor':f,'color':zM02_isP?'inherit':b==='red'?'white':'black'});if(zM02_pnl){zM02_hLst['querySelector']('#zID-sb-itTxt-'+a['highlightId'])['className']='zM--txt-mu zM--sb-H-it-txt zM--sb-'+b+'-shadow';const k={'yellow':zM02_hLst['querySelector']('#zID--sb-colOp-'+a['highlightId']+'-yellow'),'green':zM02_hLst['querySelector']('#zID--sb-colOp-'+a['highlightId']+'-green'),'blue':zM02_hLst['querySelector']('#zID--sb-colOp-'+a['highlightId']+'-blue'),'pink':zM02_hLst['querySelector']('#zID--sb-colOp-'+a['highlightId']+'-pink'),'red':zM02_hLst['querySelector']('#zID--sb-colOp-'+a['highlightId']+'-red')};for(const l in k){const m=k[l];b===l?(m['innerHTML']='&#x2713;',m['style']['cursor']='default'):(m['innerHTML']='',m['style']['cursor']='pointer');}}if(a['comment']){const n=document['querySelector']('span[data-zeta-marker-comment-id="'+a['highlightId']+'"] svg path');n&&(n['setAttribute']('fill',zM02__gCc(b)),n['setAttribute']('stroke','#000000'));}}catch(o){console['error'](o),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__dCb=a=>{console['log']('display comment box executred: ',zM02_shif),zM02_cBx['style']['display']='flex';let b=a['clientX'];if(b+300>window['innerWidth'])b=window['innerWidth']-300;const c=a['clientY']-50;zM02_cBx['style']['top']=c+'px',zM02_cBx['style']['left']=b-20+'px',zM02_cBxTxt['value']=zM02_shif&&zM02_shif['comment']?zM02_shif['comment']:'',setTimeout(()=>zM02_cBxTxt['focus'](),0),zM02_cBxTxt['setSelectionRange'](zM02_cBxTxt['value']['length'],zM02_cBxTxt['value']['length']);},zM02__dHh=()=>{if(!zM02_shif)return;zM02__dHL(zM02_pgu,zM02_shif['highlightId'],()=>{zM02_shif['highlights']['each'](function(){let a=$(this)[0],b=a['previousSibling'],c=a['nextSibling'],d=b&&b['nodeType']===Node['TEXT_NODE']?b['textContent']:'',e=c&&c['nodeType']===Node['TEXT_NODE']?c['textContent']:'';a['parentNode']['replaceChild'](document['createTextNode'](d+a['textContent']+e),a),b&&b['nodeType']===Node['TEXT_NODE']&&b['remove'](),c&&c['nodeType']===Node['TEXT_NODE']&&c['remove']();}),zM02_shif['comment']&&zM02__rCi(zM02_shif['highlightId']),zM02_pnl&&(zM02_hLst['querySelector']('#zID-sb-it-'+zM02_shif['highlightId'])['remove'](),zM02_hDis['length']===0&&(console['log']('here'),zM02_eTb['style']['display']='none',zM02_pNb['style']['display']='none',zM02_exDs['style']['display']='none',zM02_srDs['style']['display']='none',zM05__emp())),zM02_aTd['style']['display']='none',zM02_shif=null;});},zM02__uCh=async(a,b,c=()=>{})=>{try{const d=zM02_hAll['find'](f=>f['uid']===a);if(!d)return;b===''?delete d['comment']:d['comment']=b,d['status']=d['status']||'updated',updatedAt=Date['now'](),await chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'syncedOn':syncedOn,'title':zM02_pT,'updatedAt':updatedAt,'_id':zM04_pid,'note':zM07_pC}});const e=$('.highlighter--highlighted[data-highlight-id="'+a+'"]');for(const f of e)f['title']=b;zM02_pnl&&(zM02_hLst['querySelector']('#zM--item-comment-'+a)['value']=b);if(d['status']==='updated'){const {status:g,...h}=d,i=zM04_hU['findIndex'](j=>j['uid']===h['uid']);i!==-1?(zM04_hU[i]['comment']=b,console['log']('Item with uid '+h['uid']+' was updated in zM04_hU. ',zM04_hU)):(zM04_hU['push'](h),console['log']('New item was added to zM04_hU: ',zM04_hU));}else{const j=zM04_hN['findIndex'](k=>k['uid']===d['uid']);j!==-1&&(zM04_hN[j]['comment']=b,console['log']('Item with uid '+d['uid']+' was updated in zM04_hN. ',zM04_hN));}c();}catch(k){console['error'](k),zM02__int(chrome['i18n']['getMessage']('error'));}},zM02__rCi=a=>{console['log']('this called');const b=document['querySelector']('[data-zeta-marker-comment-id="'+a+'"]');if(b)b['remove']();},zM02__gHq=a=>{if(a['id'])return'#'+a['id']['replace'](/(:|\.)/gu,'\x5c$1');if(a['localName']==='html')return'html';const b=a['parentNode'];let c=null;const d=zM02__gHq(b);if(!a['localName'])return c=Array['prototype']['indexOf']['call'](b['childNodes'],a),d+'>textNode:nth-of-type('+c+')';else{const e=$(a);return c=e['parent']()['find']('>'+a['localName'])['index'](e)+1,d+'>'+a['localName']+':nth-of-type('+c+')';}};async function zM02__dHL(a,b,c=()=>{}){try{const d=zM02_hAll['findIndex'](f=>f['uid']===b);if(d===-1)return;const e=zM02_hAll[d];e['status']==='new'?zM02_hAll['splice'](d,1):e['status']='deleted',zM02_hDis=zM02_hDis['filter'](f=>f['uid']!==b),updatedAt=Date['now'](),zM02_hAll['length']===0?(await chrome['storage']['local']['remove'](a),zM04_hN=[],console['log']('zM04_hN updated to empty: ',zM04_hN),chrome['runtime']['sendMessage']('efmpofoemibeochefpdgajaaoliaehji',{'m':'r','pu':zM02_pgu},()=>{chrome['runtime']['lastError']&&console['log']('ZetaMarker_Notifier_not_available');})):(await chrome['storage']['local']['set']({[a]:{'highlights':zM02_hAll,'_id':zM04_pid,'syncedOn':syncedOn,'title':zM02_pT,'updatedAt':updatedAt,'note':zM07_pC}}),e['status']==='deleted'?(zM04_hD['push']({'_id':e['_id'],'uid':e['uid']}),console['log']('deleted item was added to zM04_hD: ',zM04_hD)):(zM04_hN=zM04_hN['filter'](f=>f['uid']!==e['uid']),console['log']('deleted item was removed form zM04_hN if any: ',zM04_hN),zM04_hU=zM04_hU['filter'](f=>f['uid']!==e['uid']),console['log']('deleted item was removed form zM04_hU if any: ',zM04_hU))),chrome['runtime']['sendMessage']({'type':'ch-bd','n':zM02_hDis['length']}),c();}catch(f){console['error'](f),zM02__int(chrome['i18n']['getMessage']('error'));}}const zM02__iSp=(a,b)=>{let c=0,d=a['length']-1;while(c<=d){const e=Math['floor']((c+d)/2),f=zM02__srP(a[e],b);f<0?c=e+1:d=e-1;}return a['splice'](c,0,b),c;},zM02__srP=(c,d)=>{if(c['top']!==d['top'])return c['top']-d['top'];return c['left']-d['left'];};let zM04_tId=null;const zM04__syT=async()=>{const a=[...zM04_hN],b=[...zM04_hU],c=[...zM04_hD];if(a['length']===0&&b['length']===0&&c['length']===0&&!zM07_pCf){console['log']('No changes to sync.');return;}console['log']('Preparing to sync changes:',{'new':a,'updated':b,'deleted':c});try{const d=await new Promise((e,f)=>{chrome['runtime']['sendMessage']({'type':'s-h','payload':{'zM02_ath':zM02_ath,'zM02_pgu':zM02_pgu,'zM04_pid':zM04_pid,'hN':a,'hU':b,'hD':c,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC}},g=>{chrome['runtime']['lastError']?f(chrome['runtime']['lastError']):e(g);});});console['log']('response from the worker: ',d);if(d['message']==='success')syncedOn=Date['now'](),zM04_pid=d['_id'],zM02_hAll=d['data'],zM04_hN=zM04_hN['filter'](e=>!a['includes'](e)),zM04_hU=zM04_hU['filter'](e=>!b['includes'](e)),zM04_hD=zM04_hD['filter'](e=>!c['includes'](e)),zM07_pCf=![],zM04_sis='check',zM04__siM(![]);else{if(d['message']==='No page found'){if(zM02_hDis['length']>0)zM04__c404();else zM02_hAll=[],zM04_hN=zM04_hN['filter'](e=>!a['includes'](e)),zM04_hU=zM04_hU['filter'](e=>!b['includes'](e)),zM04_hD=zM04_hD['filter'](e=>!c['includes'](e)),zM04_pid=null,syncedOn=null,zM04_sis='check',zM04__siM(![]);}else zM04_sis='fail',zM04__siM(![]);}console['log']({'zM04_hN':zM04_hN,'zM04_hU':zM04_hU,'zM04_hD':zM04_hD}),console['log']('sync after auto sync in 10 sec: ',{'zM04_sis':zM04_sis,'init_sync':init_sync,'zM02_pgu':zM02_pgu,'zM04_pid':zM04_pid,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC,'updatedAt':updatedAt,'syncedOn':syncedOn,'zM02_hAll':zM02_hAll,'zM02_hDis':zM02_hDis,'zM04_hN':zM04_hN,'zM04_hU':zM04_hU,'zM04_hD':zM04_hD});}catch(e){console['error']('Failed to sync changes:',e),zM04_sis='fail',zM04__siM(![]);}};function zM04__strT(){!zM04_tId&&(zM04_tId=setInterval(zM04__syT,10000),console['log']('Sync timer started.'));}const zM04__stpT=()=>{zM04_tId&&(clearInterval(zM04_tId),zM04_tId=null,console['log']('Sync timer stopped.'));},zM04__c404=()=>{const a=zM04__cMl('sync_no_found','sync_no_found_intro','380'),b=document['createElement']('div');b['setAttribute']('style','margin:20px 20px 0;display:flex;justify-content:flex-end;');const c=document['createElement']('button');c['setAttribute']('style','border-radius:20px;cursor:pointer;padding:10px 20px;background-color:#47ceaf;border:none;font-weight:600;'),c['textContent']=chrome['i18n']['getMessage']('refresh'),c['onclick']=async()=>{a['remove'](),chrome['runtime']['sendMessage']({'type':'ref'});},b['appendChild'](c),a['appendChild'](b),zM02__shD['appendChild'](a);};((async()=>{console['log']('after inital sync: ',{'zM04_sis':zM04_sis,'init_sync':init_sync,'zM02_pgu':zM02_pgu,'zM04_pid':zM04_pid,'zM02_pT':zM02_pT,'zM07_pC':zM07_pC,'updatedAt':updatedAt,'syncedOn':syncedOn,'zM02_hAll':zM02_hAll,'zM02_hDis':zM02_hDis,'zM04_hN':zM04_hN,'zM04_hU':zM04_hU,'zM04_hD':zM04_hD});const a=document['createElement']('style');a['textContent']='.zM--mrColOpt,.zM--mrColOpts{display:flex;padding-bottom:4px}.zM--cBx-act,.zM--mrColOpt{justify-content:center;cursor:pointer}.zM--aTd-dark .zM--filter,.zM--sb-dark .zM--filter,.zM--tlb-dark .zM--filter{filter:invert(100%) sepia(0%) saturate(0%) hue-rotate(228deg) brightness(103%) contrast(101%)}@keyframes fadeIn{0%{opacity:0;transform:translateY(20px)}100%{opacity:1;transform:translateY(0)}}.zM--aTd-dark .zM--mrColOpt:hover{background-color:#000;opacity:1}.zM--aTd-light .zM--tool:hover,.zM--sb-light .zM--sb-mOpts div:hover{background-color:#f0efef}.zM--mrColOpt{width:100%;margin-top:4px;padding-top:4px}.zM--cBx-act img,.zM--mrOpt{width:16px}.zM--yellow .zM--mrOpt{background-color:#fff615}.zM--red .zM--mrOpt{background-color:#eb4949}.zM--green .zM--mrOpt{background-color:#44ff93}.zM--blue .zM--mrOpt{background-color:#42e5ff}.zM--pink .zM--mrOpt{background-color:#f497ff}.zM--mrOpt{height:16px;border-radius:8px;background-color:#fbfafa;box-shadow:0 1px 2px 0 rgb(60 64 67 / 30%),0 2px 6px 2px rgb(60 64 67 / 15%)}.zM--mrColOpts{flex-direction:column;border-radius:4px;position:absolute;top:-2px;left:40px;width:32px}.zM--aTd-dark,.zM--aTd-light,.zM--cBx{display:none;left:0;top:0;position:fixed}.zM--aTd-dark .zM--mrColOpts{background-color:#1e1e1e;box-shadow:0 1px 2px 1px rgb(0 0 0 / 30%),0 2px 6px 2px rgb(0 0 0 / 15%)}.zM--aTd-dark,.zM--aTd-light,.zM--aTd-light .zM--mrColOpts{box-shadow:0 1px 2px 1px rgb(60 64 67 / 30%),0 2px 6px 2px rgb(60 64 67 / 15%)}.zM--aTd-light .zM--mrColOpts{background-color:#fbfafa}.zM--aTd-dark,.zM--aTd-light{z-index:999999999999;flex-direction:column;width:40px;align-items:center;justify-content:center;border-radius:4px;padding-bottom:6px}.zM--aTd-dark{background-color:#1e1e1e}.zM--aTd-light{background-color:#fbfafa}.zM--cBx,.zM--cBx-txt{background-color:#ffffe0}.zM--aTd-dark .zM--tool:hover{background-color:#000;opacity:1}.zM--cBx{flex-direction:column;z-index:9999;height:180px;width:300px;border-radius:2px;box-shadow:0 1px 2px 0 rgb(60 64 67 / 30%),0 2px 6px 2px rgb(60 64 67 / 15%)}.zM--cBx-txt{box-shadow:none;border:none;outline:0;font-family:Roboto,Arial;font-size:13px;padding:4px;overflow-y:auto;flex:1}.zM--cBx-txt::-webkit-scrollbar{width:.6em}.zM--cBx-txt::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.zM--cBx-acts{display:flex;margin-right:4px;justify-content:end;align-items:center;margin-top:4px;margin-bottom:4px}.zM--cBx-act{display:flex;margin-right:4px;width:24px;height:24px;border-radius:10px;align-items:center;margin-left:4px}.zM--cBx-act:hover{background-color:rgba(255,255,0,.374)}.zM--tool{margin-top:6px;padding-top:6px;padding-bottom:6px;display:flex;width:100%;justify-content:center;transition:background-color .15s;cursor:pointer}.zM--imgBtn,.zM--sb-mOpts div{cursor:pointer;align-items:center}.zM--imgBtn{display:flex;position:relative}.zM--ttip{font-family:Roboto,Arial!important;position:absolute;background-color:#000!important;color:#fff;font-size:11px;padding:4px 8px;border-radius:4px;opacity:0;pointer-events:none;z-index:9999999;white-space:nowrap;transition:opacity .2s ease-in-out}.zM--sb-dark,.zM--sb-light{display:flex;z-index:9999999999999999999;top:0;left:-340px;height:100%;padding-left:2px;transition:.2s ease-out;flex-direction:column;cursor:default!important;direction:ltr!important;font-family:Roboto,Arial!important}.zM--imgBtn:hover .zM--ttip{opacity:1;pointer-events:auto}.zM--sb-dark{position:fixed;width:300px;color:#f5f5f5;background-color:#1e1e1e;box-shadow:5px 0 5px -2px rgba(0,0,0,.5)}.zM--hide,.zM--sb-itA{justify-content:center}.zM--sb-dark .zM--sh-sep{box-shadow:0 1px 1px #000}.zM--sb-dark .zM--sb-H-it:hover{box-shadow:0 2px 2px 0 rgb(255 255 255 / 20%),0 -2px 2px 0 rgb(255 255 255 / 20%);background-color:#000}.zM--sb-dark .zM--sb-H-it{background-color:#000}.zM--sb-dark .zM--sb-tl,.zM--sb-dark .zM--sel{color:#e4e3b7}.zM--sb-dark .zM--sMn{color:#f5f5f5;border:.5px solid #000}.zM--hide{position:absolute;width:20px;padding-top:6px;padding-bottom:6px;display:flex;border-bottom-right-radius:25%;border-top-right-radius:25%}.zM--sb-dark .zM--hide{background-color:#1e1e1e}.zM--sb-light .zM--hide{background-color:#f1f2f4;box-shadow:1px 1px 1px 0 rgba(0,0,0,.4)}.zM--sb-dark .zM--sb-mOpts{background-color:#000;box-shadow:1px 1px 1px rgba(255,255,255,.2)}.zM--sb-dark .zM--sb-mOpts div:hover{opacity:1}.zM--sb-dark .zM--sMn{background-color:#000}.zM--sb-light{background-color:#f1f2f4;box-shadow:1px 1px 1px rgba(0,0,0,.3);font-weight:500!important;position:fixed;width:300px;color:#000!important}.zM--sMn,.zM--sb-mOpts{z-index:99999999999999999995;box-sizing:border-box}.zM--sb-light .zM--sh-sep{box-shadow:0 1px 1px rgba(200,200,200,.4)}.zM--sb-light .zM--sb-emp-ttl,.zM--sb-light .zM--sb-tl,.zM--sb-light .zM--sel{color:#8b4513}.zM--sb-light .zM--sMn{background-color:#f1f2f4;color:#000}.zM--sb-light .zM--sb-mOpts{background-color:#fbfafa;box-shadow:1px 1px 1px rgba(0,0,0,.2);opacity:1}.zM--sb-light .zM--sb-H-it:hover{background-color:#eaf1fb;box-shadow:0 1px 2px 0 rgb(60 64 67 / 30%),0 2px 6px 2px rgb(60 64 67 / 15%)}.zM--sb-light .zM--sb-H-it:hover .zM--sb-H-com{color:#000!important;font-weight:400!important}.zM--sb-light .zM--txt-mu{color:rgba(0,0,0)!important;font-weight:400!important}.zM--sb-light .zM--sb-H-com{border-color:grey!important;border-width:1px}.zM--sb-light .zM--sb-H-it{background-color:#fff}.zM--sb-light .zM--sb-yellow-shadow{border-left:5px solid #d4d400}.zM--sb-light .zM--sb-green-shadow{border-left:5px solid #00c765}.zM--sb-light .zM--sb-blue-shadow{border-left:5px solid #007bb5}.zM--sb-light .zM--sb-pink-shadow{border-left:6px solid #b450e1}.zM--sb-red-shadow{border-left:5px solid #eb4949;border-radius:6px}.zM--sb-green-shadow{border-left:5px solid #44ff93;border-radius:6px}.zM--sb-yellow-shadow{border-left:5px solid #fff615;border-radius:6px}.zM--sb-blue-shadow{border-left:5px solid #42e5ff;border-radius:6px}.zM--sb-pink-shadow{border-left:5px solid #f497ff;border-radius:6px}.zM--sb-mOpts{border-radius:4px;font-size:11px;position:fixed;padding:12px 14px;display:none;flex-direction:column;row-gap:20px}.zM--sb-mOpts div{display:flex;opacity:.9}.zM--sb-mOpts div img{margin-right:10px}.zM--sb-top{display:flex;cursor:default;box-sizing:border-box;padding:5px 10px;align-items:center;justify-content:center}.zM--sb-top .zM--imgBtn{padding:5px 10px;opacity:.8}.zM--sb-H-lst{overflow-y:auto!important;scrollbar-width:none;-ms-overflow-style:none;flex:1;margin-bottom:6px;overflow-x:hidden!important}.zM--sb-H-lst::-webkit-scrollbar{display:none}.zM--sb-H-it{width:96%;padding-top:6px;padding-left:4px;padding-bottom:6px;margin-bottom:12px;display:flex;flex-direction:column}.zM--txt-mu{font-size:11px!important;color:rgba(255,255,255,.8)!important;line-height:1.5}.zM--sb-yellowCol{background-color:#fff615}.zM--sb-redCol{background-color:#eb4949}.zM--sb-greenCol{background-color:#44ff93}.zM--sb-blueCol{background-color:#42e5ff}.zM--sb-pinkCol{background-color:#f497ff}.zM--sb-H-com{overflow:auto;-ms-overflow-style:none;outline:0;font-size:11px;margin-top:12px;margin-right:8px;margin-left:6px;border-radius:8px;border:1px solid rgba(255,255,255,.8);background-color:transparent;padding:8px;display:none}.zM--sb-H-com::-webkit-scrollbar{display:none}.zM--sb-tl{overflow:hidden;white-space:nowrap;word-wrap:break-word;word-break:break-all;font-size:12px;padding:4px;border-radius:4px;border-width:.2px;max-width:240px;text-align:center}.zM-sb-emp{display:flex;flex-direction:column;margin-top:24px;direction:ltr}.zM--sb-emp-ttl{font-size:18px;padding:10px;text-align:center!important;color:#e4e3b7}.zM--bug-err,.zM--bug-sup{margin-top:6px;text-align:center}.zM--sb-H-it-txt{cursor:pointer;padding-left:10px;padding-right:6px;line-height:1.6}.zM--sMn{font-family:Roboto,Arial!important;position:absolute;cursor:default;box-shadow:0 2px 4px rgba(0,0,0,.5);align-items:center;justify-content:center;border-bottom-left-radius:6px;border-bottom-right-radius:6px;left:50%;transform:translateX(-50%);display:none;padding:3px 5px}.zM--sb-nt{display:none;background-color:#fff;border-radius:6px;margin-left:10px;padding:6px;outline:0;width:90%}.zM--sb-nt::-webkit-scrollbar{width:.3em}.zM--sb-nt::-webkit-scrollbar-track{box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.zM--sb-bot{height:30px;padding-top:10px;padding-bottom:6px}.zM--sb-support{display:flex;flex-direction:column;font-size:12px;justify-content:center;align-items:center;cursor:pointer}.zM--sb-light .zM--sb-bot{background-color:#f1f2f4;box-shadow:0 -1px 1px #c8c8c8}.zM--sb-dark .zM--sb-bot{background-color:#1e1e1e;box-shadow:0 -.5px .5px #000}.zM--sb-ver{font-size:10px;color:#999;padding-left:4px}.zM--sb-supTxt{font-weight:500;font-size:12px}.zM--bug{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:360px;background:#fff;padding:16px;border-radius:8px;box-shadow:0 4px 10px rgba(0,0,0,.2);z-index:2147483648}.zM--bug-btn,.zM--bug-inp{width:calc(100% - 12px);font-size:14px}.zM--bug-lab{font-size:14px;font-weight:700;display:block;margin-bottom:5px}.zM--bug-inp{padding:8px;margin-bottom:12px;border:1px solid #ccc;border-radius:4px;background:#f5f5f5}.zM--bug-btn{background:#ff4d4f;color:#fff;padding:10px;border:none;border-radius:4px;cursor:pointer}.zM--bug-err{display:none;color:#ff4d4f;font-size:14px;width:100%}.zM--bug-sup{font-size:13px;color:#333}.zM--bug-sup a{color:#ff4d4f;font-weight:700;text-decoration:none}.zM--bug-icon{font-size:18px;position:fixed;top:calc(10vh + 240px);right:6px;padding:3px;border-radius:6px;z-index:21474836489999;cursor:pointer}.zM--bug-icon div{top:36px;right:0;font-size:9px}.zM--color{cursor:pointer;align-items:center;display:flex;width:16px;height:16px;border-radius:50%;margin-right:11px;color:#000;justify-content:center;font-size:11px;font-weight:700}.zM--sb-itD{margin-top:8px;margin-left:8px;font-size:10px;border-radius:10px;width:100%;color:#999}.zM--sb-itA{margin-top:16px;margin-bottom:6px;display:flex}.zM--tool-ic{width:18px;height:18px;object-fit:cover}.zM--sb-mid{display:flex;justify-content:center;align-items:center;margin-top:10px;padding:10px 5px;column-gap:4px}.zM--sb-list-actions{display:flex;align-items:center;justify-content:space-between;margin:20px 12px 6px;font-size:11px;column-gap:20px}.zM--tlb-dark,.zM--tlb-light{display:flex;flex-direction:column;position:fixed;cursor:default;box-sizing:border-box;box-shadow:0 2px 4px rgba(0,0,0,.5);align-items:center;justify-content:center;padding:14px;top:10vh;right:0;border-radius:6px;transition:.4s ease-in-out;z-index:9999999999999999999!important}.zM--tlb-light{background-color:#f1f2f4}.zM--tlb-dark{background-color:#1e1e1e}.zM-tlb-hr{border:none;border-top:1px solid #888988;width:100%;margin-top:10px}',zM02_ldC['style']['display']='none';var b=document['createElement']('style');b['textContent']='body.zM--sb-open{margin-left: 300px !important;}',document['head']['appendChild'](b),zM02__shD['appendChild'](a),zM02__lHs(async()=>{zM02_thm=await zM02__gD('theme','light'),zM02__iAT(),zM05__cCC(),zM02__aHer(),zM05_tgi=zM02__ciI('arrow-left','18'),zM02_api=zM02__ciI('app','24',!![]),zM02_apt=zM02__cti(chrome['i18n']['getMessage']('tip_app'),'0','30','9'),zM02_sCi=zM02__ciI('cloud-'+zM04_sis,'22'),zM02_sCt=zM02__cti(chrome['i18n']['getMessage']('cloud_'+zM04_sis),'0','30','9'),zM02_pgi=zM02__ciI('pages','22'),zM02_pgt=zM02__cti(chrome['i18n']['getMessage']('pages'),'0','30','9'),zM02_qHi=zM02__ciI('highlighter','22'),zM02_qHt=zM02__cti(chrome['i18n']['getMessage']('q_highlighter'),'0','30','9'),zM02_cEi=zM02__ciI('copy','22'),zM02_pEi=zM02__ciI('pdf','22'),zM02_tEi=zM02__ciI('txt','22'),zM02_hEi=zM02__ciI('html','22'),zM02_mEi=zM02__ciI('md','22'),chrome['runtime']['sendMessage']({'type':'ch-bd','n':zM02_hDis['length']}),zM02_tlb=await zM02__gD('toolbar','m'),zM02_qHc=await zM02__gD('cursorColor','yellow');if(zM02_tlb==='p'){if(zM02_isP)zM02_sbScr=document['body']['appendChild'](Object['assign'](document['createElement']('script'),{'src':'../../b.js'}));else chrome['runtime']['sendMessage']({'type':'ij-sb'});}else{if(zM02_isP)zM02_tScr=document['body']['appendChild'](Object['assign'](document['createElement']('script'),{'src':'../../t.js'}));else chrome['runtime']['sendMessage']({'type':'ij-tl'});};if(init_sync)zM04__strT();const c=document['createElement']('div');c['className']='zM--imgBtn zM--bug-icon',c['innerHTML']='⚠️ <div class="zM--ttip">'+chrome['i18n']['getMessage']('report_bug')+'</div>',c['addEventListener']('click',()=>{console['log']('zM02_cBd.style.display: ',zM02_cBd['style']['display']),zM02_ldC['style']['display']='none',zM02_cBd['style']['display']='block',zM02_cBd['addEventListener']('click',()=>{d['remove'](),zM02_cBd['style']['display']='none';});const d=zM04__cMl('report_bug',null,'380'),e=document['createElement']('div');e['innerHTML']='<label class="zM--bug-lab">'+chrome['i18n']['getMessage']('page')+':</label><input type="text" disabled class="zM--bug-inp" value='+window['location']['href']+'><label class="zM--bug-lab">'+chrome['i18n']['getMessage']('browser')+':</label><input  type="text" class="zM--bug-inp" id="bug-browser" placeholder="Chrome, Edge, Opera, Brave, ..."><label class="zM--bug-lab">'+chrome['i18n']['getMessage']('issue_summary')+':</label><input type="text" class="zM--bug-inp" id="bug-summary" placeholder="'+chrome['i18n']['getMessage']('issue_summary_placeholder')+'"><label class="zM--bug-lab">'+chrome['i18n']['getMessage']('steps_reproduce')+':</label><textarea rows="3" id="bug-steps" placeholder="'+chrome['i18n']['getMessage']('steps_reproduce_placeholder')+'" style="width:calc(100% - 12px);padding:8px;margin-bottom:12px;border:1px solid #ccc;border-radius:4px;font-size:14px;"></textarea><button id="bug-submit" class="zM--bug-btn">'+chrome['i18n']['getMessage']('submit_bug')+'</button><div id="error-message" class="zM--bug-err"></div><div id="support-message" class="zM--bug-sup">'+chrome['i18n']['getMessage']('report_bug_support')+'<a href="https://www.zetamarker.com/donation/" target="_blank"> '+chrome['i18n']['getMessage']('support_us')+'</a></div>',d['appendChild'](e),zM02__shD['appendChild'](d),d['addEventListener']('click',f=>{if(f['target']&&f['target']['id']==='bug-submit'){const g=d['querySelector']('#bug-summary')['value']['trim'](),h=d['querySelector']('#bug-steps')['value']['trim'](),i=d['querySelector']('#bug-browser')['value']['trim'](),j=d['querySelector']('#error-message');if(!g||!h||!i){j['style']['display']='block',j['textContent']=chrome['i18n']['getMessage']('submit_bug_err');return;}try{chrome['runtime']['sendMessage']({'type':'br','payload':{'zM02_ath':zM02_ath,'u':window['location']['href'],'a':navigator['userAgent'],'b':i,'i':g,'s':h}},k=>{if(chrome['runtime']['lastError']||!k||k['message']!=='success'){console['error'](chrome['runtime']['lastError']?.['message']||'Error submitting bug report'),j['style']['display']='block',j['textContent']=chrome['i18n']['getMessage']('error');return;}zM02_cBd['click']();});}catch(k){k['textContent']=chrome['i18n']['getMessage']('error');}}});}),zM02__shD['appendChild'](c),console['log']('Failed to load highlights: ',zM02_hLl);});})());