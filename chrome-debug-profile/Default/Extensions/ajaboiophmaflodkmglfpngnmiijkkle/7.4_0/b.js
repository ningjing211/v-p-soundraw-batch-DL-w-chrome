((()=>{let a=![],b;const c=document['createElement']('span'),d=document['createElement']('span'),e=document['createElement']('span'),f={'0':c,'1':d,'2':e},g=chrome['i18n']['getMessage']('sort_earliest'),h=chrome['i18n']['getMessage']('sort_latest'),i=chrome['i18n']['getMessage']('sort_position'),j=chrome['i18n']['getMessage']('current_version'),k=chrome['i18n']['getMessage']('support_us');document['body']['classList']['add']('zM--sb-open');const l=(ah,ai)=>ah['createdAt']-ai['createdAt'],m=(ah,ai)=>ai['createdAt']-ah['createdAt'],n=()=>{zM05_sb_s=document['createElement']('div'),zM05_sb_s['className']='zM--sb-bot';const ah=document['createElement']('div');ah['className']='zM--sb-support';const ai=document['createElement']('div');ai['className']='zM--sb-supTxt',ai['textContent']='❤️ '+k;const aj=document['createElement']('div');aj['className']='zM--sb-ver',aj['textContent']=j,ah['append'](ai,aj),ah['addEventListener']('click',()=>{try{chrome['runtime']['sendMessage']({'type':'os'});}catch(ak){zM02__int(chrome['i18n']['getMessage']('error'));}}),zM05_sb_s['appendChild'](ah),zM02_pnl['appendChild'](zM05_sb_s);},o=()=>{zM02_hLst?zM02_hLst['textContent']='':(zM02_hLst=document['createElement']('div'),zM02_hLst['className']='zM--sb-H-lst');if(zM05_sb_s)zM05_sb_s['remove']();if(zM02_hDis['length']===0)return zM05__emp();zM02_srDs['style']['display']='none',zM02_exDs['style']['display']='none';const ah={'0':l,'1':m,'2':zM02__srP};zM02_hDis['sort'](ah[zM02_srT]??(()=>{}));const ai=document['createDocumentFragment']();zM02_hDis['forEach'](aj=>ai['appendChild'](zM02__xHi(aj))),zM02_hLst['appendChild'](ai),zM02_pnl['appendChild'](zM02_hLst),zM02_srDs['style']['display']='block',zM02_exDs['style']['display']='block';},p=ah=>{ac['style']['display']='none',zM02_cBd['style']['display']='none';if(zM02_srT===ah)return;f[ah]['classList']['add']('zM--sel'),f[zM02_srT]['classList']['remove']('zM--sel'),zM02_srT=ah,aa['innerText']=ah==='0'?g:ah==='1'?h:i,o(),n();},q=()=>{zM02_cBd['click'](),zM02_thm=zM02_thm==='dark'?'light':'dark',zM02_pnl['className']='zM--sb-'+zM02_thm,zM02_aTd['className']='zM--aTd-'+zM02_thm,F['src']=zM02_thm==='light'?zM05__ic('dark-mode'):zM05__ic('light-mode'),G['innerText']=chrome['i18n']['getMessage'](zM02_thm==='dark'?'light':'dark');},r=()=>{zM02_cBd['click'](),((async()=>{const aA=await zM02__gD('toolbar','m');aA==='m'?ai['checked']=!![]:al['checked']=!![];const aB=await zM02__gD('theme','light');aB==='dark'?ap['checked']=!![]:as['checked']=!![];})()),zM02_ldC['style']['display']='none',zM02_cBd['style']['display']='block',b=zM04__cMl('setting',null,'380',zM02_thm);const ah=document['createElement']('div');ah['style']['cssText']='margin:0 0 0 40px;display:flex;align-items:center';const ai=document['createElement']('input');ai['style']['cursor']='pointer',ai['type']='radio',ai['id']='zID_setting_minimal',ai['name']='toolbar',ai['addEventListener']('change',()=>{try{chrome['storage']['local']['set']({'toolbar':'m'});}catch(aA){zM02__int(chrome['i18n']['getMessage']('error'));}});const aj=document['createElement']('label');aj['style']['cursor']='pointer',aj['htmlFor']='zID_setting_minimal',aj['innerText']=chrome['i18n']['getMessage']('minimal'),ah['append'](ai,aj);const ak=document['createElement']('div');ak['style']['cssText']='margin:0 0 0 40px;display:flex;align-items:center';const al=document['createElement']('input');al['style']['cursor']='pointer',al['type']='radio',al['id']='zID_setting_sidebar',al['name']='toolbar',al['addEventListener']('change',()=>{try{chrome['storage']['local']['set']({'toolbar':'p'});}catch(aA){zM02__int(chrome['i18n']['getMessage']('error'));}});const am=document['createElement']('label');am['style']['cursor']='pointer',am['htmlFor']='zID_setting_sidebar',am['innerText']=chrome['i18n']['getMessage']('sidebar'),ak['append'](al,am);const an=document['createElement']('div');an['style']['cssText']='display:flex;flex-direction:column;row-gap:10px;',an['append'](ah,ak);const ao=document['createElement']('div');ao['style']['cssText']='display:flex;align-items:center;font-size:12px;padding:10px;margin-top:20px;'+(zM02_thm==='dark'?'box-shadow:0 0 3px #000;color:rgba(255, 255, 255, .8)':'box-shadow:0 0 3px rgb(173, 172, 172);color:#000'),ao['innerHTML']='<div style="display:flex;color:#40ba9e;align-items:center;font-size:13px;font-weight:600;">'+chrome['i18n']['getMessage']('setting_title_toolbar')+'</div>',ao['appendChild'](an);const ap=document['createElement']('input');ap['style']['cursor']='pointer',ap['type']='radio',ap['id']='zID_setting_dark',ap['name']='theme',ap['addEventListener']('change',()=>{try{chrome['storage']['local']['set']({'theme':'dark'});}catch(aA){zM02__int(chrome['i18n']['getMessage']('error'));}});const aq=document['createElement']('label');aq['style']['cursor']='pointer',aq['htmlFor']='zID_setting_dark',aq['innerText']=chrome['i18n']['getMessage']('dark');const ar=document['createElement']('div');ar['style']['cssText']='margin:0 0 0 40px;display:flex;align-items:center',ar['append'](ap,aq);const as=document['createElement']('input');as['style']['cursor']='pointer',as['type']='radio',as['id']='zID_setting_light',as['name']='theme',as['addEventListener']('change',()=>{try{chrome['storage']['local']['set']({'theme':'light'});}catch(aA){zM02__int(chrome['i18n']['getMessage']('error'));}});const at=document['createElement']('label');at['style']['cursor']='pointer',at['htmlFor']='zID_setting_light',at['innerText']=chrome['i18n']['getMessage']('light');const au=document['createElement']('div');au['style']['cssText']='margin:0 0 0 40px;display:flex;align-items:center',au['append'](as,at);const av=document['createElement']('div');av['style']['display']='flex',av['style']['cssText']='display:flex;flex-direction:column;row-gap:10px;',av['append'](au,ar);const aw=document['createElement']('div');aw['style']['cssText']='display:flex;align-items:center;font-size:12px;padding:10px;margin-top:20px;'+(zM02_thm==='dark'?'box-shadow:0 0 3px #000;color:rgba(255, 255, 255, .8)':'box-shadow:0 0 3px rgb(173, 172, 172);color:#000'),aw['innerHTML']='<div style="display:flex;color:#40ba9e;align-items:center;font-size:13px;font-weight:600;">'+chrome['i18n']['getMessage']('setting_title_theme')+'</div>',aw['appendChild'](av);const ax=document['createElement']('div');ax['className']='zM--imgBtn',ax['style']['marginLeft']='20px',ax['innerHTML']='<img id="shortcuts_id" src="'+zM05__ic('hotkeys-'+zM02_thm)+'" width="22" height="22" style="margin-left:10px;cursor:pointer;">',ax['addEventListener']('click',()=>chrome['runtime']['sendMessage']({'type':'sh'}));const ay=document['createElement']('div');ay['style']['cssText']='display:flex;color:#40ba9e;align-items:center;font-size:13px;font-weight:600;margin-bottom:10px;',ay['innerHTML']='<span>'+chrome['i18n']['getMessage']('setting_title_shortcut')+'</span>',ay['appendChild'](ax);const az=document['createElement']('div');az['style']['cssText']='font-size:12px;padding:10px;margin-top:20px;'+(zM02_thm==='dark'?'box-shadow:0 0 3px #000;color:rgba(255, 255, 255, .8)':'box-shadow:0 0 3px rgb(173, 172, 172);color:#000'),az['append'](ay),b['append'](ao,aw,az),b['appendChild'](Object['assign'](document['createElement']('div'),{'innerText':chrome['i18n']['getMessage']('setting_notice'),'style':'font-size:12px;padding-top:10px;text-align:center;color:'+(zM02_thm==='light'?'#000':'#fff')})),zM02__shD['appendChild'](b);},s=()=>{if(zM02_qHer)zM02__dQh();zM02__shD['appendChild'](zM02_cBd),document['body']['classList']['remove']('zM--sb-open'),zM02_pnl['remove'](),zM02_pnl=null,zM02_emL=null,zM02_hLst=null,zM02_lgi=null,zM02_lgt=null,zM02_eTb=null,zM02_exDs=null,zM02_srDs=null,zM02_cEt=null,zM02_sb_qHO=null,zM05_sb_s=null,zM02_srT='0',zM02_tlb='m',zM02_isP?(zM02_tScr=document['body']['appendChild'](Object['assign'](document['createElement']('script'),{'src':'../../t.js'})),document['body']['removeChild'](zM02_sbScr)):chrome['runtime']['sendMessage']({'type':'ij-tl'});},t=(ah,ai,aj)=>{ah['style']['width']=ah['style']['height']='18px';const ak=document['createElement']('span');ak['innerText']=ai;const al=document['createElement']('div');return al['append'](ah,ak),al['addEventListener']('click',aj),al;},u=(ah,ai,aj)=>{ah['style']['width']=ah['style']['height']='18px';const ak=document['createElement']('div');return ak['append'](ah,ai),ak['addEventListener']('click',aj),ak;};zM02_pnl=document['createElement']('div'),zM02_pnl['className']='zM--sb-'+zM02_thm,zM02_pnl['style']['direction']='ltr',zM02_cBd['addEventListener']('click',()=>{zM02_cBd['style']['display']='none',a3['style']['display']='none',ac['style']['display']='none',E['style']['display']='none';if(b)b['remove']();}),zM02_pnl['appendChild'](zM02_cBd);const v=document['createElement']('div');v['className']='zM--sb-top zM--sh-sep',zM02_apt['style']['top']='40px',zM02_apt['style']['right']='-30px';const w=zM02__cib(zM02_api,zM02_apt);w['style']['marginRight']='12px',w['addEventListener']('click',zM02__apH),zM02_pgt['style']['top']='39px',zM02_pgt['style']['right']='-6px';const x=zM02__cib(zM02_pgi,zM02_pgt);x['style']['marginRight']='12px',x['addEventListener']('click',zM02__pBh);const y=document['createElement']('div');y['style']['marginRight']='12px',y['style']['position']='relative',zM02_qHt['style']['top']='39px',zM02_qHt['style']['right']='-34px';const z=zM02__cib(zM02_qHi,zM02_qHt);z['addEventListener']('click',()=>{zM02_qHt['remove']();if(!zM02_qHer){zM02_qHer=!![];try{zM02_qHi['src']=zM05__ic('highlighter-'+zM02_qHc);}catch(ah){zM02__int(chrome['i18n']['getMessage']('error'));}document['body']['style']['cursor']='url('+zM05__ic('highlighter-'+zM02_qHc)+'), auto',zM02_sb_qHO['style']['display']='flex';}else zM02__dQh();});const A={};colors['forEach'](ah=>{const ai=zM04__cColi(ah);if(ah==='red')ai['style']['marginRight']='0';A[ah]=ai;}),A[zM02_qHc]['innerHTML']='&#x2713;',A[zM02_qHc]['style']['cursor']='default',Object['entries'](A)['forEach'](([ah,ai])=>{ai['onclick']=()=>{if(ah!==zM02_qHc){const aj=A[zM02_qHc];aj['innerHTML']='',aj['style']['cursor']='pointer',ai['innerHTML']='&#x2713;',ai['style']['cursor']='default',zM02_qHc=ah,document['body']['style']['cursor']='url('+zM05__ic('highlighter-'+zM02_qHc)+'), auto',zM02_qHi['src']=zM05__ic('highlighter-'+zM02_qHc),chrome['storage']['local']['set']({'cursorColor':zM02_qHc});}};}),zM02_sb_qHO=document['createElement']('div'),zM02_sb_qHO['style']['display']='none',zM02_sb_qHO['className']='zM--sMn',zM02_sb_qHO['style']['top']='39.5px',zM02_sb_qHO['append'](A['yellow'],A['green'],A['blue'],A['pink'],A['red']),y['append'](z,zM02_sb_qHO);const B=document['createElement']('div');B['style']['position']='relative',B['style']['marginRight']='12px';const C=zM02__ciI('user','22'),D=zM02__cib(C);D['addEventListener']('click',()=>{if(zM02_qHer)zM02__dQh();E['style']['display']='flex',zM02_ldC['style']['display']='none',zM02_cBd['style']['display']='block';});const E=document['createElement']('div');E['className']='zM--sb-mOpts',E['style']['left']='144px',E['style']['marginTop']='6px';const F=zM02__ciI(zM02_thm==='dark'?'light-mode':'dark-mode','18',!![]),G=document['createElement']('span');G['innerText']=chrome['i18n']['getMessage'](zM02_thm==='dark'?'light':'dark');const H=u(F,G,q),I=zM02__ciI('help','18'),J=document['createElement']('span');J['innerText']=chrome['i18n']['getMessage']('guide');const K=u(I,J,()=>{zM02_cBd['click'](),chrome['runtime']['sendMessage']({'type':'sr'});}),L=zM02__ciI('feedback','18'),M=document['createElement']('span');M['innerText']=chrome['i18n']['getMessage']('feedback');const N=u(L,M,()=>{zM02_cBd['click']();try{chrome['runtime']['sendMessage']({'type':'fb'});}catch(ah){zM02__int(chrome['i18n']['getMessage']('error'));}}),O=zM02__ciI('settings','18'),P=document['createElement']('span');P['innerText']=chrome['i18n']['getMessage']('setting');const Q=u(O,P,r),R=zM02__ciI('rate','18'),S=document['createElement']('span');S['innerText']=chrome['i18n']['getMessage']('rate');const T=u(R,S,()=>{zM02_cBd['click'](),chrome['runtime']['sendMessage']({'type':'rt'});});zM02_lgi=zM02__ciI(zM02_ath&&!zM02_ade?'logout':'login','18'),zM02_lgt=document['createElement']('span'),zM02_lgt['innerText']=zM02_ath&&!zM02_ade?chrome['i18n']['getMessage']('logout'):chrome['i18n']['getMessage']('login');const U=document['createElement']('div');U['append'](zM02_lgi,zM02_lgt),U['addEventListener']('click',()=>{zM02_cBd['click']();if(zM02_ath&&!zM02_ade)try{chrome['runtime']['sendMessage']({'type':'d','payload':{'zM02_ath':zM02_ath}},()=>{chrome['runtime']['lastError']?zM02__int(chrome['i18n']['getMessage']('error')):(zM02_ade=!![],zM02_lgi['src']=zM05__ic('login'),zM02_lgt['innerText']=chrome['i18n']['getMessage']('login'),zM02__int(chrome['i18n']['getMessage']('success_logout')),zM04_sis='slash',zM04__siM(![]),zM04__stpT());});return;}catch(ah){zM02__int(chrome['i18n']['getMessage']('error'));return;}if(zM02_isP)zM02_lScr=document['body']['appendChild'](Object['assign'](document['createElement']('script'),{'src':'../../l.js'}));else chrome['runtime']['sendMessage']({'type':'ij-lg'});}),E['append'](U,K,N,H,Q,T),B['append'](D,E),zM02_sCt['style']['top']='39px',zM02_sCt['style']['right']='-4px',zM02_sCb=zM02__cib(zM02_sCi,zM02_sCt),zM02_sCb['addEventListener']('click',zM02__sih),v['append'](w,x,y,B,zM02_sCb);const V=document['createElement']('div');V['className']='zM--sb-mid';const W=document['createElement']('div');W['className']='zM--sb-tl',W['innerText']=zM02_pT,W['addEventListener']('keydown',ah=>{if('Enter'===ah['key']||'Escape'===ah['key']){ah['preventDefault']();if(W['textContent']['trim']()!==''){zM02_pT=W['textContent']['trim'](),W['textContent']=W['textContent']['trim']();try{chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'syncedOn':syncedOn,'title':zM02_pT,'note':zM07_pC,'updatedAt':updatedAt}},()=>{W['contentEditable']=![];});}catch(ai){zM02__int(chrome['i18n']['getMessage']('error'));}}else{W['textContent']=zM02_pT;const aj=document['createRange']();aj['selectNodeContents'](W),aj['collapse'](![]);const ak=window['getSelection']();ak['removeAllRanges'](),ak['addRange'](aj),W['focus']();}}}),W['addEventListener']('blur',()=>{zM02_pT=W['textContent']['trim'](),W['textContent']=W['textContent']['trim'](),zM02_eTb['style']['display']='flex';try{chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'syncedOn':syncedOn,'title':zM02_pT,'note':zM07_pC,'updatedAt':updatedAt}},()=>{W['contentEditable']=![];});}catch(ah){zM02__int(chrome['i18n']['getMessage']('error'));}});const X=zM02__ciI('edit','16');zM02_eTb=zM02__cib(X,zM02__cti(chrome['i18n']['getMessage']('edit_title'),'24','-20','10')),zM02_eTb['addEventListener']('click',()=>{W['contentEditable']=!![];const ah=document['createRange']();ah['selectNodeContents'](W),ah['collapse'](![]);const ai=window['getSelection']();ai['removeAllRanges'](),ai['addRange'](ah),W['focus'](),zM02_eTb['style']['display']='none';});const Y=zM02__ciI('note','16');zM02_pNb=zM02__cib(Y,zM02__cti(chrome['i18n']['getMessage']('page_comment'),'24','-20','10')),zM02_pNb['addEventListener']('click',()=>{if(!a)a=!![],Z['style']['display']='block',Y['src']=zM05__ic('done'),Z['focus']();else{a=![],Z['style']['display']='none',Y['src']=zM05__ic('note');if(zM07_pC&&zM07_pC['trim']()===Z['value']['trim']())return;zM07_pC=Z['value']['trim']();try{chrome['storage']['local']['set']({[zM02_pgu]:{'highlights':zM02_hAll,'syncedOn':syncedOn,'title':zM02_pT,'note':zM07_pC,'updatedAt':updatedAt}},()=>{zM07_pCf=!![];});}catch(ah){zM02__int(chrome['i18n']['getMessage']('error'));}}}),V['append'](W,zM02_eTb,zM02_pNb);const Z=document['createElement']('textarea');Z['className']='zM--sb-nt',Z['rows']=5;if(zM07_pC)Z['value']=zM07_pC;else Z['placeholder']=chrome['i18n']['getMessage']('note_placeholder');Z['onkeydown']=ah=>{'Escape'===ah['key']&&(ah['preventDefault'](),zM02_pNb['click']());};const a0=document['createElement']('div');a0['className']='zM--sb-list-actions',zM02_exDs=document['createElement']('div'),zM02_exDs['style']['position']='relative';const a1=document['createElement']('div');a1['className']='zM--imgBtn';const a2=zM02__ciI('caret-down','14');a1['append'](Object['assign'](document['createElement']('span'),{'textContent':chrome['i18n']['getMessage']('export'),'style':'padding-right:2px;font-size:12px'}),a2),a1['addEventListener']('click',()=>{if(zM02_qHer)zM02__dQh();a3['style']['display']='flex',zM02_ldC['style']['display']='none',zM02_cBd['style']['display']='block';});const a3=document['createElement']('div');a3['className']='zM--sb-mOpts',a3['style']['marginTop']='8px';const a4=t(zM02_cEi,chrome['i18n']['getMessage']('copy_all'),zM02__cXh),a5=t(zM02_pEi,chrome['i18n']['getMessage']('print'),zM02__pXh),a6=t(zM02_tEi,'TXT',zM02__tXh),a7=t(zM02_hEi,'HTML',zM02__hXh),a8=t(zM02_mEi,'Markdown',zM02__mXh);a3['append'](a4,a5,a6,a7,a8),zM02_exDs['append'](a1,a3),zM02_srDs=document['createElement']('div'),zM02_srDs['style']['position']='relative';const a9=document['createElement']('div');a9['className']='zM--imgBtn';const aa=document['createElement']('span');aa['style']['cssText']='padding-right:2px;font-size:12px',aa['innerText']=zM02_srT==='0'?g:zM02_srT==='1'?h:i,a9['appendChild'](aa);const ab=zM02__ciI('caret-down','14');a9['appendChild'](ab),a9['addEventListener']('click',()=>{if(zM02_qHer)zM02__dQh();ac['style']['display']='flex',zM02_ldC['style']['display']='none',zM02_cBd['style']['display']='block';});const ac=document['createElement']('div');ac['className']='zM--sb-mOpts',ac['style']['marginTop']='8px';const ad=document['createElement']('div');c['innerText']=g,ad['addEventListener']('click',()=>p('0')),ad['appendChild'](c);const ae=document['createElement']('div');d['innerText']=h,ae['addEventListener']('click',()=>p('1')),ae['appendChild'](d);const af=document['createElement']('div');e['innerText']=i,af['addEventListener']('click',()=>p('2')),af['appendChild'](e);if(zM02_srT==='0')c['classList']['add']('zM--sel');else{if(zM02_srT==='1')d['classList']['add']('zM--sel');else e['classList']['add']('zM--sel');}ac['append'](ad,ae,af),zM02_srDs['append'](a9,ac),a0['append'](zM02_exDs,zM02_srDs);zM02_hDis['length']===0&&(zM02_eTb['style']['display']='none',zM02_pNb['style']['display']='none',zM02_srDs['style']['display']='none',zM02_exDs['style']['display']='none');o(),zM02_pnl['append'](v,V,Z,a0,zM02_hLst),n(),zM05_tgi['style']['transform']='rotate(360deg)';const ag=zM02__cib(zM05_tgi);ag['classList']['add']('zM--hide'),Object['assign'](ag['style'],{'top':'50%','left':'300px','borderRadius':'0 25% 25% 0'}),ag['addEventListener']('click',s),zM02_pnl['appendChild'](ag),zM02__shD['appendChild'](zM02_pnl),zM02_pnl['style']['left']='0';})());