var sidePanel=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s;function c(e,t){return e===t||(s||(s=document.createElement("a")),s.href=t,e===s.href)}function l(t,...n){if(null==t){for(const e of n)e(void 0);return e}const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function u(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,n,r){if(e){const o=p(e,t,n,r);return e[0](o)}}function p(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function h(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function f(e,t,n,r,o,i){if(o){const a=p(t,n,r,i);e.p(a,o)}}function g(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e){return null==e?"":e}function v(e,t,n){return e.set(n),t}function y(t){return t&&i(t.destroy)?t.destroy:e}function _(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const b="undefined"!=typeof window;let S=b?()=>window.performance.now():()=>Date.now(),w=b?e=>requestAnimationFrame(e):e;const T=new Set;function E(e){T.forEach((t=>{t.c(e)||(T.delete(t),t.f())})),0!==T.size&&w(E)}function A(e){let t;return 0===T.size&&w(E),{promise:new Promise((n=>{T.add(t={c:e,f:n})})),abort(){T.delete(t)}}}function I(e,t){e.appendChild(t)}function x(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function k(e){const t=P("style");return t.textContent="/* empty */",function(e,t){I(e.head||e,t),t.sheet}(x(e),t),t.sheet}function C(e,t,n){e.insertBefore(t,n||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function R(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function P(e){return document.createElement(e)}function N(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function L(e){return document.createTextNode(e)}function $(){return L(" ")}function M(){return L("")}function D(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function U(e){return function(t){return t.preventDefault(),e.call(this,t)}}function V(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function F(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function G(e,t){t=""+t,e.data!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function q(e,t,n,r){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function B(e,t,n){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function W(e,t,n){e.classList.toggle(t,!!n)}function H(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}class J{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=N(t.nodeName):this.e=P(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(O)}}function z(e,t){return new e(t)}const Y=new Map;let X,K=0;function Q(e,t,n,r,o,i,a,s=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);l+=100*e+`%{${a(r,1-r)}}\n`}const u=l+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${s}`,p=x(e),{stylesheet:h,rules:f}=Y.get(p)||function(e,t){const n={stylesheet:k(t),rules:{}};return Y.set(e,n),n}(p,e);f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${d} ${r}ms linear ${o}ms 1 both`,K+=1,d}function Z(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),K-=o,K||w((()=>{K||(Y.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&O(t)})),Y.clear())})))}function ee(e){X=e}function te(){if(!X)throw new Error("Function called outside component initialization");return X}function ne(e){te().$$.on_mount.push(e)}function re(e){te().$$.on_destroy.push(e)}function oe(){const e=te();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=H(t,n,{cancelable:r});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}function ie(e,t){return te().$$.context.set(e,t),t}function ae(e){return te().$$.context.get(e)}function se(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const ce=[],le=[];let ue=[];const de=[],pe=Promise.resolve();let he=!1;function fe(e){ue.push(e)}function ge(e){de.push(e)}const me=new Set;let ve,ye=0;function _e(){if(0!==ye)return;const e=X;do{try{for(;ye<ce.length;){const e=ce[ye];ye++,ee(e),be(e.$$)}}catch(e){throw ce.length=0,ye=0,e}for(ee(null),ce.length=0,ye=0;le.length;)le.pop()();for(let e=0;e<ue.length;e+=1){const t=ue[e];me.has(t)||(me.add(t),t())}ue.length=0}while(ce.length);for(;de.length;)de.pop()();he=!1,me.clear(),ee(e)}function be(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(fe)}}function Se(){return ve||(ve=Promise.resolve(),ve.then((()=>{ve=null}))),ve}function we(e,t,n){e.dispatchEvent(H(`${t?"intro":"outro"}${n}`))}const Te=new Set;let Ee;function Ae(){Ee={r:0,c:[],p:Ee}}function Ie(){Ee.r||o(Ee.c),Ee=Ee.p}function xe(e,t){e&&e.i&&(Te.delete(e),e.i(t))}function ke(e,t,n,r){if(e&&e.o){if(Te.has(e))return;Te.add(e),Ee.c.push((()=>{Te.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}else r&&r()}const Ce={duration:0};function Oe(n,r,o){const a={direction:"in"};let s,c,l=r(n,o,a),u=!1,d=0;function p(){s&&Z(n,s)}function h(){const{delay:r=0,duration:o=300,easing:i=t,tick:a=e,css:h}=l||Ce;h&&(s=Q(n,0,1,o,r,i,h,d++)),a(0,1);const f=S()+r,g=f+o;c&&c.abort(),u=!0,fe((()=>we(n,!0,"start"))),c=A((e=>{if(u){if(e>=g)return a(1,0),we(n,!0,"end"),p(),u=!1;if(e>=f){const t=i((e-f)/o);a(t,1-t)}}return u}))}let f=!1;return{start(){f||(f=!0,Z(n),i(l)?(l=l(a),Se().then(h)):h())},invalidate(){f=!1},end(){u&&(p(),u=!1)}}}function Re(n,r,a,s){let c,l=r(n,a,{direction:"both"}),u=s?0:1,d=null,p=null,h=null;function f(){h&&Z(n,h)}function g(e,t){const n=e.b-u;return t*=Math.abs(n),{a:u,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:a=300,easing:s=t,tick:m=e,css:v}=l||Ce,y={start:S()+i,b:r};r||(y.group=Ee,Ee.r+=1),"inert"in n&&(r?void 0!==c&&(n.inert=c):(c=n.inert,n.inert=!0)),d||p?p=y:(v&&(f(),h=Q(n,u,r,a,i,s,v)),r&&m(0,1),d=g(y,a),fe((()=>we(n,r,"start"))),A((e=>{if(p&&e>p.start&&(d=g(p,a),p=null,we(n,d.b,"start"),v&&(f(),h=Q(n,u,d.b,d.duration,0,s,l.css))),d)if(e>=d.end)m(u=d.b,1-u),we(n,d.b,"end"),p||(d.b?f():--d.group.r||o(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;u=d.a+d.d*s(t/d.duration),m(u,1-u)}return!(!d&&!p)})))}return{run(e){i(l)?Se().then((()=>{l=l({direction:e?"in":"out"}),m(e)})):m(e)},end(){f(),d=p=null}}}function Pe(e){return void 0!==e?.length?e:Array.from(e)}function Ne(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Le(e){e&&e.c()}function $e(e,t,r){const{fragment:a,after_update:s}=e.$$;a&&a.m(t,r),fe((()=>{const t=e.$$.on_mount.map(n).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),s.forEach(fe)}function Me(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];ue.forEach((r=>-1===e.indexOf(r)?t.push(r):n.push(r))),n.forEach((e=>e())),ue=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function De(e,t){-1===e.$$.dirty[0]&&(ce.push(e),he||(he=!0,pe.then(_e)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ue(t,n,i,a,s,c,l=null,u=[-1]){const d=X;ee(t);const p=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:s,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};l&&l(p.root);let h=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),h&&De(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!a&&a(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(O)}else p.fragment&&p.fragment.c();n.intro&&xe(t.$$.fragment),$e(t,n.target,n.anchor),_e()}ee(d)}class Ve{$$=void 0;$$set=void 0;$destroy(){Me(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");var Fe=function(e,t){return Fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Fe(e,t)};function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Fe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function je(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}function qe(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}function Be(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function We(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function He(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Je(e){return this instanceof Je?(this.v=e,this):new Je(e)}function ze(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof Je?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function Ye(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Be(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}"function"==typeof SuppressedError&&SuppressedError;const Xe=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google español",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],Ke=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],Qe=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT"],Ze="EN",et=0,tt=1,nt=2,rt={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},ot="inline",it="automatic",at="manual",st="input",ct="input_alternatives",lt="side_panel",ut="customization",dt=1,pt=2,ht=3,ft={notLoggedIn:1500,loggedInFree:5e3},gt={notLoggedIn:2e3,loggedInFree:2e3},mt={deepl_inline_ui:{z_index:2147483650}},vt="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",yt="INLINE_TRANSLATION_TRIGGER_ICON",_t="INLINE_TRANSLATION_SETTINGS_ICON",bt="INLINE_TRANSLATION_SETTING_POPUP",St="INPUT_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",wt="INPUT_TRANSLATION_TRIGGER_ICON",Tt="INPUT_IMPROVE_TRIGGER_ICON",Et="INPUT_TRANSLATION_SETTINGS_ICON",At="INPUT_TRANSLATION_SETTING_POPUP",It="SETTINGS_PAGE_FPT",xt="SETTINGS_PAGE_READING",kt="SETTINGS_PAGE_WRITING",Ct="SETTINGS_PAGE_INTEGRATIONS",Ot="FPT_HIDE_MODAL",Rt="INPUT_TRANSLATION_READ_MORE_LINK",Pt="INLINE_TRANSLATION_READ_MORE_LINK",Nt="FPT_TRANSLATION_READ_MORE_LINK",Lt="EXTENSION_HUB_TOGGLE_SWITCH",$t="HUB_CUSTOMIZE_SHORTCUT",Mt="HUB_LOGIN_BUTTON",Dt="HUB_UPGRADE_TO_PRO_LINK",Ut="HUB_TRY_PRO_LINK",Vt="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",Ft="HUB_FPT_ENABLE_CHECKBOX",Gt="HUB_FPT_DISABLE_CHECKBOX",jt="DEEPL_WRITE_ICON",qt="gmailOnboardingPopup",Bt="gmailOnboardingIcon",Wt="gmailCharLimitLogin",Ht="gmailFeedbackSurvey",Jt="HUB_VIEW_INTEGRATIONS",zt="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",Yt="GSLIDES_FEEDBACK_SURVEY",Xt="GSLIDES_CHAR_LIMIT_LOGIN",Kt="ZENDESK_TRY_PRO_LINK",Qt="ONBOARDING_SIGN_UP",Zt="ONBOARDING_SKIP_SIGN_UP",en="ONBOARDING_LOGIN_LINK",tn="ONBOARDING_SEE_ALL_INTEGRATIONS",nn="ICON_TOGGLE_IN_HUB_TRANSLATOR",rn="ICON_TOGGLE_IN_HUB_WRITE",on="MANAGE_ICON_SETTINGS",an="WRITE_LANGUAGE_SWITCHED_IN_HUB",sn="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",cn="SIDE_PANEL_ICON_ON_WEBSITE",ln="HUB_ONBOARDING_LINK",un="INLINE_SELECTION_TRANSLATE_ICON",dn="INLINE_SELECTION__WRITE_ICON",pn="INPUT_SELECTION_TRANSLATE_ICON",hn="INPUT_SELECTION__WRITE_ICON",fn="INLINE_SELECTION_TRIGGER_OFF_ICON",gn="INPUT_SELECTION_TRIGGER_OFF_ICON",mn="SIDE_PANEL_LOGIN_BUTTON",vn="SIDE_PANEL_SETTINGS_BUTTON",yn="SIDE_PANEL_LOGOUT_BUTTON",_n="SIDE_PANEL_UPGRADE_BUTTON",bn="SIDE_PANEL_TRANSLATOR_TAB",Sn="SIDE_PANEL_TRANSLATOR_TARGET_LANG",wn="SIDE_PANEL_TRANSLATOR_SOURCE_LANG",Tn="SIDE_PANEL_TRANSLATION_DIR_INDICATOR",En="SIDE_PANEL_SOURCE_TEXT_FIELD",An="SIDE_PANEL_TARGET_TEXT_FIELD",In="REVIEW_WINDOW_CLOSE_ICON",xn="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",kn="REVIEW_WINDOW_WRITE_ALTERNATIVES",Cn=0,On=1,Rn=2,Pn=3,Nn=4,Ln="cofdbpoegempjloogbagkncekinflcnj",$n="fancfknaplihpclbhbpclnmmjcjanbaf",Mn="ocpdpnakdghopjcifldjidbdmfobmmoi",Dn="firefox-extension@deepl.com",Un="DEFAULT",Vn="GDOCS",Fn="ZENDESK",Gn="WHATSAPP_WEB",jn="TWITTER",qn="GMAIL",Bn="GSLIDES",Wn="LINKEDIN",Hn="YOUTUBE",Jn="USER",zn="EXTENSION",Yn="TRANSLATOR",Xn={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Kn="free",Qn="pro",Zn="none",er="ANONYMOUS_USER_LIMIT_EXCEEDED",tr="FREE_ACCOUNT_LIMIT_EXCEEDED",nr="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",rr="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",or="PRO_TRIAL",ir="LOGIN",ar="SIGNUP",sr="None",cr="Pro",lr="Free",ur="translate",dr="write",pr="new_session",hr="recreated_session",fr="error",gr="user_interaction",mr="connection",vr="session",yr="update_target_language",_r="update_source_language",br="update_formality",Sr="update_style",wr="select_alternative",Tr={dlRequestLogin:"dlRequestLogin",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},Er={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},Ar={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField"},Ir={dlGetExperiments:"dlGetExperiments"},xr={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",dlExternalURLRedirect:"dlExternalURLRedirect",newWebsiteState:"newWebsiteState"},kr={dlGetCustomLogo:"dlGetCustomLogo"};function Cr(e){return function(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&"object"==typeof e&&"error"in e&&n(e),t(e)}))}))}(e)}function Or(e){return je(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}function Rr(e){return new Promise(((t,n)=>{chrome.tabs.query({active:!0,currentWindow:!0},(async r=>{if(0===r.length)return void n(new Error("No active tab found."));const o=r[0].id;try{await async function(e){return new Promise(((t,n)=>{chrome.tabs.sendMessage(e,{action:"ping"},(e=>{chrome.runtime.lastError?n(new Error("Content script not found or invalid.")):e&&"active"===e.status?t("Content script is active and valid."):n(new Error("No response from content script."))}))}))}(o),console.log("Content script is active and valid."),e.fetchCurrentWebsiteSettings(),chrome.tabs.sendMessage(o,{action:"dlDefaultPopUpMounting"}),t("Content script is active and valid.")}catch(e){n(new Error("Content script is not valid or missing.",{cause:e}))}}))}))}const Pr=[];function Nr(t,n=e){let r;const o=new Set;function i(e){if(a(t,e)&&(t=e,r)){const e=!Pr.length;for(const e of o)e[1](),Pr.push(e,t);if(e){for(let e=0;e<Pr.length;e+=2)Pr[e][0](Pr[e+1]);Pr.length=0}}}function s(e){i(e(t))}return{set:i,update:s,subscribe:function(a,c=e){const l=[a,c];return o.add(l),1===o.size&&(r=n(i,s)||e),a(t),()=>{o.delete(l),0===o.size&&r&&(r(),r=null)}}}}const Lr=[];for(let e=0;e<256;++e)Lr.push((e+256).toString(16).slice(1));let $r;const Mr=new Uint8Array(16);var Dr={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Ur(e,t,n){if(Dr.randomUUID&&!e)return Dr.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!$r){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$r=crypto.getRandomValues.bind(crypto)}return $r(Mr)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e,t=0){return(Lr[e[t+0]]+Lr[e[t+1]]+Lr[e[t+2]]+Lr[e[t+3]]+"-"+Lr[e[t+4]]+Lr[e[t+5]]+"-"+Lr[e[t+6]]+Lr[e[t+7]]+"-"+Lr[e[t+8]]+Lr[e[t+9]]+"-"+Lr[e[t+10]]+Lr[e[t+11]]+Lr[e[t+12]]+Lr[e[t+13]]+Lr[e[t+14]]+Lr[e[t+15]]).toLowerCase()}(r)}const Vr=()=>{var e;if(!(null===(e=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===e?void 0:e.getUILanguage))return(()=>{let e=navigator.languages?navigator.languages[0].substring(0,2).toUpperCase():Ze;var t;return e="EN"===(t=e)?"EN-GB":"PT"===t?"PT-PT":t,Xe.map((e=>e.langCode)).includes(e)?e:Ze})();{let e=chrome.i18n.getUILanguage();if(!e)return Ze;switch(e){case"en-US":return"EN-US";case"en-GB":return"EN-GB";case"pt-PT":return"PT-PT";case"pt-BR":return"PT-BR";case"zh-CN":return"ZH-CN";default:{const t=e.substring(0,2).toUpperCase();return Xe.filter((e=>t===e.langCode)).length>0?t:Ze}}}};const Fr=e=>e.substring(0,2).toUpperCase(),Gr=()=>{let e,t,n=!1;return Xe.map((r=>{let o;return n=["EN-US","EN-GB","PT-PT","PT-BR","ZH-HANT"].includes(r.langCode),n&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(r)),o=r.langCode.slice(0,2).toLowerCase()+r.langCode.slice(2)),{value:r.langCode,label:n?e:chrome.i18n.getMessage(`supported_languages_${r.langCode}`),selectedOptionLabel:n?t:chrome.i18n.getMessage(`supported_languages_${r.langCode}`),regionalVariant:o}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function jr(e){return"EN"===e?["EN-GB","EN-US"]:"PT"===e?["PT-PT","PT-BR"]:"ZH"===e?["ZH-CN","ZH-HANT"]:null}const qr=e=>{const t=chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function Br(e){return[...Xe,...Ke].find((t=>t.langCode===e.toUpperCase())).langCodeForIta}const Wr="production",Hr="development";function Jr(){return Wr}function zr(){return Jr()===Hr}function Yr(){return Jr()===Wr}const Xr={accessToken:"a_t",refreshToken:"r_t",idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger",last_login:"last_login"},Kr={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService"},Qr="whiteLabelLogoId";const Zr=function(){const{subscribe:e,set:t,update:n}=Nr({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",Xr.translatorServiceType,Xr.writeServiceType,Xr.apiServiceType,Xr.docTranslatorServiceType,Qr,"browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))}))})),chrome.storage.onChanged.addListener((e=>{const t=[Xr.accessToken,Xr.refreshToken,Xr.idToken,Xr.accountId];let r={};for(const[n,o]of Object.entries(e))!1===t.includes(n)&&(r[n]=o.newValue);if(zr()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,r)}return n((e=>Object.assign(Object.assign({},e),r))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),eo=function(){const{subscribe:e,update:t}=Nr({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})})));break;case"resetWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}(),to=function(t,n,r){const a=!Array.isArray(t),s=a?[t]:t;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const c=n.length<2;return u=(t,r)=>{let u=!1;const d=[];let p=0,h=e;const f=()=>{if(p)return;h();const o=n(a?d[0]:d,t,r);c?t(o):h=i(o)?o:e},g=s.map(((e,t)=>l(e,(e=>{d[t]=e,p&=~(1<<t),u&&f()}),(()=>{p|=1<<t}))));return u=!0,f(),function(){o(g),h(),u=!1}},{subscribe:Nr(r,u).subscribe};var u}(eo,((e,t)=>je(void 0,void 0,void 0,(function*(){if(!chrome.tabs)return;const n=yield chrome.tabs.query({active:!0,currentWindow:!0});t(e[n[0].id])}))));const no=function(){const{subscribe:e,set:t}=Nr([]);return Cr({action:Ir.dlGetExperiments,payload:{forceFetch:!1}}).then(t),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments);return!0})),{subscribe:e}}(),ro="Unidentified service name supplied to getServiceType",oo=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(Xn).includes(t))throw new Error(ro);if(!e.isLoggedIn)return Kn;switch(t){case Xn.TRANSLATOR:return e.translatorServiceType;case Xn.WRITE:return e.writeServiceType;case Xn.API:return e.apiServiceType;case Xn.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(ro)},io=(e,t)=>oo(e,t)===Qn,ao=e=>!!e.isLoggedIn&&((e,t)=>oo(e,t)===Kn)(e,Xn.WRITE),so=e=>e.isLoggedIn&&e.hasTermbaseService,co=Object.prototype.toString;function lo(e){switch(co.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return So(e,Error)}}function uo(e,t){return co.call(e)===`[object ${t}]`}function po(e){return uo(e,"ErrorEvent")}function ho(e){return uo(e,"DOMError")}function fo(e){return uo(e,"String")}function go(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function mo(e){return null===e||go(e)||"object"!=typeof e&&"function"!=typeof e}function vo(e){return uo(e,"Object")}function yo(e){return"undefined"!=typeof Event&&So(e,Event)}function _o(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function bo(e){return"number"==typeof e&&e!=e}function So(e,t){try{return e instanceof t}catch(e){return!1}}function wo(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function To(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function Eo(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n=`'{snip} ${n}`),i<r&&(n+=" {snip}"),n}function Ao(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{wo(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Io(e,t,n=!1){return!!fo(e)&&(uo(t,"RegExp")?t.test(e):!!fo(t)&&(n?e===t:e.includes(t)))}function xo(e,t=[],n=!1){return t.some((t=>Io(e,t,n)))}function ko(e,t,n=250,r,o,i,a){if(!(i.exception&&i.exception.values&&a&&So(a.originalException,Error)))return;const s=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;var c,l;s&&(i.exception.values=(c=Co(e,t,o,a.originalException,r,i.exception.values,s,0),l=n,c.map((e=>(e.value&&(e.value=To(e.value,l)),e)))))}function Co(e,t,n,r,o,i,a,s){if(i.length>=n+1)return i;let c=[...i];if(So(r[o],Error)){Oo(a,s);const i=e(t,r[o]),l=c.length;Ro(i,o,l,s),c=Co(e,t,n,r[o],o,[i,...c],i,l)}return Array.isArray(r.errors)&&r.errors.forEach(((r,i)=>{if(So(r,Error)){Oo(a,s);const l=e(t,r),u=c.length;Ro(l,`errors[${i}]`,u,s),c=Co(e,t,n,r,o,[l,...c],l,u)}})),c}function Oo(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Ro(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Po(e){return e&&e.Math==Math?e:void 0}const No="object"==typeof globalThis&&Po(globalThis)||"object"==typeof window&&Po(window)||"object"==typeof self&&Po(self)||"object"==typeof global&&Po(global)||function(){return this}()||{};function Lo(){return No}function $o(e,t,n){const r=n||No,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const Mo=Lo();function Do(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let i=0,a=0;const s=" > ",c=s.length;let l;const u=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&i++<r&&(l=Uo(n,u),!("html"===l||i>1&&a+o.length*c+l.length>=d));)o.push(l),a+=l.length,n=n.parentNode;return o.reverse().join(s)}catch(e){return"<unknown>"}}function Uo(e,t){const n=e,r=[];let o,i,a,s,c;if(!n||!n.tagName)return"";if(Mo.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const l=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(l&&l.length)l.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&fo(o))for(i=o.split(/\s+/),c=0;c<i.length;c++)r.push(`.${i[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)a=u[c],s=n.getAttribute(a),s&&r.push(`[${a}="${s}"]`);return r.join("")}function Vo(){try{return Mo.document.location.href}catch(e){return""}}function Fo(e){return Mo.document&&Mo.document.querySelector?Mo.document.querySelector(e):null}function Go(e){if(!Mo.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const jo="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,qo=["debug","info","warn","error","log","assert","trace"],Bo={};function Wo(e){if(!("console"in No))return e();const t=No.console,n={},r=Object.keys(Bo);r.forEach((e=>{const r=Bo[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const Ho=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return jo?qo.forEach((n=>{t[n]=(...t)=>{e&&Wo((()=>{No.console[n](`Sentry Logger [${n}]:`,...t)}))}})):qo.forEach((e=>{t[e]=()=>{}})),t}(),Jo=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function zo(e,t=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function Yo(e){const t=Jo.exec(e);if(!t)return void Wo((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",i,a="",s]=t.slice(1);let c="",l=s;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const e=l.match(/^\d+/);e&&(l=e[0])}return Xo({host:i,pass:o,path:c,projectId:l,port:a,protocol:n,publicKey:r})}function Xo(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Ko(e){const t="string"==typeof e?Yo(e):Xo(e);if(t&&function(e){if(!jo)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(Ho.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(Ho.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Ho.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Ho.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class Qo extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function Zo(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&ti(o,r),e[t]=o}function ei(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){jo&&Ho.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function ti(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ei(e,"__sentry_original__",t)}catch(e){}}function ni(e){return e.__sentry_original__}function ri(e){if(lo(e))return{message:e.message,name:e.name,stack:e.stack,...ii(e)};if(yo(e)){const t={type:e.type,target:oi(e.target),currentTarget:oi(e.currentTarget),...ii(e)};return"undefined"!=typeof CustomEvent&&So(e,CustomEvent)&&(t.detail=e.detail),t}return e}function oi(e){try{return t=e,"undefined"!=typeof Element&&So(t,Element)?Do(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function ii(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ai(e){return si(e,new Map)}function si(e,t){if(function(e){if(!vo(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=si(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(si(e,t))})),r}return e}const ci=/\(error: (.*)\)/,li=/captureMessage|captureException/;function ui(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const i=ci.test(n)?n.replace(ci,"$1"):n;if(!i.match(/\S*Error: /)){for(const e of t){const t=e(i);if(t){r.push(t);break}}if(r.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),li.test(t[t.length-1].function||"")&&(t.pop(),li.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const di="<anonymous>";function pi(e){try{return e&&"function"==typeof e&&e.name||di}catch(e){return di}}const hi={},fi={};function gi(e,t){hi[e]=hi[e]||[],hi[e].push(t)}function mi(e,t){fi[e]||(t(),fi[e]=!0)}function vi(e,t){const n=e&&hi[e];if(n)for(const r of n)try{r(t)}catch(t){jo&&Ho.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${pi(r)}\nError:`,t)}}function yi(e){const t="console";gi(t,e),mi(t,_i)}function _i(){"console"in No&&qo.forEach((function(e){e in No.console&&Zo(No.console,e,(function(t){return Bo[e]=t,function(...t){vi("console",{args:t,level:e});const n=Bo[e];n&&n.apply(No.console,t)}}))}))}function bi(){const e=No,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Si(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function wi(e){const{message:t,event_id:n}=e;if(t)return t;const r=Si(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Ti(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Ei(e,t){const n=Si(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function Ai(e){if(e&&e.__sentry_captured__)return!0;try{ei(e,"__sentry_captured__",!0)}catch(e){}return!1}function Ii(e){return Array.isArray(e)?e:[e]}const xi=No;let ki,Ci,Oi;function Ri(e){gi("dom",e),mi("dom",Pi)}function Pi(){if(!xi.document)return;const e=vi.bind(null,"dom"),t=Ni(e,!0);xi.document.addEventListener("click",t,!1),xi.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=xi[t]&&xi[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Zo(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,i=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},a=i[n]=i[n]||{refCount:0};if(!a.handler){const r=Ni(e);a.handler=r,t.call(this,n,r,o)}a.refCount++}catch(e){}return t.call(this,n,r,o)}})),Zo(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount--,i.refCount<=0&&(e.call(this,t,i.handler,r),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Ni(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;ei(n,"_sentryCaptured",!0),r&&!r._sentryId&&ei(r,"_sentryId",bi());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Ci)return!1;try{if(!e.target||e.target._sentryId!==Oi)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),Ci=n.type,Oi=r?r._sentryId:void 0}clearTimeout(ki),ki=xi.setTimeout((()=>{Oi=void 0,Ci=void 0}),1e3)}}const Li=Lo();function $i(){if(!("fetch"in Li))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function Mi(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Di(){if("string"==typeof EdgeRuntime)return!0;if(!$i())return!1;if(Mi(Li.fetch))return!0;let e=!1;const t=Li.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Mi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){jo&&Ho.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Ui(e){const t="fetch";gi(t,e),mi(t,Vi)}function Vi(){Di()&&Zo(No,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Gi(t),method:Fi(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Gi(t),method:Fi(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return vi("fetch",{...o}),e.apply(No,t).then((e=>(vi("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw vi("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}))}function Fi(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Gi(e){return"string"==typeof e?e:e?Fi(e,"url")?e.url:e.toString?e.toString():"":""}let ji=null;function qi(e){const t="error";gi(t,e),mi(t,Bi)}function Bi(){ji=No.onerror,No.onerror=function(e,t,n,r,o){return vi("error",{column:r,error:o,line:n,msg:e,url:t}),!(!ji||ji.__SENTRY_LOADER__)&&ji.apply(this,arguments)},No.onerror.__SENTRY_INSTRUMENTED__=!0}let Wi=null;function Hi(e){const t="unhandledrejection";gi(t,e),mi(t,Ji)}function Ji(){Wi=No.onunhandledrejection,No.onunhandledrejection=function(e){return vi("unhandledrejection",e),!(Wi&&!Wi.__SENTRY_LOADER__)||Wi.apply(this,arguments)},No.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const zi=Lo();const Yi=No;let Xi;function Ki(e){const t="history";gi(t,e),mi(t,Qi)}function Qi(){if(!function(){const e=zi.chrome,t=e&&e.app&&e.app.runtime,n="history"in zi&&!!zi.history.pushState&&!!zi.history.replaceState;return!t&&n}())return;const e=Yi.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Xi,t=String(n);Xi=t;vi("history",{from:e,to:t})}return e.apply(this,t)}}Yi.onpopstate=function(...t){const n=Yi.location.href,r=Xi;Xi=n;if(vi("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},Zo(Yi.history,"pushState",t),Zo(Yi.history,"replaceState",t)}const Zi=No,ea="__sentry_xhr_v3__";function ta(e){gi("xhr",e),mi("xhr",na)}function na(){if(!Zi.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;Zo(e,"open",(function(e){return function(...t){const n=Date.now(),r=fo(t[0])?t[0].toUpperCase():void 0,o=function(e){if(fo(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[ea]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const i=()=>{const e=this[ea];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}vi("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?Zo(this,"onreadystatechange",(function(e){return function(...t){return i(),e.apply(this,t)}})):this.addEventListener("readystatechange",i),Zo(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[ea];return o&&fo(n)&&fo(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),Zo(e,"send",(function(e){return function(...t){const n=this[ea];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return vi("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function ra(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function oa(){return"undefined"!=typeof window&&(!ra()||void 0!==No.process&&"renderer"===No.process.type)}function ia(e,t=100,n=1/0){try{return sa("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function aa(e,t=3,n=102400){const r=ia(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?aa(e,t-1,n):r;var o}function sa(e,t,n=1/0,r=1/0,o=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,a]=o;if(null==t||["number","boolean","string"].includes(typeof t)&&!bo(t))return t;const s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(wo(t))return"[VueViewModel]";if(vo(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${pi(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return s.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return sa("",l.toJSON(),c-1,r,o)}catch(e){}const u=Array.isArray(t)?[]:{};let d=0;const p=ri(t);for(const e in p){if(!Object.prototype.hasOwnProperty.call(p,e))continue;if(d>=r){u[e]="[MaxProperties ~]";break}const t=p[e];u[e]=sa(e,t,c-1,r,o),d++}return a(t),u}const ca=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function la(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function ua(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}function da(e,t){return function(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=ca.exec(t);return n?n.slice(1):[]}(e)[2]}var pa;function ha(e){return new ga((t=>{t(e)}))}function fa(e){return new ga(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(pa||(pa={}));class ga{constructor(e){ga.prototype.__init.call(this),ga.prototype.__init2.call(this),ga.prototype.__init3.call(this),ga.prototype.__init4.call(this),this._state=pa.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ga(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ga(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(pa.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(pa.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===pa.PENDING&&(_o(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===pa.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===pa.RESOLVED&&e[1](this._value),this._state===pa.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ma(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return fa(new Qo("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new ga(((n,r)=>{let o=t.length;if(!o)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{ha(e).then((()=>{--o||(clearTimeout(i),n(!0))}),r)}))}))}}}function va(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const ya=["fatal","error","warning","log","info","debug"];function _a(e){return"warn"===e?"warning":ya.includes(e)?e:"log"}function ba(){return Date.now()/1e3}const Sa=function(){const{performance:e}=No;if(!e||!e.now)return ba;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}(),wa=(()=>{const{performance:e}=No;if(!e||!e.now)return;const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=o<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;return i||s<t?o<=s?e.timeOrigin:a:r})(),Ta="baggage",Ea="sentry-",Aa=/^sentry-/;function Ia(e){if(!fo(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=ka(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=ka(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Aa)){e[t.slice(7)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function xa(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,i=0===r?o:`${e},${o}`;return i.length>8192?(jo&&Ho.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):i}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${Ea}${t}`]=n),e)),{}))}function ka(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const Ca=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Oa(e){if(!e)return;const t=e.match(Ca);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Ra(e,t){const n=Oa(e),r=Ia(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceId:o||bi(),parentSpanId:i||bi().substring(16),spanId:bi().substring(16),sampled:a,dsc:r||{}}:{traceId:o||bi(),spanId:bi().substring(16)}}function Pa(e=bi(),t=bi().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Na(e,t=[]){return[e,t]}function La(e,t){const[n,r]=e;return[n,[...r,t]]}function $a(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function Ma(e,t){return(t||new TextEncoder).encode(e)}function Da(e,t){const[n,r]=e;let o=JSON.stringify(n);function i(e){"string"==typeof o?o="string"==typeof e?o+e:[Ma(o,t),e]:o.push("string"==typeof e?Ma(e,t):e)}for(const e of r){const[t,n]=e;if(i(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)i(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(ia(n))}i(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function Ua(e,t){const n="string"==typeof e.data?Ma(e.data,t):e.data;return[ai({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Va={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Fa(e){return Va[e]}function Ga(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function ja(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:zo(r)},...o&&{trace:ai({...o})}}}function qa(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}function Ba(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function Wa(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},i=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(i)for(const e of i.trim().split(",")){const[t,n,,,i]=e.split(":",5),a=parseInt(t,10),s=1e3*(isNaN(a)?60:a);if(n)for(const e of n.split(";"))"metric_bucket"===e&&i&&!i.split(";").includes("custom")||(o[e]=r+s);else o.all=r+s}else a?o.all=r+qa(a,r):429===t&&(o.all=r+6e4);return o}function Ha(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=function(e,t){return e(t.stack||"",1)}(e,t);return r.length&&(n.stacktrace={frames:r}),n}function Ja(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const za="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ya="production";function Xa(){return $o("globalEventProcessors",(()=>[]))}function Ka(e){Xa().push(e)}function Qa(e,t,n,r=0){return new ga(((o,i)=>{const a=e[r];if(null===t||"function"!=typeof a)o(t);else{const s=a({...t},n);za&&a.id&&null===s&&Ho.log(`Event processor "${a.id}" dropped event`),_o(s)?s.then((t=>Qa(e,t,n,r+1).then(o))).then(null,i):Qa(e,s,n,r+1).then(o).then(null,i)}}))}function Za(e){const t=Sa(),n={sid:bi(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return ai({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&es(n,e),n}function es(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Sa(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:bi()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function ts(e,t){let n={};"ok"===e.status&&(n={status:"exited"}),es(e,n)}function ns(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:i,status:a,tags:s,origin:c}=as(e);return ai({data:r,op:o,parent_span_id:i,span_id:t,status:a,tags:s,trace_id:n,origin:c})}function rs(e){const{traceId:t,spanId:n}=e.spanContext();return Pa(t,n,ss(e))}function os(e){return"number"==typeof e?is(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?is(e.getTime()):Sa()}function is(e){return e>9999999999?e/1e3:e}function as(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function ss(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}function cs(e,t,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||n.event_id||bi(),timestamp:t.timestamp||ba()},l=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:Ya);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=To(e.message,i));const a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=To(a.value,i));const s=e.request;s&&s.url&&(s.url=To(s.url,i))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,l),void 0===t.type&&function(e,t){const n=No._sentryDebugIds;if(!n)return;let r;const o=ls.get(t);o?r=o:(r=new Map,ls.set(t,r));const i=Object.keys(n).reduce(((e,o)=>{let i;const a=r.get(o);a?i=a:(i=t(o),r.set(o,i));for(let t=i.length-1;t>=0;t--){const r=i[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=i[e.filename])}))}))}catch(e){}}(c,e.stackParser);const u=function(e,t){if(!t)return e;const n=e?e.clone():new Rs;return n.update(t),n}(r,n.captureContext);n.mechanism&&Ei(c,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],p=function(){Os||(Os=new Rs);return Os}().getScopeData();if(i){ks(p,i.getScopeData())}if(u){ks(p,u.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),xs(c,p);return Qa([...d,...Xa(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:ia(e.data,t,n)}})))},...e.user&&{user:ia(e.user,t,n)},...e.contexts&&{contexts:ia(e.contexts,t,n)},...e.extra&&{extra:ia(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ia(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=as(e).data;return r&&(e.data=ia(r,t,n)),e})));return r}(e,a,s):e)))}const ls=new WeakMap;function us(e){if(e)return function(e){return e instanceof Rs||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>ds.includes(e)))}(e)?{captureContext:e}:e}const ds=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function ps(e,t){return Vs().captureException(e,us(t))}function hs(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return Vs().captureMessage(e,n,r)}function fs(e,t){return Vs().captureEvent(e,t)}function gs(e,t){Vs().addBreadcrumb(e,t)}function ms(e,t){Vs().setContext(e,t)}function vs(...e){const t=Vs();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function ys(){return Vs().getClient()}function _s(){return Vs().getScope()}function bs(e){const t=ys(),n=Fs(),r=_s(),{release:o,environment:i=Ya}=t&&t.getOptions()||{},{userAgent:a}=No.navigator||{},s=Za({release:o,environment:i,user:r.getUser()||n.getUser(),...a&&{userAgent:a},...e}),c=n.getSession();return c&&"ok"===c.status&&es(c,{status:"exited"}),Ss(),n.setSession(s),r.setSession(s),s}function Ss(){const e=Fs(),t=_s(),n=t.getSession()||e.getSession();n&&ts(n),ws(),e.setSession(),t.setSession()}function ws(){const e=Fs(),t=_s(),n=ys(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Ts(e=!1){e?Ss():ws()}function Es(e){return e.transaction}function As(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:i}=n&&n.getUser()||{},a=ai({environment:r.environment||Ya,release:r.release,user_segment:i,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",a),a}function Is(e){const t=ys();if(!t)return{};const n=As(as(e).trace_id||"",t,_s()),r=Es(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:i,source:a}=r.metadata;null!=i&&(n.sample_rate=`${i}`);const s=as(r);return a&&"url"!==a&&(n.transaction=s.description),n.sampled=String(ss(r)),t.emit&&t.emit("createDsc",n),n}function xs(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:s}=t,c=ai(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const l=ai(r);l&&Object.keys(l).length&&(e.tags={...l,...e.tags});const u=ai(o);u&&Object.keys(u).length&&(e.user={...u,...e.user});const d=ai(i);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});a&&(e.level=a);s&&(e.transaction=s)}(e,t),r&&function(e,t){e.contexts={trace:ns(t),...e.contexts};const n=Es(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Is(t),...e.sdkProcessingMetadata};const r=as(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Ii(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,i)}function ks(e,t){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:l,eventProcessors:u,attachments:d,propagationContext:p,transactionName:h,span:f}=t;Cs(e,"extra",n),Cs(e,"tags",r),Cs(e,"user",o),Cs(e,"contexts",i),Cs(e,"sdkProcessingMetadata",s),a&&(e.level=a),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),u.length&&(e.eventProcessors=[...e.eventProcessors,...u]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function Cs(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let Os;class Rs{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ps()}static clone(e){return e?e.clone():new Rs}clone(){const e=new Rs;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&es(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Rs){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(vo(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ps(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:ba(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:i,_level:a,_fingerprint:s,_eventProcessors:c,_propagationContext:l,_sdkProcessingMetadata:u,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:i,level:a,fingerprint:s||[],eventProcessors:c,propagationContext:l,sdkProcessingMetadata:u,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){xs(e,this.getScopeData());return Qa([...n,...Xa(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:bi();if(!this._client)return Ho.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:bi();if(!this._client)return Ho.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:bi();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Ho.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Ps(){return{traceId:bi(),spanId:bi().substring(16)}}const Ns="7.120.3",Ls=parseFloat(Ns),$s=100;class Ms{constructor(e,t,n,r=Ls){let o,i;this._version=r,t?o=t:(o=new Rs,o.setClient(e)),n?i=n:(i=new Rs,i.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=i}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return _o(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:bi(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:bi(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:bi();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=$s}=r.getOptions&&r.getOptions()||{};if(i<=0)return;const a={timestamp:ba(),...e},s=o?Wo((()=>o(a,t))):a;null!==s&&(r.emit&&r.emit("beforeAddBreadcrumb",s,t),n.addBreadcrumb(s,i))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=Us(this);try{e(this)}finally{Us(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return za&&Ho.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(za&&!n){this.getClient()?Ho.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):Ho.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&ts(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=Ya}=n&&n.getOptions()||{},{userAgent:i}=No.navigator||{},a=Za({release:r,environment:o,user:t.getUser(),...i&&{userAgent:i},...e}),s=t.getSession&&t.getSession();return s&&"ok"===s.status&&es(s,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=Ds().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);za&&Ho.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Ds(){return No.__SENTRY__=No.__SENTRY__||{extensions:{},hub:void 0},No}function Us(e){const t=Ds(),n=js(t);return qs(t,e),n}function Vs(){const e=Ds();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=Ds()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!js(e).isOlderThan(Ls)||qs(e,new Ms);var t;return js(e)}(e)}function Fs(){return Vs().getIsolationScope()}function Gs(e,t={}){const n=Ds();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function js(e){return $o("hub",(()=>new Ms),e)}function qs(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function Bs(e){return(e||Vs()).getScope().getTransaction()}const Ws=Oa;let Hs=!1;function Js(){const e=Bs();if(e){const t="internal_error";za&&Ho.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}var zs;function Ys(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}Js.tag="sentry_tracingErrorCallback",function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(zs||(zs={}));const Xs=Ys;function Ks(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=Ys(t);"unknown_error"!==n&&e.setStatus(n)}function Qs(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(_o(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function Zs(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=ys(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function ec(e){if(!Zs())return;const t=rc(e),n=Vs(),r=e.scope?e.scope.getSpan():tc();if(e.onlyIfParent&&!r)return;const o=(e.scope||_s()).clone();return nc(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function tc(){return _s().getSpan()}function nc(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!Zs())return;const i=Fs();let a;if(t&&!r)a=t.startChild(n);else if(t){const r=Is(t),{traceId:o,spanId:i}=t.spanContext(),s=ss(t);a=e.startTransaction({traceId:o,parentSpanId:i,parentSampled:s,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:s,sampled:c}={...i.getPropagationContext(),...o.getPropagationContext()};a=e.startTransaction({traceId:t,parentSpanId:s,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(a),function(e,t,n){e&&(ei(e,ic,n),ei(e,oc,t))}(a,o,i),a}function rc(e){if(e.startTime){const t={...e};return t.startTimestamp=os(e.startTime),delete t.startTime,t}return e}const oc="_sentryScope",ic="_sentryIsolationScope";let ac;function sc(e){return ac?ac.get(e):void 0}function cc(e){const t=sc(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(ai(r));return n}const lc="sentry.source",uc="sentry.sample_rate",dc="sentry.op",pc="sentry.origin";class hc{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class fc{constructor(e={}){this._traceId=e.traceId||bi(),this._spanId=e.spanId||bi().substring(16),this._startTime=e.startTimestamp||Sa(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[pc]:e.origin||"manual",[dc]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[dc]}set op(e){this.setAttribute(dc,e)}get origin(){return this._attributes[pc]}set origin(e){this.setAttribute(pc,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?1:0}}startChild(e){const t=new fc({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=Es(this);if(t.transaction=n,za&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${as(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;Ho.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return Ks(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=Es(this);if(za&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&Ho.log(e.replace("Starting","Finishing"))}this._endTime=os(e)}toTraceparent(){return rs(this)}toContext(){return ai({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return ns(this)}getSpanJSON(){return ai({data:this._getData(),description:this._name,op:this._attributes[dc],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[pc],_metrics_summary:cc(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class gc extends fc{constructor(e,t){super(e),this._contexts={},this._hub=t||Vs(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[lc]&&{source:this._attributes[lc]},...this._attributes[uc]&&{sampleRate:this._attributes[uc]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(lc,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new hc(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=os(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return ai({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return Is(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(za&&Ho.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return za&&Ho.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&as(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>as(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:o}={scope:(i=this)[oc],isolationScope:i[ic]};var i;const{metadata:a}=this,{source:s}=a,c={contexts:{...this._contexts,trace:ns(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...a,capturedSpanScope:r,capturedSpanIsolationScope:o,...ai({dynamicSamplingContext:Is(this)})},_metrics_summary:cc(this),...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(za&&Ho.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),za&&Ho.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const mc={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},vc=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class yc extends hc{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===as(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class _c extends gc{constructor(e,t,n=mc.idleTimeout,r=mc.finalTimeout,o=mc.heartbeatInterval,i=!1,a=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=i,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=vc[4],this._autoFinishAllowed=!a,i&&(za&&Ho.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),a||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=vc[3],this.end())}),this._finalTimeout)}end(e){const t=os(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){za&&Ho.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;as(e).timestamp||(e.setStatus("cancelled"),e.end(t),za&&Ho.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=as(e),o=n&&n<t,i=(this._finalTimeout+this._idleTimeout)/1e3,a=r&&n&&r-n<i;if(za){const t=JSON.stringify(e,void 0,2);o?a||Ho.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):Ho.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&a})),za&&Ho.log("[Tracing] flushing IdleTransaction")}else za&&Ho.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new yc(t,n,this.spanContext().spanId,e),za&&Ho.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=vc[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(za&&Ho.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=vc[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),za&&Ho.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,za&&Ho.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(za&&Ho.log(`[Tracing] popActivity ${e}`),delete this.activities[e],za&&Ho.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Sa();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=vc[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(za&&Ho.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=vc[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){za&&Ho.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function bc(e,t,n){if(!Zs(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(uc,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(uc,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(uc,Number(r))):(r=1,e.setAttribute(uc,r)),Sc(r)?r?(e.sampled=Math.random()<r,e.sampled?(za&&Ho.log(`[Tracing] starting ${e.op} transaction - ${as(e).description}`),e):(za&&Ho.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(za&&Ho.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(za&&Ho.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function Sc(e){return bo(e)||"number"!=typeof e&&"boolean"!=typeof e?(za&&Ho.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(za&&Ho.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function wc(){const e=this.getScope().getSpan();return e?{"sentry-trace":rs(e)}:{}}function Tc(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",i=e.instrumenter||"sentry";o!==i&&(za&&Ho.error(`A transaction was started with instrumenter=\`${i}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let a=new gc(e,this);return a=bc(a,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),a.isRecording()&&a.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",a),a}function Ec(e,t,n,r,o,i,a,s=!1){const c=e.getClient(),l=c&&c.getOptions()||{};let u=new _c(t,e,n,r,a,o,s);return u=bc(u,l,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...i}),u.isRecording()&&u.initSpanRecorder(l._experiments&&l._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",u),u}function Ac(){const e=Ds();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Tc),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=wc),Hs||(Hs=!0,qi(Js),Hi(Js)))}function Ic(e,t,n){const r=Bs();r&&r.setMeasurement(e,t,n)}function xc(e,t,n,r){const o=Ga(n),i=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const a=ja(e,o,r,t);delete e.sdkProcessingMetadata;return Na(a,[[{type:i},e]])}function kc(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Cc(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function Oc(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${kc(e)}${e.projectId}/envelope/`}(e)}?${Cc(e,r)}`}const Rc=[];function Pc(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Ii(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==i){const[e]=o.splice(i,1);o.push(e)}return o}function Nc(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function Lc(e,t,n){if(n[t.name])za&&Ho.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===Rc.indexOf(t.name)&&(t.setupOnce(Ka,Vs),Rc.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}za&&Ho.log(`Integration installed: ${t.name}`)}}function $c(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function Mc(e){return e.replace(/[^\w\-./]+/gi,"")}const Dc=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function Uc(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of Dc)if(e===t)return n;return e}(t)),"")}function Vc(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=zo(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return Na(o,[i])}const Fc="Not capturing exception because it's already been captured.";class Gc{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Ko(e.dsn):za&&Ho.warn("No DSN provided, client will not send events."),this._dsn){const t=Oc(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Ai(e))return void(za&&Ho.log(Fc));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const i=go(e)?e:String(e),a=mo(e)?this.eventFromMessage(i,t,n):this.eventFromException(e,n);return this._process(a.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&Ai(t.originalException))return void(za&&Ho.log(Fc));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?za&&Ho.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),es(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):ha(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return za&&Ho.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];Lc(this,e,this._integrations),t||Nc(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=xc(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=La(n,Ua(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=Ga(n);return Na({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:zo(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;za&&Ho.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){za&&Ho.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=Vc(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&Lc(e,t,n)})),n}(this,e),Nc(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const i="ok"===e.status;(i&&0===e.errors||i&&n)&&(es(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ga((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=Fs()){const o=this.getOptions(),i=Object.keys(this._integrations);return!t.integrations&&i.length>0&&(t.integrations=i),this.emit("preprocessEvent",e,t),cs(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:i,dsc:a}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:i},...e.contexts};const s=a||As(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(za){const t=e;"log"===t.logLevel?Ho.log(t.message):Ho.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,i=qc(e),a=jc(e),s=e.type||"error",c=`before send for type \`${s}\``;if(a&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),fa(new Qo(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const l="replay_event"===s?"replay":s,u=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,u).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new Qo("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(jc(t)&&r)return r(t,n);if(qc(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(_o(e))return e.then((e=>{if(!vo(e)&&null!==e)throw new Qo(n);return e}),(e=>{throw new Qo(`${t} rejected with ${e}`)}));if(!vo(e)&&null!==e)throw new Qo(n);return e}(o,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),i){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new Qo(`${c} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!i&&o&&this._updateSessionFromEvent(o,r),i){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const a=r.transaction_info;if(i&&a&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...a,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof Qo)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new Qo(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{za&&Ho.error("Error while sending event:",e)}));za&&Ho.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function jc(e){return void 0===e.type}function qc(e){return"transaction"===e.type}function Bc(e){const t=ys();t&&t.addEventProcessor&&t.addEventProcessor(e)}const Wc="c",Hc="g",Jc="s",zc="d";const Yc={[Wc]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[Hc]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[zc]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[Jc]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};function Xc(e){const t=Vs().getStackTop();t.client=e,t.scope.setClient(e)}function Kc(e,t,n=ma(e.bufferSize||30)){let r={};function o(o){const i=[];if($a(o,((t,n)=>{const o=Fa(n);if(Ba(r,o)){const r=Qc(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else i.push(t)})),0===i.length)return ha();const a=Na(o[0],i),s=t=>{$a(a,((n,r)=>{const o=Qc(n,r);e.recordDroppedEvent(t,Fa(r),o)}))};return n.add((()=>t({body:Da(a,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&za&&Ho.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Wa(r,e),e)),(e=>{throw s("network_error"),e})))).then((e=>e),(e=>{if(e instanceof Qo)return za&&Ho.error("Skipped sending event because buffer is full."),s("queue_overflow"),ha();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function Qc(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}function Zc(e,t){za&&Ho.info(`[Offline]: ${e}`,t)}function el(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let o,i=5e3;function a(e,n,r){return o=["replay_event","replay_recording","client_report"],!$a(e,((e,t)=>o.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var o}function s(e){r&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const e=await r.pop();e&&(Zc("Attempting to send previously queued event"),l(e).catch((e=>{Zc("Failed to retry sending",e)})))}),e),"number"!=typeof o&&o.unref&&o.unref())}function c(){o||(s(i),i=Math.min(2*i,36e5))}async function l(e){try{const t=await n.send(e);let r=100;if(t)if(t.headers&&t.headers["retry-after"])r=qa(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return s(r),i=5e3,t}catch(t){if(r&&await a(e,t,i))return await r.insert(e),c(),Zc("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:l,flush:e=>n.flush(e)}}}function tl(e,t){let n;return $a(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function nl(e){return[{type:"span"},e]}function rl(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return ol(e)===ol(t)}(e,o)}function ol(e){return"/"===e[e.length-1]?e.slice(0,-1):e}const il=new Map,al=new Set;function sl(e,t){return function(e){if(No._sentryModuleMetadata)for(const t of Object.keys(No._sentryModuleMetadata)){const n=No._sentryModuleMetadata[t];if(al.has(t))continue;al.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){il.set(e.filename,n);break}}}(e),il.get(t)}const cl="ModuleMetadata",ll=()=>({name:cl,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{$a(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=sl(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),ul=$c(cl,ll),dl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],pl=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],hl="InboundFilters",fl=(e={})=>({name:hl,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),i=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:dl],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:pl],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return za&&Ho.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${wi(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));za&&0===t.length&&Ho.error(`Could not extract message for event ${wi(e)}`);return t}(e).some((e=>xo(e,t)))}(e,t.ignoreErrors))return za&&Ho.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${wi(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&xo(n,t)}(e,t.ignoreTransactions))return za&&Ho.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${wi(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=ml(e);return!!n&&xo(n,t)}(e,t.denyUrls))return za&&Ho.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${wi(e)}.\nUrl: ${ml(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=ml(e);return!n||xo(n,t)}(e,t.allowUrls))return za&&Ho.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${wi(e)}.\nUrl: ${ml(e)}`),!0;return!1}(t,i)?null:t}}),gl=$c(hl,fl);function ml(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return za&&Ho.error(`Cannot extract url for event ${wi(e)}`),null}}let vl;const yl="FunctionToString",_l=new WeakMap,bl=()=>({name:yl,setupOnce(){vl=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ni(this),n=_l.has(ys())&&void 0!==t?t:this;return vl.apply(n,e)}}catch(e){}},setup(e){_l.set(e,!0)}}),Sl=$c(yl,bl),wl="LinkedErrors",Tl=$c(wl,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:wl,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();ko(Ha,i.stackParser,i.maxValueLength,n,t,e,r)}}}));var El=Object.freeze({__proto__:null,FunctionToString:Sl,InboundFilters:gl,LinkedErrors:Tl});class Al{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",o={},i=Sa()){const a=Math.floor(i),s=t.replace(/[^\w\-.]+/gi,"_");const c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[Mc(n)]=Uc(String(e[n])));return t}(o),l=function(e){return e.replace(/[^\w]+/gi,"_")}(r),u=function(e,t,n,r){return`${e}${t}${n}${Object.entries(ai(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,s,l,c);let d=this._buckets.get(u);const p=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):(d={metric:new Yc[e](n),timestamp:a,metricType:e,name:s,unit:l,tags:c},this._buckets.set(u,d));!function(e,t,n,r,o,i){const a=tc();if(a){const s=sc(a)||new Map,c=`${e}:${t}@${r}`,l=s.get(i);if(l){const[,e]=l;s.set(i,[c,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else s.set(i,[c,{min:n,max:n,count:1,sum:n,tags:o}]);ac||(ac=new WeakMap),ac.set(a,s)}}(e,s,"string"==typeof n?d.metric.weight-p:n,l,o,u)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Il="MetricsAggregator",xl=()=>({name:Il,setupOnce(){},setup(e){e.metricsAggregator=new Al(e)}});function kl(e,t,n,r={}){const o=ys(),i=_s();if(o){if(!o.metricsAggregator)return void(za&&Ho.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:a,tags:s,timestamp:c}=r,{release:l,environment:u}=o.getOptions(),d=i.getTransaction(),p={};l&&(p.release=l),u&&(p.environment=u),d&&(p.transaction=as(d).description||""),za&&Ho.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,a,{...p,...s},c)}}const Cl={increment:function(e,t=1,n){kl("c",e,t,n)},distribution:function(e,t,n){kl("d",e,t,n)},set:function(e,t,n){kl("s",e,t,n)},gauge:function(e,t,n){kl("g",e,t,n)},MetricsAggregator:$c(Il,xl),metricsAggregatorIntegration:xl},Ol=El,Rl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Pl=No;function Nl(){Pl.document?Pl.document.addEventListener("visibilitychange",(()=>{const e=Bs();if(Pl.document.hidden&&e){const t="cancelled",{op:n,status:r}=as(e);Rl&&Ho.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Rl&&Ho.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const Ll=(e,t,n)=>{let r,o;return i=>{t.value>=0&&(i||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},$l=()=>Pl.__WEB_VITALS_POLYFILL__?Pl.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Pl.performance.timing,t=Pl.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Pl.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Ml=()=>{const e=$l();return e&&e.activationStart||0},Dl=(e,t)=>{const n=$l();let r="navigate";return n&&(r=Pl.document&&Pl.document.prerendering||Ml()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Ul=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Vl=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Pl.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Pl.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let Fl=-1;const Gl=()=>(Fl<0&&(Pl.document&&Pl.document.visibilityState&&(Fl="hidden"!==Pl.document.visibilityState||Pl.document.prerendering?1/0:0),Vl((({timeStamp:e})=>{Fl=e}),!0)),{get firstHiddenTime(){return Fl}});let jl=0,ql=1/0,Bl=0;const Wl=e=>{e.forEach((e=>{e.interactionId&&(ql=Math.min(ql,e.interactionId),Bl=Math.max(Bl,e.interactionId),jl=Bl?(Bl-ql)/7+1:0)}))};let Hl;const Jl=()=>{"interactionCount"in performance||Hl||(Hl=Ul("event",Wl,{type:"event",buffered:!0,durationThreshold:0}))},zl=()=>Hl?jl:performance.interactionCount||0,Yl=[],Xl={},Kl=e=>{const t=Yl[Yl.length-1],n=Xl[e.interactionId];if(n||Yl.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};Xl[t.id]=t,Yl.push(t)}Yl.sort(((e,t)=>t.latency-e.latency)),Yl.splice(10).forEach((e=>{delete Xl[e.id]}))}},Ql=(e,t)=>{t=t||{},Jl();const n=Dl("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&Kl(e),"first-input"===e.entryType){!Yl.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&Kl(e)}}));const t=(()=>{const e=Math.min(Yl.length-1,Math.floor(zl()/50));return Yl[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},i=Ul("event",o,{durationThreshold:t.durationThreshold||40});r=Ll(e,n,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),Vl((()=>{o(i.takeRecords()),n.value<0&&zl()>0&&(n.value=0,n.entries=[]),r(!0)})))},Zl={},eu=e=>{Pl.document&&(Pl.document.prerendering?addEventListener("prerenderingchange",(()=>eu(e)),!0):"complete"!==Pl.document.readyState?addEventListener("load",(()=>eu(e)),!0):setTimeout(e,0))},tu={},nu={};let ru,ou,iu,au,su;function cu(e,t=!1){return mu("lcp",e,hu,iu,t)}function lu(e,t){return vu(e,t),nu[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Ul(e,(t=>{uu(e,{entries:t})}),t)}(e),nu[e]=!0),yu(e,t)}function uu(e,t){const n=tu[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Rl&&Ho.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${pi(r)}\nError:`,t)}}function du(){return((e,t={})=>{const n=Dl("CLS",0);let r,o=0,i=[];const a=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=i[0],a=i[i.length-1];o&&0!==i.length&&e.startTime-a.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e]),o>n.value&&(n.value=o,n.entries=i,r&&r())}}))},s=Ul("layout-shift",a);if(s){r=Ll(e,n,t.reportAllChanges);const o=()=>{a(s.takeRecords()),r(!0)};return Vl(o),o}})((e=>{uu("cls",{metric:e}),ru=e}),{reportAllChanges:!0})}function pu(){return(e=>{const t=Gl(),n=Dl("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},i=e=>{e.forEach(o)},a=Ul("first-input",i);r=Ll(e,n),a&&Vl((()=>{i(a.takeRecords()),a.disconnect()}),!0)})((e=>{uu("fid",{metric:e}),ou=e}))}function hu(){return(e=>{const t=Gl(),n=Dl("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Ml(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},i=Ul("largest-contentful-paint",o);if(i){r=Ll(e,n);const t=()=>{Zl[n.id]||(o(i.takeRecords()),i.disconnect(),Zl[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{Pl.document&&addEventListener(e,t,{once:!0,capture:!0})})),Vl(t,!0),t}})((e=>{uu("lcp",{metric:e}),iu=e}))}function fu(){return((e,t)=>{t=t||{};const n=Dl("TTFB"),r=Ll(e,n,t.reportAllChanges);eu((()=>{const e=$l();if(e){if(n.value=Math.max(e.responseStart-Ml(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{uu("ttfb",{metric:e}),au=e}))}function gu(){return Ql((e=>{uu("inp",{metric:e}),su=e}))}function mu(e,t,n,r,o=!1){let i;return vu(e,t),nu[e]||(i=n(),nu[e]=!0),r&&t({metric:r}),yu(e,t,o?i:void 0)}function vu(e,t){tu[e]=tu[e]||[],tu[e].push(t)}function yu(e,t,n){return()=>{n&&n();const r=tu[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}function _u(e){return"number"==typeof e&&isFinite(e)}function bu(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function Su(e){return e/1e3}function wu(){return Pl.addEventListener&&Pl.performance}let Tu,Eu,Au=0,Iu={};function xu(){const e=wu();if(e&&wa){e.mark&&Pl.performance.mark("sentry-tracing-init");const t=mu("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=Su(wa),r=Su(t.startTime);Rl&&Ho.log("[Measurements] Adding FID"),Iu.fid={value:e.value,unit:"millisecond"},Iu["mark.fid"]={value:n+r,unit:"second"}}),pu,ou),n=function(e,t=!1){return mu("cls",e,du,ru,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rl&&Ho.log("[Measurements] Adding CLS"),Iu.cls={value:e.value,unit:""},Eu=t)}),!0),r=cu((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Rl&&Ho.log("[Measurements] Adding LCP"),Iu.lcp={value:e.value,unit:"millisecond"},Tu=t)}),!0),o=function(e){return mu("ttfb",e,fu,au)}((({metric:e})=>{e.entries[e.entries.length-1]&&(Rl&&Ho.log("[Measurements] Adding TTFB"),Iu.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),o()}}return()=>{}}function ku(){lu("longtask",(({entries:e})=>{for(const t of e){const e=Bs();if(!e)return;const n=Su(wa+t.startTime),r=Su(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function Cu(){lu("event",(({entries:e})=>{for(const t of e){const e=Bs();if(!e)return;if("click"===t.name){const n=Su(wa+t.startTime),r=Su(t.duration),o={description:Do(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},i=Go(t.target);i&&(o.attributes={"ui.component_name":i}),e.startChild(o)}}}))}function Ou(e,t){if(wu()&&wa){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==Ru[e.name])),o=ys();if(!r||!o)return;const i=Ru[r.name],a=o.getOptions(),s=Su(wa+r.startTime),c=Su(n.value),l=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===l)return;const{routeName:u,parentContext:d,activeTransaction:p,user:h,replayId:f}=l,g=void 0!==h?h.email||h.id||h.ip_address:void 0,m=void 0!==p?p.getProfileId():void 0,v=new fc({startTimestamp:s,endTimestamp:s+c,op:`ui.interaction.${i}`,name:Do(r.target),attributes:{release:a.release,environment:a.environment,transaction:u,...void 0!==g&&""!==g?{user:g}:{},...void 0!==m?{profile_id:m}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),y=function(e,t,n){if(!Zs(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Pl.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,Sc(r)?!0===r?n:!1===r?0:r*n:(Rl&&Ho.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,a,t);if(y&&Math.random()<y){const e=v?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=zo(t)),Na(n,e.map(nl))}([v],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,(e=>{Rl&&Ho.error("Error while sending interaction:",e)}))}},mu("inp",n,gu,su);var n}(e,t);return()=>{n()}}return()=>{}}const Ru={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Pu(e){const t=wu();if(!t||!Pl.performance.getEntries||!wa)return;Rl&&Ho.log("[Tracing] Adding & adjusting spans using Performance API");const n=Su(wa),r=t.getEntries(),{op:o,start_timestamp:i}=as(e);if(r.slice(Au).forEach((t=>{const r=Su(t.startTime),o=Su(t.duration);if(!("navigation"===e.op&&i&&n+r<i))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Nu(e,t,r,n)})),Nu(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Nu(e,t,"fetch",n,"cache","domainLookupStart"),Nu(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(bu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+Su(t.requestStart),endTimestamp:n+Su(t.responseEnd)}),bu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+Su(t.responseStart),endTimestamp:n+Su(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const i=o+n,a=i+r;bu(e,{description:t.name,endTimestamp:a,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:i})}(e,t,r,o,n);const i=Gl(),a=t.startTime<i.firstHiddenTime;"first-paint"===t.name&&a&&(Rl&&Ho.log("[Measurements] Adding FP"),Iu.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&a&&(Rl&&Ho.log("[Measurements] Adding FCP"),Iu.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const a=va(n),s={};Lu(s,t,"transferSize","http.response_transfer_size"),Lu(s,t,"encodedBodySize","http.response_content_length"),Lu(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(Pl.location.origin);const c=i+r,l=c+o;bu(e,{description:n.replace(Pl.location.origin,""),endTimestamp:l,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:s})}(e,t,t.name,r,o,n)}})),Au=Math.max(r.length-1,0),function(e){const t=Pl.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),_u(n.rtt)&&(Iu["connection.rtt"]={value:n.rtt,unit:"millisecond"}));_u(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);_u(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=$l();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Rl&&Ho.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(Iu),["fcp","fp","lcp"].forEach((e=>{if(!Iu[e]||!i||n>=i)return;const t=Iu[e].value,r=n+Su(t),o=Math.abs(1e3*(r-i)),a=o-t;Rl&&Ho.log(`[Measurements] Normalized ${e} from ${t} to ${o} (${a})`),Iu[e].value=o}));const t=Iu["mark.fid"];t&&Iu.fid&&(bu(e,{description:"first input delay",endTimestamp:t.value+Su(Iu.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete Iu["mark.fid"]),"fcp"in Iu||delete Iu.cls,Object.keys(Iu).forEach((e=>{Ic(e,Iu[e].value,Iu[e].unit)})),function(e){Tu&&(Rl&&Ho.log("[Measurements] Adding LCP Data"),Tu.element&&e.setTag("lcp.element",Do(Tu.element)),Tu.id&&e.setTag("lcp.id",Tu.id),Tu.url&&e.setTag("lcp.url",Tu.url.trim().slice(0,200)),e.setTag("lcp.size",Tu.size));Eu&&Eu.sources&&(Rl&&Ho.log("[Measurements] Adding CLS Data"),Eu.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,Do(t.node)))))}(e)}Tu=void 0,Eu=void 0,Iu={}}function Nu(e,t,n,r,o,i){const a=i?t[i]:t[`${n}End`],s=t[`${n}Start`];s&&a&&bu(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+Su(s),endTimestamp:r+Su(a)})}function Lu(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}function $u(e,t,n,r,o="auto.http.browser"){if(!Zs()||!e.fetchData)return;const i=t(e.fetchData.url);if(e.endTimestamp&&i){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){Ks(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const a=_s(),s=ys(),{method:c,url:l}=e.fetchData,u=function(e){try{return new URL(e).href}catch(e){return}}(l),d=u?va(u).host:void 0,p=i?ec({name:`${c} ${l}`,onlyIfParent:!0,attributes:{url:l,type:"fetch","http.method":c,"http.url":u,"server.address":d,[pc]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&s){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const i=o||n.getSpan(),a=Fs(),{traceId:s,spanId:c,sampled:l,dsc:u}={...a.getPropagationContext(),...n.getPropagationContext()},d=i?rs(i):Pa(s,c,l),p=xa(u||(i?Is(i):As(s,t,n))),h=r.headers||("undefined"!=typeof Request&&So(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&So(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(Ta,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([Ta,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,s,a,n,p)}return p}const Mu=["localhost",/^\/(?!\/)/],Du={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Mu,tracePropagationTargets:Mu};function Uu(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:i,enableHTTPTimings:a}={traceFetch:Du.traceFetch,traceXHR:Du.traceXHR,...e},s="function"==typeof i?i:e=>!0,c=e=>function(e,t){return xo(e,t||Mu)}(e,r||o),l={};t&&Ui((e=>{const t=$u(e,s,c,l);if(t){const n=Gu(e.fetchData.url),r=n?va(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}a&&t&&Vu(t)})),n&&ta((e=>{const t=function(e,t,n,r){const o=e.xhr,i=o&&o[ea];if(!Zs()||!o||o.__sentry_own_request__||!i)return;const a=t(i.url);if(e.endTimestamp&&a){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==i.status_code&&(Ks(t,i.status_code),t.end(),delete r[e]))}const s=_s(),c=Fs(),l=Gu(i.url),u=l?va(l).host:void 0,d=a?ec({name:`${i.method} ${i.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":i.method,"http.url":l,url:i.url,"server.address":u,[pc]:"auto.http.browser"},op:"http.client"}):void 0;d&&(o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d);const p=ys();if(o.setRequestHeader&&n(i.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...s.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Ta,n)}catch(e){}}(o,d?rs(d):Pa(e,t,n),xa(r||(d?Is(d):As(e,p,s))))}return d}(e,s,c,l);a&&t&&Vu(t)}))}function Vu(e){const{url:t}=as(e).data||{};if(!t||"string"!=typeof t)return;const n=lu("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!wa)return r;return[...r,["http.request.redirect_start",Fu(e.redirectStart)],["http.request.fetch_start",Fu(e.fetchStart)],["http.request.domain_lookup_start",Fu(e.domainLookupStart)],["http.request.domain_lookup_end",Fu(e.domainLookupEnd)],["http.request.connect_start",Fu(e.connectStart)],["http.request.secure_connection_start",Fu(e.secureConnectionStart)],["http.request.connection_end",Fu(e.connectEnd)],["http.request.request_start",Fu(e.requestStart)],["http.request.response_start",Fu(e.responseStart)],["http.request.response_end",Fu(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function Fu(e=0){return((wa||performance.timeOrigin)+e)/1e3}function Gu(e){try{return new URL(e,Pl.location.origin).href}catch(e){return}}const ju={...mc,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Pl||!Pl.location)return void(Rl&&Ho.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=Pl.location.href;t&&(r=e({name:Pl.location.pathname,startTimestamp:wa?wa/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Ki((({to:t,from:n})=>{void 0===n&&o&&-1!==o.indexOf(t)?o=void 0:n!==t&&(o=void 0,r&&(Rl&&Ho.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:Pl.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Du};function qu(e){const t=Fo(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Bu(e){const t=e.attributes&&e.attributes[lc],n=e.data&&e.data[lc],r=e.metadata&&e.metadata.source;return t||n||r}const Wu={...mc,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Du};function Hu(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=tc();return"pageload"===(n&&as(n).op)?n:void 0}function Ju(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=tc();return"navigation"===(n&&as(n).op)?n:void 0}function zu(e){const t=Fo(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const Yu=10;function Xu(e){const t=e.attributes&&e.attributes[lc],n=e.data&&e.data[lc],r=e.metadata&&e.metadata.source;return t||n||r}const Ku=No;let Qu=0;function Zu(){return Qu>0}function ed(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(ni(e))return e}catch(t){return e}const r=function(){const n=Array.prototype.slice.call(arguments);try{const r=n.map((e=>ed(e,t)));return e.apply(this,r)}catch(e){throw Qu++,setTimeout((()=>{Qu--})),vs((r=>{r.addEventProcessor((e=>(t.mechanism&&(Ti(e,void 0),Ei(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),ps(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}ti(r,e),ei(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}const td="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function nd(e,t){const n=od(e,t),r={type:t&&t.name,value:ad(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function rd(e,t){return{exception:{values:[nd(e,t)]}}}function od(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(id.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const id=/Minified React error #\d+;/i;function ad(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function sd(e,t,n,r){const o=ld(e,t,n&&n.syntheticException||void 0,r);return Ei(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),ha(o)}function cd(e,t,n="info",r,o){const i=ud(e,t,r&&r.syntheticException||void 0,o);return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),ha(i)}function ld(e,t,n,r,o){let i;if(po(t)&&t.error){return rd(e,t.error)}if(ho(t)||uo(t,"DOMException")){const o=t;if("stack"in t)i=rd(e,t);else{const t=o.name||(ho(o)?"DOMError":"DOMException"),a=o.message?`${t}: ${o.message}`:t;i=ud(e,a,n,r),Ti(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(lo(t))return rd(e,t);if(vo(t)||yo(t)){return i=function(e,t,n,r){const o=ys(),i=o&&o.getOptions().normalizeDepth,a={exception:{values:[{type:yo(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:dd(t,{isUnhandledRejection:r})}]},extra:{__serialized__:aa(t,i)}};if(n){const t=od(e,n);t.length&&(a.exception.values[0].stacktrace={frames:t})}return a}(e,t,n,o),Ei(i,{synthetic:!0}),i}return i=ud(e,t,n,r),Ti(i,`${t}`),Ei(i,{synthetic:!0}),i}function ud(e,t,n,r){const o={};if(r&&n){const r=od(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(go(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function dd(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(ri(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return To(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:To(r,t)}return""}(e),r=t?"promise rejection":"exception";if(po(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(yo(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}function pd(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:zo(r)}},i=function(e){return[{type:"user_report"},e]}(e);return Na(o,[i])}class hd extends Gc{constructor(e){!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:Ns}))),version:Ns}),e._metadata=o}(e,"browser",["browser"],Ku.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Ku.document&&Ku.document.addEventListener("visibilitychange",(()=>{"hidden"===Ku.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return sd(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return cd(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(td&&Ho.warn("SDK not enabled, will not capture user feedback."));const t=pd(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(td&&Ho.log("No outcomes to send"));if(!this._dsn)return void(td&&Ho.log("No dsn provided, will not send outcomes"));td&&Ho.log("Sending outcomes:",e);const t=(n=e,Na((r=this._options.tunnel&&zo(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:ba(),discarded_events:n}]]));var n,r;this._sendEnvelope(t)}}let fd;function gd(e,t=function(){if(fd)return fd;if(Mi(Ku.fetch))return fd=Ku.fetch.bind(Ku);const e=Ku.document;let t=Ku.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){td&&Ho.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return fd=t.bind(Ku)}()){let n=0,r=0;return Kc(e,(function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then((e=>(n-=i,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return fd=void 0,n-=i,r--,fa(e)}}))}function md(e){return Kc(e,(function(t){return new ga(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const vd="?";function yd(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const _d=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,bd=/\((\S*)(?::(\d+))(?::(\d+))\)/,Sd=[30,e=>{const t=_d.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=bd.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=Nd(t[1]||vd,t[2]);return yd(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],wd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Td=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Ed=[50,e=>{const t=wd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Td.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||vd;return[n,e]=Nd(n,e),yd(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],Ad=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Id=[40,e=>{const t=Ad.exec(e);return t?yd(t[2],t[1]||vd,+t[3],t[4]?+t[4]:void 0):void 0}],xd=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,kd=[10,e=>{const t=xd.exec(e);return t?yd(t[2],t[3]||vd,+t[1]):void 0}],Cd=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Od=[20,e=>{const t=Cd.exec(e);return t?yd(t[5],t[3]||t[4]||vd,+t[1],+t[2]):void 0}],Rd=[Sd,Ed,Id],Pd=ui(...Rd),Nd=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:vd,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Ld=1024,$d="Breadcrumbs",Md=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:$d,setupOnce(){},setup(e){t.console&&yi(function(e){return function(t){if(ys()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:_a(t.level),message:Ao(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Ao(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}gs(n,{input:t.args,level:t.level})}}(e)),t.dom&&Ri(function(e,t){return function(n){if(ys()!==e)return;let r,o,i="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>Ld&&(td&&Ho.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=Ld),"string"==typeof i&&(i=[i]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=Do(t,{keyAttrs:i,maxStringLength:a}),o=Go(t)}catch(e){r="<unknown>"}if(0===r.length)return;const s={category:`ui.${n.name}`,message:r};o&&(s.data={"ui.component_name":o}),gs(s,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&ta(function(e){return function(t){if(ys()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[ea];if(!n||!r||!o)return;const{method:i,url:a,status_code:s,body:c}=o;gs({category:"xhr",data:{method:i,url:a,status_code:s},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&Ui(function(e){return function(t){if(ys()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){gs({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;gs({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&Ki(function(e){return function(t){if(ys()!==e)return;let n=t.from,r=t.to;const o=va(Ku.location.href);let i=n?va(n):void 0;const a=va(r);i&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),gs({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){ys()===e&&gs({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:wi(t)},{event:t})}}(e))}}},Dd=$c($d,Md);const Ud="Dedupe",Vd=()=>{let e;return{name:Ud,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!jd(e,t))return!1;if(!Gd(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=qd(t),r=qd(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!jd(e,t))return!1;if(!Gd(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return td&&Ho.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},Fd=$c(Ud,Vd);function Gd(e,t){let n=Bd(e),r=Bd(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function jd(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function qd(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Bd(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const Wd="GlobalHandlers",Hd=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Wd,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){qi((t=>{const{stackParser:n,attachStacktrace:r}=Xd();if(ys()!==e||Zu())return;const{msg:o,url:i,line:a,column:s,error:c}=t,l=void 0===c&&fo(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let i=po(e)?e.message:e,a="Error";const s=i.match(o);s&&(a=s[1],i=s[2]);const c={exception:{values:[{type:a,value:i}]}};return zd(c,t,n,r)}(o,i,a,s):zd(ld(n,c||o,void 0,r,!1),i,a,s);l.level="error",fs(l,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),Yd("onerror")),t.onunhandledrejection&&(!function(e){Hi((t=>{const{stackParser:n,attachStacktrace:r}=Xd();if(ys()!==e||Zu())return;const o=function(e){if(mo(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),i=mo(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:ld(n,o,void 0,r,!0);i.level="error",fs(i,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Yd("onunhandledrejection"))}}},Jd=$c(Wd,Hd);function zd(e,t,n,r){const o=e.exception=e.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],l=isNaN(parseInt(r,10))?void 0:r,u=isNaN(parseInt(n,10))?void 0:n,d=fo(t)&&t.length>0?t:Vo();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function Yd(e){td&&Ho.log(`Global Handler attached: ${e}`)}function Xd(){const e=ys();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Kd="HttpContext",Qd=()=>({name:Kd,setupOnce(){},preprocessEvent(e){if(!Ku.navigator&&!Ku.location&&!Ku.document)return;const t=e.request&&e.request.url||Ku.location&&Ku.location.href,{referrer:n}=Ku.document||{},{userAgent:r}=Ku.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:o};e.request=i}}),Zd=$c(Kd,Qd),ep="LinkedErrors",tp=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:ep,setupOnce(){},preprocessEvent(e,r,o){const i=o.getOptions();ko(nd,i.stackParser,i.maxValueLength,n,t,e,r)}}},np=$c(ep,tp),rp=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],op="TryCatch",ip=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:op,setupOnce(){t.setTimeout&&Zo(Ku,"setTimeout",sp),t.setInterval&&Zo(Ku,"setInterval",sp),t.requestAnimationFrame&&Zo(Ku,"requestAnimationFrame",cp),t.XMLHttpRequest&&"XMLHttpRequest"in Ku&&Zo(XMLHttpRequest.prototype,"send",lp);const e=t.eventTarget;if(e){(Array.isArray(e)?e:rp).forEach(up)}}}},ap=$c(op,ip);function sp(e){return function(...t){const n=t[0];return t[0]=ed(n,{mechanism:{data:{function:pi(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function cp(e){return function(t){return e.apply(this,[ed(t,{mechanism:{data:{function:"requestAnimationFrame",handler:pi(e)},handled:!1,type:"instrument"}})])}}function lp(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&Zo(n,e,(function(t){const n={mechanism:{data:{function:e,handler:pi(t)},handled:!1,type:"instrument"}},r=ni(t);return r&&(n.mechanism.data.handler=pi(r)),ed(t,n)}))})),e.apply(this,t)}}function up(e){const t=Ku,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Zo(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=ed(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:pi(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,ed(r,{mechanism:{data:{function:"addEventListener",handler:pi(r),target:e},handled:!1,type:"instrument"}}),o])}})),Zo(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const dp=[fl(),bl(),ip(),Md(),Hd(),tp(),Vd(),Qd()];function pp(e){return[...dp]}function hp(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=pp()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Ku.SENTRY_RELEASE&&Ku.SENTRY_RELEASE.id&&(e.release=Ku.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||Pd,Array.isArray(n)?ui(...n):n),integrations:Pc(e),transport:e.transport||($i()?gd:md)};var n;!function(e,t){!0===t.debug&&(za?Ho.enable():Wo((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),_s().update(t.initialScope);const n=new e(t);Xc(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}(hd,t),e.autoSessionTracking&&function(){if(void 0===Ku.document)return void(td&&Ho.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));bs({ignoreDuration:!0}),Ts(),Ki((({from:e,to:t})=>{void 0!==e&&e!==t&&(bs({ignoreDuration:!0}),Ts())}))}()}var fp=Object.freeze({__proto__:null,Breadcrumbs:Dd,Dedupe:Fd,GlobalHandlers:Jd,HttpContext:Zd,LinkedErrors:np,TryCatch:ap});const gp=No,mp="sentryReplaySession",vp="Unable to send Replay",yp=15e4,_p=5e3,bp=2e7,Sp=36e5;function wp(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}var Tp;function Ep(e){const t=wp([e,"optionalAccess",e=>e.host]);return Boolean(wp([t,"optionalAccess",e=>e.shadowRoot])===e)}function Ap(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Ip(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,xp).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function xp(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Ip(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Tp||(Tp={}));class kp{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=wp([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Cp({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Op({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Rp(e){return e.toLowerCase()}function Pp(e){return e.toUpperCase()}const Np="__rrweb_original__";function Lp(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Rp(t):null}function $p(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let Mp=1;const Dp=new RegExp("[^a-z0-9-_:]");function Up(){return Mp++}let Vp,Fp;const Gp=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,jp=/^(?:[a-z+]+:)?\/\//i,qp=/^www\..*/i,Bp=/^(data:)([^,]*),(.*)/i;function Wp(e,t){return(e||"").replace(Gp,((e,n,r,o,i,a)=>{const s=r||i||a,c=n||o||"";if(!s)return e;if(jp.test(s)||qp.test(s))return`url(${c}${s}${c})`;if(Bp.test(s))return`url(${c}${s}${c})`;if("/"===s[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+s}${c})`;const l=t.split("/"),u=s.split("/");l.pop();for(const e of u)"."!==e&&(".."===e?l.pop():l.push(e));return`url(${c}${l.join("/")}${c})`}))}const Hp=/^[^ \t\n\r\u000c]+/,Jp=/^[, \t\n\r\u000c]+/;function zp(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function Yp(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function Xp(){const e=document.createElement("a");return e.href="",e.href}function Kp(e,t,n,r,o,i){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?zp(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(Jp),!(n>=t.length);){let i=r(Hp);if(","===i.slice(-1))i=zp(e,i.substring(0,i.length-1)),o.push(i);else{let r="";i=zp(e,i);let a=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((i+r).trim());break}if(a)")"===e&&(a=!1);else{if(","===e){n+=1,o.push((i+r).trim());break}"("===e&&(a=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?Wp(r,Xp()):"object"===t&&"data"===n?zp(e,r):"function"==typeof i?i(n,r,o):r:zp(e,r):r}function Qp(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function Zp(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Zp(e.parentNode,t,n,r+1):-1}function eh(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function th(e,t,n,r,o,i){try{const a=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===a)return!1;if("INPUT"===a.tagName){const e=a.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let s=-1,c=-1;if(i){if(c=Zp(a,eh(r,o)),c<0)return!0;s=Zp(a,eh(t,n),c>=0?c:1/0)}else{if(s=Zp(a,eh(t,n)),s<0)return!1;c=Zp(a,eh(r,o),s>=0?s:1/0)}return s>=0?!(c>=0)||s<=c:!(c>=0)&&!!i}catch(e){}return!!i}function nh(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskAttributeFn:c,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:g,maskInputFn:m,dataURLOptions:v={},inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Tp.Document,childNodes:[],compatMode:e.compatMode}:{type:Tp.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Tp.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:i,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:c,maskInputFn:l,dataURLOptions:u={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:g,maskAllText:m,maskTextClass:v,unmaskTextClass:y,maskTextSelector:_,unmaskTextSelector:b}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,o,i),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=Rp(e.tagName);return Dp.test(t)?"div":t}(e);let T={};const E=e.attributes.length;for(let t=0;t<E;t++){const r=e.attributes[t];r.name&&!Qp(w,r.name,r.value)&&(T[r.name]=Kp(n,w,Rp(r.name),r.value,e,c))}if("link"===w&&a){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=Ip(t)),r&&(delete T.rel,delete T.href,T._cssText=Wp(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Ip(e.sheet);t&&(T._cssText=Wp(t,Xp()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Lp(t),r=$p(t,Pp(w),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=th(t,v,_,y,b,Cp({type:n,tagName:Pp(w),maskInputOptions:s}));T.value=Op({isMasked:e,element:t,value:r,maskInputFn:l})}o&&(T.checked=o)}"option"===w&&(e.selected&&!s.select?T.selected=!0:delete T.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,i=Np in o?o[Np]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(T.rr_dataURL=e.toDataURL(u.type,u.quality));else if(!("__context"in e)){const t=e.toDataURL(u.type,u.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(u.type,u.quality)&&(T.rr_dataURL=t)}if("img"===w&&d){Vp||(Vp=n.createElement("canvas"),Fp=Vp.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{Vp.width=t.naturalWidth,Vp.height=t.naturalHeight,Fp.drawImage(t,0,0),T.rr_dataURL=Vp.toDataURL(u.type,u.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?T.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(T.rr_mediaState=e.paused?"paused":"played",T.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(T.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(T.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();T={class:T.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(T.src)||(e.contentDocument||(T.rr_src=T.src),delete T.src);let A;try{customElements.get(w)&&(A=!0)}catch(e){}return{type:Tp.Element,tagName:w,attributes:T,childNodes:[],isSVG:Yp(e)||void 0,needBlock:S,rootId:g,isCustom:A}}(e,{doc:n,blockClass:o,blockSelector:i,unblockSelector:a,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:m,dataURLOptions:v,inlineImages:y,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:i,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:c,maskInputFn:l,rootId:u}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,g="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||wp([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=Ip(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=Wp(p,Xp())}f&&(p="SCRIPT_PLACEHOLDER");const m=th(e,r,i,o,a,n);h||f||g||!p||!m||(p=s?s(p,e.parentElement):p.replace(/[\S]/g,"*"));g&&p&&(c.textarea||m)&&(p=l?l(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Op({isMasked:th(e,r,i,o,a,Cp({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:l})}return{type:Tp.Text,textContent:p||"",isStyle:h,rootId:u}}(e,{maskAllText:s,maskTextClass:l,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:g,maskInputOptions:f,maskInputFn:m,rootId:w});case e.CDATA_SECTION_NODE:return{type:Tp.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:Tp.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function rh(e){return null==e?"":e.toLowerCase()}function oh(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E=5e3,onStylesheetLoad:A,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:x=()=>!1,newlyAddedElement:k=!1}=t;let{preserveWhiteSpace:C=!0}=t;const O=nh(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,keepIframeSrcFn:x,newlyAddedElement:k});if(!O)return console.warn(e,"not serialized"),null;let R;R=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===Tp.Comment)return!0;if(e.type===Tp.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(rh(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===rh(e.attributes.name)||"icon"===rh(e.attributes.rel)||"apple-touch-icon"===rh(e.attributes.rel)||"shortcut icon"===rh(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&rh(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(rh(e.attributes.property).match(/^(og|twitter|fb):/)||rh(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===rh(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===rh(e.attributes.name)||"googlebot"===rh(e.attributes.name)||"bingbot"===rh(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===rh(e.attributes.name)||"generator"===rh(e.attributes.name)||"framework"===rh(e.attributes.name)||"publisher"===rh(e.attributes.name)||"progid"===rh(e.attributes.name)||rh(e.attributes.property).match(/^article:/)||rh(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===rh(e.attributes.name)||"yandex-verification"===rh(e.attributes.name)||"csrf-token"===rh(e.attributes.name)||"p:domain_verify"===rh(e.attributes.name)||"verify-v1"===rh(e.attributes.name)||"verification"===rh(e.attributes.name)||"shopify-checkout-api-token"===rh(e.attributes.name)))return!0}}return!1}(O,y)&&(C||O.type!==Tp.Text||O.isStyle||O.textContent.replace(/^\s+|\s+$/gm,"").length)?Up():-2;const P=Object.assign(O,{id:R});if(r.add(e,P),-2===R)return null;w&&w(e);let N=!p;if(P.type===Tp.Element){N=N&&!P.needBlock,delete P.needBlock;const t=e.shadowRoot;t&&Ap(t)&&(P.isShadowHost=!0)}if((P.type===Tp.Document||P.type===Tp.Element)&&N){y.headWhitespace&&P.type===Tp.Element&&"head"===P.tagName&&(C=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:i,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x};for(const n of Array.from(e.childNodes)){const e=oh(n,t);e&&P.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=oh(n,t);r&&(Ap(e.shadowRoot)&&(r.isShadow=!0),P.childNodes.push(r))}}return e.parentNode&&Ep(e.parentNode)&&Ap(e.parentNode)&&(P.isShadow=!0),P.type===Tp.Element&&"iframe"===P.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,i=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=setTimeout((()=>{i||(t(),i=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),i=!0,t()}))}const a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&T){const n=oh(t,{doc:t,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x});n&&T(e,n)}}),E),P.type===Tp.Element&&"link"===P.tagName&&"stylesheet"===P.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const i=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(i),o=!0,t()}))}(e,(()=>{if(A){const t=oh(e,{doc:n,mirror:r,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:l,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:C,onSerialize:w,onIframeLoad:T,iframeLoadTimeout:E,onStylesheetLoad:A,stylesheetLoadTimeout:I,keepIframeSrcFn:x});t&&A(e,t)}}),I),P}function ih(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function ah(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const sh="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let ch={map:{},getId:()=>(console.error(sh),-1),getNode:()=>(console.error(sh),null),removeNodeFromMap(){console.error(sh)},has:()=>(console.error(sh),!1),reset(){console.error(sh)}};function lh(e,t,n={}){let r=null,o=0;return function(...i){const a=Date.now();o||!1!==n.leading||(o=a);const s=t-(a-o),c=this;s<=0||s>t?(r&&(!function(...e){Ch("clearTimeout")(...e)}(r),r=null),o=a,e.apply(c,i)):r||!1===n.trailing||(r=Oh((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,i)}),s))}}function uh(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Oh((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>uh(e,t,i||{},!0)}function dh(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(ch=new Proxy(ch,{get:(e,t,n)=>("map"===t&&console.error(sh),Reflect.get(e,t,n))}));let ph=Date.now;function hh(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:ih([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||ih([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||ih([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:ih([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||ih([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||ih([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function fh(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function gh(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function mh(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function vh(e,t,n,r,o){if(!e)return!1;const i=mh(e);if(!i)return!1;const a=eh(t,n);if(!o){const e=r&&i.matches(r);return a(i)&&!e}const s=Zp(i,a);let c=-1;return!(s<0)&&(r&&(c=Zp(i,eh(null,r))),s>-1&&c<0||s<c)}function yh(e,t){return-2===t.getId(e)}function _h(e,t){if(Ep(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||_h(e.parentNode,t))}function bh(e){return Boolean(e.changedTouches)}function Sh(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function wh(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Th(e){return Boolean(ih([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(ph=()=>(new Date).getTime());class Eh{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ah(e){let t=null;return ih([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Ih(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=Ah(n);)n=t;return n}(e);return t.contains(n)}function xh(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Ih(e))}const kh={};function Ch(e){const t=kh[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return kh[e]=r.bind(window)}function Oh(...e){return Ch("setTimeout")(...e)}var Rh=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Rh||{}),Ph=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Ph||{}),Nh=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Nh||{}),Lh=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Lh||{});function $h(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}function Mh(e){return"__ln"in e}class Dh{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=$h([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&Mh(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&Mh(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const Uh=(e,t)=>`${e}@${t}`;class Vh{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new Dh,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!xh(o))return;const i=Ep(o.parentNode)?this.mirror.getId(Ah(o)):this.mirror.getId(o.parentNode),a=r(o);if(-1===i||-1===a)return n.addNode(o);const s=oh(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{Sh(e,this.mirror)&&this.iframeManager.addIframe(e),wh(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Th(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});s&&(e.push({parentId:i,nextId:a,node:s}),t.add(s.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)Gh(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)qh(this.droppedSet,e)||Gh(this.removes,e,this.mirror)?qh(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let i=null;for(;n.length;){let e=null;if(i){const t=this.mirror.getId(i.value.parentNode),n=r(i.value);-1!==t&&-1!==n&&(e=i)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}i=e.previous,n.removeNode(e.value),o(e.value)}const a={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=e=>{if(!yh(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;vh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:th(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,mh(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Lp(t),o=t.tagName;r=$p(t,o,n);const i=Cp({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=Op({isMasked:th(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,i),element:t,value:r,maskInputFn:this.maskInputFn})}if(vh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!Qp(t.tagName,n)&&(o.attributes[n]=Kp(this.doc,Rp(t.tagName),Rp(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),i=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||i!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===i?r:[r,i]:o._unchangedStyles[e]=[r,i]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(vh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=Ep(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);vh(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||yh(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(Fh(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||_h(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[Uh(n,r)]?Fh(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!Ep(e.target)||!Ap(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(yh(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[Uh(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);vh(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Th(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Fh(e,t){e.delete(t),t.childNodes.forEach((t=>Fh(e,t)))}function Gh(e,t,n){return 0!==e.length&&jh(e,t,n)}function jh(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||jh(e,r,n)}function qh(e,t){return 0!==e.size&&Bh(e,t)}function Bh(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||Bh(e,n))}let Wh;const Hh=e=>{if(!Wh)return e;return(...t)=>{try{return e(...t)}catch(e){if(Wh&&!0===Wh(e))return()=>{};throw e}}};function Jh(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}const zh=[];function Yh(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function Xh(e,t){const n=new Vh;zh.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=Jh([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const i=new r(Hh((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return i.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),i}function Kh({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];let l=null;return Object.keys(Nh).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e])).forEach((a=>{let s=Rp(a);const u=(t=>a=>{const s=Yh(a);if(vh(s,r,o,i,!0))return;let c=null,u=t;if("pointerType"in a){switch(a.pointerType){case"mouse":c=Lh.Mouse;break;case"touch":c=Lh.Touch;break;case"pen":c=Lh.Pen}c===Lh.Touch?Nh[t]===Nh.MouseDown?u="TouchStart":Nh[t]===Nh.MouseUp&&(u="TouchEnd"):Lh.Pen}else bh(a)&&(c=Lh.Touch);null!==c?(l=c,(u.startsWith("Touch")&&c===Lh.Touch||u.startsWith("Mouse")&&c===Lh.Mouse)&&(c=null)):Nh[t]===Nh.Click&&(c=l,l=null);const d=bh(a)?a.changedTouches[0]:a;if(!d)return;const p=n.getId(s),{clientX:h,clientY:f}=d;Hh(e)({type:Nh[u],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(a);if(window.PointerEvent)switch(Nh[a]){case Nh.MouseDown:case Nh.MouseUp:s=s.replace("mouse","pointer");break;case Nh.TouchStart:case Nh.TouchEnd:return}c.push(ah(s,u,t))})),Hh((()=>{c.forEach((e=>e()))}))}function Qh({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,sampling:a}){return ah("scroll",Hh(lh(Hh((a=>{const s=Yh(a);if(!s||vh(s,r,o,i,!0))return;const c=n.getId(s);if(s===t&&t.defaultView){const n=hh(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:s.scrollLeft,y:s.scrollTop})})),a.scroll||100)),t)}const Zh=["INPUT","TEXTAREA","SELECT"],ef=new WeakMap;function tf({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,ignoreClass:a,ignoreSelector:s,maskInputOptions:c,maskInputFn:l,sampling:u,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:g}){function m(e){let n=Yh(e);const u=e.isTrusted,m=n&&Pp(n.tagName);if("OPTION"===m&&(n=n.parentElement),!n||!m||Zh.indexOf(m)<0||vh(n,r,o,i,!0))return;const y=n;if(y.classList.contains(a)||s&&y.matches(s))return;const _=Lp(n);let b=$p(y,m,_),S=!1;const w=Cp({maskInputOptions:c,tagName:m,type:_}),T=th(n,p,f,h,g,w);"radio"!==_&&"checkbox"!==_||(S=n.checked),b=Op({isMasked:T,element:n,value:b,maskInputFn:l}),v(n,d?{text:b,isChecked:S,userTriggered:u}:{text:b,isChecked:S});const E=n.name;"radio"===_&&E&&S&&t.querySelectorAll(`input[type="radio"][name="${E}"]`).forEach((e=>{if(e!==n){const t=Op({isMasked:T,element:e,value:$p(e,m,_),maskInputFn:l});v(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function v(t,r){const o=ef.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){ef.set(t,r);const o=n.getId(t);Hh(e)({...r,id:o})}}const y=("last"===u.input?["change"]:["input","change"]).map((e=>ah(e,Hh(m),t))),_=t.defaultView;if(!_)return()=>{y.forEach((e=>e()))};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),S=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&y.push(...S.map((e=>uh(e[0],e[1],{set(){Hh(m)({target:this,isTrusted:!1})}},!1,_)))),Hh((()=>{y.forEach((e=>e()))}))}function nf(e){return function(e,t){if(sf("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||sf("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||sf("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||sf("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function rf(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function of({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?Jh([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):Jh([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),i=Jh([o,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(Jh([o,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&i?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get(){return Jh([i,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=Jh([i,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),Hh((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:i.configurable,enumerable:i.enumerable,get:i.get,set:i.set})}))):()=>{}}function af(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=Xh(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,i="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let a,s=[];const c=lh(Hh((t=>{const n=Date.now()-a;e(s.map((e=>(e.timeOffset-=n,e))),t),s=[],a=null})),i),l=Hh(lh(Hh((e=>{const t=Yh(e),{clientX:n,clientY:o}=bh(e)?e.changedTouches[0]:e;a||(a=ph()),s.push({x:n,y:o,id:r.getId(t),timeOffset:ph()-a}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Ph.Drag:e instanceof MouseEvent?Ph.MouseMove:Ph.TouchMove)})),o,{trailing:!1})),u=[ah("mousemove",l,n),ah("touchmove",l,n),ah("drag",l,n)];return Hh((()=>{u.forEach((e=>e()))}))}(e),i=Kh(e),a=Qh(e),s=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return ah("resize",Hh(lh(Hh((()=>{const t=fh(),o=gh();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),c=tf(e),l=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:i,doc:a}){const s=Hh((a=>lh(Hh((i=>{const s=Yh(i);if(!s||vh(s,t,n,r,!0))return;const{currentTime:c,volume:l,muted:u,playbackRate:d}=s;e({type:a,id:o.getId(s),currentTime:c,volume:l,muted:u,playbackRate:d})})),i.media||500))),c=[ah("play",s(0),a),ah("pause",s(1),a),ah("seeked",s(2),a),ah("volumechange",s(3),a),ah("ratechange",s(4),a)];return Hh((()=>{c.forEach((e=>e()))}))}(e),u=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:Hh(((r,o,i)=>{const[a,s]=i,{id:c,styleId:l}=rf(o,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:s}]}),r.apply(o,i)}))});const i=r.CSSStyleSheet.prototype.deleteRule;let a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(i,{apply:Hh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=rf(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:a}]}),r.apply(o,i)}))}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:Hh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=rf(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replace:a}),r.apply(o,i)}))})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:Hh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=rf(o,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replaceSync:a}),r.apply(o,i)}))}));const c={};cf("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(cf("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),cf("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),cf("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const l={};return Object.entries(c).forEach((([r,o])=>{l[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(l[r].insertRule,{apply:Hh(((r,o,i)=>{const[a,s]=i,{id:c,styleId:l}=rf(o.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||l&&-1!==l)&&e({id:c,styleId:l,adds:[{rule:a,index:[...nf(o),s||0]}]}),r.apply(o,i)}))}),o.prototype.deleteRule=new Proxy(l[r].deleteRule,{apply:Hh(((r,o,i)=>{const[a]=i,{id:s,styleId:c}=rf(o.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:[...nf(o),a]}]}),r.apply(o,i)}))})})),Hh((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=i,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=l[e].insertRule,t.prototype.deleteRule=l[e].deleteRule}))}))}(e,{win:n}),d=of(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const i=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(i,{apply:Hh(((o,a,s)=>{const[c,l,u]=s;if(n.has(c))return i.apply(a,[c,l,u]);const{id:d,styleId:p}=rf(Jh([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:l,priority:u},index:nf(a.parentRule)}),o.apply(a,s)}))});const a=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:Hh(((o,i,s)=>{const[c]=s;if(n.has(c))return a.apply(i,[c]);const{id:l,styleId:u}=rf(Jh([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(l&&-1!==l||u&&-1!==u)&&e({id:l,styleId:u,remove:{property:c},index:nf(i.parentRule)}),o.apply(i,s)}))}),Hh((()=>{o.CSSStyleDeclaration.prototype.setProperty=i,o.CSSStyleDeclaration.prototype.removeProperty=a}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,i=n.FontFace;n.FontFace=function(e,t,n){const r=new i(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const a=dh(t.fonts,"add",(function(t){return function(n){return Oh(Hh((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=i})),r.push(a),Hh((()=>{r.forEach((e=>e()))}))}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,selectionCb:a}=e;let s=!0;const c=Hh((()=>{const e=t.getSelection();if(!e||s&&Jh([e,"optionalAccess",e=>e.isCollapsed]))return;s=e.isCollapsed||!1;const c=[],l=e.rangeCount||0;for(let t=0;t<l;t++){const a=e.getRangeAt(t),{startContainer:s,startOffset:l,endContainer:u,endOffset:d}=a;vh(s,r,o,i,!0)||vh(u,r,o,i,!0)||c.push({start:n.getId(s),startOffset:l,end:n.getId(u),endOffset:d})}a({ranges:c})}));return c(),ah("selectionchange",c)}(e),g=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?dh(n.customElements,"define",(function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}})):()=>{}}(e),m=[];for(const t of e.plugins)m.push(t.observer(t.callback,n,t.options));return Hh((()=>{zh.forEach((e=>e.reset())),r.disconnect(),o(),i(),a(),s(),c(),l(),u(),d(),p(),h(),f(),g(),m.forEach((e=>e()))}))}function sf(e){return void 0!==window[e]}function cf(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class lf{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),i=r||this.getRemoteIdToIdMap(e);let a=o.get(t);return a||(a=this.generateIdFn(),o.set(t,a),i.set(a,t)),a}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function uf(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],i=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=i(n)):"call"!==o&&"optionalCall"!==o||(n=i(((...e)=>n.call(t,...e))),t=void 0)}return n}class df{constructor(){this.crossOriginIframeMirror=new lf(Up),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class pf{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new lf(Up),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new lf(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),uf([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Rh.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Rh.IncrementalSnapshot,data:{source:Ph.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Rh.Meta:case Rh.Load:case Rh.DomContentLoaded:return!1;case Rh.Plugin:return t;case Rh.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Rh.IncrementalSnapshot:switch(t.data.source){case Ph.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ph.Drag:case Ph.TouchMove:case Ph.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Ph.ViewportResize:return!1;case Ph.MediaInteraction:case Ph.MouseInteraction:case Ph.Scroll:case Ph.CanvasMutation:case Ph.Input:return this.replaceIds(t.data,e,["id"]),t;case Ph.StyleSheetRule:case Ph.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Ph.Font:return t;case Ph.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Ph.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),uf([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===Tp.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class hf{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class ff{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!Ap(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=Xh({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(Qh({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Oh((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(of({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(dh(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&xh(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class gf{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class mf{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new Eh,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:xp(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class vf{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){Ch("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let yf,_f;const bf=new kp;function Sf(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:i=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:c=null,maskAllText:l=!1,maskTextClass:u="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:g,maskInputOptions:m,slimDOMOptions:v,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,maxCanvasSize:S=null,packFn:w,sampling:T={},dataURLOptions:E={},mousemoveWait:A,recordCanvas:I=!1,recordCrossOriginIframes:x=!1,recordAfter:k=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:C=!1,collectFonts:O=!1,inlineImages:R=!1,plugins:P,keepIframeSrcFn:N=()=>!1,ignoreCSSAttributes:L=new Set([]),errorHandler:$,onMutation:M,getCanvasManager:D}=e;Wh=$;const U=!x||window.parent===window;let V=!1;if(!U)try{window.parent.document&&(V=!1)}catch(e){V=!0}if(U&&!t)throw new Error("emit function is required");void 0!==A&&void 0===T.mousemove&&(T.mousemove=A),bf.reset();const F=!0===g?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==m?m:{},G=!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===v,headMetaDescKeywords:"all"===v}:v||{};let j;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let q=0;const B=e=>{for(const t of P||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!V&&(e=w(e)),e};yf=(e,o)=>{const i=e;if(i.timestamp=ph(),!Ja([zh,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||i.type===Rh.FullSnapshot||i.type===Rh.IncrementalSnapshot&&i.data.source===Ph.Mutation||zh.forEach((e=>e.unfreeze())),U)Ja([t,"optionalCall",e=>e(B(i),o)]);else if(V){const e={type:"rrweb",event:B(i),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(i.type===Rh.FullSnapshot)j=i,q=0;else if(i.type===Rh.IncrementalSnapshot){if(i.data.source===Ph.Mutation&&i.data.isAttachIframe)return;q++;const e=r&&q>=r,t=n&&j&&i.timestamp-j.timestamp>n;(e||t)&&Z(!0)}};const W=e=>{yf({type:Rh.IncrementalSnapshot,data:{source:Ph.Mutation,...e}})},H=e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.Scroll,...e}}),J=e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.CanvasMutation,...e}}),z=new mf({mutationCb:W,adoptedStyleSheetCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.AdoptedStyleSheet,...e}})}),Y="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new df:new pf({mirror:bf,mutationCb:W,stylesheetManager:z,recordCrossOriginIframes:x,wrappedEmit:yf});for(const e of P||[])e.getMirror&&e.getMirror({nodeMirror:bf,crossOriginIframeMirror:Y.crossOriginIframeMirror,crossOriginIframeStyleMirror:Y.crossOriginIframeStyleMirror});const X=new vf,K=function(e,t){try{return e?e(t):new gf}catch(e){return console.warn("Unable to initialize CanvasManager"),new gf}}(D,{mirror:bf,win:window,mutationCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.CanvasMutation,...e}}),recordCanvas:I,blockClass:o,blockSelector:i,unblockSelector:a,maxCanvasSize:S,sampling:T.canvas,dataURLOptions:E,errorHandler:$}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new hf:new ff({mutationCb:W,scrollCb:H,bypassOptions:{onMutation:M,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:F,dataURLOptions:E,maskAttributeFn:y,maskTextFn:b,maskInputFn:_,recordCanvas:I,inlineImages:R,sampling:T,slimDOMOptions:G,iframeManager:Y,stylesheetManager:z,canvasManager:K,keepIframeSrcFn:N,processedNodeManager:X},mirror:bf}),Z=(e=!1)=>{yf({type:Rh.Meta,data:{href:window.location.href,width:gh(),height:fh()}},e),z.reset(),Q.init(),zh.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new kp,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:i=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:c=null,maskTextSelector:l=null,unmaskTextSelector:u=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOM:y=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I=()=>!1}=t;return oh(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:s,unmaskTextClass:c,maskTextSelector:l,unmaskTextSelector:u,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:g,maskTextFn:m,maskInputFn:v,slimDOMOptions:!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===y,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===y?{}:y,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:T,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:I,newlyAddedElement:!1})}(document,{mirror:bf,blockClass:o,blockSelector:i,unblockSelector:a,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:F,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,slimDOM:G,dataURLOptions:E,recordCanvas:I,inlineImages:R,onSerialize:e=>{Sh(e,bf)&&Y.addIframe(e),wh(e,bf)&&z.trackLinkElement(e),Th(e)&&Q.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{Y.attachIframe(e,t),Q.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{z.attachLinkElement(e,t)},keepIframeSrcFn:N});if(!t)return console.warn("Failed to snapshot the document");yf({type:Rh.FullSnapshot,data:{node:t,initialOffset:hh(window)}}),zh.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&z.adoptStyleSheets(document.adoptedStyleSheets,bf.getId(document))};_f=Z;try{const e=[],t=e=>Hh(af)({onMutation:M,mutationCb:W,mousemoveCb:(e,t)=>yf({type:Rh.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.MouseInteraction,...e}}),scrollCb:H,viewportResizeCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.ViewportResize,...e}}),inputCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.Input,...e}}),mediaInteractionCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.MediaInteraction,...e}}),styleSheetRuleCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.StyleSheetRule,...e}}),styleDeclarationCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.StyleDeclaration,...e}}),canvasMutationCb:J,fontCb:e=>yf({type:Rh.IncrementalSnapshot,data:{source:Ph.Font,...e}}),selectionCb:e=>{yf({type:Rh.IncrementalSnapshot,data:{source:Ph.Selection,...e}})},customElementCb:e=>{yf({type:Rh.IncrementalSnapshot,data:{source:Ph.CustomElement,...e}})},blockClass:o,ignoreClass:s,ignoreSelector:c,maskAllText:l,maskTextClass:u,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:F,inlineStylesheet:f,sampling:T,recordCanvas:I,inlineImages:R,userTriggeredOnInput:C,collectFonts:O,doc:e,maskAttributeFn:y,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:N,blockSelector:i,unblockSelector:a,slimDOMOptions:G,dataURLOptions:E,mirror:bf,iframeManager:Y,stylesheetManager:z,shadowDomManager:Q,processedNodeManager:X,canvasManager:K,ignoreCSSAttributes:L,plugins:Ja([P,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>yf({type:Rh.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});Y.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Z(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(ah("DOMContentLoaded",(()=>{yf({type:Rh.DomContentLoaded,data:{}}),"DOMContentLoaded"===k&&n()}))),e.push(ah("load",(()=>{yf({type:Rh.Load,data:{}}),"load"===k&&n()}),window))),()=>{e.forEach((e=>e())),X.destroy(),_f=void 0,Wh=void 0}}catch(e){console.warn(e)}}Sf.mirror=bf,Sf.takeFullSnapshot=function(e){if(!_f)throw new Error("please take full snapshot after start recording");_f(e)};function wf(e){return e>9999999999?e:1e3*e}function Tf(e){return e>9999999999?e/1e3:e}function Ef(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Rh.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:ia(t,10,1e3)}}),"console"===t.category))))}function Af(e){return e.closest("button,a")||e}function If(e){const t=xf(e);return t&&t instanceof Element?Af(t):t}function xf(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let kf;function Cf(e){return kf||(kf=[],Zo(gp,"open",(function(e){return function(...t){if(kf)try{kf.forEach((e=>e()))}catch(e){}return e.apply(gp,t)}}))),kf.push(e),()=>{const t=kf?kf.indexOf(e):-1;t>-1&&kf.splice(t,1)}}class Of{constructor(e,t,n=Ef){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Cf((()=>{this._lastMutation=Pf()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Rf.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:Tf(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=Tf(e)}registerScroll(e=Date.now()){this._lastScroll=Tf(e)}registerClick(e){const t=Af(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Pf();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:i,clickBreadcrumb:a}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:gp.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:i||1}};this._addBreadcrumbEvent(t,o)}else if(i>1){const e={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:gp.location.href,route:t.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Rf=["A","BUTTON","INPUT"];function Pf(){return Date.now()/1e3}function Nf(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===Ph.Mutation&&e.registerMutation(t.timestamp),n===Ph.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Ph.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=Sf.mirror.getNode(r);o instanceof HTMLElement&&n===Nh.Click&&e.registerClick(o)}}catch(e){}}function Lf(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var $f;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}($f||($f={}));const Mf=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function Df(e){const t={};for(const n in e)if(Mf.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const Uf=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?If(e.event):xf(e.event),n=Do(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return Lf({category:`ui.${e.name}`,...Vf(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;var i,a,s;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||(i=e.clickDetector,a=n,s=If(t.event),i.handleClick(a,s)),Ef(e,n)};function Vf(e,t){const n=Sf.mirror.getId(e),r=n&&Sf.mirror.getNode(n),o=r&&Sf.mirror.getMeta(r),i=o&&function(e){return e.type===$f.Element}(o)?o:null;return{message:t,data:i?{nodeId:n,node:{id:n,tagName:i.tagName,textContent:Array.from(i.childNodes).map((e=>e.type===$f.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:Df(i.attributes)}}:{}}}function Ff(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(a)||!i)return null;const s=t||r||o,c=1===i.length;if(!s&&c)return null;const l=Do(a,{maxStringLength:200})||"<unknown>",u=Vf(a,l);return Lf({category:"ui.keyDown",message:l,data:{...u.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:i}})}(t);n&&Ef(e,n)}const Gf={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:i,decodedBodySize:a,encodedBodySize:s,responseStatus:c,transferSize:l}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:qf(i),end:qf(o),name:r,data:{size:l,statusCode:c,decodedBodySize:a,encodedBodySize:s}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,i=qf(o);return{type:n,name:r,start:i,end:i+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:i,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,domInteractive:l,loadEventStart:u,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:g}=e;if(0===o)return null;return{type:`${t}.${g}`,start:qf(h),end:qf(i),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:a,duration:o,domInteractive:l,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:d,domComplete:i,redirectCount:p}}}};function jf(e){return Gf[e.entryType]?Gf[e.entryType](e):null}function qf(e){return((wa||gp.performance.timeOrigin)+e)/1e3}function Bf(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(lu(e,n))})),r.push(cu((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,i=qf(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:i,end:i,data:{value:o,size:o,nodeId:r?Sf.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const Wf="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Hf(e,t){Wf&&(Ho.info(e),t&&zf(e))}function Jf(e,t){Wf&&(Ho.info(e),t&&setTimeout((()=>{zf(e)}),0))}function zf(e){gs({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Yf extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class Xf{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>bp)throw new Yf;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?wf(e):null}}class Kf{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){Hf("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const i=({data:t})=>{const a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",i),!a.success)return Wf&&Ho.error("[Replay]",a.response),void o(new Error("Error in compression worker"));r(a.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class Qf{constructor(e){this._worker=new Kf(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=wf(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>bp?Promise.reject(new Yf):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{Wf&&Ho.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class Zf{constructor(e){this._fallback=new Xf,this._compression=new Qf(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void Hf("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){Wf&&Ho.warn("[Replay] Failed to add events when switching buffers.",e)}}}function eg({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;Hf("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new Zf(n)}catch(e){Hf("[Replay] Failed to create compression worker")}}(t);if(e)return e}return Hf("[Replay] Using simple buffer"),new Xf}function tg(){try{return"sessionStorage"in gp&&!!gp.sessionStorage}catch(e){return!1}}function ng(e){!function(){if(!tg())return;try{gp.sessionStorage.removeItem(mp)}catch(e){}}(),e.session=void 0}function rg(e){return void 0!==e&&Math.random()<e}function og(e){const t=Date.now();return{id:e.id||bi(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function ig(e){if(tg())try{gp.sessionStorage.setItem(mp,JSON.stringify(e))}catch(e){}}function ag({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return rg(e)?"session":!!t&&"buffer"}(e,t),i=og({sampled:o,previousSessionId:r});return n&&ig(i),i}function sg(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function cg(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return sg(e.started,t,r)||sg(e.lastActivity,n,r)}function lg(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!cg(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function ug({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){const i=o.stickySession&&function(e){if(!tg())return null;try{const t=gp.sessionStorage.getItem(mp);if(!t)return null;const n=JSON.parse(t);return Jf("[Replay] Loading existing session",e),og(n)}catch(e){return null}}(e);return i?lg(i,{sessionIdleExpire:t,maxReplayDuration:n})?(Jf("[Replay] Session in sessionStorage is expired, creating new one..."),ag(o,{previousSessionId:i.id})):i:(Jf("[Replay] Creating new session",e),ag(o,{previousSessionId:r}))}function dg(e,t,n){return!!hg(e,t)&&(pg(e,t,n),!0)}async function pg(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Rh.Custom}(e))return t(e)}catch(e){return Wf&&Ho.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof Yf?"addEventSizeExceeded":"addEvent";Wf&&Ho.error(t),await e.stop({reason:n});const r=ys();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function hg(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=wf(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(Hf(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function fg(e){return!e.type}function gg(e){return"transaction"===e.type}function mg(e){return"feedback"===e.type}function vg(e){const t=function(){const e=ys();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!fg(n)&&!gg(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(gg(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function yg(e){return t=>{e.isEnabled()&&fg(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){Ef(e,Lf({category:"replay.hydrate-error"}))}}(e,t)}}function _g(e,t=!1){const n=t?vg(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!fg(t)&&!gg(t)&&!mg(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(mg(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Rh.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return Wf&&Ho.log("[Replay] Ignoring error from rrweb internals",t),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==vp&&!(!t.exception||t.type)&&rg(e.getOptions().errorSampleRate)}(e,t);return(o||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function bg(e,t){return t.map((({type:t,start:n,end:r,name:o,data:i})=>{const a=e.throttledAddEvent({type:Rh.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:i}}});return"string"==typeof a?Promise.resolve(null):a}))}function Sg(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(bg(e,[n]),!1))))}}function wg(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!Wf||!e.getOptions()._experiments.traceInternals)&&rl(t,ys())}(e,t.name)||e.addUpdate((()=>(bg(e,[t]),!0))))}function Tg(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[ea];if(!t||!n||!o)return null;const{method:i,url:a,status_code:s}=o;return void 0===a?null:{type:"resource.xhr",name:a,start:t/1e3,end:n/1e3,data:{method:i,statusCode:s}}}(t);wg(e,n)}}function Eg(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Pg(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Ag(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Ig(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Pg(e)];if(!e)return[void 0]}catch(t){return Wf&&Ho.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Wf&&Ho.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function xg(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function kg(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:i,statusCode:a,request:s,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:ai({method:i,statusCode:a,request:s,response:c})}}function Cg(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Og(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:i}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>yp,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,yp);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=o,i&&i.length>0&&(r._meta={warnings:i}),r}function Rg(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function Pg(e){return new URLSearchParams(e).toString()}function Ng(e,t){const n=function(e,t=gp.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(gp.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return xo(n,t)}async function Lg(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r}=t,{url:a,method:s,status_code:c=0,request_body_size:l,response_body_size:u}=e.data,d=Ng(a,n.networkDetailAllowUrls)&&!Ng(a,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return Dg(e[0],t);if(2===e.length)return Dg(e[1],t);return{}}(n,t):{};if(!e)return Og(o,r,void 0);const i=$g(n),[a,s]=Ig(i),c=Og(o,r,a);if(s)return xg(c,s);return c}(n,t.input,l):Cg(l),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,i){if(!e&&void 0!==i)return Cg(i);const a=o?Mg(o.headers,r):{};if(!o||!t&&void 0!==i)return Og(a,i,void 0);const[s,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){Wf&&Ho.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return Wf&&Ho.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(o),l=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:i}){try{const a=e&&e.length&&void 0===r?Eg(e,n):r;return o?Og(i,a,t?e:void 0):Cg(a)}catch(e){return Wf&&Ho.warn("[Replay] Failed to serialize response body",e),Og(i,r,void 0)}}(s,{networkCaptureBodies:t,textEncoder:n,responseBodySize:i,captureDetails:e,headers:a});if(c)return xg(l,c);return l}(d,n,t.response,u);return{startTimestamp:o,endTimestamp:i,url:a,method:s,statusCode:c,request:p,response:h}}(e,t,n),o=kg("resource.fetch",r);wg(n.replay,o)}catch(e){Wf&&Ho.error("[Replay] Failed to capture fetch breadcrumb",e)}}function $g(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function Mg(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function Dg(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Mg(n,t):Array.isArray(n)?{}:Rg(n,t):{}}async function Ug(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:i=r,input:a,xhr:s}=t,{url:c,method:l,status_code:u=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!s||!Ng(c,n.networkDetailAllowUrls)||Ng(c,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:Cg(d),response:Cg(p)}}const h=s[ea],f=h?Rg(h.request_headers,n.networkRequestHeaders):{},g=Rg(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(s),n.networkResponseHeaders),[m,v]=n.networkCaptureBodies?Ig(a):[void 0],[y,_]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return Wf&&Ho.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Wf&&Ho.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return Wf&&Ho.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(s):[void 0],b=Og(f,d,m),S=Og(g,p,y);return{startTimestamp:o,endTimestamp:i,url:c,method:l,statusCode:u,request:v?xg(b,v):b,response:_?xg(S,_):S}}(e,t,n),o=kg("resource.xhr",r);wg(n.replay,o)}catch(e){Wf&&Ho.error("[Replay] Failed to capture xhr breadcrumb",e)}}function Vg(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const i=Eg(o,n.textEncoder),a=r.getResponseHeader("content-length")?Ag(r.getResponseHeader("content-length")):function(e,t,n){try{return Eg("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}function Fg(e){const t=ys();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:i,networkRequestHeaders:a,networkResponseHeaders:s};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(Vg(t,n,e),Ug(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,i=Eg(r?$g(r):void 0,n.textEncoder),a=o?Ag(o.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==a&&(e.data.response_body_size=a)}(t,n,e),Lg(t,n,e))}catch(e){Wf&&Ho.warn("Error when enriching network breadcrumb")}}(c,e,t))):(Ui(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:i,url:a}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:a,data:{method:i,statusCode:o?o.status:void 0}}}(t);wg(e,n)}}(e)),ta(Tg(e)))}catch(e){}}let Gg=null;const jg=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(Gg===t||!t)return null;if(Gg=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return Lf(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>_p?(n=!0,`${e.slice(0,_p)}…`):e;if("object"==typeof e)try{const t=ia(e,7);return JSON.stringify(t).length>_p?(n=!0,`${JSON.stringify(t,null,2).slice(0,_p)}…`):t}catch(e){}return e}));return Lf({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return Lf(t)}(t);n&&Ef(e,n)};function qg(e){return!(!e||!e.on)}function Bg(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Wg(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(Wf&&Ho.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Nf(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!dg(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;dg(e,function(e){const t=e.getOptions();return{type:Rh.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(Hf(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&ig(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function Hg({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:i}){const a=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:c,traceIds:l,initialTimestamp:u}=r,d=ys(),p=_s(),h=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&h&&f&&i.sampled))return;const g={type:"replay_event",replay_start_timestamp:u/1e3,timestamp:o/1e3,error_ids:c,trace_ids:l,urls:s,replay_id:t,segment_id:n,replay_type:i.sampled},m=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,o);const i=await cs(e.getOptions(),r,o,t,e,Fs());if(!i)return null;i.platform=i.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:s,version:c}=a&&a.sdk||{};return i.sdk={...i.sdk,name:s||"sentry.javascript.unknown",version:c||"0.0.0"},i}({scope:p,client:d,replayId:t,event:g});if(!m)return d.recordDroppedEvent("event_processor","replay",g),void Hf("An event processor returned `null`, will not send event.");delete m.sdkProcessingMetadata;const v=function(e,t,n,r){return Na(ja(e,Ga(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(m,a,f,d.getOptions().tunnel);let y;try{y=await h.send(v)}catch(e){const t=new Error(vp);try{t.cause=e}catch(e){}throw t}if(!y)return y;if("number"==typeof y.statusCode&&(y.statusCode<200||y.statusCode>=300))throw new Jg(y.statusCode);const _=Wa({},y);if(Ba(_,"replay"))throw new zg(_);return y}class Jg extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class zg extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function Yg(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await Hg(e),!0}catch(n){if(n instanceof Jg||n instanceof zg)throw n;if(ms("Replays",{_retryCount:t.count}),Wf&&r._experiments&&r._experiments.captureExceptions&&ps(n),t.count>=3){const e=new Error(`${vp} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await Yg(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const Xg="__THROTTLED";function Kg(e,t,n){const r=new Map;let o=!1;return(...i)=>{const a=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(a),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":Xg}o=!1;const s=r.get(a)||0;return r.set(a,s+1),e(...i)}}class Qg{constructor({options:e,recordingOptions:t}){Qg.prototype.__init.call(this),Qg.prototype.__init2.call(this),Qg.prototype.__init3.call(this),Qg.prototype.__init4.call(this),Qg.prototype.__init5.call(this),Qg.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,o,i;const a=n.maxWait?Math.max(n.maxWait,t):0;function s(){return c(),r=e(),r}function c(){void 0!==o&&clearTimeout(o),void 0!==i&&clearTimeout(i),o=i=void 0}function l(){return o&&clearTimeout(o),o=setTimeout(s,t),a&&void 0===i&&(i=setTimeout(s,a)),r}return l.cancel=c,l.flush=function(){return void 0!==o||void 0!==i?s():r},l}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Kg(((e,t)=>function(e,t,n){return hg(e,t)?pg(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;o&&(this.clickDetector=new Of(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",Jf(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");Jf("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=ug({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");Jf("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=ug({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Sf({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:Wg(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{Hf("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,ng(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Hf("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),Hf("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();Hf("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&sg(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${gp.location.pathname}${gp.location.hash}${gp.location.search}`,t=`${gp.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===Xg){const e=Lf({category:"replay.throttled"});this.addUpdate((()=>!dg(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||_s().getTransaction(),t=(e&&as(e).data||{})[lc];if(e&&t&&["route","custom"].includes(t))return as(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=eg({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){Wf&&Ho.error("[Replay]",e),Wf&&this._options._experiments&&this._options._experiments.captureExceptions&&ps(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=ug({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!lg(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{gp.document.addEventListener("visibilitychange",this._handleVisibilityChange),gp.addEventListener("blur",this._handleWindowBlur),gp.addEventListener("focus",this._handleWindowFocus),gp.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=_s(),n=ys();t.addScopeListener(jg(e)),Ri(Uf(e)),Ki(Sg(e)),Fg(e);const r=_g(e,!qg(n));n&&n.addEventProcessor?n.addEventProcessor(r):Bc(r),qg(n)&&(n.on("beforeSendEvent",yg(e)),n.on("afterSendEvent",vg(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=Bf(this)}_removeListeners(){try{gp.document.removeEventListener("visibilitychange",this._handleVisibilityChange),gp.removeEventListener("blur",this._handleWindowBlur),gp.removeEventListener("focus",this._handleWindowFocus),gp.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===gp.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=Lf({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=Lf({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{Ff(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;cg(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):Hf("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Rh.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=function(e){return e.map(jf).filter(Boolean)}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(bg(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(bg(e,[Bg(gp.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await Yg({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=ys();t&&t.recordDroppedEvent("send_error","replay")}}else Wf&&Ho.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(Wf&&Ho.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return Hf(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const i=this.eventBuffer;if(i&&0===this.session.segmentId&&!i.hasCheckout&&Hf("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){Wf&&Ho.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&ig(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=Lf({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function Zg(e,t,n,r){const o=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),Wo((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const em='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',tm=["content-length","content-type","accept"];let nm=!1;class rm{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:s={},sessionSampleRate:c,errorSampleRate:l,maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:g=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:v=[],networkDetailDenyUrls:y=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:w=[],maskAttributes:T=["title","placeholder"],unmask:E=[],block:A=[],unblock:I=[],ignore:x=[],maskFn:k,beforeAddRecordingEvent:C,beforeErrorSampling:O,blockClass:R,blockSelector:P,maskInputOptions:N,maskTextClass:L,maskTextSelector:$,ignoreClass:M}={}){this.name=rm.id;const D=function({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:c,ignoreClass:l}){const u={maskTextSelector:Zg(e,[".sentry-mask","[data-sentry-mask]"],s,c),unmaskTextSelector:Zg(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:Zg(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],i,a),unblockSelector:Zg(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:Zg(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],l)};return i instanceof RegExp&&(u.blockClass=i),s instanceof RegExp&&(u.maskTextClass=s),u}({mask:w,unmask:E,block:A,unblock:I,ignore:x,blockClass:R,blockSelector:P,maskTextClass:L,maskTextSelector:$,ignoreClass:M});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{...N||{},password:!0},maskTextFn:k,maskInputFn:k,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:i}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?i:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?i.replace(/[\S]/g,"*"):i:i}({maskAttributes:T,maskAllText:u,privacyOptions:D,key:e,value:t,el:n}),...D,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,Sp),stickySession:o,sessionSampleRate:c,errorSampleRate:l,useCompression:i,workerUrl:a,blockAllMedia:p,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:g,slowClickIgnoreSelectors:m,networkDetailAllowUrls:v,networkDetailDenyUrls:y,networkCaptureBodies:_,networkRequestHeaders:om(b),networkResponseHeaders:om(S),beforeAddRecordingEvent:C,beforeErrorSampling:O,_experiments:s},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof l&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${l} })`),this._initialOptions.errorSampleRate=l),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${em}`:em),this._isInitialized&&oa())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return nm}set _isInitialized(e){nm=e}setupOnce(){oa()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=ys(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ai(e)};if(!n)return Wo((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&Wo((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new Qg({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=ys().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function om(e){return[...tm,...e.map((e=>e.toLowerCase()))]}var im;function am(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:am(e.parentNode,t,n,r+1):-1}function sm(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}rm.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(im||(im={}));const cm="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let lm={map:{},getId:()=>(console.error(cm),-1),getNode:()=>(console.error(cm),null),removeNodeFromMap(){console.error(cm)},has:()=>(console.error(cm),!1),reset(){console.error(cm)}};function um(e,t,n,r,o=window){const i=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){mm((()=>{n.set.call(this,e)}),0),i&&i.set&&i.set.call(this,e)}}),()=>um(e,t,i||{},!0)}function dm(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}function pm(e,t,n,r,o){if(!e)return!1;const i=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!i)return!1;const a=am(i,sm(t,n));let s=-1;return!(a<0)&&(r&&(s=am(i,sm(null,r))),a>-1&&s<0||a<s)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(lm=new Proxy(lm,{get:(e,t,n)=>("map"===t&&console.error(cm),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const hm={};function fm(e){const t=hm[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return hm[e]=r.bind(window)}function gm(...e){return fm("requestAnimationFrame")(...e)}function mm(...e){return fm("setTimeout")(...e)}var vm=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(vm||{});let ym;function _m(e){ym=e}const bm=e=>{if(!ym)return e;return(...t)=>{try{return e(...t)}catch(e){if(ym&&!0===ym(e))return()=>{};throw e}}};for(var Sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wm="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Tm=0;Tm<64;Tm++)wm[Sm.charCodeAt(Tm)]=Tm;const Em=new Map;const Am=(e,t,n)=>{if(!e||!km(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=Em.get(e);return n||(n=new Map,Em.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let o=r.indexOf(e);return-1===o&&(o=r.length,r.push(e)),o};function Im(e,t,n){if(e instanceof Array)return e.map((e=>Im(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=Sm[n[t]>>2],o+=Sm[(3&n[t])<<4|n[t+1]>>4],o+=Sm[(15&n[t+1])<<2|n[t+2]>>6],o+=Sm[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Im(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Im(e.data,t,n),e.width,e.height]}}if(km(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:Am(e,t,n)}}return e}const xm=(e,t,n)=>e.map((e=>Im(e,t,n))),km=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Cm(e,t,n,r,o){const i=[];try{const a=dm(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(i,...a){if(!pm(this,t,n,r)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(i);if("__context"in this||(this.__context=e),o&&["webgl","webgl2"].includes(e))if(a[0]&&"object"==typeof a[0]){const e=a[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else a.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[i,...a])}}));i.push(a)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{i.forEach((e=>e()))}}function Om(e,t,n,r,o,i,a,s){const c=[],l=Object.getOwnPropertyNames(e);for(const a of l)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(a))try{if("function"!=typeof e[a])continue;const l=dm(e,a,(function(e){return function(...c){const l=e.apply(this,c);if(Am(l,s,this),"tagName"in this.canvas&&!pm(this.canvas,r,o,i)){const e=xm(c,s,this),r={type:t,property:a,args:e};n(this.canvas,r)}return l}}));c.push(l)}catch(r){const o=um(e,a,{set(e){n(this.canvas,{type:t,property:a,args:[e],setter:!0})}});c.push(o)}return c}class Rm{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:o,unblockSelector:i,maxCanvasSize:a,recordCanvas:s,dataURLOptions:c,errorHandler:l}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,l&&_m(l),e.enableManualSnapshot||bm((()=>{s&&"all"===t&&this.initCanvasMutationObserver(n,r,o,i),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,o,i,a,{dataURLOptions:c})}))()}initCanvasFPSObserver(e,t,n,r,o,i,a){const s=Cm(t,n,r,o,!0),c=this.takeSnapshot(!1,e,t,n,r,o,i,a.dataURLOptions);this.resetObservers=()=>{s(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=Cm(e,t,n,r,!1),i=function(e,t,n,r,o){const i=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const s of a)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[s])continue;const a=dm(t.CanvasRenderingContext2D.prototype,s,(function(i){return function(...a){return pm(this.canvas,n,r,o)||mm((()=>{const n=xm(a,t,this);e(this.canvas,{type:vm["2D"],property:s,args:n})}),0),i.apply(this,a)}}));i.push(a)}catch(n){const r=um(t.CanvasRenderingContext2D.prototype,s,{set(t){e(this.canvas,{type:vm["2D"],property:s,args:[t],setter:!0})}});i.push(r)}return()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,o){const i=[];return i.push(...Om(t.WebGLRenderingContext.prototype,vm.WebGL,e,n,r,o,0,t)),void 0!==t.WebGL2RenderingContext&&i.push(...Om(t.WebGL2RenderingContext.prototype,vm.WebGL2,e,n,r,o,0,t)),()=>{i.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{o(),i(),a()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,o,i,a,s,c){const l=new Map,u=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());u.onmessage=e=>{const t=e.data,{id:n}=t;if(l.set(n,!1),!("base64"in t))return;const{base64:r,type:o,width:i,height:a}=t;this.mutationCb({id:n,type:vm["2D"],commands:[{property:"clearRect",args:[0,0,i,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,i,a]}]})};const d=1e3/t;let p,h=0;const f=t=>{h&&t-h<d||(h=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{pm(e,r,o,i)||t.push(e)})),t})(c).forEach((t=>{const n=this.mirror.getId(t);if(!l.get(n)&&t.width&&t.height){if(l.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===Ja([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{u.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:s,maxCanvasSize:a},[e])})).catch((e=>{bm((()=>{throw e}))()}))}}))),p=gm(f)};return p=gm(f),p}startPendingCanvasMutationFlusher(){gm((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,gm(e)};gm(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),gm((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}}const Pm={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},Nm="ReplayCanvas",Lm=1280,$m=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,Lm):Lm,n?Math.min(n,Lm):Lm]};let o;const i=new Promise((e=>o=e));return{name:Nm,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new Rm({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return o(r),r},...Pm[e||"medium"]||Pm.medium}},async snapshot(e){(await i).snapshot(e)}}},Mm=$c(Nm,$m),Dm=No,Um="#ffffff",Vm="inherit",Fm="rgba(108, 95, 199, 1)",Gm={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:Um,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:Fm,submitBorder:Fm,submitOutlineFocus:"#29232f",submitForeground:Um,submitForegroundHover:Um,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:Vm,inputForeground:Vm,inputBorder:"var(--border)",inputOutlineFocus:Fm,formBorderRadius:"20px",formContentBorderRadius:"6px"},jm=Gm,qm={...Gm,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},Bm="widget",Wm="api";async function Hm({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:i=!0}={}){const a=ys(),s=a&&a.getTransport(),c=a&&a.getDsn();if(!a||!s||!c)return;const l={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return vs((async e=>{e.clearBreadcrumbs(),[Wm,Bm].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const o=await cs(e.getOptions(),n,r,t,e,Fs());return null===o?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}({scope:e,client:a,event:l});if(!t)return;a.emit&&a.emit("beforeSendFeedback",t,{includeReplay:Boolean(i)});const n=xc(t,c,a.getOptions()._metadata,a.getOptions().tunnel);let o;try{o=await s.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(o){if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new Error("Unable to send Feedback");return o}}))}function Jm({name:e,email:t,message:n,source:r=Wm,url:o=Vo()},i={}){if(!n)throw new Error("Unable to submit feedback with empty message");return Hm({feedback:{name:e,email:t,message:n,url:o,source:r}},i)}const zm="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Ym(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function Xm(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function Km({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const o=Dm.document,i=o.createElement("div");i.id=e;const a=i.attachShadow({mode:"open"});return a.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${Xm("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${Xm(n.dark)}\n  }\n}`:""}\n}`,r}(o,t,{dark:n,light:r})),a.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(o)),{shadow:a,host:i}}catch(e){throw Ho.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function Qm(e,t,n){if(!e)return;e.hideError();try{return await Jm({...t,source:Bm},n)}catch(t){zm&&Ho.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function Zm(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function ev(e,t,...n){const r=Dm.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)tv(r,e);return r}function tv(e,t){const n=Dm.document;if(null!=t)if(Array.isArray(t))for(const n of t)tv(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function nv({buttonLabel:e,onClick:t}){const n=ev("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),t=Zm(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=Zm(e("g"),{clipPath:"url(#clip0_57_80)"}),r=Zm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),i=Zm(e("clipPath"),{id:"clip0_57_80"}),a=Zm(e("rect"),{width:"20",height:"20",fill:"white"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),{get el(){return t}}}().el,e?ev("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function rv(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function ov({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:i,isRequiredLabel:a,cancelButtonLabel:s,submitButtonLabel:c,showName:l,showEmail:u,isNameRequired:d,isEmailRequired:p,defaultName:h,defaultEmail:f,onCancel:g,onSubmit:m}){const{el:v}=function({label:e}){return{el:ev("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:c});const y=ev("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const _=ev("input",{id:"name",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:h}),b=ev("input",{id:"email",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:f}),S=ev("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:i}),w=ev("button",{type:"button",className:"btn btn--default","aria-label":s,onClick:e=>{g&&g(e)}},s),T=ev("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(m){const t=new FormData(e.target),n={name:rv(t,"name"),email:rv(t,"email"),message:rv(t,"message")};m(n)}}catch(e){}}},[y,l&&ev("label",{htmlFor:"name",className:"form__label"},[ev("span",{className:"form__label__text"},e,d&&ev("span",{className:"form__label__text--required"},` ${a}`)),_]),!l&&_,u&&ev("label",{htmlFor:"email",className:"form__label"},[ev("span",{className:"form__label__text"},n,p&&ev("span",{className:"form__label__text--required"},` ${a}`)),b]),!u&&b,ev("label",{htmlFor:"message",className:"form__label"},[ev("span",{className:"form__label__text"},o,ev("span",{className:"form__label__text--required"},` ${a}`)),S]),ev("div",{className:"btn-group"},[v,w])]);return{get el(){return T},showError:function(e){y.textContent=e,y.classList.remove("form__error-container--hidden"),y.setAttribute("aria-hidden","false")},hideError:function(){y.textContent="",y.classList.add("form__error-container--hidden"),y.setAttribute("aria-hidden","true")}}}function iv({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:i,colorScheme:a,defaultName:s,defaultEmail:c,onClosed:l,onCancel:u,onSubmit:d,...p}){let h=null;function f(){h&&(h.open=!1)}const{el:g,showError:m,hideError:v}=ov({showEmail:r,showName:n,isEmailRequired:i,isNameRequired:o,defaultName:s,defaultEmail:c,onSubmit:d,onCancel:u,...p});return h=ev("dialog",{className:"dialog",open:!0,onClick:function(){f(),l&&l()}},ev("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},ev("h2",{className:"dialog__header"},e,t&&ev("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),n=Zm(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=Zm(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const o=t("defs"),i=t("style");return i.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(i.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),o.append(i),n.append(o),{get el(){return n}}}({colorScheme:a}).el)),g)),{get el(){return h},showError:m,hideError:v,open:function(){h&&(h.open=!0)},close:f,checkIsOpen:function(){return h&&!0===h.open||!1}}}function av({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=ev("div",{className:"success-message",onClick:n},function(){const e=e=>Dm.document.createElementNS("http://www.w3.org/2000/svg",e),t=Zm(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=Zm(e("g"),{clipPath:"url(#clip0_57_156)"}),r=Zm(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=Zm(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const i=e("defs"),a=Zm(e("clipPath"),{id:"clip0_57_156"}),s=Zm(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),i.appendChild(a),t.appendChild(i).appendChild(a).appendChild(s),{get el(){return t}}}().el,e);return{el:r,remove:n}}function sv({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,i,a=!1;async function s(t){if(!i)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void i.showError(`Please enter in the following required fields: ${r.join(", ")}`);await Qm(i,t)?(h(),function(){if(e)try{const t=av({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),l()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){Ho.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){const e=ys(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{zm&&Ho.error(e)}))}function l(){o&&o.show()}function u(){o&&o.hide()}function d(){try{if(i)return i.open(),a=!0,n.onFormOpen&&n.onFormOpen(),void c();const t=n.useSentryUser,r=_s(),o=r&&r.getUser();if(i=iv({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&o&&o[t.name]||"",defaultEmail:t&&o&&o[t.email]||"",onClosed:()=>{l(),a=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),l()},onSubmit:s}),!i.el)throw new Error("Unable to open Feedback dialog");e.appendChild(i.el),u(),n.onFormOpen&&n.onFormOpen(),c()}catch(e){Ho.error(e)}}function p(){i&&(i.close(),a=!1,n.onFormClose&&n.onFormClose())}function h(){if(i){p();const e=i.el;e&&e.remove(),i=void 0}}function f(){a||d(),u()}return r?r.addEventListener("click",f):t&&(o=nv({buttonLabel:n.buttonLabel,onClick:f}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return i},showActor:l,hideActor:u,removeActor:function(){o&&o.el&&o.el.remove()},openDialog:d,closeDialog:p,removeDialog:h}}const cv=Dm.document;class lv{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:o=!0,showEmail:i=!0,showName:a=!0,useSentryUser:s={email:"email",name:"username"},themeDark:c,themeLight:l,colorScheme:u="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:g="your.email@example.org",emailLabel:m="Email",messagePlaceholder:v="What's the bug? What did you expect?",messageLabel:y="Description",namePlaceholder:_="Your Name",nameLabel:b="Name",isRequiredLabel:S="(required)",successMessageText:w="Thank you for your report!",onFormClose:T,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}={}){this.name=lv.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:o,id:t,isEmailRequired:n,isNameRequired:r,showEmail:i,showName:a,useSentryUser:s,colorScheme:u,themeDark:{...qm,...c},themeLight:{...jm,...l},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:f,emailLabel:m,emailPlaceholder:g,messageLabel:y,messagePlaceholder:v,nameLabel:b,namePlaceholder:_,isRequiredLabel:S,successMessageText:w,onFormClose:T,onFormOpen:E,onSubmitError:A,onSubmitSuccess:I}}setupOnce(){if(oa())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){zm&&Ho.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=Ym(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?cv.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return zm&&Ho.error("[Feedback] Unable to attach to target element"),null;const o=sv({shadow:t,options:n,attachTo:r});return this._widgets.add(o),this._widget||(this._widget=o),o}))}catch(e){return zm&&Ho.error(e),null}}createWidget(e){try{return this._createWidget(Ym(this.options,e||{}))}catch(e){return zm&&Ho.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){zm&&Ho.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=cv.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=sv({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(cv)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:o,themeDark:i}=e,{shadow:a,host:s}=Km({id:t,colorScheme:r,themeLight:o,themeDark:i});this._shadow=a,this._host=s,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&cv.body.appendChild(this._host),r}}lv.__initStatic();const uv="CaptureConsole",dv=(e={})=>{const t=e.levels||qo;return{name:uv,setupOnce(){},setup(e){"console"in No&&yi((({args:n,level:r})=>{ys()===e&&t.includes(r)&&function(e,t){const n={level:_a(t),extra:{arguments:e}};vs((r=>{if(r.addEventProcessor((e=>(e.logger="console",Ei(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${Ao(e.slice(1)," ")||"console.assert"}`;return r.setExtra("arguments",e.slice(1)),void hs(t,n)}const o=e.find((e=>e instanceof Error));if("error"===t&&o)return void ps(o,n);hs(Ao(e," "),n)}))}(n,r)}))}}};$c(uv,dv);const pv="Debug",hv=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:pv,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,Wo((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}};$c(pv,hv);const fv="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,gv="Dedupe",mv=()=>{let e;return{name:gv,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!yv(e,t))return!1;if(!vv(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=_v(t),r=_v(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!yv(e,t))return!1;if(!vv(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return fv&&Ho.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function vv(e,t){let n=bv(e),r=bv(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function yv(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function _v(e){return e.exception&&e.exception.values&&e.exception.values[0]}function bv(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}$c(gv,mv);const Sv="ExtraErrorData",wv=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Sv,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!lo(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const o=e[t];r[t]=lo(o)?o.toString():o}if(t&&void 0!==e.cause&&(r.cause=lo(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=lo(n)?n.toString():n}}return r}catch(e){fv&&Ho.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r);if(i){const t={...e.contexts},r=ia(i,n);return vo(r)&&(ei(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}(e,r,t,n)}};$c(Sv,wv);const Tv=No,Ev="ReportingObserver",Av=new WeakMap,Iv=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(Av.has(ys()))for(const t of e)vs((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let r="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else{r=t.body.message||r}}hs(`${n}: ${r}`)}))}return{name:Ev,setupOnce(){if(!("ReportingObserver"in Li))return;new Tv.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){Av.set(e,!0)}}};$c(Ev,Iv);const xv="RewriteFrames",kv=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;const r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),o=/^\//.test(e.filename);if(r||o){const o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,i=t?function(e,t){e=la(e).slice(1),t=la(t).slice(1);const n=ua(e.split("/")),r=ua(t.split("/")),o=Math.min(n.length,r.length);let i=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){i=e;break}let a=[];for(let e=i;e<n.length;e++)a.push("..");return a=a.concat(r.slice(i)),a.join("/")}(t,o):da(o);e.filename=`${n}${i}`}return e});return{name:xv,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>r(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}};$c(xv,kv);const Cv="SessionTiming",Ov=()=>{const e=Date.now();return{name:Cv,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};$c(Cv,Ov);const Rv="HttpClient",Pv=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Rv,setupOnce(){},setup(e){!function(e,t){if(!Di())return;Ui((n=>{if(ys()!==e)return;const{response:r,args:o}=n,[i,a]=o;r&&function(e,t,n,r){if($v(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,r);let o,i,a,s;Dv()&&([{headers:o,cookies:a},{headers:i,cookies:s}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=Lv(t))}catch(t){fv&&Ho.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:r}})));fs(Mv({url:e.url,method:e.method,status:n.status,requestHeaders:o,responseHeaders:i,requestCookies:a,responseCookies:s}))}}(t,i,r,a)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in No))return;ta((n=>{if(ys()!==e)return;const r=n.xhr,o=r[ea];if(!o)return;const{method:i,request_headers:a}=o;try{!function(e,t,n,r){if($v(e,t.status,t.responseURL)){let e,o,i;if(Dv()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(o=Lv(e))}catch(e){fv&&Ho.log("Could not extract cookies from response headers")}try{i=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}(t)}catch(e){fv&&Ho.log("Could not extract headers from response")}e=r}fs(Mv({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:i,responseCookies:o}))}}(t,r,i,a)}catch(e){fv&&Ho.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};function Nv(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Lv(e){return e.split("; ").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}function $v(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(r=e.failedRequestTargets,o=n,r.some((e=>"string"==typeof e?o.includes(e):e.test(o))))&&!rl(n,ys());var r,o}function Mv(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Nv(e.responseHeaders)}}};return Ei(n,{type:"http.client",handled:!1}),n}function Dv(){const e=ys();return!!e&&Boolean(e.getOptions().sendDefaultPii)}$c(Rv,Pv);const Uv=No,Vv="ContextLines",Fv=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:Vv,setupOnce(){},processEvent:e=>function(e,t){const n=Uv.document,r=Uv.location&&(o=Uv.location.href,o.split(/[\?#]/,1)[0]);var o;if(!n||!r)return e;const i=e.exception&&e.exception.values;if(!i||!i.length)return e;const a=n.documentElement.innerHTML;if(!a)return e;const s=["<!DOCTYPE html>","<html>",...a.split("\n"),"</html>"];return i.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>Eo(e,0))),t.context_line=Eo(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>Eo(e,0)))}(t,e,r),e}(e,s,r,t))))})),e}(e,t)}};function Gv(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function jv(e){return Gv(e.getAllKeys())}function qv(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Gv(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await Da(t,e.textEncoder);await function(e,t,n){return e((e=>jv(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),Gv(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>jv(e).then((t=>{if(0!==t.length)return Gv(e.get(t[0])).then((n=>(e.delete(t[0]),Gv(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function o(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function i(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(o(e)))}const a=i(),s=[];for(;r.length;){const e=i(),t="number"==typeof e.length?e.length:void 0;s.push([e,t?o(t):i()])}return[a,s]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}$c(Vv,Fv);const Bv=1e6,Wv=String(0),Hv="main";let Jv="",zv="",Yv="",Xv=Ku.navigator&&Ku.navigator.userAgent||"",Kv="";const Qv=Ku.navigator&&Ku.navigator.language||Ku.navigator&&Ku.navigator.languages&&Ku.navigator.languages[0]||"";const Zv=Ku.navigator&&Ku.navigator.userAgentData;var ey;function ty(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[Wv]:{name:Hv}}};if(!e.samples.length)return r;const o=e.samples[0].timestamp,i="number"==typeof performance.timeOrigin?performance.timeOrigin:wa||0,a=i-(wa||i);for(let i=0;i<e.samples.length;i++){const s=e.samples[i];if(void 0===s.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[i]={elapsed_since_start_ns:((s.timestamp+a-o)*Bv).toFixed(0),stack_id:t,thread_id:Wv};continue}let c=e.stacks[s.stackId];const l=[];for(;c;){l.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const u={elapsed_since_start_ns:((s.timestamp+a-o)*Bv).toFixed(0),stack_id:n,thread_id:Wv};r.stacks[n]=l,r.samples[i]=u,n++}return r}(e):e}function ny(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&td&&Ho.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),i=ty(n),a=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),s="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||Ya,runtime:{name:"javascript",version:Ku.navigator.userAgent},os:{name:Jv,version:zv,build_number:Xv},device:{locale:Qv,model:Kv,manufacturer:Xv,architecture:Yv,is_emulator:!1},debug_meta:{images:iy(n.resources)},profile:i,transactions:[{name:r.transaction||"",id:r.event_id||bi(),trace_id:o,active_thread_id:Wv,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]}}function ry(e){return"pageload"===e.op}"object"==typeof(ey=Zv)&&null!==ey&&"getHighEntropyValues"in ey&&Zv.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(Jv=e.platform||"",Yv=e.architecture||"",Kv=e.model||"",zv=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];Xv=`${t.brand} ${t.version}`}})).catch((e=>{}));const oy=new WeakMap;function iy(e){const t=No._sentryDebugIds;if(!t)return[];const n=ys(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let i;const a=oy.get(o);a?i=a:(i=new Map,oy.set(o,i));const s=Object.keys(t).reduce(((e,n)=>{let r;const a=i.get(n);a?r=a:(r=o(n),i.set(n,r));for(let o=r.length-1;o>=0;o--){const i=r[o],a=i&&i.filename;if(i&&a){e[a]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&s[t]&&c.push({type:"sourcemap",code_file:t,debug_id:s[t]});return c}let ay=!1;function sy(e){if(ay)return td&&Ho.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return td&&Ho.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=ys(),n=t&&t.getOptions();if(!n)return td&&Ho.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(o=r)&&"boolean"!=typeof o||"number"==typeof o&&isNaN(o)?(td&&Ho.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),0):!0===o||!1===o||!(o<0||o>1)||(td&&Ho.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${o}.`),0)))return td&&Ho.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return td&&Ho.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(td&&Ho.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function cy(e,t,n,r){return function(e){return e.samples.length<2?(td&&Ho.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(td&&Ho.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?ny(e,t,n,r):null}const ly=new Map;function uy(e){const t=ly.get(e);return t&&ly.delete(e),t}function dy(e){let t;ry(e)&&(t=1e3*Sa());const n=function(){const e=Ku.Profiler;if("function"!=typeof e)return void(td&&Ho.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(3e3);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){td&&(Ho.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),Ho.log("[Profiling] Disabling profiling for current user session.")),ay=!0}}();if(!n)return e;td&&Ho.log(`[Profiling] started profiling transaction: ${as(e).description}`);const r=bi();async function o(){return e&&n?n.stop().then((t=>(i&&(Ku.clearTimeout(i),i=void 0),td&&Ho.log(`[Profiling] stopped profiling of transaction: ${as(e).description}`),t?(function(e,t){if(ly.set(e,t),ly.size>30){const e=ly.keys().next().value;ly.delete(e)}}(r,t),null):(td&&Ho.log(`[Profiling] profiler returned null profile for: ${as(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(td&&Ho.log("[Profiling] error while stopping profiler:",e),null))):null}let i=Ku.setTimeout((()=>{td&&Ho.log("[Profiling] max profile duration elapsed, stopping profiling for:",as(e).description),o()}),3e4);const a=e.end.bind(e);return e.end=function(){return e?(o().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),a()}),(()=>{a()})),e):a()},e}const py="BrowserProfiling",hy=()=>({name:py,setupOnce(){},setup(e){const t=_s().getTransaction();t&&ry(t)&&sy(t)&&dy(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{sy(e)&&dy(e)})),e.on("beforeEnvelope",(e=>{if(!ly.size)return;const t=function(e){const t=[];return $a(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,o=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){td&&Ho.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){td&&Ho.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const i=uy(r);if(!i){td&&Ho.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const a=cy(r,o,i,e);a&&n.push(a)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):Ho.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),fy=$c(py,hy);let gy={};Ku.Sentry&&Ku.Sentry.Integrations&&(gy=Ku.Sentry.Integrations);const my={...gy,...Ol,...fp};var vy=Object.freeze({__proto__:null,Breadcrumbs:Dd,BrowserClient:hd,BrowserProfilingIntegration:fy,BrowserTracing:class{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Ac(),Rl&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...ju,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=xu(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Ou(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&ku(),this.options._experiments.enableInteractions&&Cu(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:i,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,f=h||this.options.tracePropagationTargets;Rl&&this._hasSetTracePropagationTargets&&h&&Ho.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),a,i),s&&Nl(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Uu({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Rl&&Ho.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=this.options,a="pageload"===e.op;let s;if(a){const t=a?qu("sentry-trace"):"",n=a?qu("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:c}=Ra(t,n);s={traceId:r,parentSpanId:i,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else s={trimEnd:!0,...e};const c="function"==typeof n?n(s):s,l=void 0===c?{...s,sampled:!1}:c;l.metadata=l.name!==s.name?{...l.metadata,source:"custom"}:l.metadata,this._latestRoute.name=l.name,this._latestRoute.context=l,!1===l.sampled&&Rl&&Ho.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),Rl&&Ho.log(`[Tracing] Starting ${l.op} transaction on scope`);const{location:u}=Pl,d=Ec(t,l,r,o,!0,{location:u},i,a);return a&&Pl.document&&(Pl.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Pl.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(Pl.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Pu(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",i=Bs();if(i&&i.op&&["navigation","pageload"].includes(i.op))return void(Rl&&Ho.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(Rl&&Ho.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(Rl&&Ho.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const a=this._getCurrentHub(),{location:s}=Pl,c={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[lc]:this._latestRoute.context?Bu(this._latestRoute.context):"url"}};e=Ec(a,c,t,n,!0,{location:s},r)};["click"].forEach((e=>{Pl.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=ys(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,o=Bs(),i=_s(),a=void 0!==i?i.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],i=e.duration,s=e.startTime,c=Object.keys(this._interactionIdToRouteNameMapping),l=c.length>0?c.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(c.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===i&&e.startTime===s)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,i);else if(c.length<10||void 0===l||i>this._interactionIdToRouteNameMapping[l].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(l&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[l],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:i,parentContext:n,user:a,activeTransaction:o,replayId:r,startTime:s})}}}))};lu("event",e),lu("first-input",e)}},Dedupe:Fd,Feedback:lv,FunctionToString:Sl,GlobalHandlers:Jd,HttpContext:Zd,Hub:Ms,InboundFilters:gl,Integrations:my,LinkedErrors:np,ModuleMetadata:ul,Replay:rm,ReplayCanvas:Mm,SDK_VERSION:Ns,SEMANTIC_ATTRIBUTE_SENTRY_OP:dc,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:pc,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:uc,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:lc,Scope:Rs,TryCatch:ap,WINDOW:Ku,addBreadcrumb:gs,addEventProcessor:Bc,addGlobalEventProcessor:Ka,addIntegration:function(e){const t=ys();t&&t.addIntegration?t.addIntegration(e):za&&Ho.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)},addTracingExtensions:Ac,breadcrumbsIntegration:Md,browserApiErrorsIntegration:ip,browserProfilingIntegration:hy,browserTracingIntegration:(e={})=>{const t=!!Rl&&!(!e.tracePropagationTargets&&!e.tracingOrigins);Ac(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...Wu,...e},r=xu(),o={};n.enableInp&&Ou(o,n.interactionsSampleRate),n.enableLongTask&&ku(),n._experiments.enableInteractions&&Cu();const i={name:void 0,context:void 0};function a(e){const t=Vs(),{beforeStartSpan:o,idleTimeout:a,finalTimeout:s,heartbeatInterval:c}=n,l="pageload"===e.op;let u;if(l){const t=l?zu("sentry-trace"):"",n=l?zu("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:i,sampled:a}=Ra(t,n);u={traceId:r,parentSpanId:i,parentSampled:a,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else u={trimEnd:!0,...e};const d=o?o(u):u;d.metadata=d.name!==u.name?{...d.metadata,source:"custom"}:d.metadata,i.name=d.name,i.context=d,!1===d.sampled&&Rl&&Ho.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),Rl&&Ho.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=Pl,h=Ec(t,d,a,s,!0,{location:p},c,l);return l&&Pl.document&&(Pl.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Pl.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(Pl.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{r(),Pu(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:s,traceFetch:c,traceXHR:l,shouldCreateSpanForRequest:u,enableHTTPTimings:d,_experiments:p}=n,h=r&&r.tracePropagationTargets,f=h||n.tracePropagationTargets;let g;Rl&&t&&h&&Ho.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let m=Pl.location&&Pl.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{g&&(Rl&&Ho.log(`[Tracing] Finishing current transaction with op: ${as(g).op}`),g.end()),g=a({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{g&&(Rl&&Ho.log(`[Tracing] Finishing current transaction with op: ${as(g).op}`),g.end()),g=a({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&Pl.location){const t={name:Pl.location.pathname,startTimestamp:wa?wa/1e3:void 0,origin:"auto.pageload.browser",attributes:{[lc]:"url"}};Hu(e,t)}n.instrumentNavigation&&e.emit&&Pl.location&&Ki((({to:t,from:n})=>{if(void 0===n&&m&&-1!==m.indexOf(t))m=void 0;else if(n!==t){m=void 0;const t={name:Pl.location.pathname,origin:"auto.navigation.browser",attributes:{[lc]:"url"}};Ju(e,t)}})),s&&Nl(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:o,heartbeatInterval:i}=e,a="ui.action.click",s=Bs();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(Rl&&Ho.warn(`[Tracing] Did not create ${a} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Rl&&Ho.warn(`[Tracing] Did not create ${a} transaction because _latestRouteName is missing.`));const{location:c}=Pl,l={name:t.name,op:a,trimEnd:!0,data:{[lc]:t.context?Xu(t.context):"url"}};n=Ec(Vs(),l,r,o,!0,{location:c},i)};["click"].forEach((e=>{Pl.document&&addEventListener(e,r,{once:!1,capture:!0})}))}(n,i),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=ys(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,i=void 0!==o?o.getReplayId():void 0,a=Bs(),s=_s(),c=void 0!==s?s.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],s=n.duration,l=n.startTime,u=Object.keys(e),d=u.length>0?u.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(u.map((t=>e[t])).some((e=>e.duration===s&&e.startTime===l)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,s);else if(u.length<Yu||void 0===d||s>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=Yu&&delete e[d],e[r]={routeName:n,duration:s,parentContext:o,user:c,activeTransaction:a,replayId:i,startTime:l})}}}))};lu("event",n),lu("first-input",n)}(o,i),Uu({traceFetch:c,traceXHR:l,tracePropagationTargets:f,shouldCreateSpanForRequest:u,enableHTTPTimings:d})},options:n}},captureConsoleIntegration:dv,captureEvent:fs,captureException:ps,captureMessage:hs,captureSession:Ts,captureUserFeedback:function(e){const t=ys();t&&t.captureUserFeedback(e)},chromeStackLineParser:Sd,close:async function(e){const t=ys();return t?t.close(e):(za&&Ho.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))},configureScope:function(e){Vs().configureScope(e)},contextLinesIntegration:Fv,continueTrace:({sentryTrace:e,baggage:t},n)=>{const r=_s(),{traceparentData:o,dynamicSamplingContext:i,propagationContext:a}=function(e,t){const n=Oa(e),r=Ia(t),{traceId:o,parentSpanId:i,parentSampled:a}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||bi(),parentSpanId:i||bi().substring(16),spanId:bi().substring(16),sampled:a,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||bi(),spanId:bi().substring(16)}}}(e,t);r.setPropagationContext(a),za&&o&&Ho.log(`[Tracing] Continuing trace ${o.traceId}.`);const s={...o,metadata:ai({dynamicSamplingContext:i})};return n?Gs((()=>n(s))):s},createTransport:Kc,createUserFeedbackEnvelope:pd,debugIntegration:hv,dedupeIntegration:mv,defaultIntegrations:dp,defaultRequestInstrumentationOptions:Du,defaultStackLineParsers:Rd,defaultStackParser:Pd,endSession:Ss,eventFromException:sd,eventFromMessage:cd,exceptionFromError:nd,extraErrorDataIntegration:wv,extractTraceparentData:Ws,feedbackIntegration:e=>new lv(e),flush:async function(e){const t=ys();return t?t.flush(e):(za&&Ho.warn("Cannot flush events. No client defined."),Promise.resolve(!1))},forceLoad:function(){},functionToStringIntegration:bl,geckoStackLineParser:Ed,getActiveSpan:tc,getActiveTransaction:Bs,getClient:ys,getCurrentHub:Vs,getCurrentScope:_s,getDefaultIntegrations:pp,getHubFromCarrier:js,getReplay:function(){const e=ys();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")},getSpanStatusFromHttpCode:Ys,globalHandlersIntegration:Hd,httpClientIntegration:Pv,httpContextIntegration:Qd,inboundFiltersIntegration:fl,init:hp,instrumentOutgoingRequests:Uu,isInitialized:function(){return!!ys()},lastEventId:function(){return Vs().lastEventId()},linkedErrorsIntegration:tp,makeBrowserOfflineTransport:function(e){return function(e){return t=>e({...t,createStore:qv})}(el(e))},makeFetchTransport:gd,makeMain:Us,makeMultiplexedTransport:function(e,t){return n=>{const r=e(n),o=new Map;function i(t,r){const i=r?`${t}:${r}`:t;let a=o.get(i);if(!a){const s=Yo(t);if(!s)return;const c=Oc(s,n.tunnel);a=r?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=tl(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,r)({...n,url:c}):e({...n,url:c}),o.set(i,a)}return[t,a]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return tl(e,n)}}).map((e=>"string"==typeof e?i(e,void 0):i(e.dsn,e.release))).filter((e=>!!e));0===n.length&&n.push(["",r]);return(await Promise.all(n.map((([t,n])=>n.send(function(e,t){return Na(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[await r.flush(e)];for(const[,n]of o)t.push(await n.flush(e));return t.every((e=>e))}}}},makeXHRTransport:md,metrics:Cl,moduleMetadataIntegration:ll,onLoad:function(e){e()},onProfilingStartRouteTransaction:function(e){return e?sy(e)?dy(e):e:(td&&Ho.log("[Profiling] Transaction is undefined, skipping profiling"),e)},opera10StackLineParser:kd,opera11StackLineParser:Od,parameterize:function(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n},replayCanvasIntegration:$m,replayIntegration:e=>new rm(e),reportingObserverIntegration:Iv,rewriteFramesIntegration:kv,sendFeedback:Jm,sessionTimingIntegration:Ov,setContext:ms,setCurrentClient:Xc,setExtra:function(e,t){Vs().setExtra(e,t)},setExtras:function(e){Vs().setExtras(e)},setHttpStatus:Ks,setMeasurement:Ic,setTag:function(e,t){Vs().setTag(e,t)},setTags:function(e){Vs().setTags(e)},setUser:function(e){Vs().setUser(e)},showReportDialog:(e={},t=Vs())=>{if(!Ku.document)return void(td&&Ho.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o)return void(td&&Ho.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const i=Ku.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){const n=Ko(e);if(!n)return"";const r=`${kc(n)}embed/error-page/`;let o=`dsn=${zo(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}(o,e),e.onLoad&&(i.onload=e.onLoad);const{onClose:a}=e;if(a){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{a()}finally{Ku.removeEventListener("message",e)}};Ku.addEventListener("message",e)}const s=Ku.document.head||Ku.document.body;s?s.appendChild(i):td&&Ho.error("Not injecting report dialog. No injection point found in HTML")},spanStatusfromHttpCode:Xs,startBrowserTracingNavigationSpan:Ju,startBrowserTracingPageLoadSpan:Hu,startInactiveSpan:ec,startSession:bs,startSpan:function(e,t){const n=rc(e);return Gs((()=>vs(e.scope,(r=>{const o=Vs(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:nc(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Qs((()=>t(a)),(()=>{if(a){const{status:e}=as(a);e&&"ok"!==e||a.setStatus("internal_error")}}),(()=>a&&a.end()))}))))},startSpanManual:function(e,t){const n=rc(e);return Gs((()=>vs(e.scope,(r=>{const o=Vs(),i=r.getSpan(),a=e.onlyIfParent&&!i?void 0:nc(o,{parentSpan:i,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function s(){a&&a.end()}return Qs((()=>t(a,s)),(()=>{if(a&&a.isRecording()){const{status:e}=as(a);e&&"ok"!==e||a.setStatus("internal_error")}}))}))))},startTransaction:function(e,t){return Vs().startTransaction({...e},t)},trace:function(e,t,n=()=>{},r=()=>{}){const o=Vs(),i=_s(),a=i.getSpan(),s=rc(e),c=nc(o,{parentSpan:a,spanContext:s,forceTransaction:!1,scope:i});return i.setSpan(c),Qs((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),i.setSpan(a),r()}))},winjsStackLineParser:Id,withActiveSpan:function(e,t){return vs((n=>(n.setSpan(e),t(n))))},withIsolationScope:function(e){return Gs((()=>e(Fs())))},withScope:vs,wrap:function(e){return ed(e)()}});const yy=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),_y={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.44.0",environment:Jr(),tracesSampleRate:Yr()?.01:1,sampleRate:Yr()?.01:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return yy(t)?null:(zr()&&console.error(e),e)}};const by=e=>{chrome.storage.sync.get(["installationId","session",Xr.isLoggedIn,Xr.translatorServiceType,Xr.writeServiceType],(function(t){e.setTag("internal_session_id",t?.session?.id),e.setTag("is_translator_pro",io(t,Xn.TRANSLATOR)),e.setTag("is_write_pro",io(t,Xn.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",Zr.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get([Xr.isLoggedIn],e.setTag("is_translator_pro",io({...Zr,translatorServiceType:t.translatorServiceType.newValue},Xn.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get([Xr.isLoggedIn],e.setTag("is_write_pro",io({...Zr,writeServiceType:t.writeServiceType.newValue},Xn.WRITE))),!0)))};const Sy="NETWORK_ERROR",wy="PROTOCOL_ERROR",Ty="NETWORK_ERROR",Ey="FULL_PAGE_SERVER_ERROR",Ay="-32003",Iy="429",xy="403",ky="1045601",Cy="1042902",Oy="TRANSLATED_INPUT_NOT_SET",Ry="HTML_NODE_CHAR_LENGTH_TOO_LONG",Py="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",Ny="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",Ly="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",$y="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",My="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",Dy="LOGIN_REQUIRED";class Uy extends Error{constructor(e){super(e),this.name=Dy,this.message=e}}class Vy extends Error{constructor(e,t){super(t),this.name=Py,this.limit=e,this.message=t}}class Fy extends Error{constructor(e,t){super(t),this.name=Ny,this.limit=e,this.message=t}}class Gy extends Error{constructor(e,t){super(t),this.name=$y,this.limit=e,this.message=t}}class jy extends Error{constructor(e,t){super(t),this.name=My,this.limit=e,this.message=t}}class qy extends Error{constructor(e,t){super(t),this.name=Ly,this.limit=e,this.message=t}}function By(e){if(void 0!==e)try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}const Wy={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function Hy(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function Jy(e,t){let n;try{switch(e){case Wy.chrome:case Wy.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case Wy.edge:n=t.split("Edg/")[1].split(" ")[0];break;case Wy.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case Wy.opera:n=t.split("OPR/")[1].split(" ")[0];break;case Wy.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===Wy.chrome||e===Wy.edge||e===Wy.brave||e===Wy.opera}(e)&&(n=zy(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function zy(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const Yy="unknown_user_agent",Xy="unknown_platform",Ky="unknown_browser",Qy="unknown_browser_version",Zy="unknown_browser_language";function e_(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||Yy,r=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||Xy;let o=Ky,i=Qy,a=(null===navigator||void 0===navigator?void 0:navigator.language)||Zy;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(a=chrome.i18n.getUILanguage());try{o=t_(n),i=Jy(o,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:r,browser:o,browserVersion:i,browserLang:a}}const t_=e=>{let t=Ky;try{const n=e.match(/chrome|chromium|crios/i),r=e.match(/edg/i)||zy(Wy.edge),o=e.match(/firefox|fxios/i),i=e.match(/opr\//i)||zy(Wy.opera),a=e.match(/safari/i),s=zy(Wy.brave);n?(t=Wy.chrome,r&&(t=Wy.edge),i&&(t=Wy.opera),s&&(t=Wy.brave)):r?t=Wy.edge:o?t=Wy.firefox:i?t=Wy.opera:a&&(t=Wy.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function n_(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild.toLowerCase()===Wy.firefox.toLowerCase();const e=chrome.runtime.getURL("");return e_().browser===Wy.firefox||/moz-extension:\/\//gm.test(e)}const r_="NEW_FEEDBACK_FORM",o_="DEEPL_COM_PRO",i_="DEEPL_COM_PRO_WRITE",a_="DEEPL_COM_HOMEPAGE",s_="DEEPL_SUPPORT",c_=60001,l_=60003,u_=60055,d_=60059,p_=60067,h_=60069,f_=60106,g_=60109,m_=0,v_=1,y_=2,__=0,b_=1,S_=2,w_=3,T_=4,E_=0,A_=1,I_=2,x_=0,k_=1,C_=2,O_=3,R_=4,P_=5;function N_(e){switch(e){case at:return 1;case it:return 2;case ot:return 3;case st:return 4;case ct:return 5;case lt:return 6;case ut:return 7;default:return 0}}function L_(e){switch(e){case wt:return 1;case yt:return 2;case bt:return 3;case At:return 4;case It:return 5;case xt:return 6;case kt:return 7;case Ot:return 8;case Et:return 9;case _t:return 10;case Rt:return 11;case Pt:return 12;case Nt:return 13;case Lt:return 14;case $t:return 15;case Mt:return 16;case Dt:return 17;case Ut:return 18;case Vt:return 19;case Ft:return 20;case Gt:return 21;case jt:return 22;case Jt:return 23;case zt:return 24;case qt:return 25;case Bt:return 26;case Wt:return 27;case Ht:return 28;case Yt:return 29;case Xt:return 30;case Kt:return 31;case Ct:return 32;case Qt:return 33;case Zt:return 34;case en:return 35;case tn:return 36;case Tt:return 37;case nn:return 38;case rn:return 39;case on:return 40;case an:return 41;case sn:return 42;case cn:return 43;case ln:return 44;case un:return 45;case dn:return 46;case pn:return 47;case hn:return 48;case fn:return 49;case gn:return 50;case mn:return 51;case vn:return 52;case yn:return 53;case _n:return 54;case bn:return 55;case Sn:return 56;case wn:return 57;case Tn:return 58;case En:return 59;case An:return 60;case St:return 61;case In:return 62;case xn:return 63;case kn:return 64;default:return 0}}function $_(e){switch(e){case Ln:return On;case $n:return Rn;case Dn:return Nn;case Mn:return Pn;default:return Cn}}function M_(e){switch(e){case Un:return 1;case Vn:return 2;case Gn:return 3;case jn:return 4;case Fn:return 5;case qn:return 6;case Bn:return 7;case Wn:return 8;case Hn:return 9;default:return 0}}function D_(e){switch(e){case Jn:return 1;case zn:return 2;default:return 0}}function U_(e){switch(e){case Kn:return 1;case Qn:return 2;case Zn:return 3;default:return 0}}function V_(e){switch(e){case sr:return 1;case cr:return 2;case lr:return 3;default:return 0}}function F_(e){switch(e){case ur:return v_;case dr:return y_;default:return m_}}function G_(e){switch(e){case pr:return b_;case hr:return S_;case fr:return w_;case gr:return T_;default:return __}}function j_(e){switch(e){case mr:return A_;case vr:return I_;default:return E_}}function q_(e){switch(e){case yr:return k_;case _r:return C_;case br:return O_;case Sr:return R_;case wr:return P_;default:return x_}}const B_=["accountData","domainName"],W_=[60067,60068,60069],H_=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>H_(e,t))):Object.keys(e).reduce(((n,r)=>(t.includes(r)||(n[r]=H_(e[r],t)),n)),{}):e;function J_(e){return je(this,void 0,void 0,(function*(){let t,n,r,o,i,a,s,c,l,u,d,p=!1;try{const e=yield sb(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);n=e.session.id,t=e.installationId,u=e.firefoxAnonPermissionGranted,d=e.firefoxPersonalPermissionGranted}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=yield hb();p=!!e.accountId,r=U_(e.translatorServiceType),o=U_(e.apiServiceType),i=U_(e.docTranslatorServiceType),l=U_(e.writeServiceType),s=p?2===r||2===o||2===l||2===i?pt:ht:dt,c=e.sessionType?V_(e.sessionType):V_(sr)}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=yield function(){return je(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){console.error(e)}const h=e_(),f=yield function(){return je(this,void 0,void 0,(function*(){let e=[];try{e=yield function(){return je(this,void 0,void 0,(function*(){const e=yield ib(rb,tb);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}()}catch(e){}if(!e||0===e.length)return[];const t=e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})));return t}))}();let g,m;try{g=yield fb()}catch(e){console.error(e)}try{m=yield function(){return je(this,void 0,void 0,(function*(){if(n_())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){console.error(e)}const v=Object.assign({eventId:void 0,extensionVersion:"1.44.0",sessionId:n,sessionType:c,installationId:t,browserInstanceId:a,originStore:$_(chrome.runtime.id),userInfos:Object.assign(Object.assign({},g&&{accountData:{accountId:g}}),{userType:s,translatorServiceType:r,apiServiceType:o,docTranslatorServiceType:i,writeServiceType:l}),userAgent:h.userAgent,platform:h.platform,browser:h.browser,browserVersion:h.browserVersion,browserLang:h.browserLang,clientExperiments:f},m&&{webInstanceId:m});let y=e?e(v):v;if(n_()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(u,d))return;if(y=((e,t=!1,n=!1)=>e?n&&t?e:!n&&W_.includes(e?.eventId)?null:H_(e,B_):null)(y,u,d),!y)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(y),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${y.eventId} request failed: ${e}`)}))}))}function z_(e){return je(this,void 0,void 0,(function*(){return J_((t=>Object.assign(Object.assign({},t),{eventId:l_,translationErrorData:{errorData:{extensionVersion:"1.44.0",errorCode:e.errorCode,errorMessage:e.errorMessage},targetLang:e.targetLang,domainName:e.domainName,websiteLanguage:e.websiteLanguage,sourceLength:e.characterCount,translationTrigger:N_(e.trigger),nicheIntegration:M_(e.nicheIntegration||Un)}})))}))}function Y_(e){return je(this,void 0,void 0,(function*(){const t=Math.round((yield function(){return je(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Xr.last_login]);return e&&e.last_login?(Date.now()-e.last_login)/1e3:0}))}())/60);return J_((n=>Object.assign(Object.assign({},n),{eventId:u_,logoutData:{trigger:D_(e.trigger),minutesSinceLastLogin:t,reason:e.reason}})))}))}function X_(e){return je(this,void 0,void 0,(function*(){return J_((t=>Object.assign(Object.assign({},t),{eventId:d_,UILocationClickedData:{uiLocation:L_(e)}})))}))}function K_(){return je(this,void 0,void 0,(function*(){if(!(yield function(){return je(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Xr.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}()))return;const e=yield fb();return J_((t=>Object.assign(Object.assign({},t),{eventId:p_,accountData:{accountUuid:e}})))}))}function Q_(e){return je(this,void 0,void 0,(function*(){return J_((t=>Object.assign(Object.assign({},t),{eventId:g_,itaSessionData:Object.assign(Object.assign(Object.assign({itaSessionType:F_(e.itaSessionType),itaSessionEventType:G_(e.itaSessionEventType)},e.itaErrorType&&{itaErrorType:j_(e.itaErrorType)}),e.itaErrorMessage&&{itaErrorMessage:e.itaErrorMessage}),e.itaUserInteractionType&&{itaUserInteractionType:q_(e.itaUserInteractionType)})})))}))}let Z_;const eb="dlBrowserExtension",tb="dlCache",nb="dlclientstate",rb="dlexperiments";function ob(){return new Promise(((e,t)=>{let n=indexedDB.open(eb,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){Z_=t.target.result,e()},n.onupgradeneeded=function(t){Z_=t.target.result,Z_.objectStoreNames.contains(tb)||Z_.createObjectStore(tb,{keyPath:"id"}),e()}}))}function ib(e,t){return je(this,void 0,void 0,(function*(){return Z_||(yield ob()),new Promise(((n,r)=>{let o=Z_.transaction(t,"readonly").objectStore(t).get(e);o.onerror=function(e){r(e)},o.onsuccess=function(){o.result?n(o.result):n(null)}}))}))}function ab(e){return je(this,void 0,void 0,(function*(){try{yield function(e,t,n){return je(this,void 0,void 0,(function*(){return Z_||(yield ob()),new Promise(((r,o)=>{let i=Z_.transaction(n,"readwrite").objectStore(n).put({id:e,data:t,meta:{createdAt:Date.now()}});i.onsuccess=function(){r()},i.onerror=function(e){o(e)}}))}))}(nb,e,tb)}catch(e){t=e,vy.captureException(t)}var t}))}function sb(e){return je(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield cb())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(r=>{r?t(r):n(`Can not get ${e}`)}))}))}))}function cb(){return je(this,void 0,void 0,(function*(){const e=crypto.randomUUID?crypto.randomUUID():Ur();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield K_()}catch(e){console.error(e)}}))}function lb(e,t,n){return je(this,void 0,void 0,(function*(){const r=By(e);return yield chrome.storage.local.set({a_t:e,r_t:t,[Xr.idToken]:n,isLoggedIn:!(!e||!t),isProUser:!(!r||"Pro"!==r.sessionType),sessionType:null==r?void 0:r.sessionType}),null==r?void 0:r.sessionType}))}function ub(){return je(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Xr.accessToken,Xr.refreshToken,Xr.idToken,"delegatedLoginMapping"]),yield chrome.storage.local.set({isLoggedIn:!1,isProUser:!1,sessionType:""})}))}function db(){return je(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Xr.accessToken,Xr.refreshToken,Xr.idToken]);return{access_token:e?e[Xr.accessToken]:void 0,refresh_token:e?e[Xr.refreshToken]:void 0,id_token:e?e[Xr.idToken]:void 0}}))}function pb(){return je(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Xr.last_login])}))}function hb(){return je(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([Xr.isLoggedIn,"isProUser","sessionType",Xr.translatorServiceType,Xr.writeServiceType,Xr.apiServiceType,Xr.docTranslatorServiceType,Xr.accountId,Kr.hasTermbaseService])}))}function fb(){return je(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([Xr.accountId,Xr.accessToken,Xr.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=By(e.a_t),n=By(e[Xr.idToken]);return t.sub||n.sub}}))}function gb(){return je(this,arguments,void 0,(function*(e=Xr.translatorServiceType){const t=yield hb(),n=!!t.accountId,r=t[e];return n?r===Qn?pt:ht:dt}))}function mb(e){return je(this,void 0,void 0,(function*(){const t=yield chrome.storage.local.get([Xr.translatorServiceType,Xr.writeServiceType,Xr.apiServiceType,Xr.docTranslatorServiceType,Xr.isLoggedIn]);return io(t,e)}))}function vb(){return je(this,void 0,void 0,(function*(){var e;const t=yield chrome.storage.local.get([Xr.translatorServiceType,Xr.writeServiceType,Xr.apiServiceType,Xr.docTranslatorServiceType,Xr.isLoggedIn]);return Object.assign(Object.assign({},t),{isLoggedIn:null!==(e=t.isLoggedIn)&&void 0!==e&&e})}))}function yb(){return je(this,void 0,void 0,(function*(){yield chrome.storage.local.remove([Qr])}))}const _b=["requireLogin","suggestIdp"],bb=()=>je(void 0,void 0,void 0,(function*(){const e=yield je(void 0,void 0,void 0,(function*(){try{return yield chrome.storage.managed.get(_b)}catch(e){return}}));if(void 0===e)return;const{isLoggedIn:t}=yield hb();if(e.requireLogin&&!t)throw new Uy}));function Sb(e){const t=e-1;return t*t*t+1}function wb(e,{delay:t=0,duration:n=400,easing:r=Sb,x:o=0,y:i=0,opacity:a=0}={}){const s=getComputedStyle(e),c=+s.opacity,l="none"===s.transform?"":s.transform,u=c*(1-a),[d,p]=_(o),[h,f]=_(i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*d}${p}, ${(1-e)*h}${f});\n\t\t\topacity: ${c-u*t}`}}function Tb(e,{isShadow:t=!1,exceptions:n=[]}={}){const r=r=>{const o=t?r.composedPath()[0]:r.target;!e||e.contains(o)||r.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(o,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",r,!0),{destroy(){document.removeEventListener("click",r,!0)}}}function Eb(e){document.addEventListener("deepl-reset-event",e)}const Ab="DEVELOPER_TOOLS",Ib="SETTINGS_PAGE",xb="SETTINGS_GLOSSARY";function kb(e){let t,n,r;return{c(){t=P("button"),F(t,"style",e[1]),F(t,"class","dl-logo svelte-m58e9p"),F(t,"data-testid",e[0]),F(t,"aria-label",chrome.i18n.getMessage("deepl_logo"))},m(o,i){C(o,t,i),n||(r=D(t,"click",e[4]),n=!0)},p(e,n){2&n&&F(t,"style",e[1]),1&n&&F(t,"data-testid",e[0])},d(e){e&&O(t),n=!1,r()}}}function Cb(e){let t,n;return{c(){t=P("img"),c(t.src,n=e[2])||F(t,"src",n),F(t,"alt",chrome.i18n.getMessage("deepl_logo")),F(t,"data-testid",e[0]),F(t,"class","svelte-m58e9p")},m(e,n){C(e,t,n)},p(e,r){4&r&&!c(t.src,n=e[2])&&F(t,"src",n),1&r&&F(t,"data-testid",e[0])},d(e){e&&O(t)}}}function Ob(t){let n;function r(e,t){return e[2]?Cb:kb}let o=r(t),i=o(t);return{c(){i.c(),n=M()},m(e,t){i.m(e,t),C(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){e&&O(n),i.d(e)}}}function Rb(e,t,n){let r;u(e,Zr,(e=>n(3,r=e)));let o,{testId:i="deepl-logo"}=t,{style:a}=t;return e.$$set=e=>{"testId"in e&&n(0,i=e.testId),"style"in e&&n(1,a=e.style)},e.$$.update=()=>{8&e.$$.dirty&&r&&r.isLoggedIn&&r.whiteLabelLogoId&&function(e){return je(this,void 0,void 0,(function*(){const t=yield Cr({action:kr.dlGetCustomLogo,payload:{logoId:e}});if(t&&t.logoUrl)return t.logoUrl}))}(r.whiteLabelLogoId).then((e=>n(2,o=e))).catch((()=>n(2,o=void 0)))},[i,a,o,r,function(t){se.call(this,e,t)}]}class Pb extends Ve{constructor(e){super(),Ue(this,e,Rb,Ob,a,{testId:0,style:1})}}function Nb(t){let n,r,i,a,s=t[1]&&$b(t),c=t[2]&&Mb(t);return{c(){s&&s.c(),n=$(),r=P("div"),c&&c.c(),F(r,"class","user-icon svelte-3igxcf"),F(r,"data-testid","user-menu-icon")},m(e,o){s&&s.m(e,o),C(e,n,o),C(e,r,o),c&&c.m(r,null),i||(a=[y(Tb.call(null,r)),D(r,"click_outside",t[14]),D(r,"mousedown",V(U(t[10]))),D(r,"click",t[15])],i=!0)},p(e,t){e[1]?s?s.p(e,t):(s=$b(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),e[2]?c?(c.p(e,t),4&t&&xe(c,1)):(c=Mb(e),c.c(),xe(c,1),c.m(r,null)):c&&(c.d(1),c=null)},i(e){xe(c)},o:e,d(e){e&&(O(n),O(r)),s&&s.d(e),c&&c.d(),i=!1,o(a)}}}function Lb(t){let n,r,i;return{c(){n=P("button"),n.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,F(n,"class","user-action-button svelte-3igxcf")},m(e,o){C(e,n,o),r||(i=[D(n,"mousedown",U(t[9])),D(n,"click",t[12])],r=!0)},p:e,i:e,o:e,d(e){e&&O(n),r=!1,o(i)}}}function $b(t){let n,r,i;return{c(){n=P("button"),n.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,F(n,"class","user-action-button svelte-3igxcf")},m(e,o){C(e,n,o),r||(i=[D(n,"mousedown",U(t[11])),D(n,"click",t[13])],r=!0)},p:e,d(e){e&&O(n),r=!1,o(i)}}}function Mb(t){let n,r,o,i;return{c(){n=P("div"),n.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,F(n,"class","user-menu svelte-3igxcf")},m(e,r){C(e,n,r),o||(i=D(n,"click",t[6]),o=!0)},p:e,i(e){r||fe((()=>{r=Oe(n,wb,{y:-5,duration:500}),r.start()}))},o:e,d(e){e&&O(n),o=!1,i()}}}function Db(e){let t,n,r,o,i,a,s,c,l;function u(e,t){return e[0]?Nb:Lb}n=new Pb({props:{style:"width: 70px; height:24px",testId:"deepl-logo"}}),n.$on("click",e[3]);let d=u(e),p=d(e);return{c(){t=P("div"),Le(n.$$.fragment),r=$(),o=P("div"),p.c(),i=$(),a=P("button"),F(a,"class","dl-settings-icon svelte-3igxcf"),F(a,"data-qa","deepl-layour-header-settings-link"),F(a,"aria-label",chrome.i18n.getMessage("menu_open_settings")),F(o,"class","action-container svelte-3igxcf"),F(t,"class","dl-header svelte-3igxcf")},m(u,d){C(u,t,d),$e(n,t,null),I(t,r),I(t,o),p.m(o,null),I(o,i),I(o,a),s=!0,c||(l=D(a,"click",e[4]),c=!0)},p(e,[t]){d===(d=u(e))&&p?p.p(e,t):(p.d(1),p=d(e),p&&(p.c(),xe(p,1),p.m(o,i)))},i(e){s||(xe(n.$$.fragment,e),xe(p),s=!0)},o(e){ke(n.$$.fragment,e),s=!1},d(e){e&&O(t),Me(n),p.d(),c=!1,l()}}}function Ub(e,t,n){let{isLoggedIn:r=!1}=t,{showUpgradeButton:o=!1}=t,{isProTranslator:i=!1}=t,a=!1;function s(){Cr({action:Tr.dlRequestLogin}),X_(mn)}function c(){const e=i?i_:o_;Cr({action:xr.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}}),X_(_n)}return e.$$set=e=>{"isLoggedIn"in e&&n(0,r=e.isLoggedIn),"showUpgradeButton"in e&&n(1,o=e.showUpgradeButton),"isProTranslator"in e&&n(8,i=e.isProTranslator)},[r,o,a,function(){let e=a_;Cr({action:Ar.dlTrackLogoClickedEvent,payload:{extensionContext:"sidePanel"}}),Cr({action:xr.dlExternalURLRedirect,payload:{destination:e,utmContent:"sidePanel"}})},function(){Cr({action:xr.dlOpenInternalPage,payload:{destination:Ib}}),X_(vn)},s,function(){Cr({action:Tr.dlRequestLogout}),X_(yn)},c,i,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},()=>{s()},()=>{c()},()=>n(2,a=!1),()=>n(2,a=!a)]}class Vb extends Ve{constructor(e){super(),Ue(this,e,Ub,Db,a,{isLoggedIn:0,showUpgradeButton:1,isProTranslator:8})}}function Fb(e){let t,n;return{c(){t=N("svg"),n=N("path"),F(n,"fill-rule","evenodd"),F(n,"clip-rule","evenodd"),F(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),F(n,"fill","#007E5E"),F(t,"width","16"),F(t,"height","17"),F(t,"viewBox","0 0 16 17"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){C(e,t,r),I(t,n)},d(e){e&&O(t)}}}function Gb(e){let t,n;return{c(){t=N("svg"),n=N("path"),F(n,"fill-rule","evenodd"),F(n,"clip-rule","evenodd"),F(n,"d","M7.66109 0.236324C7.85709 0.0735691 8.1429 0.0735693 8.33891 0.236324C10.2777 1.84618 12.7315 2.85723 15.4166 2.98576C15.658 2.99732 15.8641 3.17164 15.8957 3.41119C15.9645 3.93104 16 4.4614 16 5.00004C16 10.1625 12.7401 14.5635 8.16655 16.257C8.05931 16.2967 7.94102 16.2967 7.83378 16.257C3.26004 14.5636 0 10.1625 0 4.99992C0 4.46132 0.0354836 3.93101 0.10424 3.41119C0.135926 3.17165 0.342016 2.99732 0.583373 2.98576C3.2685 2.85723 5.72231 1.84618 7.66109 0.236324ZM11.8566 6.19088C12.1002 5.8559 12.0261 5.38683 11.6911 5.1432C11.3561 4.89958 10.8871 4.97364 10.6434 5.30863L7.15969 10.0988L5.28033 8.21943C4.98744 7.92653 4.51256 7.92653 4.21967 8.21943C3.92678 8.51232 3.92678 8.98719 4.21967 9.28009L6.71967 11.7801C6.87477 11.9352 7.08999 12.0146 7.30867 11.9975C7.52734 11.9803 7.72754 11.8683 7.85655 11.6909L11.8566 6.19088Z"),F(n,"fill","white"),F(t,"width","16"),F(t,"height","17"),F(t,"viewBox","0 0 16 17"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){C(e,t,r),I(t,n)},d(e){e&&O(t)}}}function jb(t){let n;function r(e,t){return e[0]?Gb:Fb}let o=r(t),i=o(t);return{c(){i.c(),n=M()},m(e,t){i.m(e,t),C(e,n,t)},p(e,[t]){o!==(o=r(e))&&(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){e&&O(n),i.d(e)}}}function qb(e,t,n){let{isActive:r}=t;return e.$$set=e=>{"isActive"in e&&n(0,r=e.isActive)},[r]}class Bb extends Ve{constructor(e){super(),Ue(this,e,qb,jb,a,{isActive:0})}}function Wb(e){let t,n;return t=new Bb({}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function Hb(e){let t,n,r,o,i,a,s,c,l=e[0]&&Wb();return{c(){t=P("div"),n=P("div"),r=$(),o=P("span"),o.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,i=$(),l&&l.c(),F(n,"class","translate-icon svelte-wsox0h"),F(o,"class","svelte-wsox0h"),F(t,"class","container svelte-wsox0h")},m(u,d){C(u,t,d),I(t,n),I(t,r),I(t,o),I(t,i),l&&l.m(t,null),a=!0,s||(c=D(t,"click",e[1]),s=!0)},p(e,[n]){e[0]?l?1&n&&xe(l,1):(l=Wb(),l.c(),xe(l,1),l.m(t,null)):l&&(Ae(),ke(l,1,1,(()=>{l=null})),Ie())},i(e){a||(xe(l),a=!0)},o(e){ke(l),a=!1},d(e){e&&O(t),l&&l.d(),s=!1,c()}}}function Jb(e,t,n){let{isProTranslator:r=!1}=t;return e.$$set=e=>{"isProTranslator"in e&&n(0,r=e.isProTranslator)},[r,()=>X_(bn)]}class zb extends Ve{constructor(e){super(),Ue(this,e,Jb,Hb,a,{isProTranslator:0})}}const Yb=e=>({}),Xb=e=>({}),Kb=e=>({}),Qb=e=>({});function Zb(e){let t,n,r,o,i,a,s,c,l,u;r=new Vb({props:{isLoggedIn:e[1],showUpgradeButton:e[2],isProTranslator:e[0]}}),i=new zb({props:{isProTranslator:e[0]}});const p=e[4]["main-content"],m=d(p,e,e[3],Qb),v=e[4].footer,y=d(v,e,e[3],Xb);return{c(){t=P("div"),n=P("header"),Le(r.$$.fragment),o=$(),Le(i.$$.fragment),a=$(),s=P("main"),m&&m.c(),c=$(),l=P("footer"),y&&y.c(),F(n,"class","header svelte-1kyh4fl"),F(s,"class","main-content svelte-1kyh4fl"),F(l,"class","footer svelte-1kyh4fl"),F(t,"class","layout svelte-1kyh4fl")},m(e,d){C(e,t,d),I(t,n),$e(r,n,null),I(t,o),$e(i,t,null),I(t,a),I(t,s),m&&m.m(s,null),I(t,c),I(t,l),y&&y.m(l,null),u=!0},p(e,[t]){const n={};2&t&&(n.isLoggedIn=e[1]),4&t&&(n.showUpgradeButton=e[2]),1&t&&(n.isProTranslator=e[0]),r.$set(n);const o={};1&t&&(o.isProTranslator=e[0]),i.$set(o),m&&m.p&&(!u||8&t)&&f(m,p,e,e[3],u?h(p,e[3],t,Kb):g(e[3]),Qb),y&&y.p&&(!u||8&t)&&f(y,v,e,e[3],u?h(v,e[3],t,Yb):g(e[3]),Xb)},i(e){u||(xe(r.$$.fragment,e),xe(i.$$.fragment,e),xe(m,e),xe(y,e),u=!0)},o(e){ke(r.$$.fragment,e),ke(i.$$.fragment,e),ke(m,e),ke(y,e),u=!1},d(e){e&&O(t),Me(r),Me(i),m&&m.d(e),y&&y.d(e)}}}function eS(e,t,n){let{$$slots:r={},$$scope:o}=t,{isProTranslator:i=!1}=t,{isLoggedIn:a=!1}=t,{showUpgradeButton:s=!1}=t;return e.$$set=e=>{"isProTranslator"in e&&n(0,i=e.isProTranslator),"isLoggedIn"in e&&n(1,a=e.isLoggedIn),"showUpgradeButton"in e&&n(2,s=e.showUpgradeButton),"$$scope"in e&&n(3,o=e.$$scope)},[i,a,s,o,r]}class tS extends Ve{constructor(e){super(),Ue(this,e,eS,Zb,a,{isProTranslator:0,isLoggedIn:1,showUpgradeButton:2})}}function nS(e){let t,n;const r=e[12].default,o=d(r,e,e[11],null);return{c(){t=P("div"),o&&o.c()},m(e,r){C(e,t,r),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||2048&t)&&f(o,r,e,e[11],n?h(r,e[11],t,null):g(e[11]),null)},i(e){n||(xe(o,e),n=!0)},o(e){ke(o,e),n=!1},d(e){e&&O(t),o&&o.d(e)}}}function rS(e){let t,n,r;const o=e[12].default,i=d(o,e,e[11],null);return{c(){t=P("div"),i&&i.c(),F(t,"data-tooltip",e[0]),F(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),F(t,"class","svelte-1a71ske"),W(t,"multiline",e[1]),W(t,"isFlexItem",e[4]),W(t,"isRTL",e[7]),W(t,"showProShield",e[5])},m(e,n){C(e,t,n),i&&i.m(t,null),r=!0},p(e,a){i&&i.p&&(!r||2048&a)&&f(i,o,e,e[11],r?h(o,e[11],a,null):g(e[11]),null),(!r||1&a)&&F(t,"data-tooltip",e[0]),(!r||68&a&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&F(t,"style",n),(!r||2&a)&&W(t,"multiline",e[1]),(!r||16&a)&&W(t,"isFlexItem",e[4]),(!r||128&a)&&W(t,"isRTL",e[7]),(!r||32&a)&&W(t,"showProShield",e[5])},i(e){r||(xe(i,e),r=!0)},o(e){ke(i,e),r=!1},d(e){e&&O(t),i&&i.d(e)}}}function oS(e){let t,n,r,o;const i=[rS,nS],a=[];function s(e,t){return e[3]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=M()},m(e,n){a[t].m(e,n),C(e,r,n),o=!0},p(e,[o]){let c=t;t=s(e),t===c?a[t].p(e,o):(Ae(),ke(a[c],1,1,(()=>{a[c]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),xe(n,1),n.m(r.parentNode,r))},i(e){o||(xe(n),o=!0)},o(e){ke(n),o=!1},d(e){e&&O(r),a[t].d(e)}}}function iS(e,t,n){let r,o,{$$slots:i={},$$scope:a}=t;const{deepl_inline_ui:s}=mt;let{tooltip:c=!1}=t,{multiline:l=!1}=t,{zIndex:u=s.z_index}=t,{isEnabled:d=!0}=t,{isFlexItem:p=!1}=t,{width:h=null}=t,{parentIsRTL:f=!1}=t,{ignoreTextDirection:g=!1}=t,{showProShield:m=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,c=e.tooltip),"multiline"in e&&n(1,l=e.multiline),"zIndex"in e&&n(2,u=e.zIndex),"isEnabled"in e&&n(3,d=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,h=e.width),"parentIsRTL"in e&&n(9,f=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,g=e.ignoreTextDirection),"showProShield"in e&&n(5,m=e.showProShield),"$$scope"in e&&n(11,a=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,r=f||!g&&"rtl"===qr()),256&e.$$.dirty&&n(6,o=h?`width: ${h}px`:"")},[c,l,u,d,p,m,o,r,h,f,g,a,i]}class aS extends Ve{constructor(e){super(),Ue(this,e,iS,oS,a,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}function sS(e){let t,n,r,o,i;const a=e[7].default,s=d(a,e,e[6],null);return{c(){t=P("div"),s&&s.c(),n=$(),r=P("span"),o=L(e[0]),F(r,"style",e[4]),F(r,"class","tooltiptext svelte-2vtihy"),W(r,"position-below","below"===e[2]),F(t,"class","tooltip svelte-2vtihy"),F(t,"z-index",e[3]),W(t,"align-start","start"===e[1]),W(t,"align-center","center"===e[1]),W(t,"align-end","end"===e[1])},m(e,a){C(e,t,a),s&&s.m(t,null),I(t,n),I(t,r),I(r,o),i=!0},p(e,[n]){s&&s.p&&(!i||64&n)&&f(s,a,e,e[6],i?h(a,e[6],n,null):g(e[6]),null),(!i||1&n)&&G(o,e[0]),(!i||16&n)&&F(r,"style",e[4]),(!i||4&n)&&W(r,"position-below","below"===e[2]),(!i||8&n)&&F(t,"z-index",e[3]),(!i||2&n)&&W(t,"align-start","start"===e[1]),(!i||2&n)&&W(t,"align-center","center"===e[1]),(!i||2&n)&&W(t,"align-end","end"===e[1])},i(e){i||(xe(s,e),i=!0)},o(e){ke(s,e),i=!1},d(e){e&&O(t),s&&s.d(e)}}}function cS(e,t,n){let r,{$$slots:o={},$$scope:i}=t,{text:a=""}=t,{alignment:s="center"}=t,{position:c="above"}=t,{zIndex:l="99999"}=t,{width:u=120}=t;return e.$$set=e=>{"text"in e&&n(0,a=e.text),"alignment"in e&&n(1,s=e.alignment),"position"in e&&n(2,c=e.position),"zIndex"in e&&n(3,l=e.zIndex),"width"in e&&n(5,u=e.width),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{34&e.$$.dirty&&n(4,r="expanded"!==s?"center"===s?`width: ${u}px; margin-left:-${u/2+12}px;`:`width: ${u}px;`:"")},[a,s,c,l,r,u,i,o]}class lS extends Ve{constructor(e){super(),Ue(this,e,cS,sS,a,{text:0,alignment:1,position:2,zIndex:3,width:5})}}function uS(){return!!chrome&&!!chrome.tabs}const{entries:dS,setPrototypeOf:pS,isFrozen:hS,getPrototypeOf:fS,getOwnPropertyDescriptor:gS}=Object;
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:mS,seal:vS,create:yS}=Object,{apply:_S,construct:bS}="undefined"!=typeof Reflect&&Reflect;mS||(mS=function(e){return e}),vS||(vS=function(e){return e}),_S||(_S=function(e,t,n){return e.apply(t,n)}),bS||(bS=function(e,t){return new e(...t)});const SS=MS(Array.prototype.forEach),wS=MS(Array.prototype.lastIndexOf),TS=MS(Array.prototype.pop),ES=MS(Array.prototype.push),AS=MS(Array.prototype.splice),IS=MS(String.prototype.toLowerCase),xS=MS(String.prototype.toString),kS=MS(String.prototype.match),CS=MS(String.prototype.replace),OS=MS(String.prototype.indexOf),RS=MS(String.prototype.trim),PS=MS(Object.prototype.hasOwnProperty),NS=MS(RegExp.prototype.test),LS=($S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return bS($S,t)});var $S;function MS(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return _S(e,t,r)}}function DS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IS;pS&&pS(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(hS(t)||(t[r]=e),o=e)}e[o]=!0}return e}function US(e){for(let t=0;t<e.length;t++){PS(e,t)||(e[t]=null)}return e}function VS(e){const t=yS(null);for(const[n,r]of dS(e)){PS(e,n)&&(Array.isArray(r)?t[n]=US(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=VS(r):t[n]=r)}return t}function FS(e,t){for(;null!==e;){const n=gS(e,t);if(n){if(n.get)return MS(n.get);if("function"==typeof n.value)return MS(n.value)}e=fS(e)}return function(){return null}}const GS=mS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),jS=mS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),qS=mS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),BS=mS(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),WS=mS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),HS=mS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),JS=mS(["#text"]),zS=mS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),YS=mS(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),XS=mS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),KS=mS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),QS=vS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZS=vS(/<%[\w\W]*|[\w\W]*%>/gm),ew=vS(/\$\{[\w\W]*/gm),tw=vS(/^data-[\-\w.\u00B7-\uFFFF]+$/),nw=vS(/^aria-[\-\w]+$/),rw=vS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ow=vS(/^(?:\w+script|data):/i),iw=vS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aw=vS(/^html$/i),sw=vS(/^[a-z][.\w]*(-[.\w]+)+$/i);var cw=Object.freeze({__proto__:null,ARIA_ATTR:nw,ATTR_WHITESPACE:iw,CUSTOM_ELEMENT:sw,DATA_ATTR:tw,DOCTYPE_NAME:aw,ERB_EXPR:ZS,IS_ALLOWED_URI:rw,IS_SCRIPT_OR_DATA:ow,MUSTACHE_EXPR:QS,TMPLIT_EXPR:ew});const lw=1,uw=3,dw=7,pw=8,hw=9,fw=function(){return"undefined"==typeof window?null:window};var gw=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fw();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==hw||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const o=r,i=o.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:c,Element:l,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:h,trustedTypes:f}=t,g=l.prototype,m=FS(g,"cloneNode"),v=FS(g,"remove"),y=FS(g,"nextSibling"),_=FS(g,"childNodes"),b=FS(g,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let S,w="";const{implementation:T,createNodeIterator:E,createDocumentFragment:A,getElementsByTagName:I}=r,{importNode:x}=o;let k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof dS&&"function"==typeof b&&T&&void 0!==T.createHTMLDocument;const{MUSTACHE_EXPR:C,ERB_EXPR:O,TMPLIT_EXPR:R,DATA_ATTR:P,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:L,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:M}=cw;let{IS_ALLOWED_URI:D}=cw,U=null;const V=DS({},[...GS,...jS,...qS,...WS,...JS]);let F=null;const G=DS({},[...zS,...YS,...XS,...KS]);let j=Object.seal(yS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),q=null,B=null,W=!0,H=!0,J=!1,z=!0,Y=!1,X=!0,K=!1,Q=!1,Z=!1,ee=!1,te=!1,ne=!1,re=!0,oe=!1,ie=!0,ae=!1,se={},ce=null;const le=DS({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ue=null;const de=DS({},["audio","video","img","source","image","track"]);let pe=null;const he=DS({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),fe="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml";let ve=me,ye=!1,_e=null;const be=DS({},[fe,ge,me],xS);let Se=DS({},["mi","mo","mn","ms","mtext"]),we=DS({},["annotation-xml"]);const Te=DS({},["title","style","font","a","script"]);let Ee=null;const Ae=["application/xhtml+xml","text/html"];let Ie=null,xe=null;const ke=r.createElement("form"),Ce=function(e){return e instanceof RegExp||e instanceof Function},Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!xe||xe!==e){if(e&&"object"==typeof e||(e={}),e=VS(e),Ee=-1===Ae.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ie="application/xhtml+xml"===Ee?xS:IS,U=PS(e,"ALLOWED_TAGS")?DS({},e.ALLOWED_TAGS,Ie):V,F=PS(e,"ALLOWED_ATTR")?DS({},e.ALLOWED_ATTR,Ie):G,_e=PS(e,"ALLOWED_NAMESPACES")?DS({},e.ALLOWED_NAMESPACES,xS):be,pe=PS(e,"ADD_URI_SAFE_ATTR")?DS(VS(he),e.ADD_URI_SAFE_ATTR,Ie):he,ue=PS(e,"ADD_DATA_URI_TAGS")?DS(VS(de),e.ADD_DATA_URI_TAGS,Ie):de,ce=PS(e,"FORBID_CONTENTS")?DS({},e.FORBID_CONTENTS,Ie):le,q=PS(e,"FORBID_TAGS")?DS({},e.FORBID_TAGS,Ie):{},B=PS(e,"FORBID_ATTR")?DS({},e.FORBID_ATTR,Ie):{},se=!!PS(e,"USE_PROFILES")&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,H=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,Z=e.FORCE_BODY||!1,re=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ie=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,D=e.ALLOWED_URI_REGEXP||rw,ve=e.NAMESPACE||me,Se=e.MATHML_TEXT_INTEGRATION_POINTS||Se,we=e.HTML_INTEGRATION_POINTS||we,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Ce(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(H=!1),te&&(ee=!0),se&&(U=DS({},JS),F=[],!0===se.html&&(DS(U,GS),DS(F,zS)),!0===se.svg&&(DS(U,jS),DS(F,YS),DS(F,KS)),!0===se.svgFilters&&(DS(U,qS),DS(F,YS),DS(F,KS)),!0===se.mathMl&&(DS(U,WS),DS(F,XS),DS(F,KS))),e.ADD_TAGS&&(U===V&&(U=VS(U)),DS(U,e.ADD_TAGS,Ie)),e.ADD_ATTR&&(F===G&&(F=VS(F)),DS(F,e.ADD_ATTR,Ie)),e.ADD_URI_SAFE_ATTR&&DS(pe,e.ADD_URI_SAFE_ATTR,Ie),e.FORBID_CONTENTS&&(ce===le&&(ce=VS(ce)),DS(ce,e.FORBID_CONTENTS,Ie)),ie&&(U["#text"]=!0),K&&DS(U,["html","head","body"]),U.table&&(DS(U,["tbody"]),delete q.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw LS('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw LS('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=e.TRUSTED_TYPES_POLICY,w=S.createHTML("")}else void 0===S&&(S=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(f,i)),null!==S&&"string"==typeof w&&(w=S.createHTML(""));mS&&mS(e),xe=e}},Re=DS({},[...jS,...qS,...BS]),Pe=DS({},[...WS,...HS]),Ne=function(e){ES(n.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},Le=function(e,t){try{ES(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ES(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Ne(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},$e=function(e){let t=null,n=null;if(Z)e="<remove></remove>"+e;else{const t=kS(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Ee&&ve===me&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=S?S.createHTML(e):e;if(ve===me)try{t=(new h).parseFromString(o,Ee)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(ve,"template",null);try{t.documentElement.innerHTML=ye?w:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),ve===me?I.call(t,K?"html":"body")[0]:K?t.documentElement:i},Me=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},De=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof c&&e instanceof c};function Ve(e,t,r){SS(e,(e=>{e.call(n,t,r,xe)}))}const Fe=function(e){let t=null;if(Ve(k.beforeSanitizeElements,e,null),De(e))return Ne(e),!0;const r=Ie(e.nodeName);if(Ve(k.uponSanitizeElement,e,{tagName:r,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&NS(/<[/\w]/g,e.innerHTML)&&NS(/<[/\w]/g,e.textContent))return Ne(e),!0;if(e.nodeType===dw)return Ne(e),!0;if(X&&e.nodeType===pw&&NS(/<[/\w]/g,e.data))return Ne(e),!0;if(!U[r]||q[r]){if(!q[r]&&je(r)){if(j.tagNameCheck instanceof RegExp&&NS(j.tagNameCheck,r))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(r))return!1}if(ie&&!ce[r]){const t=b(e)||e.parentNode,n=_(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const o=m(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,y(e))}}}return Ne(e),!0}return e instanceof l&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ve,tagName:"template"});const n=IS(e.tagName),r=IS(t.tagName);return!!_e[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===me?"svg"===n:t.namespaceURI===fe?"svg"===n&&("annotation-xml"===r||Se[r]):Boolean(Re[n]):e.namespaceURI===fe?t.namespaceURI===me?"math"===n:t.namespaceURI===ge?"math"===n&&we[r]:Boolean(Pe[n]):e.namespaceURI===me?!(t.namespaceURI===ge&&!we[r])&&!(t.namespaceURI===fe&&!Se[r])&&!Pe[n]&&(Te[n]||!Re[n]):!("application/xhtml+xml"!==Ee||!_e[e.namespaceURI]))}(e)?(Ne(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!NS(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===uw&&(t=e.textContent,SS([C,O,R],(e=>{t=CS(t,e," ")})),e.textContent!==t&&(ES(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ve(k.afterSanitizeElements,e,null),!1):(Ne(e),!0)},Ge=function(e,t,n){if(re&&("id"===t||"name"===t)&&(n in r||n in ke))return!1;if(H&&!B[t]&&NS(P,t));else if(W&&NS(N,t));else if(!F[t]||B[t]){if(!(je(e)&&(j.tagNameCheck instanceof RegExp&&NS(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&NS(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&NS(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(pe[t]);else if(NS(D,CS(n,$,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==OS(n,"data:")||!ue[e]){if(J&&!NS(L,CS(n,$,"")));else if(n)return!1}else;return!0},je=function(e){return"annotation-xml"!==e&&kS(e,M)},qe=function(e){Ve(k.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||De(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let o=t.length;for(;o--;){const i=t[o],{name:a,namespaceURI:s,value:c}=i,l=Ie(a);let u="value"===a?c:RS(c);if(r.attrName=l,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,Ve(k.uponSanitizeAttribute,e,r),u=r.attrValue,!oe||"id"!==l&&"name"!==l||(Le(a,e),u="user-content-"+u),X&&NS(/((--!?|])>)|<\/(style|title)/i,u)){Le(a,e);continue}if(r.forceKeepAttr)continue;if(Le(a,e),!r.keepAttr)continue;if(!z&&NS(/\/>/i,u)){Le(a,e);continue}Y&&SS([C,O,R],(e=>{u=CS(u,e," ")}));const d=Ie(e.nodeName);if(Ge(d,l,u)){if(S&&"object"==typeof f&&"function"==typeof f.getAttributeType)if(s);else switch(f.getAttributeType(d,l)){case"TrustedHTML":u=S.createHTML(u);break;case"TrustedScriptURL":u=S.createScriptURL(u)}try{s?e.setAttributeNS(s,a,u):e.setAttribute(a,u),De(e)?Ne(e):TS(n.removed)}catch(e){}}}Ve(k.afterSanitizeAttributes,e,null)},Be=function e(t){let n=null;const r=Me(t);for(Ve(k.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)Ve(k.uponSanitizeShadowNode,n,null),Fe(n),qe(n),n.content instanceof a&&e(n.content);Ve(k.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,i=null,s=null,l=null;if(ye=!e,ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw LS("toString is not a function");if("string"!=typeof(e=e.toString()))throw LS("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Oe(t),n.removed=[],"string"==typeof e&&(ae=!1),ae){if(e.nodeName){const t=Ie(e.nodeName);if(!U[t]||q[t])throw LS("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)r=$e("\x3c!----\x3e"),i=r.ownerDocument.importNode(e,!0),i.nodeType===lw&&"BODY"===i.nodeName||"HTML"===i.nodeName?r=i:r.appendChild(i);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return S&&ne?S.createHTML(e):e;if(r=$e(e),!r)return ee?null:ne?w:""}r&&Z&&Ne(r.firstChild);const u=Me(ae?e:r);for(;s=u.nextNode();)Fe(s),qe(s),s.content instanceof a&&Be(s.content);if(ae)return e;if(ee){if(te)for(l=A.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(F.shadowroot||F.shadowrootmode)&&(l=x.call(o,l,!0)),l}let d=K?r.outerHTML:r.innerHTML;return K&&U["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&NS(aw,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Y&&SS([C,O,R],(e=>{d=CS(d,e," ")})),S&&ne?S.createHTML(d):d},n.setConfig=function(){Oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){xe=null,Q=!1},n.isValidAttribute=function(e,t,n){xe||Oe({});const r=Ie(e),o=Ie(t);return Ge(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&ES(k[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=wS(k[e],t);return-1===n?void 0:AS(k[e],n,1)[0]}return TS(k[e])},n.removeHooks=function(e){k[e]=[]},n.removeAllHooks=function(){k={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const mw=(e,t={})=>gw.sanitize(e,{USE_PROFILES:{html:!0},...t});function vw(e,t,n){const r=e.slice();return r[46]=t[n],r[48]=n,r}function yw(t){let n,r,o,i=Pe(t[3]),a=[];for(let e=0;e<i.length;e+=1)a[e]=Sw(vw(t,i,e));return{c(){n=P("ul");for(let e=0;e<a.length;e+=1)a[e].c();F(n,"id","dropdown_list"),F(n,"role","listbox"),F(n,"aria-labelledby","dropdown_option"),F(n,"tabindex","-1"),F(n,"style",r="up"===t[12]?"bottom: 30px":`height: ${t[16].height}; top: ${t[16].top};`),F(n,"data-qa",t[6]),F(n,"class","svelte-1tk603q"),W(n,"alternate-dropdown-list","sm"===t[8]),W(n,"align-right",t[9])},m(e,r){C(e,n,r);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(n,null);t[37](n)},p(e,t){if(4726795&t[0]){let r;for(i=Pe(e[3]),r=0;r<i.length;r+=1){const o=vw(e,i,r);a[r]?a[r].p(o,t):(a[r]=Sw(o),a[r].c(),a[r].m(n,null))}for(;r<a.length;r+=1)a[r].d(1);a.length=i.length}69632&t[0]&&r!==(r="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&F(n,"style",r),64&t[0]&&F(n,"data-qa",e[6]),256&t[0]&&W(n,"alternate-dropdown-list","sm"===e[8]),512&t[0]&&W(n,"align-right",e[9])},i(e){o||fe((()=>{o=Oe(n,wb,{y:-5,duration:500}),o.start()}))},o:e,d(e){e&&O(n),R(a,e),t[37](null)}}}function _w(e){let t,n=e[46].label+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){8&r[0]&&n!==(n=e[46].label+"")&&G(t,n)},d(e){e&&O(t)}}}function bw(e){let t,n,r=mw(e[46].label)+"";return{c(){t=new J(!1),n=M(),t.a=n},m(e,o){t.m(r,e,o),C(e,n,o)},p(e,n){8&n[0]&&r!==(r=mw(e[46].label)+"")&&t.p(r)},d(e){e&&(O(n),t.d())}}}function Sw(e){let t,n,r,i,a,s,c;function l(e,t){return e[13]?bw:_w}let u=l(e),d=u(e);function p(){return e[36](e[46])}return{c(){t=P("li"),d.c(),n=$(),F(t,"role","option"),F(t,"data-option-value",r=e[46].value),F(t,"data-option-regionalvariant",i=e[46].regionalVariant),F(t,"aria-selected",a=e[0]===e[46]),F(t,"class","svelte-1tk603q"),W(t,"selected",e[0]===e[46]),W(t,"keyboardSelected",e[48]===e[19])},m(r,o){C(r,t,o),d.m(t,null),I(t,n),s||(c=[D(t,"click",p),D(t,"mousedown",V(U(e[33])))],s=!0)},p(o,s){u===(u=l(e=o))&&d?d.p(e,s):(d.d(1),d=u(e),d&&(d.c(),d.m(t,n))),8&s[0]&&r!==(r=e[46].value)&&F(t,"data-option-value",r),8&s[0]&&i!==(i=e[46].regionalVariant)&&F(t,"data-option-regionalvariant",i),9&s[0]&&a!==(a=e[0]===e[46])&&F(t,"aria-selected",a),9&s[0]&&W(t,"selected",e[0]===e[46]),524288&s[0]&&W(t,"keyboardSelected",e[48]===e[19])},d(e){e&&O(t),d.d(),s=!1,o(c)}}}function ww(t){let n,r,i,a,s,c,l,u=t[1]&&yw(t);return{c(){n=P("div"),r=P("button"),i=L(t[17]),a=$(),u&&u.c(),F(r,"aria-haspopup","listbox"),F(r,"id","dropdown_button"),F(r,"aria-labelledby","dropdown_option dropdown_button"),F(r,"aria-expanded",t[1]),F(r,"data-qa",t[5]),F(r,"data-testid",t[5]),F(r,"class","svelte-1tk603q"),W(r,"dropdown-label","original"===t[7]),W(r,"dropdown-label-alternate","alternate"===t[7]),W(r,"dropdown-label-zendesk","zendesk"===t[7]),W(r,"dropdown-label-input-selection-result","input-selection-result"===t[7]),W(r,"dropdown-label-full-width",t[10]),W(r,"dropdown-label-borderless",t[11]),W(r,"dropup","up"===t[12]),W(r,"extra-padding",t[14]),F(n,"class",s=m(`dropdown__wrapper ${t[4]}`)+" svelte-1tk603q"),F(n,"style",t[21]),W(n,"disabled",t[2])},m(e,o){C(e,n,o),I(n,r),I(r,i),t[35](r),I(n,a),u&&u.m(n,null),t[39](n),c||(l=[D(r,"click",t[23]),D(r,"mousedown",V(U(t[34]))),D(r,"keydown",t[24]),y(Tb.call(null,n,{isShadow:!0})),D(n,"click_outside",t[38])],c=!0)},p(e,t){131072&t[0]&&G(i,e[17]),2&t[0]&&F(r,"aria-expanded",e[1]),32&t[0]&&F(r,"data-qa",e[5]),32&t[0]&&F(r,"data-testid",e[5]),128&t[0]&&W(r,"dropdown-label","original"===e[7]),128&t[0]&&W(r,"dropdown-label-alternate","alternate"===e[7]),128&t[0]&&W(r,"dropdown-label-zendesk","zendesk"===e[7]),128&t[0]&&W(r,"dropdown-label-input-selection-result","input-selection-result"===e[7]),1024&t[0]&&W(r,"dropdown-label-full-width",e[10]),2048&t[0]&&W(r,"dropdown-label-borderless",e[11]),4096&t[0]&&W(r,"dropup","up"===e[12]),16384&t[0]&&W(r,"extra-padding",e[14]),e[1]?u?(u.p(e,t),2&t[0]&&xe(u,1)):(u=yw(e),u.c(),xe(u,1),u.m(n,null)):u&&(u.d(1),u=null),16&t[0]&&s!==(s=m(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q")&&F(n,"class",s),2097152&t[0]&&F(n,"style",e[21]),20&t[0]&&W(n,"disabled",e[2])},i(e){xe(u)},o:e,d(e){e&&O(n),t[35](null),u&&u.d(),t[39](null),c=!1,o(l)}}}function Tw(e,t,n){let{isOpen:r=!1}=t,{disabled:o=!1}=t,{items:i=[]}=t,{placeholder:a=""}=t,{customClass:s=""}=t,{selectedOption:c}=t,{defaultOption:l}=t,{dataQaButton:u="dl-dropdown-button"}=t,{dataQaList:d="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:h="default"}=t,{alignRight:f=!0}=t,{extraText:g=""}=t,{isFullWidth:m=!1}=t,{isBorderless:v=!1}=t,{direction:y="down"}=t,{allowLabelHtml:_=!1}=t,{showSortCode:b=!1}=t,{extraPadding:S=!1}=t,{dropdownMaxHeight:w=300}=t,{autoHeight:T=!1}=t;const E=ae("deepl_settings");let A,I,x,k,C,O=0,R={},P={},N={},L=-1,$="visibility: hidden; opacity:0; height:0;";const M=oe();function D(){R.spaceAbove=Math.abs(A.getBoundingClientRect().top),R.spaceBelow=Math.abs(window.innerHeight-A.getBoundingClientRect().bottom)}ne((()=>{setTimeout((()=>{n(21,$="")}),100),k=((e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}})(x,(({clientWidth:e})=>{n(31,O=e)}))})),re((()=>{k&&k()}));return e.$$set=e=>{"isOpen"in e&&n(1,r=e.isOpen),"disabled"in e&&n(2,o=e.disabled),"items"in e&&n(3,i=e.items),"placeholder"in e&&n(25,a=e.placeholder),"customClass"in e&&n(4,s=e.customClass),"selectedOption"in e&&n(0,c=e.selectedOption),"defaultOption"in e&&n(26,l=e.defaultOption),"dataQaButton"in e&&n(5,u=e.dataQaButton),"dataQaList"in e&&n(6,d=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,h=e.fontSize),"alignRight"in e&&n(9,f=e.alignRight),"extraText"in e&&n(27,g=e.extraText),"isFullWidth"in e&&n(10,m=e.isFullWidth),"isBorderless"in e&&n(11,v=e.isBorderless),"direction"in e&&n(12,y=e.direction),"allowLabelHtml"in e&&n(13,_=e.allowLabelHtml),"showSortCode"in e&&n(28,b=e.showSortCode),"extraPadding"in e&&n(14,S=e.extraPadding),"dropdownMaxHeight"in e&&n(29,w=e.dropdownMaxHeight),"autoHeight"in e&&n(30,T=e.autoHeight)},e.$$.update=()=>{67108864&e.$$.dirty[0]&&l&&n(0,c=l),1&e.$$.dirty[0]|3&e.$$.dirty[1]&&(c&&((null==N?void 0:N.value)===(null==c?void 0:c.value)&&(null==N?void 0:N.regionalVariant)===(null==c?void 0:c.regionalVariant)||(n(32,N=c),M("valueselected",{selectedOption:c}))),O&&D()),436207617&e.$$.dirty[0]&&n(17,I=c?`${b?c.value:c.selectedOptionLabel}${g?` ${g}`:""}`:`${a}${g?` ${g}`:""}`)},[c,r,o,i,s,u,d,p,h,f,m,v,y,_,S,A,P,I,x,L,C,$,E,function(){"down"===y&&function(){if(T)return;if(D(),n(16,P.top="auto",P),n(16,P.height=`${w}px`,P),R.spaceBelow>R.spaceAbove)R.spaceBelow<=w&&n(16,P.height=Math.ceil(.8*R.spaceBelow)+"px",P);else{let e=w;R.spaceAbove<=w&&(e=Math.ceil(.8*R.spaceAbove)),n(16,P.height=`${e}px`,P),n(16,P.top="-"+(e+2)+"px",P)}}(),n(1,r=!r),function(){let e=A.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{null==e||e.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!r)return;if("ArrowUp"===e.key&&L>0)n(19,L-=1);else if("ArrowDown"===e.key&&L<i.length-1)n(19,L+=1);else if("Enter"===e.key&&-1!==L){const t=i[L];n(1,r=!1),n(0,c=t),n(19,L=-1),E.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,r=!1),n(19,L=-1)}const t=i[L];var o=C.querySelector(`[data-option-value="${t.value}"]`).offsetTop-C.offsetTop;C.scrollTo({top:o,behavior:"smooth"})},a,l,g,b,w,T,O,N,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)},function(e){le[e?"unshift":"push"]((()=>{A=e,n(15,A)}))},e=>{n(1,r=!1),n(0,c=e),n(19,L=-1),E.set({regionalVariant:e.regionalVariant||""})},function(e){le[e?"unshift":"push"]((()=>{C=e,n(20,C)}))},()=>{n(1,r=!1)},function(e){le[e?"unshift":"push"]((()=>{x=e,n(18,x)}))}]}class Ew extends Ve{constructor(e){super(),Ue(this,e,Tw,ww,a,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29,autoHeight:30},null,[-1,-1])}}function Aw(e,t,n){const r=e.slice();return r[27]=t[n],r}function Iw(e,t,n){const r=e.slice();return r[27]=t[n],r}function xw(e){let t,n,r,o,i;return n=new Ew({props:{disabled:e[1],items:e[16],defaultOption:e[18],placeholder:e[17],dataQaButton:e[15],dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11],autoHeight:e[12]}}),n.$on("valueselected",e[20]),{c(){t=P("div"),Le(n.$$.fragment)},m(a,s){C(a,t,s),$e(n,t,null),r=!0,o||(i=D(t,"mousedown",V(U(e[25]))),o=!0)},p(e,t){const r={};2&t[0]&&(r.disabled=e[1]),65536&t[0]&&(r.items=e[16]),262144&t[0]&&(r.defaultOption=e[18]),131072&t[0]&&(r.placeholder=e[17]),32768&t[0]&&(r.dataQaButton=e[15]),8&t[0]&&(r.customClass=e[3]),32&t[0]&&(r.variant=e[5]),64&t[0]&&(r.fontSize=e[6]),128&t[0]&&(r.alignRight=e[7]),256&t[0]&&(r.isBorderless=e[8]),512&t[0]&&(r.showSortCode=e[9]),1024&t[0]&&(r.extraPadding=e[10]),2048&t[0]&&(r.dropdownMaxHeight=e[11]),4096&t[0]&&(r.autoHeight=e[12]),n.$set(r)},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n),o=!1,i()}}}function kw(t){let n,r,o,i,a,s;function c(e,t){return e[0]?Rw:e[14]?Ow:void 0}let l=c(t),u=l&&l(t),d=Pe(t[16]),p=[];for(let e=0;e<d.length;e+=1)p[e]=Pw(Aw(t,d,e));return{c(){n=P("div"),r=P("select"),u&&u.c(),o=M();for(let e=0;e<p.length;e+=1)p[e].c();F(r,"data-qa","deepl-language-selection"),F(r,"data-testid",t[15]),F(r,"aria-label","Select Language"),F(r,"class","svelte-1gzvenb"),F(n,"class",i=m("alternate"===t[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")},m(e,i){C(e,n,i),I(n,r),u&&u.m(r,null),I(r,o);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(r,null);B(r,t[2]),a||(s=D(r,"change",U(t[26])),a=!0)},p(e,t){if(l===(l=c(e))&&u?u.p(e,t):(u&&u.d(1),u=l&&l(e),u&&(u.c(),u.m(r,o))),65536&t[0]){let n;for(d=Pe(e[16]),n=0;n<d.length;n+=1){const o=Aw(e,d,n);p[n]?p[n].p(o,t):(p[n]=Pw(o),p[n].c(),p[n].m(r,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=d.length}65540&t[0]&&B(r,e[2]),32768&t[0]&&F(r,"data-testid",e[15]),32&t[0]&&i!==(i=m("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")&&F(n,"class",i)},i:e,o:e,d(e){e&&O(n),u&&u.d(),R(p,e),a=!1,s()}}}function Cw(t){let n,r,o,i,a=Pe(t[16]),s=[];for(let e=0;e<a.length;e+=1)s[e]=Nw(Iw(t,a,e));return{c(){n=P("div"),r=P("select");for(let e=0;e<s.length;e+=1)s[e].c();r.disabled=!0,F(r,"data-qa","deepl-language-selection-readonly"),F(r,"aria-label","Select Language - dropdown disabled"),F(r,"class","svelte-1gzvenb"),F(n,"class","language-selector read-only svelte-1gzvenb")},m(e,a){C(e,n,a),I(n,r);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(r,null);B(r,t[2]),o||(i=D(r,"change",U($w)),o=!0)},p(e,t){if(65536&t[0]){let n;for(a=Pe(e[16]),n=0;n<a.length;n+=1){const o=Iw(e,a,n);s[n]?s[n].p(o,t):(s[n]=Nw(o),s[n].c(),s[n].m(r,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}65540&t[0]&&B(r,e[2])},i:e,o:e,d(e){e&&O(n),R(s,e),o=!1,i()}}}function Ow(e){let t,n,r;return{c(){t=P("option"),n=L(e[14]),r=$(),t.__value=void 0,j(t,t.__value),F(t,"data-option-regionalvariant",void 0)},m(e,o){C(e,t,o),I(t,n),I(t,r)},p(e,t){16384&t[0]&&G(n,e[14])},d(e){e&&O(t)}}}function Rw(t){let n,r,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){n=P("option"),r=L(i),o=$(),n.__value=void 0,j(n,n.__value),F(n,"data-option-regionalvariant",void 0)},m(e,t){C(e,n,t),I(n,r),I(n,o)},p:e,d(e){e&&O(n)}}}function Pw(e){let t,n,r,o,i,a=e[27].label+"";return{c(){t=P("option"),n=L(a),r=$(),t.__value=o=e[27].value,j(t,t.__value),F(t,"data-option-regionalvariant",i=e[27].regionalVariant)},m(e,o){C(e,t,o),I(t,n),I(t,r)},p(e,r){65536&r[0]&&a!==(a=e[27].label+"")&&G(n,a),65536&r[0]&&o!==(o=e[27].value)&&(t.__value=o,j(t,t.__value)),65536&r[0]&&i!==(i=e[27].regionalVariant)&&F(t,"data-option-regionalvariant",i)},d(e){e&&O(t)}}}function Nw(e){let t,n,r,o,i,a=e[27].label+"";return{c(){t=P("option"),n=L(a),r=$(),t.__value=o=e[27].value,j(t,t.__value),F(t,"data-option-regionalvariant",i=e[27].regionalVariant)},m(e,o){C(e,t,o),I(t,n),I(t,r)},p(e,r){65536&r[0]&&a!==(a=e[27].label+"")&&G(n,a),65536&r[0]&&o!==(o=e[27].value)&&(t.__value=o,j(t,t.__value)),65536&r[0]&&i!==(i=e[27].regionalVariant)&&F(t,"data-option-regionalvariant",i)},d(e){e&&O(t)}}}function Lw(e){let t,n,r,o,i;const a=[Cw,kw,xw],s=[];function c(e,n){return e[13]?0:(null==t&&(t=!!uS()),t?1:2)}return n=c(e),r=s[n]=a[n](e),{c(){r.c(),o=M()},m(e,t){s[n].m(e,t),C(e,o,t),i=!0},p(e,t){let i=n;n=c(e),n===i?s[n].p(e,t):(Ae(),ke(s[i],1,1,(()=>{s[i]=null})),Ie(),r=s[n],r?r.p(e,t):(r=s[n]=a[n](e),r.c()),xe(r,1),r.m(o.parentNode,o))},i(e){i||(xe(r),i=!0)},o(e){ke(r),i=!1},d(e){e&&O(o),s[n].d(e)}}}const $w=()=>{};function Mw(t,n,r){let o,i,a=e,s=()=>(a(),a=l(h,(e=>r(24,i=e))),h);t.$$.on_destroy.push((()=>a()));const c=oe();let{value:u}=n,{showChooseLanguageOption:d=!1}=n,{customClass:p=""}=n,{websiteSettings:h}=n;s();let f,g,{disabled:m=!1}=n,{variant:v="original"}=n,{fontSize:y="default"}=n,{alignRight:_=!1}=n,{isBorderless:b=!1}=n,{showSortCode:S=!1}=n,{extraPadding:w=!1}=n,{showRegionalVariants:T=!0}=n,{dropdownMaxHeight:E=300}=n,{onlyShowWriteEnabledLanguages:A=!1}=n,{autoHeight:I}=n,{readOnly:x=!1}=n,{placeholderText:k}=n,{dataQaButton:C="deepl-language-selection-button"}=n,{languages:O}=n;f=d?chrome.i18n.getMessage("supported_languages_undefined"):void 0,k&&(d=!1,f=k);return t.$$set=e=>{"value"in e&&r(2,u=e.value),"showChooseLanguageOption"in e&&r(0,d=e.showChooseLanguageOption),"customClass"in e&&r(3,p=e.customClass),"websiteSettings"in e&&s(r(4,h=e.websiteSettings)),"disabled"in e&&r(1,m=e.disabled),"variant"in e&&r(5,v=e.variant),"fontSize"in e&&r(6,y=e.fontSize),"alignRight"in e&&r(7,_=e.alignRight),"isBorderless"in e&&r(8,b=e.isBorderless),"showSortCode"in e&&r(9,S=e.showSortCode),"extraPadding"in e&&r(10,w=e.extraPadding),"showRegionalVariants"in e&&r(21,T=e.showRegionalVariants),"dropdownMaxHeight"in e&&r(11,E=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&r(22,A=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&r(12,I=e.autoHeight),"readOnly"in e&&r(13,x=e.readOnly),"placeholderText"in e&&r(14,k=e.placeholderText),"dataQaButton"in e&&r(15,C=e.dataQaButton),"languages"in e&&r(23,O=e.languages)},t.$$.update=()=>{14745600&t.$$.dirty[0]&&(O?r(16,g=O):(r(16,g=T?Gr():Xe.filter((e=>!["PT-BR","EN-US","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?Object.assign(Object.assign({},e),{langCode:"EN"}):"PT-PT"===e.langCode?Object.assign(Object.assign({},e),{langCode:"PT"}):e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))),A&&r(16,g=g.filter((e=>{return t=e.value,Qe.includes(null==t?void 0:t.substr(0,2).toUpperCase());var t}))))),65540&t.$$.dirty[0]&&r(18,o=u?g.find((e=>e.value===u)):void 0),16777216&t.$$.dirty[0]&&(i&&i.translationState===rt.ongoingTranslation?r(1,m=!0):i&&[rt.none,rt.isTranslationComplete].includes(i.translationState)&&r(1,m=!1))},[d,m,u,p,h,v,y,_,b,S,w,E,I,x,k,C,g,f,o,c,function(e){m||c("selection",e.detail)},T,A,O,i,function(e){se.call(this,t,e)},e=>{if(m)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;c("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class Dw extends Ve{constructor(e){super(),Ue(this,e,Mw,Lw,a,{value:2,showChooseLanguageOption:0,customClass:3,websiteSettings:4,disabled:1,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:21,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:22,autoHeight:12,readOnly:13,placeholderText:14,dataQaButton:15,languages:23},null,[-1,-1])}}function Uw(t){let n;return{c(){n=P("div"),F(n,"class","loader svelte-i1g3gv"),W(n,"small",t[0])},m(e,t){C(e,n,t)},p(e,[t]){1&t&&W(n,"small",e[0])},i:e,o:e,d(e){e&&O(n)}}}function Vw(e,t,n){let{small:r=!1}=t;return e.$$set=e=>{"small"in e&&n(0,r=e.small)},[r]}class Fw extends Ve{constructor(e){super(),Ue(this,e,Vw,Uw,a,{small:0})}}const Gw="ACCESS_DENIED",jw="INVALID_REQUEST",qw="INVALID_GRANT",Bw="GET_TOKEN_ERROR",Ww="INVALID_NONCE",Hw="TOO_MANY_REQUESTS";class Jw extends Error{constructor(e,t){super(e),this.message=e,this.httpStatusCode=t,this.name=Gw}}class zw extends Error{constructor(e,t){super(e),this.message=e,this.httpStatusCode=t,this.name=jw}}class Yw extends Error{constructor(e,t){super(e),this.message=e,this.httpStatusCode=t,this.name=qw}}class Xw extends Error{constructor(e,t){super(e),this.message=e,this.httpStatusCode=t,this.name=Hw}}class Kw extends Error{constructor(e,t){super(e),this.message=e,this.httpStatusCode=t,this.name=Bw}}const Qw="ITA_RATE_LIMITED",Zw="ITA_RATE_LIMITED_RESTRICTED",eT="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",tT="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",nT="ITA_WRITE_GENERIC_ERROR",rT="ITA_TRANSLATE_GENERIC_ERROR",oT="ITA_TOKEN_EXPIRED",iT="802_quota_exceeded",aT="800_rate_limited",sT="801_rate_limited_restricted",cT="1300_session_ended_internal_error",lT="1301_session_ended_manual_eviction",uT="1600_session_ended_authentication_token_expired",dT="1601_missing_or_invalid_authentication",pT="300_unsupported_session_mode",hT="1200_obsolete_version_unavailable",fT="1302_unhandled_internal_error",gT="301_invalid_session_token",mT="302_invalid_session_version",vT="303_unknown_session",yT="305_invalid_participant_id",_T="700_service_level_mismatch",bT="900_multiple_invocations_forbidden",ST="304_message_validation_failed";const wT="PROTOCOL_ERROR",TT="NETWORK_ERROR",ET="FULL_PAGE_SERVER_ERROR",AT="-32003",IT="429",xT="403",kT="401",CT="1045601",OT="1042902";class RT extends Error{constructor(e){super(e),this.name=wT,this.message=e}}class PT extends Error{constructor(e,t){super(t),this.name=e,this.message=t}}class NT extends Error{constructor(e){super(e),this.name=ET,this.message=e}}const LT=Nr(!1);function $T(e){let t,n,r;return{c(){t=P("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',F(t,"class","dl-close-icon svelte-nsrzuc")},m(o,a){C(o,t,a),n||(r=D(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&O(t),n=!1,r()}}}function MT(e){let t,n,r,o,i,a;const s=e[2].default,c=d(s,e,e[1],null);let l=e[0]&&$T(e);return{c(){t=P("div"),n=P("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=$(),o=P("div"),c&&c.c(),i=$(),l&&l.c(),F(n,"class","icon-container svelte-nsrzuc"),F(o,"class","message svelte-nsrzuc"),F(t,"class","error-msg svelte-nsrzuc")},m(e,s){C(e,t,s),I(t,n),I(t,r),I(t,o),c&&c.m(o,null),I(t,i),l&&l.m(t,null),a=!0},p(e,[n]){c&&c.p&&(!a||2&n)&&f(c,s,e,e[1],a?h(s,e[1],n,null):g(e[1]),null),e[0]?l?l.p(e,n):(l=$T(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){a||(xe(c,e),a=!0)},o(e){ke(c,e),a=!1},d(e){e&&O(t),c&&c.d(e),l&&l.d()}}}function DT(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class UT extends Ve{constructor(e){super(),Ue(this,e,DT,MT,a,{close:0})}}function VT(e){let t,n,r;return{c(){t=P("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',F(t,"class","dl-close-icon svelte-kyufep")},m(o,a){C(o,t,a),n||(r=D(t,"click",(function(){i(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&O(t),n=!1,r()}}}function FT(e){let t,n,r,o,i,a;const s=e[2].default,c=d(s,e,e[1],null);let l=e[0]&&VT(e);return{c(){t=P("div"),n=P("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',r=$(),o=P("div"),c&&c.c(),i=$(),l&&l.c(),F(n,"class","icon-container svelte-kyufep"),F(o,"class","message svelte-kyufep"),F(t,"class","warn-msg svelte-kyufep")},m(e,s){C(e,t,s),I(t,n),I(t,r),I(t,o),c&&c.m(o,null),I(t,i),l&&l.m(t,null),a=!0},p(e,[n]){c&&c.p&&(!a||2&n)&&f(c,s,e,e[1],a?h(s,e[1],n,null):g(e[1]),null),e[0]?l?l.p(e,n):(l=VT(e),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(e){a||(xe(c,e),a=!0)},o(e){ke(c,e),a=!1},d(e){e&&O(t),c&&c.d(e),l&&l.d()}}}function GT(e,t,n){let{$$slots:r={},$$scope:o}=t,{close:i}=t;return e.$$set=e=>{"close"in e&&n(0,i=e.close),"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class jT extends Ve{constructor(e){super(),Ue(this,e,GT,FT,a,{close:0})}}function qT(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,F(n,"data-qa","error-message-generic")},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class BT extends Ve{constructor(e){super(),Ue(this,e,null,qT,a,{})}}function WT(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,F(n,"data-qa","error-message-generic")},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class HT extends Ve{constructor(e){super(),Ue(this,e,null,WT,a,{})}}function JT(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class zT extends Ve{constructor(e){super(),Ue(this,e,null,JT,a,{})}}function YT(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class XT extends Ve{constructor(e){super(),Ue(this,e,null,YT,a,{})}}function KT(t){let n,r,o,i,a,s;return{c(){n=P("div"),r=P("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=$(),i=P("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,F(i,"class","link svelte-1mpkjv7"),F(n,"class","container svelte-1mpkjv7")},m(e,c){C(e,n,c),I(n,r),I(n,o),I(n,i),a||(s=D(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&O(n),a=!1,s()}}}function QT(e){return[function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:o_,utmContent:"warning_user_unauthorised"}})}]}class ZT extends Ve{constructor(e){super(),Ue(this,e,QT,KT,a,{})}}function eE(t){let n,r,o,i,a,s;return{c(){n=P("div"),r=P("div"),r.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=$(),i=P("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,F(i,"class","link svelte-1mpkjv7"),F(n,"class","container svelte-1mpkjv7")},m(e,c){C(e,n,c),I(n,r),I(n,o),I(n,i),a||(s=D(i,"click",t[0]),a=!0)},p:e,i:e,o:e,d(e){e&&O(n),a=!1,s()}}}function tE(e){return[function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:o_,utmContent:"warning_user_blocked"}})}]}class nE extends Ve{constructor(e){super(),Ue(this,e,tE,eE,a,{})}}function rE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class oE extends Ve{constructor(e){super(),Ue(this,e,null,rE,a,{})}}function iE(e,t,n){let r={block:"end",position:e.length};return t.forEach((t=>{const o=e.indexOf(`<${t}>`,n);o>-1&&o<r.position&&(r={block:t,position:o})})),[r.block,r.position]}function aE(e,t=[]){const n=[];let r=0,o=!1;for(;!o;){const[i,a]=iE(e,t,r);if("end"===i&&(o=!0),r<a&&n.push({block:"main",text:e.substring(r,a)}),o)break;const s=e.indexOf(`</${i}>`,a);-1===s?(n.push({block:i,text:e.substring(a+`<${i}>`.length)}),o=!0):(n.push({block:i,text:e.substring(a+`<${i}>`.length,s)}),r=s+`</${i}>`.length)}return n}function sE(e,t,n){const r=e.slice();return r[1]=t[n],r}function cE(t){let n,r=t[1].text+"";return{c(){n=L(r)},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function lE(t){let n,r,o;return{c(){n=P("span"),n.textContent=`${t[1].text} `,F(n,"class","link svelte-1mpkjv7")},m(e,i){C(e,n,i),r||(o=D(n,"click",t[0]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function uE(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?lE:cE}(e),r=n(e);return{c(){r.c(),t=M()},m(e,n){r.m(e,n),C(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&O(t),r.d(e)}}}function dE(t){let n,r=Pe(aE(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let e=0;e<r.length;e+=1)o[e]=uE(sE(t,r,e));return{c(){n=P("div");for(let e=0;e<o.length;e+=1)o[e].c();F(n,"class","container svelte-1mpkjv7")},m(e,t){C(e,n,t);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(n,null)},p(e,[t]){if(1&t){let i;for(r=Pe(aE(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),i=0;i<r.length;i+=1){const a=sE(e,r,i);o[i]?o[i].p(a,t):(o[i]=uE(a),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},i:e,o:e,d(e){e&&O(n),R(o,e)}}}function pE(e){return[function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:s_}})}]}class hE extends Ve{constructor(e){super(),Ue(this,e,pE,dE,a,{})}}function fE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class gE extends Ve{constructor(e){super(),Ue(this,e,null,fE,a,{})}}function mE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class vE extends Ve{constructor(e){super(),Ue(this,e,null,mE,a,{})}}function yE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class _E extends Ve{constructor(e){super(),Ue(this,e,null,yE,a,{})}}function bE(e,t,n){const r=e.slice();return r[5]=t[n],r}function SE(e){let t,n=e[5].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){4&r&&n!==(n=e[5].text+"")&&G(t,n)},d(e){e&&O(t)}}}function wE(e){let t,n,r=e[5].text+"";return{c(){t=P("strong"),n=L(r)},m(e,r){C(e,t,r),I(t,n)},p(e,t){4&t&&r!==(r=e[5].text+"")&&G(n,r)},d(e){e&&O(t)}}}function TE(e){let t;function n(e,t){return"strong"===e[5].block?wE:SE}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function EE(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1mvy8b2")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function AE(t){let n,r,i,a,s,c,l,u,d,p,h,f,g,m=Pe(aE(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",t[2]),["strong"])),v=[];for(let e=0;e<m.length;e+=1)v[e]=TE(bE(t,m,e));let y=t[1]&&EE(t);return{c(){n=P("div"),r=P("div"),i=P("h1"),i.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,a=$(),s=P("p");for(let e=0;e<v.length;e+=1)v[e].c();c=$(),l=P("div"),u=P("button"),u.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,d=$(),p=P("button"),p.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,h=$(),y&&y.c(),F(i,"class","svelte-1mvy8b2"),F(s,"class","description svelte-1mvy8b2"),F(r,"class","messages svelte-1mvy8b2"),W(r,"small",t[0].small),F(u,"class","log-in svelte-1mvy8b2"),F(p,"class","sign-up svelte-1mvy8b2"),F(l,"class","actions svelte-1mvy8b2"),W(l,"small",t[0].small),F(n,"class","container svelte-1mvy8b2"),F(n,"data-testid","error-message-anonymous-limit-exceeded"),W(n,"small",t[0].small)},m(e,o){C(e,n,o),I(n,r),I(r,i),I(r,a),I(r,s);for(let e=0;e<v.length;e+=1)v[e]&&v[e].m(s,null);I(n,c),I(n,l),I(l,u),I(l,d),I(l,p),I(n,h),y&&y.m(n,null),f||(g=[D(u,"click",t[3]),D(p,"click",t[4])],f=!0)},p(e,[t]){if(4&t){let n;for(m=Pe(aE(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),n=0;n<m.length;n+=1){const r=bE(e,m,n);v[n]?v[n].p(r,t):(v[n]=TE(r),v[n].c(),v[n].m(s,null))}for(;n<v.length;n+=1)v[n].d(1);v.length=m.length}1&t&&W(r,"small",e[0].small),1&t&&W(l,"small",e[0].small),e[1]?y?y.p(e,t):(y=EE(e),y.c(),y.m(n,null)):y&&(y.d(1),y=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),R(v,e),y&&y.d(),f=!1,o(g)}}}function IE(e,t,n){let{config:r}=t,{close:o}=t,i="";return ne((()=>{Cr({action:Tr.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),Cr({action:Ar.dlTrackUpgradeNotificationIsDisplayed,payload:{type:er}})})),re((()=>{Cr({action:Ar.dlTrackUpgradeNotificationClosed,payload:{type:er}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){Cr({action:Tr.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:er,cta:ir}})},function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:o_,utmContent:"notification_anonymous_user_limit_exceeded"}}),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:er,cta:ar}})}]}class xE extends Ve{constructor(e){super(),Ue(this,e,IE,AE,a,{config:0,close:1})}}function kE(e,t,n){const r=e.slice();return r[4]=t[n],r}function CE(e){let t,n=e[4].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){4&r&&n!==(n=e[4].text+"")&&G(t,n)},d(e){e&&O(t)}}}function OE(e){let t,n,r=e[4].text+"";return{c(){t=P("strong"),n=L(r)},m(e,r){C(e,t,r),I(t,n)},p(e,t){4&t&&r!==(r=e[4].text+"")&&G(n,r)},d(e){e&&O(t)}}}function RE(e){let t;function n(e,t){return"strong"===e[4].block?OE:CE}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function PE(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1i5r4eu")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function NE(t){let n,r,o,i,a,s,c,l,u,d,p,h=Pe(aE(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",t[2]),["strong"])),f=[];for(let e=0;e<h.length;e+=1)f[e]=RE(kE(t,h,e));let g=t[1]&&PE(t);return{c(){n=P("div"),r=P("div"),o=P("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=$(),a=P("p");for(let e=0;e<f.length;e+=1)f[e].c();s=$(),c=P("div"),l=P("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,u=$(),g&&g.c(),F(o,"class","svelte-1i5r4eu"),F(a,"class","description svelte-1i5r4eu"),F(r,"class","messages svelte-1i5r4eu"),W(r,"small",t[0].small),F(l,"class","sign-up svelte-1i5r4eu"),F(c,"class","actions svelte-1i5r4eu"),W(c,"small",t[0].small),F(n,"class","container svelte-1i5r4eu"),F(n,"data-testid","error-message-limit-exceeded-free-account"),W(n,"small",t[0].small)},m(e,h){C(e,n,h),I(n,r),I(r,o),I(r,i),I(r,a);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(a,null);I(n,s),I(n,c),I(c,l),I(n,u),g&&g.m(n,null),d||(p=D(l,"click",t[3]),d=!0)},p(e,[t]){if(4&t){let n;for(h=Pe(aE(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),n=0;n<h.length;n+=1){const r=kE(e,h,n);f[n]?f[n].p(r,t):(f[n]=RE(r),f[n].c(),f[n].m(a,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=h.length}1&t&&W(r,"small",e[0].small),1&t&&W(c,"small",e[0].small),e[1]?g?g.p(e,t):(g=PE(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),R(f,e),g&&g.d(),d=!1,p()}}}function LE(e,t,n){let{config:r}=t,{close:o}=t,i="";return ne((()=>{Cr({action:Tr.dlGetUsersCharacterLimit}).then((e=>n(2,i=e.toString()))),Cr({action:Ar.dlTrackUpgradeNotificationIsDisplayed,payload:{type:tr}})})),re((()=>{Cr({action:Ar.dlTrackUpgradeNotificationClosed,payload:{type:tr}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,i,function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:o_,utmContent:"notification_free_account_limit_exceeded"}}),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:tr,cta:or}})}]}class $E extends Ve{constructor(e){super(),Ue(this,e,LE,NE,a,{config:0,close:1})}}function ME(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1uko7yn")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function DE(t){let n,r,o,i,a,s,c,l,u,d,p,h=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",f=t[1]&&ME(t);return{c(){n=P("div"),r=P("div"),o=P("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=$(),a=P("p"),s=$(),c=P("div"),l=P("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,u=$(),f&&f.c(),F(o,"class","svelte-1uko7yn"),F(a,"class","description svelte-1uko7yn"),F(r,"class","messages small svelte-1uko7yn"),W(r,"small",t[0].small),F(l,"class","sign-up svelte-1uko7yn"),F(c,"class","actions svelte-1uko7yn"),W(c,"small",t[0].small),F(n,"class","container svelte-1uko7yn"),F(n,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),W(n,"small",t[0].small)},m(e,g){C(e,n,g),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=h,I(n,s),I(n,c),I(c,l),I(n,u),f&&f.m(n,null),d||(p=D(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&W(r,"small",e[0].small),1&t&&W(c,"small",e[0].small),e[1]?f?f.p(e,t):(f=ME(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),f&&f.d(),d=!1,p()}}}function UE(e,t,n){let{config:r}=t,{close:o}=t;return ne((()=>{Cr({action:Ar.dlTrackUpgradeNotificationIsDisplayed,payload:{type:tr}})})),re((()=>{Cr({action:Ar.dlTrackUpgradeNotificationClosed,payload:{type:tr}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:o_,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:tr,cta:or}})}]}class VE extends Ve{constructor(e){super(),Ue(this,e,UE,DE,a,{config:0,close:1})}}function FE(t){let n,r,o;return{c(){n=P("button"),n.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,F(n,"class","log-in svelte-1tmoo4x")},m(e,i){C(e,n,i),r||(o=D(n,"click",t[4]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function GE(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1tmoo4x")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function jE(t){let n,r,o,i,a,s,c,l,u,d,p,h,f=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!t[2]&&FE(t),m=t[1]&&GE(t);return{c(){n=P("div"),r=P("div"),o=P("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=$(),a=P("p"),s=$(),c=P("div"),g&&g.c(),l=$(),u=P("button"),u.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=$(),m&&m.c(),F(o,"class","svelte-1tmoo4x"),F(a,"class","description svelte-1tmoo4x"),F(r,"class","messages svelte-1tmoo4x"),W(r,"small",t[0].small),F(u,"class","sign-up svelte-1tmoo4x"),F(c,"class","actions svelte-1tmoo4x"),W(c,"small",t[0].small),F(n,"class","container svelte-1tmoo4x"),F(n,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),W(n,"small",t[0].small)},m(e,v){C(e,n,v),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=f,I(n,s),I(n,c),g&&g.m(c,null),I(c,l),I(c,u),I(n,d),m&&m.m(n,null),p||(h=D(u,"click",t[3]),p=!0)},p(e,[t]){1&t&&W(r,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,t):(g=FE(e),g.c(),g.m(c,l)),1&t&&W(c,"small",e[0].small),e[1]?m?m.p(e,t):(m=GE(e),m.c(),m.m(n,null)):m&&(m.d(1),m=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),g&&g.d(),m&&m.d(),p=!1,h()}}}function qE(e,t,n){let r,o;u(e,Zr,(e=>n(5,o=e)));let{config:i}=t,{close:a}=t;return ne((()=>{Cr({action:Ar.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?rr:nr}})})),re((()=>{Cr({action:Ar.dlTrackUpgradeNotificationClosed,payload:{type:r?rr:nr}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,r=ao(o))},[i,a,r,function(){let e="notification_free_account_limit_exceeded_write";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case qn:e="gmail_customization_write";break;case Bn:e="gslides_customization_write"}Cr({action:xr.dlExternalURLRedirect,payload:{destination:i_,utmContent:e}}),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:r?rr:nr,cta:or}})},function(){Cr({action:Tr.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:r?rr:nr,cta:ir}})},o]}class BE extends Ve{constructor(e){super(),Ue(this,e,qE,jE,a,{config:0,close:1})}}function WE(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1i5r4eu")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function HE(t){let n,r,o,i,a,s,c,l,u,d,p,h=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",f=t[1]&&WE(t);return{c(){n=P("div"),r=P("div"),o=P("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=$(),a=P("p"),s=$(),c=P("div"),l=P("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,u=$(),f&&f.c(),F(o,"class","svelte-1i5r4eu"),F(a,"class","description svelte-1i5r4eu"),F(r,"class","messages svelte-1i5r4eu"),W(r,"small",t[0].small),F(l,"class","sign-up svelte-1i5r4eu"),F(c,"class","actions svelte-1i5r4eu"),W(c,"small",t[0].small),F(n,"class","container svelte-1i5r4eu"),F(n,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),W(n,"small",t[0].small)},m(e,g){C(e,n,g),I(n,r),I(r,o),I(r,i),I(r,a),a.innerHTML=h,I(n,s),I(n,c),I(c,l),I(n,u),f&&f.m(n,null),d||(p=D(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&W(r,"small",e[0].small),1&t&&W(c,"small",e[0].small),e[1]?f?f.p(e,t):(f=WE(e),f.c(),f.m(n,null)):f&&(f.d(1),f=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),f&&f.d(),d=!1,p()}}}function JE(e,t,n){let r,o;u(e,Zr,(e=>n(3,o=e)));let{config:i}=t,{close:a}=t;return ne((()=>{Cr({action:Ar.dlTrackUpgradeNotificationIsDisplayed,payload:{type:r?rr:nr}})})),re((()=>{Cr({action:Ar.dlTrackUpgradeNotificationClosed,payload:{type:r?rr:nr}})})),e.$$set=e=>{"config"in e&&n(0,i=e.config),"close"in e&&n(1,a=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(r=ao(o))},[i,a,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(i&&i.nicheIntegration)switch(i.nicheIntegration){case qn:e="gmail_customization_write";break;case Bn:e="gslides_customization_write"}Cr({action:xr.dlExternalURLRedirect,payload:{destination:i_,utmContent:e}}),Cr({action:Ar.dlTrackUpgradeNotificationAction,payload:{type:r?rr:nr,cta:or}})},o]}class zE extends Ve{constructor(e){super(),Ue(this,e,JE,HE,a,{config:0,close:1})}}function YE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,F(n,"data-qa","error-message-write-language-not-supported")},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class XE extends Ve{constructor(e){super(),Ue(this,e,null,YE,a,{})}}function KE(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,F(n,"data-qa","error-message-translate-language-not-supported")},m(e,t){C(e,n,t)},p:e,i:e,o:e,d(e){e&&O(n)}}}class QE extends Ve{constructor(e){super(),Ue(this,e,null,KE,a,{})}}function ZE(e){let t,n,r,o;return{c(){t=N("svg"),n=N("path"),F(n,"d","M4 12L12 4M4 4L12 12"),F(n,"stroke","white"),F(n,"stroke-width","1.5"),F(n,"stroke-linecap","round"),F(n,"stroke-linejoin","round"),F(t,"width","16"),F(t,"height","16"),F(t,"viewBox","0 0 16 16"),F(t,"fill","none"),F(t,"xmlns","http://www.w3.org/2000/svg"),F(t,"class","svelte-1mvy8b2")},m(a,s){C(a,t,s),I(t,n),r||(o=D(t,"click",(function(){i(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(t,n){e=t},d(e){e&&O(t),r=!1,o()}}}function eA(t){let n,r,o,i,a,s,c,l,u,d,p,h=t[1]&&ZE(t);return{c(){n=P("div"),r=P("div"),o=P("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=$(),a=P("p"),a.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,s=$(),c=P("div"),l=P("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,u=$(),h&&h.c(),F(o,"class","svelte-1mvy8b2"),F(a,"class","description svelte-1mvy8b2"),F(r,"class","messages svelte-1mvy8b2"),W(r,"small",t[0].small),F(l,"class","sign-up svelte-1mvy8b2"),F(c,"class","actions svelte-1mvy8b2"),W(c,"small",t[0].small),F(n,"class","container svelte-1mvy8b2"),F(n,"data-testid","error-message-policy-login-required"),W(n,"small",t[0].small)},m(e,f){C(e,n,f),I(n,r),I(r,o),I(r,i),I(r,a),I(n,s),I(n,c),I(c,l),I(n,u),h&&h.m(n,null),d||(p=D(l,"click",t[2]),d=!0)},p(e,[t]){1&t&&W(r,"small",e[0].small),1&t&&W(c,"small",e[0].small),e[1]?h?h.p(e,t):(h=ZE(e),h.c(),h.m(n,null)):h&&(h.d(1),h=null),1&t&&W(n,"small",e[0].small)},i:e,o:e,d(e){e&&O(n),h&&h.d(),d=!1,p()}}}function tA(e,t,n){let{config:r}=t,{close:o}=t;return ne((()=>{Cr({action:Ar.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:vt}})})),e.$$set=e=>{"config"in e&&n(0,r=e.config),"close"in e&&n(1,o=e.close)},[r,o,function(){Cr({action:Tr.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)}))}]}class nA extends Ve{constructor(e){super(),Ue(this,e,tA,eA,a,{config:0,close:1})}}function rA(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1],close:e[0]}}}return o&&(t=z(o,i(e))),{c(){t&&Le(t.$$.fragment),n=M()},m(e,o){t&&$e(t,e,o),C(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;ke(e.$$.fragment,1,0,(()=>{Me(e,1)})),Ie()}o?(t=z(o,i(e)),Le(t.$$.fragment),xe(t.$$.fragment,1),$e(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),1&r&&(n.close=e[0]),t.$set(n)}},i(e){r||(t&&xe(t.$$.fragment,e),r=!0)},o(e){t&&ke(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Me(t,e)}}}function oA(e){let t,n;return t=new jT({props:{close:e[0],config:e[1],$$slots:{default:[aA]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),2&n&&(r.config=e[1]),262&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function iA(e){let t,n;return t=new UT({props:{close:e[0],config:e[1],$$slots:{default:[sA]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.close=e[0]),2&n&&(r.config=e[1]),262&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function aA(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=z(o,i(e))),{c(){t&&Le(t.$$.fragment),n=M()},m(e,o){t&&$e(t,e,o),C(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;ke(e.$$.fragment,1,0,(()=>{Me(e,1)})),Ie()}o?(t=z(o,i(e)),Le(t.$$.fragment),xe(t.$$.fragment,1),$e(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&xe(t.$$.fragment,e),r=!0)},o(e){t&&ke(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Me(t,e)}}}function sA(e){let t,n,r;var o=e[2];function i(e,t){return{props:{config:e[1]}}}return o&&(t=z(o,i(e))),{c(){t&&Le(t.$$.fragment),n=M()},m(e,o){t&&$e(t,e,o),C(e,n,o),r=!0},p(e,r){if(4&r&&o!==(o=e[2])){if(t){Ae();const e=t;ke(e.$$.fragment,1,0,(()=>{Me(e,1)})),Ie()}o?(t=z(o,i(e)),Le(t.$$.fragment),xe(t.$$.fragment,1),$e(t,n.parentNode,n)):t=null}else if(o){const n={};2&r&&(n.config=e[1]),t.$set(n)}},i(e){r||(t&&xe(t.$$.fragment,e),r=!0)},o(e){t&&ke(t.$$.fragment,e),r=!1},d(e){e&&O(n),t&&Me(t,e)}}}function cA(e){let t,n,r,o;const i=[iA,oA,rA],a=[];function s(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=s(e))&&(n=a[t]=i[t](e)),{c(){n&&n.c(),r=M()},m(e,n){~t&&a[t].m(e,n),C(e,r,n),o=!0},p(e,[o]){let c=t;t=s(e),t===c?~t&&a[t].p(e,o):(n&&(Ae(),ke(a[c],1,1,(()=>{a[c]=null})),Ie()),~t?(n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),xe(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(xe(n),o=!0)},o(e){ke(n),o=!1},d(e){e&&O(r),~t&&a[t].d(e)}}}function lA(e,t,n){let r,o,{error:i}=t,{close:a}=t,{config:s={}}=t;const c={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},l={[wy]:BT,[Ty]:zT,[Ey]:XT,[xy]:oE,[Gw]:vE,[qw]:vE,[jw]:vE,[Ww]:vE,[Iy]:nE,[Cy]:nE,[Ry]:_E,[Ay]:ZT,[ky]:hE,[Oy]:gE,[Py]:$E,[Ny]:xE,[Ly]:VE,[$y]:BE,[My]:zE,[wT]:BT,[TT]:zT,[Sy]:zT,[ET]:XT,[xT]:ZT,[IT]:nE,[OT]:nE,[AT]:ZT,[CT]:hE,[kT]:oE,[Qw]:hE,[Zw]:hE,[eT]:XE,[tT]:QE,[rT]:BT,[nT]:HT,[oT]:vE,[Dy]:nA};return ne((()=>{uS()?Or({action:"dlErrorVisibility",payload:{state:!0}}):LT.set(!0)})),re((()=>{uS()?Or({action:"dlErrorVisibility",payload:{state:!1}}):LT.set(!1)})),e.$$set=e=>{"error"in e&&n(5,i=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,s=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,r=function(e){switch(e){case wy:case Ty:case Ey:case xy:case wT:case TT:case ET:case xT:case Gw:case qw:case jw:case Ww:case Oy:case rT:case nT:case Sy:return c.SERIOUS;case Iy:case Cy:case IT:case OT:case Ry:case Ay:case ky:case AT:case CT:case Qw:case Zw:case eT:case tT:return c.WARNING;case Py:case Ny:case $y:case My:case Ly:case Dy:return c.CUSTOM;default:return c.UNKNOWN}}(i?i.error:"")),32&e.$$.dirty&&n(2,o=i&&l[i.error]||BT)},[a,s,o,r,c,i]}class uA extends Ve{constructor(e){super(),Ue(this,e,lA,cA,a,{error:5,close:0,config:1})}}function dA(t){let n,r;return{c(){n=P("div"),r=L(t[0]),F(n,"class","info-msg svelte-17qaccl")},m(e,t){C(e,n,t),I(n,r)},p(e,[t]){1&t&&G(r,e[0])},i:e,o:e,d(e){e&&O(n)}}}function pA(e,t,n){let{message:r}=t;return e.$$set=e=>{"message"in e&&n(0,r=e.message)},[r]}class hA extends Ve{constructor(e){super(),Ue(this,e,pA,dA,a,{message:0})}}function fA(t){let n,r,i,a,s,c,l,u,d,p,h,f,g,m,v,y,_,b=chrome.i18n.getMessage("ui_no_translate_language",t[0])+"";return{c(){n=P("div"),r=P("div"),i=P("label"),a=P("span"),s=P("input"),c=$(),l=P("span"),l.textContent=`${chrome.i18n.getMessage("ui_no_translate_website")}`,u=$(),d=P("div"),p=P("label"),h=P("span"),f=P("input"),g=$(),m=P("span"),v=L(b),F(s,"id","blacklist-website"),F(s,"type","checkbox"),s.checked=t[2],F(s,"class","svelte-1kqsybc"),F(l,"class","label svelte-1kqsybc"),F(i,"for","blacklist-website"),F(i,"class","svelte-1kqsybc"),F(r,"class","option svelte-1kqsybc"),F(f,"id","blacklist-language"),F(f,"type","checkbox"),f.checked=t[1],F(f,"class","svelte-1kqsybc"),F(m,"class","label svelte-1kqsybc"),F(p,"for","blacklist-language"),F(p,"class","svelte-1kqsybc"),F(d,"class","option svelte-1kqsybc"),F(n,"class","cancel-container svelte-1kqsybc")},m(e,o){C(e,n,o),I(n,r),I(r,i),I(i,a),I(a,s),I(i,c),I(i,l),I(n,u),I(n,d),I(d,p),I(p,h),I(h,f),I(p,g),I(p,m),I(m,v),y||(_=[D(s,"change",t[5]),D(f,"change",t[6])],y=!0)},p(e,[t]){4&t&&(s.checked=e[2]),2&t&&(f.checked=e[1]),1&t&&b!==(b=chrome.i18n.getMessage("ui_no_translate_language",e[0])+"")&&G(v,b)},i:e,o:e,d(e){e&&O(n),y=!1,o(_)}}}function gA(e,t,n){let r,o,i,a;const s=ae("deepl_settings");u(e,s,(e=>n(8,a=e)));const c=ae("deepl_website_settings");u(e,c,(e=>n(7,i=e)));let{sourceLang:l=""}=t;return e.$$set=e=>{"sourceLang"in e&&n(0,l=e.sourceLang)},e.$$.update=()=>{384&e.$$.dirty&&n(1,r=a.languagesForTranslation[i.websiteLanguage]===nt),384&e.$$.dirty&&n(2,o=a.blacklistDomains.includes(i.hostname))},[l,r,o,s,c,()=>{o?(()=>{let e=a.blacklistDomains;e.includes(i.hostname)&&(e=e.filter((e=>e!==i.hostname)),s.set({blacklistDomains:e}))})():(()=>{let e=a.blacklistDomains;e.includes(i.hostname)||(e.push(i.hostname),s.set({blacklistDomains:e}))})()},()=>{r?(()=>{let e=a.languagesForTranslation;i.websiteLanguage&&("EN"===i.websiteLanguage?(e["EN-GB"]=et,e["EN-US"]=et):"PT"===i.websiteLanguage?(e["PT-PT"]=et,e["PT-BR"]=et):"ZH"===i.websiteLanguage?(e["ZH-CN"]=et,e["ZH-HANT"]=et):e[i.websiteLanguage]=et,s.set({languagesForTranslation:e}))})():(()=>{let e=a.languagesForTranslation;i.websiteLanguage&&("EN"===i.websiteLanguage?(e["EN-GB"]=nt,e["EN-US"]=nt):"PT"===i.websiteLanguage?(e["PT-PT"]=nt,e["PT-BR"]=nt):"ZH"===i.websiteLanguage?(e["ZH-CN"]=nt,e["ZH-HANT"]=nt):e[i.websiteLanguage]=nt,s.set({languagesForTranslation:e}))})()},i,a]}class mA extends Ve{constructor(e){super(),Ue(this,e,gA,fA,a,{sourceLang:0})}}function vA(e){let t,n,r,i,a;const s=e[7].default,c=d(s,e,e[6],null);return{c(){t=P("button"),c&&c.c(),F(t,"type","button"),F(t,"class",n=m(e[0])+" svelte-zka2e2"),t.disabled=e[1],F(t,"id",e[5]),F(t,"data-qa",e[4]),W(t,"disabled",e[1]),W(t,"font-size-sm","sm"===e[2]),W(t,"padding-x-md","md"===e[3]),W(t,"padding-x-none","none"===e[3])},m(n,o){C(n,t,o),c&&c.m(t,null),r=!0,i||(a=[D(t,"click",e[8]),D(t,"mousedown",V(U(e[9])))],i=!0)},p(e,[o]){c&&c.p&&(!r||64&o)&&f(c,s,e,e[6],r?h(s,e[6],o,null):g(e[6]),null),(!r||1&o&&n!==(n=m(e[0])+" svelte-zka2e2"))&&F(t,"class",n),(!r||2&o)&&(t.disabled=e[1]),(!r||32&o)&&F(t,"id",e[5]),(!r||16&o)&&F(t,"data-qa",e[4]),(!r||3&o)&&W(t,"disabled",e[1]),(!r||5&o)&&W(t,"font-size-sm","sm"===e[2]),(!r||9&o)&&W(t,"padding-x-md","md"===e[3]),(!r||9&o)&&W(t,"padding-x-none","none"===e[3])},i(e){r||(xe(c,e),r=!0)},o(e){ke(c,e),r=!1},d(e){e&&O(t),c&&c.d(e),i=!1,o(a)}}}function yA(e,t,n){let{$$slots:r={},$$scope:o}=t,{className:i="button-primary"}=t,{disabled:a=!1}=t,{fontSize:s="default"}=t,{paddingX:c}=t,{dataQa:l="dl-button"}=t,{id:u=""}=t;return e.$$set=e=>{"className"in e&&n(0,i=e.className),"disabled"in e&&n(1,a=e.disabled),"fontSize"in e&&n(2,s=e.fontSize),"paddingX"in e&&n(3,c=e.paddingX),"dataQa"in e&&n(4,l=e.dataQa),"id"in e&&n(5,u=e.id),"$$scope"in e&&n(6,o=e.$$scope)},[i,a,s,c,l,u,o,r,function(t){se.call(this,e,t)},function(t){se.call(this,e,t)}]}class _A extends Ve{constructor(e){super(),Ue(this,e,yA,vA,a,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function bA(e,t,n){const r=e.slice();return r[21]=t[n],r}function SA(e,t,n){const r=e.slice();return r[21]=t[n],r}function wA(e,t,n){const r=e.slice();return r[21]=t[n],r}function TA(e,t,n){const r=e.slice();return r[21]=t[n],r}function EA(e,t,n){const r=e.slice();return r[21]=t[n],r}function AA(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g,m,v;u=new Dw({props:{value:e[2].selectedTargetLanguage,variant:"alternate",fontSize:"sm"}}),u.$on("selection",e[15]);let y=!e[4]&&NA(e);g=new _A({props:{className:"btn-primary btn-full-width",dataQa:"dl-button-translate-page",$$slots:{default:[UA]},$$scope:{ctx:e}}}),g.$on("click",e[11]);let _=!e[4]&&VA(e);return{c(){t=P("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_target_label")}`,n=$(),r=P("div"),o=P("div"),i=L(e[5]),a=$(),s=P("div"),c=$(),l=P("div"),Le(u.$$.fragment),d=$(),y&&y.c(),p=$(),h=P("div"),f=P("div"),Le(g.$$.fragment),m=$(),_&&_.c(),F(t,"class","font-bold mb-md svelte-1ing0cx"),F(o,"class","website-lang svelte-1ing0cx"),F(s,"class","translate-to-arrow svelte-1ing0cx"),F(l,"class","language-switch svelte-1ing0cx"),F(r,"class","language-selection svelte-1ing0cx"),F(r,"dir",qr()),F(f,"class","translate-button svelte-1ing0cx"),F(h,"class","buttons-row svelte-1ing0cx")},m(e,b){C(e,t,b),C(e,n,b),C(e,r,b),I(r,o),I(o,i),I(r,a),I(r,s),I(r,c),I(r,l),$e(u,l,null),C(e,d,b),y&&y.m(e,b),C(e,p,b),C(e,h,b),I(h,f),$e(g,f,null),I(h,m),_&&_.m(h,null),v=!0},p(e,t){(!v||32&t[0])&&G(i,e[5]);const n={};4&t[0]&&(n.value=e[2].selectedTargetLanguage),u.$set(n),e[4]?y&&(Ae(),ke(y,1,1,(()=>{y=null})),Ie()):y?(y.p(e,t),16&t[0]&&xe(y,1)):(y=NA(e),y.c(),xe(y,1),y.m(p.parentNode,p));const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),g.$set(r),e[4]?_&&(Ae(),ke(_,1,1,(()=>{_=null})),Ie()):_?(_.p(e,t),16&t[0]&&xe(_,1)):(_=VA(e),_.c(),xe(_,1),_.m(h,null))},i(e){v||(xe(u.$$.fragment,e),xe(y),xe(g.$$.fragment,e),xe(_),v=!0)},o(e){ke(u.$$.fragment,e),ke(y),ke(g.$$.fragment,e),ke(_),v=!1},d(e){e&&(O(t),O(n),O(r),O(d),O(p),O(h)),Me(u),y&&y.d(e),Me(g),_&&_.d()}}}function IA(t){let n,r,o,i;function a(e,t){return 6&t[0]&&(r=null),null==r&&(r=!!e[2].blacklistDomains.includes(e[1].hostname)),r?HA:e[6]?WA:void 0}let s=a(t,[-1,-1]),c=s&&s(t),l=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),u=[];for(let e=0;e<l.length;e+=1)u[e]=aI(bA(t,l,e));return{c(){n=P("p"),c&&c.c(),o=$(),i=P("p");for(let e=0;e<u.length;e+=1)u[e].c();F(n,"class","svelte-1ing0cx"),F(i,"class","svelte-1ing0cx")},m(e,t){C(e,n,t),c&&c.m(n,null),C(e,o,t),C(e,i,t);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(i,null)},p(e,t){if(s===(s=a(e,t))&&c?c.p(e,t):(c&&c.d(1),c=s&&s(e),c&&(c.c(),c.m(n,null))),1024&t[0]){let n;for(l=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),n=0;n<l.length;n+=1){const r=bA(e,l,n);u[n]?u[n].p(r,t):(u[n]=aI(r),u[n].c(),u[n].m(i,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=l.length}},i:e,o:e,d(e){e&&(O(n),O(o),O(i)),c&&c.d(),R(u,e)}}}function xA(e){let t,n,r,o,i,a=Pe(aE(chrome.i18n.getMessage("ui_translated_automatically",e[5]),["strong"])),s=[];for(let t=0;t<a.length;t+=1)s[t]=lI(EA(e,a,t));return o=new _A({props:{className:"button-reload",$$slots:{default:[uI]},$$scope:{ctx:e}}}),o.$on("click",e[14]),{c(){t=P("p");for(let e=0;e<s.length;e+=1)s[e].c();n=$(),r=P("p"),Le(o.$$.fragment),F(t,"class","svelte-1ing0cx"),F(r,"class","svelte-1ing0cx")},m(e,a){C(e,t,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);C(e,n,a),C(e,r,a),$e(o,r,null),i=!0},p(e,n){if(32&n[0]){let r;for(a=Pe(aE(chrome.i18n.getMessage("ui_translated_automatically",e[5]),["strong"])),r=0;r<a.length;r+=1){const o=EA(e,a,r);s[r]?s[r].p(o,n):(s[r]=lI(o),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}const r={};2&n[1]&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){i||(xe(o.$$.fragment,e),i=!0)},o(e){ke(o.$$.fragment,e),i=!1},d(e){e&&(O(t),O(n),O(r)),R(s,e),Me(o)}}}function kA(t){let n,r,o,i,a;return r=new Fw({}),{c(){n=P("div"),Le(r.$$.fragment),o=$(),i=P("p"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,F(n,"class","loading-spinner-container mb-sm svelte-1ing0cx"),F(i,"class","center svelte-1ing0cx")},m(e,t){C(e,n,t),$e(r,n,null),C(e,o,t),C(e,i,t),a=!0},p:e,i(e){a||(xe(r.$$.fragment,e),a=!0)},o(e){ke(r.$$.fragment,e),a=!1},d(e){e&&(O(n),O(o),O(i)),Me(r)}}}function CA(t){let n,r,o,i,a;return r=new Fw({}),{c(){n=P("div"),Le(r.$$.fragment),o=$(),i=P("p"),i.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,F(n,"class","loading-spinner-container mb-sm svelte-1ing0cx"),F(i,"class","center svelte-1ing0cx")},m(e,t){C(e,n,t),$e(r,n,null),C(e,o,t),C(e,i,t),a=!0},p:e,i(e){a||(xe(r.$$.fragment,e),a=!0)},o(e){ke(r.$$.fragment,e),a=!1},d(e){e&&(O(n),O(o),O(i)),Me(r)}}}function OA(t){let n,r;return n=new hA({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){Le(n.$$.fragment)},m(e,t){$e(n,e,t),r=!0},p:e,i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){Me(n,e)}}}function RA(t){let n,r;return n=new hA({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){Le(n.$$.fragment)},m(e,t){$e(n,e,t),r=!0},p:e,i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){Me(n,e)}}}function PA(t){let n,r,o;return r=new Fw({}),{c(){n=P("div"),Le(r.$$.fragment),F(n,"class","loading-spinner-container svelte-1ing0cx")},m(e,t){C(e,n,t),$e(r,n,null),o=!0},p:e,i(e){o||(xe(r.$$.fragment,e),o=!0)},o(e){ke(r.$$.fragment,e),o=!1},d(e){e&&O(n),Me(r)}}}function NA(e){let t,n,r,o;const i=[$A,LA],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=M()},m(e,n){a[t].m(e,n),C(e,r,n),o=!0},p(e,o){let c=t;t=s(e),t===c?a[t].p(e,o):(Ae(),ke(a[c],1,1,(()=>{a[c]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),xe(n,1),n.m(r.parentNode,r))},i(e){o||(xe(n),o=!0)},o(e){ke(n),o=!1},d(e){e&&O(r),a[t].d(e)}}}function LA(e){let t,n;return t=new aS({props:{tooltip:chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5]),multiline:!0,zIndex:"0",$$slots:{default:[MA]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.tooltip=chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5])),2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function $A(e){let t,n;return t=new lS({props:{text:chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5]),alignment:"expanded",$$slots:{default:[DA]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.text=chrome.i18n.getMessage("ui_auto_translate_tooltip",e[5])),2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function MA(t){let n,r,o,i,a,s,c,l=chrome.i18n.getMessage("full_page_translation_auto_translate")+"";return{c(){n=P("div"),r=P("label"),o=P("input"),i=$(),a=L(l),F(o,"type","checkbox"),o.checked=t[12](),F(o,"class","svelte-1ing0cx"),F(r,"class","svelte-1ing0cx"),F(n,"class","checkbox-row svelte-1ing0cx")},m(e,l){C(e,n,l),I(n,r),I(r,o),I(r,i),I(r,a),s||(c=D(o,"change",t[17]),s=!0)},p:e,d(e){e&&O(n),s=!1,c()}}}function DA(t){let n,r,o,i,a,s,c,l=chrome.i18n.getMessage("full_page_translation_auto_translate")+"";return{c(){n=P("div"),r=P("label"),o=P("input"),i=$(),a=L(l),F(o,"type","checkbox"),o.checked=t[12](),F(o,"class","svelte-1ing0cx"),F(r,"class","svelte-1ing0cx"),F(n,"class","checkbox-row svelte-1ing0cx")},m(e,l){C(e,n,l),I(n,r),I(r,o),I(r,i),I(r,a),s||(c=D(o,"change",t[16]),s=!0)},p:e,d(e){e&&O(n),s=!1,c()}}}function UA(t){let n;return{c(){n=P("span"),n.textContent=`${chrome.i18n.getMessage("full_page_translation_translate_button")}`,F(n,"class","svelte-1ing0cx")},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function VA(e){let t,n,r,o;const i=[GA,FA],a=[];function s(e,t){return e[0]?0:1}return t=s(e),n=a[t]=i[t](e),{c(){n.c(),r=M()},m(e,n){a[t].m(e,n),C(e,r,n),o=!0},p(e,o){let c=t;t=s(e),t===c?a[t].p(e,o):(Ae(),ke(a[c],1,1,(()=>{a[c]=null})),Ie(),n=a[t],n?n.p(e,o):(n=a[t]=i[t](e),n.c()),xe(n,1),n.m(r.parentNode,r))},i(e){o||(xe(n),o=!0)},o(e){ke(n),o=!1},d(e){e&&O(r),a[t].d(e)}}}function FA(e){let t,n,r;return n=new _A({props:{className:"btn-ghost btn-icon",id:"dl-cancel-no-translation-selection",$$slots:{default:[jA]},$$scope:{ctx:e}}}),n.$on("click",e[19]),{c(){t=P("div"),Le(n.$$.fragment),F(t,"class","cancel-button")},m(e,o){C(e,t,o),$e(n,t,null),r=!0},p(e,t){const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n)}}}function GA(e){let t,n;return t=new lS({props:{text:"See more Options",alignment:"end",$$slots:{default:[BA]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};8&n[0]|2&n[1]&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function jA(t){let n;return{c(){n=P("span"),F(n,"class","dots-vertical svelte-1ing0cx")},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function qA(t){let n;return{c(){n=P("span"),F(n,"class","dots-vertical svelte-1ing0cx")},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function BA(e){let t,n,r;return n=new _A({props:{className:"btn-ghost btn-icon",id:"dl-cancel-no-translation-selection",$$slots:{default:[qA]},$$scope:{ctx:e}}}),n.$on("click",e[18]),{c(){t=P("div"),Le(n.$$.fragment),F(t,"class","cancel-button")},m(e,o){C(e,t,o),$e(n,t,null),r=!0},p(e,t){const r={};2&t[1]&&(r.$$scope={dirty:t,ctx:e}),n.$set(r)},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n)}}}function WA(e){let t,n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_language",e[5]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=YA(SA(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=M()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);C(e,t,n)},p(e,o){if(32&o[0]){let i;for(n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_language",e[5]),["strong"])),i=0;i<n.length;i+=1){const a=SA(e,n,i);r[i]?r[i].p(a,o):(r[i]=YA(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&O(t),R(r,e)}}}function HA(e){let t;function n(e,t){return e[6]?KA:XA}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function JA(e){let t,n=e[21].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){32&r[0]&&n!==(n=e[21].text+"")&&G(t,n)},d(e){e&&O(t)}}}function zA(e){let t,n,r=e[21].text+"";return{c(){t=P("strong"),n=L(r),F(t,"class","svelte-1ing0cx")},m(e,r){C(e,t,r),I(t,n)},p(e,t){32&t[0]&&r!==(r=e[21].text+"")&&G(n,r)},d(e){e&&O(t)}}}function YA(e){let t;function n(e,t){return"strong"===e[21].block?zA:JA}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function XA(e){let t,n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=eI(wA(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=M()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);C(e,t,n)},p(e,o){if(2&o[0]){let i;for(n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),i=0;i<n.length;i+=1){const a=wA(e,n,i);r[i]?r[i].p(a,o):(r[i]=eI(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&O(t),R(r,e)}}}function KA(e){let t,n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[5]]),["strong"])),r=[];for(let t=0;t<n.length;t+=1)r[t]=rI(TA(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=M()},m(e,n){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,n);C(e,t,n)},p(e,o){if(34&o[0]){let i;for(n=Pe(aE(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[5]]),["strong"])),i=0;i<n.length;i+=1){const a=TA(e,n,i);r[i]?r[i].p(a,o):(r[i]=rI(a),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&O(t),R(r,e)}}}function QA(e){let t,n=e[21].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){2&r[0]&&n!==(n=e[21].text+"")&&G(t,n)},d(e){e&&O(t)}}}function ZA(e){let t,n,r=e[21].text+"";return{c(){t=P("strong"),n=L(r),F(t,"class","svelte-1ing0cx")},m(e,r){C(e,t,r),I(t,n)},p(e,t){2&t[0]&&r!==(r=e[21].text+"")&&G(n,r)},d(e){e&&O(t)}}}function eI(e){let t;function n(e,t){return"strong"===e[21].block?ZA:QA}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function tI(e){let t,n=e[21].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){34&r[0]&&n!==(n=e[21].text+"")&&G(t,n)},d(e){e&&O(t)}}}function nI(e){let t,n,r=e[21].text+"";return{c(){t=P("strong"),n=L(r),F(t,"class","svelte-1ing0cx")},m(e,r){C(e,t,r),I(t,n)},p(e,t){34&t[0]&&r!==(r=e[21].text+"")&&G(n,r)},d(e){e&&O(t)}}}function rI(e){let t;function n(e,t){return"strong"===e[21].block?nI:tI}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function oI(t){let n,r=t[21].text+"";return{c(){n=L(r)},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function iI(t){let n,r,o;return{c(){n=P("span"),n.textContent=`${t[21].text}`,F(n,"class","link svelte-1ing0cx")},m(e,i){C(e,n,i),r||(o=D(n,"click",t[10]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function aI(e){let t;let n=function(e){return"settingsLink"===e[21].block?iI:oI}(e),r=n(e);return{c(){r.c(),t=M()},m(e,n){r.m(e,n),C(e,t,n)},p(e,t){r.p(e,t)},d(e){e&&O(t),r.d(e)}}}function sI(e){let t,n=e[21].text+"";return{c(){t=L(n)},m(e,n){C(e,t,n)},p(e,r){32&r[0]&&n!==(n=e[21].text+"")&&G(t,n)},d(e){e&&O(t)}}}function cI(e){let t,n,r=e[21].text+"";return{c(){t=P("strong"),n=L(r),F(t,"class","svelte-1ing0cx")},m(e,r){C(e,t,r),I(t,n)},p(e,t){32&t[0]&&r!==(r=e[21].text+"")&&G(n,r)},d(e){e&&O(t)}}}function lI(e){let t;function n(e,t){return"strong"===e[21].block?cI:sI}let r=n(e),o=r(e);return{c(){o.c(),t=M()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){e&&O(t),o.d(e)}}}function uI(t){let n,r=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){n=L(r)},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function dI(e){let t,n,r;return n=new uA({props:{error:e[1].error}}),{c(){t=P("div"),Le(n.$$.fragment),F(t,"class","error-container svelte-1ing0cx")},m(e,o){C(e,t,o),$e(n,t,null),r=!0},p(e,t){const r={};2&t[0]&&(r.error=e[1].error),n.$set(r)},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n)}}}function pI(e){let t,n,r,i,a,s,c;return r=new mA({props:{sourceLang:e[5]}}),{c(){t=P("div"),n=P("div"),Le(r.$$.fragment),F(n,"class","cancel-selection-box svelte-1ing0cx"),F(t,"class","cancel-selection svelte-1ing0cx")},m(o,i){C(o,t,i),I(t,n),$e(r,n,null),a=!0,s||(c=[y(Tb.call(null,n,{isShadow:!0,exceptions:["#dl-cancel-no-translation-selection"]})),D(n,"click_outside",e[20])],s=!0)},p(e,t){const n={};32&t[0]&&(n.sourceLang=e[5]),r.$set(n)},i(e){a||(xe(r.$$.fragment,e),fe((()=>{a&&(i||(i=Re(t,wb,{y:-10,duration:300},!0)),i.run(1))})),a=!0)},o(e){ke(r.$$.fragment,e),i||(i=Re(t,wb,{y:-10,duration:300},!1)),i.run(0),a=!1},d(e){e&&O(t),Me(r),e&&i&&i.end(),s=!1,o(c)}}}function hI(e){let t,n,r,o,i,a,s,c;const l=[PA,RA,OA,CA,kA,xA,IA,AA],u=[];function d(e,t){return 2&t[0]&&(n=null),70&t[0]&&(r=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===rt.ongoingAutoDetection?3:e[1].translationState===rt.ongoingTranslation?4:e[1].translationState===rt.isTranslationComplete?5:(null==r&&(r=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[6])),r?6:e[1].websiteLanguage?7:-1))}~(o=d(e,[-1,-1]))&&(i=u[o]=l[o](e));let p=e[7]&&dI(e),h=e[3]&&pI(e);return{c(){t=P("div"),i&&i.c(),a=$(),p&&p.c(),s=$(),h&&h.c(),F(t,"class","full-page-translation-widget svelte-1ing0cx")},m(e,n){C(e,t,n),~o&&u[o].m(t,null),I(t,a),p&&p.m(t,null),I(t,s),h&&h.m(t,null),c=!0},p(e,n){let r=o;o=d(e,n),o===r?~o&&u[o].p(e,n):(i&&(Ae(),ke(u[r],1,1,(()=>{u[r]=null})),Ie()),~o?(i=u[o],i?i.p(e,n):(i=u[o]=l[o](e),i.c()),xe(i,1),i.m(t,a)):i=null),e[7]?p?(p.p(e,n),128&n[0]&&xe(p,1)):(p=dI(e),p.c(),xe(p,1),p.m(t,s)):p&&(Ae(),ke(p,1,1,(()=>{p=null})),Ie()),e[3]?h?(h.p(e,n),8&n[0]&&xe(h,1)):(h=pI(e),h.c(),xe(h,1),h.m(t,null)):h&&(Ae(),ke(h,1,1,(()=>{h=null})),Ie())},i(e){c||(xe(i),xe(p),xe(h),c=!0)},o(e){ke(i),ke(p),ke(h),c=!1},d(e){e&&O(t),~o&&u[o].d(),p&&p.d(),h&&h.d()}}}function fI(e,t,n){let r,o,i,a;const s=ae("deepl_settings");u(e,s,(e=>n(2,a=e)));const c=ae("deepl_website_settings");u(e,c,(e=>n(1,i=e)));let{useAdvancedToolTip:l=!1}=t;let d,p=!1,h=!1;const f=()=>{const e=jr(i.websiteLanguage);let t=a.languagesForTranslation;if(e)for(const n of e)a.languagesForTranslation[n]===tt?(t[n]=et,Cr({action:Ar.dlTrackUILocationClicked,payload:Gt})):(t[n]=tt,Cr({action:Ar.dlTrackUILocationClicked,payload:Ft}));else a.languagesForTranslation[i.websiteLanguage]===tt?(t[i.websiteLanguage]=et,Cr({action:Ar.dlTrackUILocationClicked,payload:Gt})):(t[i.websiteLanguage]=tt,Cr({action:Ar.dlTrackUILocationClicked,payload:Ft}));s.set({languagesForTranslation:t})};return e.$$set=e=>{"useAdvancedToolTip"in e&&n(0,l=e.useAdvancedToolTip)},e.$$.update=()=>{var t,s;2&e.$$.dirty[0]&&n(7,r=i&&i.error),6&e.$$.dirty[0]&&n(6,o=function(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}(i.websiteLanguage,a.languagesForTranslation,nt)),6&e.$$.dirty[0]&&(i&&a&&(t=a.selectedTargetLanguage,s=i.websiteLanguage,Fr(t)===s)?n(4,h=!0):n(4,h=!1)),2&e.$$.dirty[0]&&i&&(i.isSupportedLanguage?n(5,d=chrome.i18n.getMessage(`supported_languages_${i.websiteLanguage}`)):n(5,d=chrome.i18n.getMessage(`supported_languages_${Ze}`)))},[l,i,a,p,h,d,o,r,s,c,function(){Cr({action:xr.dlOpenInternalPage,payload:{destination:Ib}})},function(){0==a.isTargetLanguageConfirmed&&s.set({isTargetLanguageConfirmed:!0}),chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlTranslate",sourceLang:i.websiteLanguage,targetLang:a.selectedTargetLanguage})}))},function(){const e=jr(i.websiteLanguage);return e?a.languagesForTranslation[e[0]]===tt||a.languagesForTranslation[e[1]]===tt:a.languagesForTranslation[i.websiteLanguage]===tt},f,()=>{chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlShowOriginal"})}))},e=>s.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0}),()=>f(),()=>f(),()=>n(3,p=!p),()=>n(3,p=!p),()=>n(3,p=!1)]}class gI extends Ve{constructor(e){super(),Ue(this,e,fI,hI,a,{useAdvancedToolTip:0},null,[-1,-1])}}function mI(t){let n,r,o,i;return{c(){n=P("button"),r=P("span"),F(r,"class","svelte-19tdlik"),F(n,"aria-label",t[4]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),F(n,"class","switch svelte-19tdlik"),F(n,"data-testid",t[3]),F(n,"data-qa",t[2]),W(n,"checked",t[0]),W(n,"disabled",t[1])},m(e,a){C(e,n,a),I(n,r),o||(i=D(n,"click",t[4]),o=!0)},p(e,[t]){8&t&&F(n,"data-testid",e[3]),4&t&&F(n,"data-qa",e[2]),1&t&&W(n,"checked",e[0]),2&t&&W(n,"disabled",e[1])},i:e,o:e,d(e){e&&O(n),o=!1,i()}}}function vI(e,t,n){let{checked:r=!1}=t,{disabled:o=!1}=t,{qaRoot:i="dl-switch"}=t,{dataTestId:a="deepl-switch"}=t;const s=oe();return e.$$set=e=>{"checked"in e&&n(0,r=e.checked),"disabled"in e&&n(1,o=e.disabled),"qaRoot"in e&&n(2,i=e.qaRoot),"dataTestId"in e&&n(3,a=e.dataTestId)},[r,o,i,a,function(){o||s("change",{checked:!r})}]}class yI extends Ve{constructor(e){super(),Ue(this,e,vI,mI,a,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function _I(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g;return p=new yI({props:{checked:e[2].enableInputTranslation&&e[2].enableInlineTranslation}}),p.$on("change",e[6]),{c(){t=P("div"),n=P("div"),r=P("div"),o=P("p"),o.textContent=`${chrome.i18n.getMessage("main_popup_floating_icon_toggle")}`,i=$(),a=P("button"),s=P("div"),s.textContent=`${chrome.i18n.getMessage("main_popup_floating_icon_settings")}`,c=$(),l=P("span"),u=$(),d=P("div"),Le(p.$$.fragment),F(o,"class","svelte-1lk04l9"),F(s,"class","link svelte-1lk04l9"),F(l,"class","linkout svelte-1lk04l9"),F(a,"class","info-text svelte-1lk04l9"),F(r,"class","switch-content svelte-1lk04l9"),F(d,"class","switch"),F(n,"class","settings-section switch-container svelte-1lk04l9"),F(t,"class","toggle-container svelte-1lk04l9"),F(t,"data-testid",e[1]),W(t,"no-border",e[0])},m(m,v){C(m,t,v),I(t,n),I(n,r),I(r,o),I(r,i),I(r,a),I(a,s),I(a,c),I(a,l),I(n,u),I(n,d),$e(p,d,null),h=!0,f||(g=D(a,"click",e[4]),f=!0)},p(e,[n]){const r={};4&n&&(r.checked=e[2].enableInputTranslation&&e[2].enableInlineTranslation),p.$set(r),(!h||2&n)&&F(t,"data-testid",e[1]),(!h||1&n)&&W(t,"no-border",e[0])},i(e){h||(xe(p.$$.fragment,e),h=!0)},o(e){ke(p.$$.fragment,e),h=!1},d(e){e&&O(t),Me(p),f=!1,g()}}}function bI(e,t,n){let r;u(e,Zr,(e=>n(2,r=e)));let{selectedTab:o}=t,{noBorder:i=!1}=t,{dataTestId:a=""}=t;const s=e=>{v(Zr,r.enableInlineTranslation=e,r),v(Zr,r.enableInputTranslation=e,r),Cr({action:Ar.dlTrackUILocationClicked,payload:o===Yn?nn:rn})};return e.$$set=e=>{"selectedTab"in e&&n(5,o=e.selectedTab),"noBorder"in e&&n(0,i=e.noBorder),"dataTestId"in e&&n(1,a=e.dataTestId)},[i,a,r,s,function(){Cr({action:xr.dlOpenInternalPage,payload:{destination:Ib}}),Cr({action:Ar.dlTrackUILocationClicked,payload:on})},o,e=>s(e.detail.checked)]}class SI extends Ve{constructor(e){super(),Ue(this,e,bI,_I,a,{selectedTab:5,noBorder:0,dataTestId:1})}}function wI(n){let r,a,s,c,l;return a=new uA({props:{error:n[1],close:n[2]}}),{c(){r=P("div"),Le(a.$$.fragment),F(r,"class","container svelte-1wstx56"),F(r,"dir",qr())},m(e,t){C(e,r,t),$e(a,r,null),l=!0},p(e,t){const n={};2&t&&(n.error=e[1]),4&t&&(n.close=e[2]),a.$set(n)},i(e){l||(xe(a.$$.fragment,e),fe((()=>{l&&(c&&c.end(1),s=Oe(r,wb,{x:100,duration:1e3}),s.start())})),l=!0)},o(n){ke(a.$$.fragment,n),s&&s.invalidate(),c=function(n,r,a){const s={direction:"out"};let c,l=r(n,a,s),u=!0;const d=Ee;let p;function h(){const{delay:r=0,duration:i=300,easing:a=t,tick:s=e,css:h}=l||Ce;h&&(c=Q(n,1,0,i,r,a,h));const f=S()+r,g=f+i;fe((()=>we(n,!1,"start"))),"inert"in n&&(p=n.inert,n.inert=!0),A((e=>{if(u){if(e>=g)return s(0,1),we(n,!1,"end"),--d.r||o(d.c),!1;if(e>=f){const t=a((e-f)/i);s(1-t,t)}}return u}))}return d.r+=1,i(l)?Se().then((()=>{l=l(s),h()})):h(),{end(e){e&&"inert"in n&&(n.inert=p),e&&l.tick&&l.tick(1,0),u&&(c&&Z(n,c),u=!1)}}}(r,wb,{x:100,duration:1e3}),l=!1},d(e){e&&O(r),Me(a),e&&c&&c.end()}}}function TI(e){let t,n,r=e[3]&&!1===e[0]&&wI(e);return{c(){r&&r.c(),t=M()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,[n]){e[3]&&!1===e[0]?r?(r.p(e,n),9&n&&xe(r,1)):(r=wI(e),r.c(),xe(r,1),r.m(t.parentNode,t)):r&&(Ae(),ke(r,1,1,(()=>{r=null})),Ie())},i(e){n||(xe(r),n=!0)},o(e){ke(r),n=!1},d(e){e&&O(t),r&&r.d(e)}}}function EI(e,t,n){let r;u(e,LT,(e=>n(4,r=e))),ie("text_direction",qr());let{error:o}=t,{close:i}=t,{errorAlreadyShown:a}=t,s=!1;return ne((()=>{setTimeout((()=>{n(3,s=!0),n(0,a=r)}),100)})),e.$$set=e=>{"error"in e&&n(1,o=e.error),"close"in e&&n(2,i=e.close),"errorAlreadyShown"in e&&n(0,a=e.errorAlreadyShown)},[a,o,i,s]}class AI extends Ve{constructor(e){super(),Ue(this,e,EI,TI,a,{error:1,close:2,errorAlreadyShown:0})}}class II{constructor(e){this.createDOM=e=>{const t="rtl"===qr()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${mt.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new AI({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}II.HTML_TAG_NAME="deepl-alert",II.createElement=(e=document)=>{const t=e.createElement(II.HTML_TAG_NAME),n=new II(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const xI=function(){let e={isDarkMode:Hy()};const{subscribe:t,update:n}=Nr(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>Object.assign(Object.assign({},e),{isDarkMode:Hy()})))})),{subscribe:t,update:e=>{if(zr()&&!{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>((null==e?void 0:e.error)?function(e){try{const t=II.createElement();document.documentElement.appendChild(t),t.createDOM(e),Eb((()=>t.cleanupDOM))}catch(e){zr()&&console.log(e)}}(e.error):LT.set(!1),Object.assign(Object.assign(Object.assign({},t),e),{error:e.error?e.error:void 0}))))}}}();function kI(t){let n,r=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){n=L(r)},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function CI(t){let n;return{c(){n=P("p"),n.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,t){C(e,n,t)},p:e,d(e){e&&O(n)}}}function OI(t){let n,r,o,i;function a(e,t){return e[0]===Xn.TRANSLATOR?CI:e[0]===Xn.WRITE?kI:void 0}let s=a(t),c=s&&s(t);return{c(){n=P("div"),r=P("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=$(),i=P("div"),c&&c.c(),F(r,"class","icon svelte-16jsbww"),F(i,"class","text svelte-16jsbww"),F(n,"class","container svelte-16jsbww")},m(e,t){C(e,n,t),I(n,r),I(n,o),I(n,i),c&&c.m(i,null)},p(e,[t]){s===(s=a(e))&&c?c.p(e,t):(c&&c.d(1),c=s&&s(e),c&&(c.c(),c.m(i,null)))},i:e,o:e,d(e){e&&O(n),c&&c.d()}}}function RI(e,t,n){let{serviceName:r}=t;return e.$$set=e=>{"serviceName"in e&&n(0,r=e.serviceName)},[r]}xI.subscribe((e=>{Object.assign({},e),e&&Object.keys(e).length>0&&Cr({action:xr.newWebsiteState,payload:Object.assign({},e)})}));class PI extends Ve{constructor(e){super(),Ue(this,e,RI,OI,a,{serviceName:0})}}const NI=pp().filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),LI=()=>{const e=new hd(Object.assign(Object.assign({},_y),{transport:gd,stackParser:Pd,integrations:NI})),t=new Rs;return t.setClient(e),t.setContext("appContext",{location:"content"}),by(t),{client:e,scope:t}};function $I(e){return/\bdark\b/gm.test(e)}LI(),function(){let e={isDarkMode:$I(document.body.className)};const{subscribe:t,update:n}=Nr(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:$I(document.body.className)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{Eb((()=>{r.disconnect()}))}))}();function MI(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}function DI(){return!!document.documentElement.hasAttribute("dark")}function UI(t){let n,r=zr(),o=r&&function(e){let t,n,r,o;return{c(){t=P("div"),n=L(e[1]),F(t,"class","dev-label svelte-19c1aay"),W(t,"isInline",e[0])},m(i,a){C(i,t,a),I(t,n),r||(o=D(t,"click",e[2]),r=!0)},p(e,r){2&r&&G(n,e[1]),1&r&&W(t,"isInline",e[0])},d(e){e&&O(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=M()},m(e,t){o&&o.m(e,t),C(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&O(n),o&&o.d(e)}}}function VI(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text)},[r,o,function(){Cr({action:xr.dlOpenInternalPage,payload:{destination:Ab}})}]}!function(){let e={isDarkMode:MI(document.body.style.backgroundColor)};const{subscribe:t,update:n}=Nr(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:MI(document.body.style.backgroundColor)})))}))}));r.observe(document.body,{attributes:!0}),setTimeout((()=>{Eb((()=>{r.disconnect()}))}))}(),function(){let e={isDarkMode:DI()};const{subscribe:t,update:n}=Nr(e);let r=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:DI(document.body.style.backgroundColor)})))}))}));r.observe(document,{attributes:!0}),setTimeout((()=>{Eb((()=>{r.disconnect()}))}))}();class FI extends Ve{constructor(e){super(),Ue(this,e,VI,UI,a,{isInline:0,text:1})}}new DOMParser,LI(),LI();const GI=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&GI.forEach((e=>e.resize.disconnect()))},LI();const jI="PT-456",qI={dlUniqueId:0,translationState:void 0,translatedDOM:[],scrollingHandler:void 0,observer:void 0,currentTargetLanguage:void 0,lastTranslationState:void 0,isLoggedIn:!1,translatorServiceType:void 0},BI=()=>{qI.translatedDOM.forEach((e=>{var t,n;YI(e.original,e.clone),HI(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),WI(e.original,!1)})),qI.translationState=rt.none};xI.subscribe((e=>{qI.translationState=e.translationState,e.translatedDOM&&(qI.translatedDOM=e.translatedDOM.map((e=>e))),e.translationState!==qI.lastTranslationState&&(qI.lastTranslationState=e.translationState,qI.translationState===rt.showOriginal&&BI())})),Zr.subscribe((e=>{if(0!==Object.keys(e).length){if(qI.isLoggedIn=e.isLoggedIn,qI.translatorServiceType=e.translatorServiceType,qI.currentTargetLanguage&&qI.currentTargetLanguage!==e.selectedTargetLanguage){const e=qI.translationState!==rt.none;e&&BI(),xI.update({translatedDOM:[]}),qI.translatedDOM=[],e&&xI.update({translationState:rt.none})}qI.currentTargetLanguage=e.selectedTargetLanguage}})),no.subscribe((e=>{((e,t)=>{if(!e||!Array.isArray(e)||0===e.length)return 1;const n=e.find((e=>e.name===t));n&&n.variant})(e,jI)}));const WI=(e,t)=>{if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)WI(n,t)}},HI=(e,t)=>{const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)},JI=(e,t)=>{if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),HI(e,t)},zI=(e,t)=>{var n;if(void 0===t.dataset)return null;if((null===(n=e.dataset)||void 0===n?void 0:n.dlUid)&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=zI(n,t);if(null!==e)return e}return null},YI=(e,t)=>{for(const n of t.childNodes){const t=zI(e,n);if(t){let r;r=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),JI(r,n),YI(e,r)}else YI(e,n)}};const XI=new class{get state(){return this._state}constructor(e,t,n){this.failureCountThreshold=e,this.openTimeRange=t,this.openDefaultErrorGenerator=n,this._state="CLOSED",this._failureCount=0,this._failureTripTimeoutHandle=void 0}execute(e){return je(this,void 0,void 0,(function*(){if("OPEN"===this._state)throw this.openDefaultErrorGenerator();try{return yield e()}catch(e){throw this.handleFailure(),e}}))}handleFailure(){if(this._failureCount++,this._failureCount<this.failureCountThreshold)return;this._state="OPEN",void 0!==this._failureTripTimeoutHandle&&clearTimeout(this._failureTripTimeoutHandle);const e=Math.random()*(this.openTimeRange.maxMs-this.openTimeRange.minMs)+this.openTimeRange.minMs;this._failureTripTimeoutHandle=setTimeout((()=>{this._state="CLOSED",this._failureCount=0}),e)}}(1,{minMs:2e4,maxMs:4e4},(()=>new Kw("dl-oidc (get tokens): circuit breaker open")));function KI(e){return je(this,arguments,void 0,(function*(e,t="https://deepl.com/oidc/token",n=2e3,r=!0){const o=()=>je(this,void 0,void 0,(function*(){const n=yield fetch(t,{method:"POST",credentials:"omit",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"refresh_token",refresh_token:e})}),r=yield n.json();return function(e,t){if(200!==e){if("invalid_request"===t.error)throw new zw(`dl-oidc (get tokens): invalid request - http status: ${e}`,e);if("invalid_grant"===t.error)throw new Yw(`dl-oidc (get tokens): invalid grant - http status: ${e}`,e);if("too_many_requests"===t.error)throw new Xw(`dl-oidc (get tokens): too many requests - http status: ${e}`,e);throw new Kw(`dl-oidc (get tokens): http status: ${e}`,e)}}(n.status,r),r.access_token})),i=()=>new Promise(((e,t)=>{let r=0;const i=()=>je(this,void 0,void 0,(function*(){try{const t=yield o();e(t)}catch(e){if(e instanceof zw||e instanceof Yw||e instanceof Jw)return void t(e);if(r>=2)return void t(e);r++,setTimeout(i,r*n)}}));i()}));return yield r?XI.execute((()=>i())):i()}))}function QI(e,t){return je(this,arguments,void 0,(function*(e,t,n=!1){let r=t.access_token;function o(){return je(this,void 0,void 0,(function*(){return yield fetch(e,Object.assign(Object.assign(Object.assign({},t),{headers:Object.assign(Object.assign({},t.headers),{Authorization:r?`Bearer ${r}`:"None"})}),t.omitCookies&&{credentials:"omit"}))}))}n&&r&&(r=yield KI(t.refresh_token,t.token_url));let i=yield o();return 401!==i.status&&403!==i.status||(r=yield KI(t.refresh_token,t.token_url),i=yield o()),{response:i,accessToken:r}}))}function ZI(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}const ex="translate",tx="write",nx="pro",rx="getTermbases",ox=async({config:e})=>{const t=`${await ax({...e,isTermbase:!0})}&method=${rx}`,n={jsonrpc:"2.0",method:rx,params:{},id:ZI()};return await ix(t,{method:"POST",headers:{"Content-Type":"application/json"},body:sx(n)},e)},ix=async(e,t,n)=>{const r=await n.auth.getAuthTokens(),o=r?{access_token:r.access_token,refresh_token:r.refresh_token,token_url:n.auth.tokenUrl}:{},{response:i,accessToken:a}=await QI(e,{...t,...o,omitCookies:n.omitCookies});return await n.auth.setAuthTokens(a,r.refresh_token,r.id_token),await cx({response:i,isHtml:!1})},ax=async({auth:e,baseUrls:t,isTermbase:n},r=void 0)=>{const o=await e.getAuthTokens(),i=r===tx?t.write:t.translate;if(n)return t.glossary;if(!o||!o.access_token)return i.free;if(!e.getServiceLevels){const e=(e=>{try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}})(o.access_token),t=e&&"Pro"===e.sessionType;return o.access_token&&t?i.pro:i.free}{const t=await e.getServiceLevels();switch(r){case tx:return t.write===nx?i.pro:i.free;case ex:return t.translator===nx?i.pro:i.free;default:return i.free}}},sx=e=>{let t=JSON.stringify(e);return t=(e.id+3)%13==0||(e.id+5)%29==0?t.replace('"method":"','"method" : "'):t.replace('"method":"','"method": "'),t},cx=async({response:e,isHtml:t})=>{let n;try{if(403===e.status)throw new PT(e.status.toString(),`Translation failed: Http status code ${e.status} forbidden request. re-authenticating makes no difference.`);if(401===e.status)throw new PT(e.status.toString(),`Translation failed: Http status code ${e.status} unauthorized request.`);n=JSON.parse(await e.text())}catch(n){throw 200===e.status?new RT("JSON_RPC: Parsing of response object failed"):e.status>=500&&t?new NT(`FPT failed: Http status code ${e.status}`):new PT(e.status.toString(),`Translation failed: Http status code ${e.status}`)}if("2.0"!==n.jsonrpc||void 0!==n.result&&200!==e.status||void 0===n.result&&void 0===n.error)throw new RT("JSON_RPC: missing field, wrong id, proper result without 200 status, or missing data");if(n.error){if(void 0===n.error.code)throw new RT('JSON_RPC: Missing field "code" in error response');throw new PT(n.error.code.toString(),n.error.message)}if(200!==e.status)throw new PT(e.status.toString(),`Http status code ${e.status}`);return n},lx=e=>{if(!(null==e?void 0:e.includes(">")))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} → ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`};function ux(e,t,n){const r=e.slice();return r[16]=t[n],r}function dx(t){let n,r,o,i,a,s,c,l,u,d,p;return{c(){n=P("div"),r=P("div"),o=$(),i=P("div"),a=P("div"),a.textContent=`${chrome.i18n.getMessage("glossary_failed_to_load_message")}`,s=$(),c=P("div"),c.textContent=`${chrome.i18n.getMessage("glossary_failed_try_again")}`,l=$(),u=P("div"),F(r,"class","icon info svelte-1d450ni"),F(i,"class","content-container svelte-1d450ni"),F(u,"class","icon close svelte-1d450ni"),F(n,"class","error-info-box svelte-1d450ni")},m(e,h){C(e,n,h),I(n,r),I(n,o),I(n,i),I(i,a),I(i,s),I(i,c),I(n,l),I(n,u),d||(p=D(u,"click",t[9]),d=!0)},p:e,d(e){e&&O(n),d=!1,p()}}}function px(e){let t,n,r,o,i,a,s,c,l,u,d,p=e[2].name+"",h=Pe(e[5]),f=[];for(let t=0;t<h.length;t+=1)f[t]=hx(ux(e,h,t));let g=!e[4]&&e[7]&&fx(e);return{c(){t=P("div"),n=P("div"),r=P("div"),o=P("div"),i=L(p),a=$(),s=P("span"),c=$();for(let e=0;e<f.length;e+=1)f[e].c();l=$(),g&&g.c(),F(s,"class","linkout svelte-1d450ni"),F(r,"class","glossary-name-link svelte-1d450ni"),F(n,"class","info"),F(t,"class","glossary-item svelte-1d450ni")},m(p,h){C(p,t,h),I(t,n),I(n,r),I(r,o),I(o,i),I(r,a),I(r,s),I(n,c);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(n,null);I(n,l),g&&g.m(n,null),u||(d=D(o,"click",e[11]),u=!0)},p(e,t){if(4&t&&p!==(p=e[2].name+"")&&G(i,p),32&t){let r;for(h=Pe(e[5]),r=0;r<h.length;r+=1){const o=ux(e,h,r);f[r]?f[r].p(o,t):(f[r]=hx(o),f[r].c(),f[r].m(n,l))}for(;r<f.length;r+=1)f[r].d(1);f.length=h.length}!e[4]&&e[7]?g?g.p(e,t):(g=fx(e),g.c(),g.m(n,null)):g&&(g.d(1),g=null)},d(e){e&&O(t),R(f,e),g&&g.d(),u=!1,d()}}}function hx(e){let t,n,r=lx(e[16].languagePair)+"";return{c(){t=P("div"),n=L(r),F(t,"class","lang-pair svelte-1d450ni")},m(e,r){C(e,t,r),I(t,n)},p(e,t){32&t&&r!==(r=lx(e[16].languagePair)+"")&&G(n,r)},d(e){e&&O(t)}}}function fx(t){let n,r,o;return{c(){n=P("div"),n.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}`,F(n,"class","show-more svelte-1d450ni")},m(e,i){C(e,n,i),r||(o=D(n,"click",t[8]),r=!0)},p:e,d(e){e&&O(n),r=!1,o()}}}function gx(e){let t,n,r,o,i,a,s,c,l,u;s=new yI({props:{checked:e[3].activeTermbaseId&&e[3].isGlossaryEnabled}}),s.$on("change",e[14]);let d=e[6]&&dx(e),p=e[2]&&e[3].isGlossaryEnabled&&px(e);return{c(){t=P("div"),n=P("div"),r=P("div"),o=P("p"),o.textContent=`${chrome.i18n.getMessage("glossary_label")}`,i=$(),a=P("div"),Le(s.$$.fragment),c=$(),d&&d.c(),l=$(),p&&p.c(),F(o,"class","svelte-1d450ni"),F(r,"class","switch-content svelte-1d450ni"),F(a,"class","switch"),F(n,"class","settings-section switch-container svelte-1d450ni"),F(t,"class","toggle-container svelte-1d450ni"),F(t,"data-testid",e[1]),W(t,"no-border",e[0])},m(e,h){C(e,t,h),I(t,n),I(n,r),I(r,o),I(n,i),I(n,a),$e(s,a,null),I(t,c),d&&d.m(t,null),I(t,l),p&&p.m(t,null),u=!0},p(e,[n]){const r={};8&n&&(r.checked=e[3].activeTermbaseId&&e[3].isGlossaryEnabled),s.$set(r),e[6]?d?d.p(e,n):(d=dx(e),d.c(),d.m(t,l)):d&&(d.d(1),d=null),e[2]&&e[3].isGlossaryEnabled?p?p.p(e,n):(p=px(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),(!u||2&n)&&F(t,"data-testid",e[1]),(!u||1&n)&&W(t,"no-border",e[0])},i(e){u||(xe(s.$$.fragment,e),u=!0)},o(e){ke(s.$$.fragment,e),u=!1},d(e){e&&O(t),Me(s),d&&d.d(),p&&p.d()}}}function mx(e,t,n){let r;u(e,Zr,(e=>n(3,r=e)));let o,{noBorder:i=!1}=t,{dataTestId:a=""}=t,s=[],c=!1,l=[],d=!1,p=!1;const h=()=>{if(r.activeTermbaseId&&(n(2,o=((e,t=[])=>{if(!e||0===t.length)return null;if(t.map((e=>e.id)).includes(e))return t.find((t=>t.id===e));return null})(r.activeTermbaseId,s)),o)){const e=o.termDictionaries;e.length<=3||c?n(5,l=e):(n(5,l=e.slice(0,3)),n(7,p=!0))}};function f(e){r.isLoggedIn&&(r.isGlossaryEnabled||r.activeTermbaseId)?(v(Zr,r.isGlossaryEnabled=e,r),h()):g()}function g(){Cr({action:xr.dlOpenInternalPage,payload:{destination:xb}})}ne((async()=>{const e=await Cr({action:Tr.dlGetUserState});if(so(e)){const[e,t]=await(async()=>{let e,t=[];try{const[n,r]=await Cr({action:Er.dlRequestTermbases});r?e=r:t=n}catch(t){console.error(t),e=t}return[t,e]})();if(t)return void n(6,d=!0);n(13,s=e),n(6,d=!1)}else v(Zr,r.isGlossaryEnabled=!1,r)}));return e.$$set=e=>{"noBorder"in e&&n(0,i=e.noBorder),"dataTestId"in e&&n(1,a=e.dataTestId)},e.$$.update=()=>{8204&e.$$.dirty&&s&&s.length>0&&r.activeTermbaseId&&!o&&h()},[i,a,o,r,c,l,d,p,function(){n(4,c=!0)},function(){n(6,d=!1)},f,g,3,s,e=>f(e.detail.checked)]}class vx extends Ve{constructor(e){super(),Ue(this,e,mx,gx,a,{PREVIEW_AMOUNT:12,noBorder:0,dataTestId:1})}get PREVIEW_AMOUNT(){return this.$$.ctx[12]}}class yx extends Error{constructor(e,t){const n=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=n}}class _x extends Error{constructor(e="A timeout occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class bx extends Error{constructor(e="An abort occurred."){const t=new.target.prototype;super(e),this.__proto__=t}}class Sx extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=n}}class wx extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=n}}class Tx extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=n}}class Ex extends Error{constructor(e){const t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}}class Ax extends Error{constructor(e,t){const n=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=n}}class Ix{constructor(e,t,n){this.statusCode=e,this.statusText=t,this.content=n}}class xx{get(e,t){return this.send({...t,method:"GET",url:e})}post(e,t){return this.send({...t,method:"POST",url:e})}delete(e,t){return this.send({...t,method:"DELETE",url:e})}getCookieString(e){return""}}var kx;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(kx||(kx={}));class Cx{constructor(){}log(e,t){}}Cx.instance=new Cx;class Ox{static isRequired(e,t){if(null==e)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,n){if(!(e in t))throw new Error(`Unknown ${n} value: ${e}.`)}}class Rx{static get isBrowser(){return!Rx.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!Rx.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!Rx.isNode&&"object"==typeof window&&void 0===window.document}static get isNode(){return"undefined"!=typeof process&&process.release&&"node"===process.release.name}}function Px(e,t){let n="";return Nx(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function(e){const t=new Uint8Array(e);let n="";return t.forEach((e=>{n+=`0x${e<16?"0":""}${e.toString(16)} `})),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function Nx(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}async function Lx(e,t,n,r,o,i){const a={},[s,c]=Dx();a[s]=c,e.log(kx.Trace,`(${t} transport) sending data. ${Px(o,i.logMessageContent)}.`);const l=Nx(o)?"arraybuffer":"text",u=await n.post(r,{content:o,headers:{...a,...i.headers},responseType:l,timeout:i.timeout,withCredentials:i.withCredentials});e.log(kx.Trace,`(${t} transport) request complete. Response status: ${u.statusCode}.`)}class $x{constructor(e,t){this._subject=e,this._observer=t}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch((e=>{}))}}class Mx{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){const n=`[${(new Date).toISOString()}] ${kx[e]}: ${t}`;switch(e){case kx.Critical:case kx.Error:this.out.error(n);break;case kx.Warning:this.out.warn(n);break;case kx.Information:this.out.info(n);break;default:this.out.log(n)}}}}function Dx(){let e="X-SignalR-User-Agent";return Rx.isNode&&(e="User-Agent"),[e,Ux("8.0.7",Vx(),Gx(),Fx())]}function Ux(e,t,n,r){let o="Microsoft SignalR/";const i=e.split(".");return o+=`${i[0]}.${i[1]}`,o+=` (${e}; `,o+=t&&""!==t?`${t}; `:"Unknown OS; ",o+=`${n}`,o+=r?`; ${r}`:"; Unknown Runtime Version",o+=")",o}function Vx(){if(!Rx.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function Fx(){if(Rx.isNode)return process.versions.node}function Gx(){return Rx.isNode?"NodeJS":"Browser"}function jx(e){return e.stack?e.stack:e.message?e.message:`${e}`}class qx extends xx{constructor(e){if(super(),this._logger=e,"undefined"==typeof fetch||Rx.isNode){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._jar=new(e("tough-cookie").CookieJar),"undefined"==typeof fetch?this._fetchType=e("node-fetch"):this._fetchType=fetch,this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(function(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("could not find global")}());if("undefined"==typeof AbortController){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new bx;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const t=new this._abortControllerType;let n;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),n=new bx});let r,o=null;if(e.timeout){const r=e.timeout;o=setTimeout((()=>{t.abort(),this._logger.log(kx.Warning,"Timeout from HTTP request."),n=new _x}),r)}""===e.content&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Nx(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");try{r=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(e){if(n)throw n;throw this._logger.log(kx.Warning,`Error from HTTP request. ${e}.`),e}finally{o&&clearTimeout(o),e.abortSignal&&(e.abortSignal.onabort=null)}if(!r.ok){const e=await Bx(r,"text");throw new yx(e||r.statusText,r.status)}const i=Bx(r,e.responseType),a=await i;return new Ix(r.status,r.statusText,a)}getCookieString(e){let t="";return Rx.isNode&&this._jar&&this._jar.getCookies(e,((e,n)=>t=n.join("; "))),t}}function Bx(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class Wx extends xx{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new bx):e.method?e.url?new Promise(((t,n)=>{const r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=void 0===e.withCredentials||e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===e.content&&(e.content=void 0),e.content&&(Nx(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=e.headers;o&&Object.keys(o).forEach((e=>{r.setRequestHeader(e,o[e])})),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),n(new bx)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new Ix(r.status,r.statusText,r.response||r.responseText)):n(new yx(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(kx.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),n(new yx(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(kx.Warning,"Timeout from HTTP request."),n(new _x)},r.send(e.content)})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Hx extends xx{constructor(e){if(super(),"undefined"!=typeof fetch||Rx.isNode)this._httpClient=new qx(e);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");this._httpClient=new Wx(e)}}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new bx):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Jx{static write(e){return`${e}${Jx.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Jx.RecordSeparator)throw new Error("Message is incomplete.");const t=e.split(Jx.RecordSeparator);return t.pop(),t}}Jx.RecordSeparatorCode=30,Jx.RecordSeparator=String.fromCharCode(Jx.RecordSeparatorCode);class zx{writeHandshakeRequest(e){return Jx.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,n;if(Nx(e)){const r=new Uint8Array(e),o=r.indexOf(Jx.RecordSeparatorCode);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(r.slice(0,i))),n=r.byteLength>i?r.slice(i).buffer:null}else{const r=e,o=r.indexOf(Jx.RecordSeparator);if(-1===o)throw new Error("Message is incomplete.");const i=o+1;t=r.substring(0,i),n=r.length>i?r.substring(i):null}const r=Jx.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[n,o]}}var Yx;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"}(Yx||(Yx={}));let Xx=class{constructor(){this.observers=[]}next(e){for(const t of this.observers)t.next(e)}error(e){for(const t of this.observers)t.error&&t.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new $x(this,e)}};class Kx{constructor(e,t,n){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=n}async _send(e){const t=this._protocol.writeMessage(e);let n=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let e=()=>{},r=()=>{};Nx(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(n=new Promise(((t,n)=>{e=t,r=n}))),this._messages.push(new Qx(t,this._totalMessageCount,e,r))}try{this._reconnectInProgress||await this._connection.send(t)}catch{this._disconnected()}await n}_ack(e){let t=-1;for(let n=0;n<this._messages.length;n++){const r=this._messages[n];if(r._id<=e.sequenceId)t=n,Nx(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;r._resolver()}}-1!==t&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type===Yx.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){e.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=0!==this._messages.length?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:Yx.Sequence,sequenceId:e}));const t=this._messages;for(const e of t)await this._connection.send(e._message);this._reconnectInProgress=!1}_dispose(e){null!=e||(e=new Error("Unable to reconnect to server."));for(const t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case Yx.Invocation:case Yx.StreamItem:case Yx.Completion:case Yx.StreamInvocation:case Yx.CancelInvocation:return!0;case Yx.Close:case Yx.Sequence:case Yx.Ping:case Yx.Ack:return!1}}_ackTimer(){void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout((async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:Yx.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}}class Qx{constructor(e,t,n,r){this._message=e,this._id=t,this._resolver=n,this._rejector=r}}var Zx;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(Zx||(Zx={}));class ek{static create(e,t,n,r,o,i,a){return new ek(e,t,n,r,o,i,a)}constructor(e,t,n,r,o,i,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(kx.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ox.isRequired(e,"connection"),Ox.isRequired(t,"logger"),Ox.isRequired(n,"protocol"),this.serverTimeoutInMilliseconds=null!=o?o:3e4,this.keepAliveIntervalInMilliseconds=null!=i?i:15e3,this._statefulReconnectBufferSize=null!=a?a:1e5,this._logger=t,this._protocol=n,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new zx,this.connection.onreceive=e=>this._processIncomingData(e),this.connection.onclose=e=>this._connectionClosed(e),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Zx.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Yx.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Zx.Disconnected&&this._connectionState!==Zx.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Zx.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Zx.Connecting,this._logger.log(kx.Debug,"Starting HubConnection.");try{await this._startInternal(),Rx.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Zx.Connected,this._connectionStarted=!0,this._logger.log(kx.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Zx.Disconnected,this._logger.log(kx.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise(((e,t)=>{this._handshakeResolver=e,this._handshakeRejecter=t}));await this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);const n={protocol:this._protocol.name,version:t};if(this._logger.log(kx.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(n)),this._logger.log(kx.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Kx(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(kx.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch(e){}}_stopInternal(e){if(this._connectionState===Zx.Disconnected)return this._logger.log(kx.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Zx.Disconnecting)return this._logger.log(kx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const t=this._connectionState;return this._connectionState=Zx.Disconnecting,this._logger.log(kx.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(kx.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Zx.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new bx("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r);let i;const a=new Xx;return a.cancelCallback=()=>{const e=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],i.then((()=>this._sendWithProtocol(e)))},this._callbacks[o.invocationId]=(e,t)=>{t?a.error(t):e&&(e.type===Yx.Completion?e.error?a.error(new Error(e.error)):a.complete():a.next(e.item))},i=this._sendWithProtocol(o).catch((e=>{a.error(e),delete this._callbacks[o.invocationId]})),this._launchStreams(n,i),a}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(n,o),o}invoke(e,...t){const[n,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r),i=new Promise(((e,t)=>{this._callbacks[o.invocationId]=(n,r)=>{r?t(r):n&&(n.type===Yx.Completion?n.error?t(new Error(n.error)):e(n.result):t(new Error(`Unexpected message type: ${n.type}`)))};const r=this._sendWithProtocol(o).catch((e=>{t(e),delete this._callbacks[o.invocationId]}));this._launchStreams(n,r)}));return i}on(e,t){e&&t&&(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),-1===this._methods[e].indexOf(t)&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();const n=this._methods[e];if(n)if(t){const r=n.indexOf(t);-1!==r&&(n.splice(r,1),0===n.length&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const t=this._protocol.parseMessages(e,this._logger);for(const e of t)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(e))switch(e.type){case Yx.Invocation:this._invokeClientMethod(e).catch((e=>{this._logger.log(kx.Error,`Invoke client method threw error: ${jx(e)}`)}));break;case Yx.StreamItem:case Yx.Completion:{const t=this._callbacks[e.invocationId];if(t){e.type===Yx.Completion&&delete this._callbacks[e.invocationId];try{t(e)}catch(e){this._logger.log(kx.Error,`Stream callback threw error: ${jx(e)}`)}}break}case Yx.Ping:break;case Yx.Close:{this._logger.log(kx.Information,"Close message received from server.");const t=e.error?new Error("Server returned an error on close: "+e.error):void 0;!0===e.allowReconnect?this.connection.stop(t):this._stopPromise=this._stopInternal(t);break}case Yx.Ack:this._messageBuffer&&this._messageBuffer._ack(e);break;case Yx.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(e);break;default:this._logger.log(kx.Warning,`Invalid message type: ${e.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,n;try{[n,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(e){const t="Error parsing handshake response: "+e;this._logger.log(kx.Error,t);const n=new Error(t);throw this._handshakeRejecter(n),n}if(t.error){const e="Server returned handshake error: "+t.error;this._logger.log(kx.Error,e);const n=new Error(e);throw this._handshakeRejecter(n),n}return this._logger.log(kx.Debug,"Server handshake complete."),this._handshakeResolver(),n}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout((()=>this.serverTimeout()),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let e=this._nextKeepAlive-(new Date).getTime();e<0&&(e=0),this._pingServerHandle=setTimeout((async()=>{if(this._connectionState===Zx.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const t=e.target.toLowerCase(),n=this._methods[t];if(!n)return this._logger.log(kx.Warning,`No client method with the name '${t}' found.`),void(e.invocationId&&(this._logger.log(kx.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null))));const r=n.slice(),o=!!e.invocationId;let i,a,s;for(const n of r)try{const r=i;i=await n.apply(this,e.arguments),o&&i&&r&&(this._logger.log(kx.Error,`Multiple results provided for '${t}'. Sending error to server.`),s=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),a=void 0}catch(e){a=e,this._logger.log(kx.Error,`A callback for the method '${t}' threw error '${e}'.`)}s?await this._sendWithProtocol(s):o?(a?s=this._createCompletionMessage(e.invocationId,`${a}`,null):void 0!==i?s=this._createCompletionMessage(e.invocationId,null,i):(this._logger.log(kx.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),s=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(s)):i&&this._logger.log(kx.Error,`Result given for '${t}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(kx.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new bx("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Zx.Disconnecting?this._completeClose(e):this._connectionState===Zx.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Zx.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Zx.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(null!=e?e:new Error("Connection closed.")),this._messageBuffer=void 0),Rx.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(kx.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}async _reconnect(e){const t=Date.now();let n=0,r=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(n++,0,r);if(null===o)return this._logger.log(kx.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void this._completeClose(e);if(this._connectionState=Zx.Reconnecting,e?this._logger.log(kx.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(kx.Information,"Connection reconnecting."),0!==this._reconnectingCallbacks.length){try{this._reconnectingCallbacks.forEach((t=>t.apply(this,[e])))}catch(t){this._logger.log(kx.Error,`An onreconnecting callback called with error '${e}' threw error '${t}'.`)}if(this._connectionState!==Zx.Reconnecting)return void this._logger.log(kx.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==o;){if(this._logger.log(kx.Information,`Reconnect attempt number ${n} will start in ${o} ms.`),await new Promise((e=>{this._reconnectDelayHandle=setTimeout(e,o)})),this._reconnectDelayHandle=void 0,this._connectionState!==Zx.Reconnecting)return void this._logger.log(kx.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(await this._startInternal(),this._connectionState=Zx.Connected,this._logger.log(kx.Information,"HubConnection reconnected successfully."),0!==this._reconnectedCallbacks.length)try{this._reconnectedCallbacks.forEach((e=>e.apply(this,[this.connection.connectionId])))}catch(e){this._logger.log(kx.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${e}'.`)}return}catch(e){if(this._logger.log(kx.Information,`Reconnect attempt failed because of error '${e}'.`),this._connectionState!==Zx.Reconnecting)return this._logger.log(kx.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(this._connectionState===Zx.Disconnecting&&this._completeClose());r=e instanceof Error?e:new Error(e.toString()),o=this._getNextRetryDelay(n++,Date.now()-t,r)}}this._logger.log(kx.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${n} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,t,n){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:n})}catch(n){return this._logger.log(kx.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${n}'.`),null}}_cancelCallbacksWithError(e){const t=this._callbacks;this._callbacks={},Object.keys(t).forEach((n=>{const r=t[n];try{r(null,e)}catch(t){this._logger.log(kx.Error,`Stream 'error' callback called with '${e}' threw error: ${jx(t)}`)}}))}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,n,r){if(n)return 0!==r.length?{arguments:t,streamIds:r,target:e,type:Yx.Invocation}:{arguments:t,target:e,type:Yx.Invocation};{const n=this._invocationId;return this._invocationId++,0!==r.length?{arguments:t,invocationId:n.toString(),streamIds:r,target:e,type:Yx.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:Yx.Invocation}}}_launchStreams(e,t){if(0!==e.length){t||(t=Promise.resolve());for(const n in e)e[n].subscribe({complete:()=>{t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n))))},error:e=>{let r;r=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((()=>this._sendWithProtocol(this._createCompletionMessage(n,r))))},next:e=>{t=t.then((()=>this._sendWithProtocol(this._createStreamItemMessage(n,e))))}})}}_replaceStreamingParams(e){const t=[],n=[];for(let r=0;r<e.length;r++){const o=e[r];if(this._isObservable(o)){const i=this._invocationId;this._invocationId++,t[i]=o,n.push(i.toString()),e.splice(r,1)}}return[t,n]}_isObservable(e){return e&&e.subscribe&&"function"==typeof e.subscribe}_createStreamInvocation(e,t,n){const r=this._invocationId;return this._invocationId++,0!==n.length?{arguments:t,invocationId:r.toString(),streamIds:n,target:e,type:Yx.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:Yx.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:Yx.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:Yx.StreamItem}}_createCompletionMessage(e,t,n){return t?{error:t,invocationId:e,type:Yx.Completion}:{invocationId:e,result:n,type:Yx.Completion}}_createCloseMessage(){return{type:Yx.Close}}}const tk=[0,2e3,1e4,3e4,null];class nk{constructor(e){this._retryDelays=void 0!==e?[...e,null]:tk}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class rk{}rk.Authorization="Authorization",rk.Cookie="Cookie";class ok extends xx{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}async send(e){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const n=await this._innerClient.send(e);return t&&401===n.statusCode&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):n}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[rk.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[rk.Authorization]&&delete e.headers[rk.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var ik,ak;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(ik||(ik={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(ak||(ak={}));let sk=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class ck{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,n){this._httpClient=e,this._logger=t,this._pollAbort=new sk,this._options=n,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,t){if(Ox.isRequired(e,"url"),Ox.isRequired(t,"transferFormat"),Ox.isIn(t,ak,"transferFormat"),this._url=e,this._logger.log(kx.Trace,"(LongPolling transport) Connecting."),t===ak.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[n,r]=Dx(),o={[n]:r,...this._options.headers},i={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===ak.Binary&&(i.responseType="arraybuffer");const a=`${e}&_=${Date.now()}`;this._logger.log(kx.Trace,`(LongPolling transport) polling: ${a}.`);const s=await this._httpClient.get(a,i);200!==s.statusCode?(this._logger.log(kx.Error,`(LongPolling transport) Unexpected response code: ${s.statusCode}.`),this._closeError=new yx(s.statusText||"",s.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,i)}async _poll(e,t){try{for(;this._running;)try{const n=`${e}&_=${Date.now()}`;this._logger.log(kx.Trace,`(LongPolling transport) polling: ${n}.`);const r=await this._httpClient.get(n,t);204===r.statusCode?(this._logger.log(kx.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):200!==r.statusCode?(this._logger.log(kx.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new yx(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(kx.Trace,`(LongPolling transport) data received. ${Px(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(kx.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(e){this._running?e instanceof _x?this._logger.log(kx.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=e,this._running=!1):this._logger.log(kx.Trace,`(LongPolling transport) Poll errored after shutdown: ${e.message}`)}}finally{this._logger.log(kx.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?Lx(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(kx.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(kx.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[t,n]=Dx();e[t]=n;const r={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,r)}catch(e){o=e}o?o instanceof yx&&(404===o.statusCode?this._logger.log(kx.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(kx.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(kx.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(kx.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(kx.Trace,e),this.onclose(this._closeError)}}}class lk{constructor(e,t,n,r){this._httpClient=e,this._accessToken=t,this._logger=n,this._options=r,this.onreceive=null,this.onclose=null}async connect(e,t){return Ox.isRequired(e,"url"),Ox.isRequired(t,"transferFormat"),Ox.isIn(t,ak,"transferFormat"),this._logger.log(kx.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise(((n,r)=>{let o,i=!1;if(t===ak.Text){if(Rx.isBrowser||Rx.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const t=this._httpClient.getCookieString(e),n={};n.Cookie=t;const[r,i]=Dx();n[r]=i,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...n,...this._options.headers}})}try{o.onmessage=e=>{if(this.onreceive)try{this._logger.log(kx.Trace,`(SSE transport) data received. ${Px(e.data,this._options.logMessageContent)}.`),this.onreceive(e.data)}catch(e){return void this._close(e)}},o.onerror=e=>{i?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(kx.Information,`SSE connected to ${this._url}`),this._eventSource=o,i=!0,n()}}catch(e){return void r(e)}}else r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))}async send(e){return this._eventSource?Lx(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class uk{constructor(e,t,n,r,o,i){this._logger=n,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=i}async connect(e,t){let n;return Ox.isRequired(e,"url"),Ox.isRequired(t,"transferFormat"),Ox.isIn(t,ak,"transferFormat"),this._logger.log(kx.Trace,"(WebSockets transport) Connecting."),this._accessTokenFactory&&(n=await this._accessTokenFactory()),new Promise(((r,o)=>{let i;e=e.replace(/^http/,"ws");const a=this._httpClient.getCookieString(e);let s=!1;if(Rx.isNode||Rx.isReactNative){const t={},[r,o]=Dx();t[r]=o,n&&(t[rk.Authorization]=`Bearer ${n}`),a&&(t[rk.Cookie]=a),i=new this._webSocketConstructor(e,void 0,{headers:{...t,...this._headers}})}else n&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(n)}`);i||(i=new this._webSocketConstructor(e)),t===ak.Binary&&(i.binaryType="arraybuffer"),i.onopen=t=>{this._logger.log(kx.Information,`WebSocket connected to ${e}.`),this._webSocket=i,s=!0,r()},i.onerror=e=>{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"There was an error with the transport",this._logger.log(kx.Information,`(WebSockets transport) ${t}.`)},i.onmessage=e=>{if(this._logger.log(kx.Trace,`(WebSockets transport) data received. ${Px(e.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(e.data)}catch(e){return void this._close(e)}},i.onclose=e=>{if(s)this._close(e);else{let t=null;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(t))}}}))}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(kx.Trace,`(WebSockets transport) sending data. ${Px(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(kx.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)))}_isCloseEvent(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code}}class dk{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ox.isRequired(e,"url"),this._logger=function(e){return void 0===e?new Mx(kx.Information):null===e?Cx.instance:void 0!==e.log?e:new Mx(e)}(t.logger),this.baseUrl=this._resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials,t.timeout=void 0===t.timeout?1e5:t.timeout;let n=null,r=null;if(Rx.isNode&&"undefined"!=typeof require){const e="function"==typeof __webpack_require__?__non_webpack_require__:require;n=e("ws"),r=e("eventsource")}Rx.isNode||"undefined"==typeof WebSocket||t.WebSocket?Rx.isNode&&!t.WebSocket&&n&&(t.WebSocket=n):t.WebSocket=WebSocket,Rx.isNode||"undefined"==typeof EventSource||t.EventSource?Rx.isNode&&!t.EventSource&&void 0!==r&&(t.EventSource=r):t.EventSource=EventSource,this._httpClient=new ok(t.httpClient||new Hx(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ak.Binary,Ox.isIn(e,ak,"transferFormat"),this._logger.log(kx.Debug,`Starting connection with transfer format '${ak[e]}'.`),"Disconnected"!==this._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,"Disconnecting"===this._connectionState){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(kx.Error,e),await this._stopPromise,Promise.reject(new bx(e))}if("Connected"!==this._connectionState){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(kx.Error,e),Promise.reject(new bx(e))}this._connectionStarted=!0}send(e){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new pk(this.transport)),this._sendQueue.send(e))}async stop(e){return"Disconnected"===this._connectionState?(this._logger.log(kx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===this._connectionState?(this._logger.log(kx.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState="Disconnecting",this._stopPromise=new Promise((e=>{this._stopPromiseResolver=e})),await this._stopInternal(e),void await this._stopPromise)}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch(e){}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(kx.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(kx.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation){if(this._options.transport!==ik.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");this.transport=this._constructTransport(ik.WebSockets),await this._startTransport(t,e)}else{let n=null,r=0;do{if(n=await this._getNegotiationResponse(t),"Disconnecting"===this._connectionState||"Disconnected"===this._connectionState)throw new bx("The connection was stopped during negotiation.");if(n.error)throw new Error(n.error);if(n.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(n.url&&(t=n.url),n.accessToken){const e=n.accessToken;this._accessTokenFactory=()=>e,this._httpClient._accessToken=e,this._httpClient._accessTokenFactory=void 0}r++}while(n.url&&r<100);if(100===r&&n.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(t,this._options.transport,n,e)}this.transport instanceof ck&&(this.features.inherentKeepAlive=!0),"Connecting"===this._connectionState&&(this._logger.log(kx.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(e){return this._logger.log(kx.Error,"Failed to start the connection: "+e),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(e)}}async _getNegotiationResponse(e){const t={},[n,r]=Dx();t[n]=r;const o=this._resolveNegotiateUrl(e);this._logger.log(kx.Debug,`Sending negotiation request: ${o}.`);try{const e=await this._httpClient.post(o,{content:"",headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(200!==e.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${e.statusCode}'`));const n=JSON.parse(e.content);return(!n.negotiateVersion||n.negotiateVersion<1)&&(n.connectionToken=n.connectionId),n.useStatefulReconnect&&!0!==this._options._useStatefulReconnect?Promise.reject(new Ex("Client didn't negotiate Stateful Reconnect but the server did.")):n}catch(e){let t="Failed to complete negotiation with the server: "+e;return e instanceof yx&&404===e.statusCode&&(t+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(kx.Error,t),Promise.reject(new Ex(t))}}_createConnectUrl(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+`id=${t}`:e}async _createTransport(e,t,n,r){let o=this._createConnectUrl(e,n.connectionToken);if(this._isITransport(t))return this._logger.log(kx.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,await this._startTransport(o,r),void(this.connectionId=n.connectionId);const i=[],a=n.availableTransports||[];let s=n;for(const n of a){const a=this._resolveTransportOrError(n,t,r,!0===(null==s?void 0:s.useStatefulReconnect));if(a instanceof Error)i.push(`${n.transport} failed:`),i.push(a);else if(this._isITransport(a)){if(this.transport=a,!s){try{s=await this._getNegotiationResponse(e)}catch(e){return Promise.reject(e)}o=this._createConnectUrl(e,s.connectionToken)}try{return await this._startTransport(o,r),void(this.connectionId=s.connectionId)}catch(e){if(this._logger.log(kx.Error,`Failed to start the transport '${n.transport}': ${e}`),s=void 0,i.push(new Tx(`${n.transport} failed: ${e}`,ik[n.transport])),"Connecting"!==this._connectionState){const e="Failed to select transport before stop() was called.";return this._logger.log(kx.Debug,e),Promise.reject(new bx(e))}}}}return i.length>0?Promise.reject(new Ax(`Unable to connect to the server with any of the available transports. ${i.join(" ")}`,i)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case ik.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new uk(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case ik.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new lk(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case ik.LongPolling:return new ck(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async n=>{let r=!1;if(this.features.reconnect){try{this.features.disconnected(),await this.transport.connect(e,t),await this.features.resend()}catch{r=!0}r&&this._stopConnection(n)}else this._stopConnection(n)}:this.transport.onclose=e=>this._stopConnection(e),this.transport.connect(e,t)}_resolveTransportOrError(e,t,n,r){const o=ik[e.transport];if(null==o)return this._logger.log(kx.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(!function(e,t){return!e||!!(t&e)}(t,o))return this._logger.log(kx.Debug,`Skipping transport '${ik[o]}' because it was disabled by the client.`),new wx(`'${ik[o]}' is disabled by the client.`,o);if(!(e.transferFormats.map((e=>ak[e])).indexOf(n)>=0))return this._logger.log(kx.Debug,`Skipping transport '${ik[o]}' because it does not support the requested transfer format '${ak[n]}'.`),new Error(`'${ik[o]}' does not support ${ak[n]}.`);if(o===ik.WebSockets&&!this._options.WebSocket||o===ik.ServerSentEvents&&!this._options.EventSource)return this._logger.log(kx.Debug,`Skipping transport '${ik[o]}' because it is not supported in your environment.'`),new Sx(`'${ik[o]}' is not supported in your environment.`,o);this._logger.log(kx.Debug,`Selecting transport '${ik[o]}'.`);try{return this.features.reconnect=o===ik.WebSockets?r:void 0,this._constructTransport(o)}catch(e){return e}}_isITransport(e){return e&&"object"==typeof e&&"connect"in e}_stopConnection(e){if(this._logger.log(kx.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(kx.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),e?this._logger.log(kx.Error,`Connection disconnected with error '${e}'.`):this._logger.log(kx.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch((e=>{this._logger.log(kx.Error,`TransportSendQueue.stop() threw error '${e}'.`)})),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(kx.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}else this._logger.log(kx.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!Rx.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const t=window.document.createElement("a");return t.href=e,this._logger.log(kx.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){const t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";const n=new URLSearchParams(t.searchParams);return n.has("negotiateVersion")||n.append("negotiateVersion",this._negotiateVersion.toString()),n.has("useStatefulReconnect")?"true"===n.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&n.append("useStatefulReconnect","true"),t.search=n.toString(),t.toString()}}class pk{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new hk,this._transportResult=new hk,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new hk),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new hk;const e=this._transportResult;this._transportResult=void 0;const t="string"==typeof this._buffer[0]?this._buffer.join(""):pk._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(t),e.resolve()}catch(t){e.reject(t)}}}static _concatBuffers(e){const t=e.map((e=>e.byteLength)).reduce(((e,t)=>e+t)),n=new Uint8Array(t);let r=0;for(const t of e)n.set(new Uint8Array(t),r),r+=t.byteLength;return n.buffer}}class hk{constructor(){this.promise=new Promise(((e,t)=>[this._resolver,this._rejecter]=[e,t]))}resolve(){this._resolver()}reject(e){this._rejecter(e)}}class fk{constructor(){this.name="json",this.version=2,this.transferFormat=ak.Text}parseMessages(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=Cx.instance);const n=Jx.parse(e),r=[];for(const e of n){const n=JSON.parse(e);if("number"!=typeof n.type)throw new Error("Invalid payload.");switch(n.type){case Yx.Invocation:this._isInvocationMessage(n);break;case Yx.StreamItem:this._isStreamItemMessage(n);break;case Yx.Completion:this._isCompletionMessage(n);break;case Yx.Ping:case Yx.Close:break;case Yx.Ack:this._isAckMessage(n);break;case Yx.Sequence:this._isSequenceMessage(n);break;default:t.log(kx.Information,"Unknown message type '"+n.type+"' ignored.");continue}r.push(n)}return r}writeMessage(e){return Jx.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if("number"!=typeof e.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if("string"!=typeof e||""===e)throw new Error(t)}}const gk={trace:kx.Trace,debug:kx.Debug,info:kx.Information,information:kx.Information,warn:kx.Warning,warning:kx.Warning,error:kx.Error,critical:kx.Critical,none:kx.None};class mk{configureLogging(e){if(Ox.isRequired(e,"logging"),function(e){return void 0!==e.log}(e))this.logger=e;else if("string"==typeof e){const t=function(e){const t=gk[e.toLowerCase()];if(void 0!==t)return t;throw new Error(`Unknown log level: ${e}`)}(e);this.logger=new Mx(t)}else this.logger=new Mx(e);return this}withUrl(e,t){return Ox.isRequired(e,"url"),Ox.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions="object"==typeof t?{...this.httpConnectionOptions,...t}:{...this.httpConnectionOptions,transport:t},this}withHubProtocol(e){return Ox.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new nk(e):this.reconnectPolicy=e:this.reconnectPolicy=new nk,this}withServerTimeout(e){return Ox.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return Ox.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=null==e?void 0:e.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const t=new dk(this.url,e);return ek.create(t,this.logger||Cx.instance,this.protocol||new fk,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}var vk,yk,_k,bk=4294967295;function Sk(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function wk(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var Tk=("undefined"==typeof process||"never"!==(null===(vk=null===process||void 0===process?void 0:process.env)||void 0===vk?void 0:vk.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function Ek(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(4294967168&o)if(4294965248&o){if(o>=55296&&o<=56319&&r<t){var i=e.charCodeAt(r);56320==(64512&i)&&(++r,o=((1023&o)<<10)+(1023&i)+65536)}n+=4294901760&o?4:3}else n+=2;else n++}return n}var Ak=Tk?new TextEncoder:void 0,Ik=Tk?"undefined"!=typeof process&&"force"!==(null===(yk=null===process||void 0===process?void 0:process.env)||void 0===yk?void 0:yk.TEXT_ENCODING)?200:0:bk;var xk=(null==Ak?void 0:Ak.encodeInto)?function(e,t,n){Ak.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(Ak.encode(e),n)};function kk(e,t,n){for(var r=t,o=r+n,i=[],a="";r<o;){var s=e[r++];if(128&s)if(192==(224&s)){var c=63&e[r++];i.push((31&s)<<6|c)}else if(224==(240&s)){c=63&e[r++];var l=63&e[r++];i.push((31&s)<<12|c<<6|l)}else if(240==(248&s)){var u=(7&s)<<18|(c=63&e[r++])<<12|(l=63&e[r++])<<6|63&e[r++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(s);else i.push(s);i.length>=4096&&(a+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(a+=String.fromCharCode.apply(String,i)),a}var Ck=Tk?new TextDecoder:null,Ok=Tk?"undefined"!=typeof process&&"force"!==(null===(_k=null===process||void 0===process?void 0:process.env)||void 0===_k?void 0:_k.TEXT_DECODER)?200:0:bk;var Rk=function(e,t){this.type=e,this.data=t},Pk=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nk=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return Pk(t,e),t}(Error);var Lk={type:-1,encode:function(e){var t,n,r,o;return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var i=n/4294967296,a=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,r<<2|3&i),t.setUint32(4,a),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,r),Sk(t,4,n),o}((t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),o=Math.floor(r/1e9),{sec:n+o,nsec:r-1e9*o})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:wk(t,4),nsec:t.getUint32(0)};default:throw new Nk("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},$k=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Lk)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++){if(null!=(r=this.builtInEncoders[n]))if(null!=(o=r(e,t)))return new Rk(-1-n,o)}for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n]))if(null!=(o=r(e,t)))return new Rk(n,o)}return e instanceof Rk?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new Rk(t,e)},e.defaultCodec=new e,e}();function Mk(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var Dk=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=$k.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),void 0===s&&(s=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=a,this.forceIntegerToFloat=s,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>Ik){var t=Ek(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),xk(e,this.bytes,this.pos),this.pos+=t}else{t=Ek(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,i=0;i<r;){var a=e.charCodeAt(i++);if(4294967168&a){if(4294965248&a){if(a>=55296&&a<=56319&&i<r){var s=e.charCodeAt(i);56320==(64512&s)&&(++i,a=((1023&a)<<10)+(1023&s)+65536)}4294901760&a?(t[o++]=a>>18&7|240,t[o++]=a>>12&63|128,t[o++]=a>>6&63|128):(t[o++]=a>>12&15|224,t[o++]=a>>6&63|128)}else t[o++]=a>>6&31|192;t[o++]=63&a|128}else t[o++]=a}}(e,this.bytes,this.pos),this.pos+=t}},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=Mk(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,o=e;r<o.length;r++){var i=o[r];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++){void 0!==e[o[r]]&&n++}return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var o=0,i=n;o<i.length;o++){var a=i[o],s=e[a];this.ignoreUndefined&&void 0===s||(this.encodeString(a),this.doEncode(s,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),Sk(this.view,this.pos,e),this.pos+=8},e}();function Uk(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var Vk=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,o=this.caches[n-1];r<o.length;r++){for(var i=o[r],a=i.bytes,s=0;s<n;s++)if(a[s]!==e[t+s])continue e;return i.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=kk(e,t,n),i=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(i,o),o},e}(),Fk=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Gk=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},jk=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}},qk=function(e){return this instanceof qk?(this.v=e,this):new qk(e)},Bk=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof qk?Promise.resolve(e.value.v).then(c,l):u(i[0][2],e)}(o[e](t))}catch(e){u(i[0][3],e)}}function c(e){s("next",e)}function l(e){s("throw",e)}function u(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},Wk=new DataView(new ArrayBuffer(0)),Hk=new Uint8Array(Wk.buffer),Jk=function(){try{Wk.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),zk=new Jk("Insufficient data"),Yk=new Vk,Xk=function(){function e(e,t,n,r,o,i,a,s){void 0===e&&(e=$k.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=bk),void 0===r&&(r=bk),void 0===o&&(o=bk),void 0===i&&(i=bk),void 0===a&&(a=bk),void 0===s&&(s=Yk),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=s,this.totalPos=0,this.pos=0,this.view=Wk,this.bytes=Hk,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=Mk(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=Mk(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=Mk(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return Gk(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o;return Fk(this,void 0,void 0,(function(){var i,a,s,c,l,u,d,p;return Gk(this,(function(h){switch(h.label){case 0:i=!1,h.label=1;case 1:h.trys.push([1,6,7,12]),t=jk(e),h.label=2;case 2:return[4,t.next()];case 3:if((n=h.sent()).done)return[3,5];if(s=n.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s);try{a=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof Jk))throw e}this.totalPos+=this.pos,h.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=h.sent(),r={error:c},[3,12];case 7:return h.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:h.sent(),h.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,a]}throw u=(l=this).headByte,d=l.pos,p=l.totalPos,new RangeError("Insufficient data in parsing ".concat(Uk(u)," at ").concat(p," (").concat(d," in the current buffer)"))}}))}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return Bk(this,arguments,(function(){var n,r,o,i,a,s,c,l,u;return Gk(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=jk(e),d.label=2;case 2:return[4,qk(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(a=i.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,qk(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((s=d.sent())instanceof Jk))throw s;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),l={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,qk(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!==(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!==(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e){n=this.lookU8();t=this.decodeUtf8String(n,1)}else if(218===e){n=this.lookU16();t=this.decodeUtf8String(n,2)}else if(219===e){n=this.lookU32();t=this.decodeUtf8String(n,4)}else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e){r=this.lookU16();t=this.decodeBinary(r,2)}else if(198===e){r=this.lookU32();t=this.decodeBinary(r,4)}else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e){r=this.lookU8();t=this.decodeExtension(r,1)}else if(200===e){r=this.lookU16();t=this.decodeExtension(r,2)}else{if(201!==e)throw new Nk("Unrecognized type byte: ".concat(Uk(e)));r=this.lookU32();t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(a=void 0,"string"!==(a=typeof t)&&"number"!==a)throw new Nk("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new Nk("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var a},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new Nk("Unrecognized array type byte: ".concat(Uk(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new Nk("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new Nk("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new Nk("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw zk;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>Ok?function(e,t,n){var r=e.subarray(t,t+n);return Ck.decode(r)}(this.bytes,o,e):kk(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new Nk("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw zk;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new Nk("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=wk(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}();class Kk{static write(e){let t=e.byteLength||e.length;const n=[];do{let e=127&t;t>>=7,t>0&&(e|=128),n.push(e)}while(t>0);t=e.byteLength||e.length;const r=new Uint8Array(n.length+t);return r.set(n,0),r.set(e,n.length),r.buffer}static parse(e){const t=[],n=new Uint8Array(e),r=[0,7,14,21,28];for(let o=0;o<e.byteLength;){let i,a=0,s=0;do{i=n[o+a],s|=(127&i)<<r[a],a++}while(a<Math.min(5,e.byteLength-o)&&128&i);if(128&i&&a<5)throw new Error("Cannot read message size.");if(5===a&&i>7)throw new Error("Messages bigger than 2GB are not supported.");if(!(n.byteLength>=o+a+s))throw new Error("Incomplete message.");t.push(n.slice?n.slice(o+a,o+a+s):n.subarray(o+a,o+a+s)),o=o+a+s}return t}}const Qk=new Uint8Array([145,Yx.Ping]);class Zk{constructor(e){this.name="messagepack",this.version=2,this.transferFormat=ak.Binary,this._errorResult=1,this._voidResult=2,this._nonVoidResult=3,e=e||{},this._encoder=new Dk(e.extensionCodec,e.context,e.maxDepth,e.initialBufferSize,e.sortKeys,e.forceFloat32,e.ignoreUndefined,e.forceIntegerToFloat),this._decoder=new Xk(e.extensionCodec,e.context,e.maxStrLength,e.maxBinLength,e.maxArrayLength,e.maxMapLength,e.maxExtLength)}parseMessages(e,t){if(!(n=e)||"undefined"==typeof ArrayBuffer||!(n instanceof ArrayBuffer||n.constructor&&"ArrayBuffer"===n.constructor.name))throw new Error("Invalid input for MessagePack hub protocol. Expected an ArrayBuffer.");var n;null===t&&(t=Cx.instance);const r=Kk.parse(e),o=[];for(const e of r){const n=this._parseMessage(e,t);n&&o.push(n)}return o}writeMessage(e){switch(e.type){case Yx.Invocation:return this._writeInvocation(e);case Yx.StreamInvocation:return this._writeStreamInvocation(e);case Yx.StreamItem:return this._writeStreamItem(e);case Yx.Completion:return this._writeCompletion(e);case Yx.Ping:return Kk.write(Qk);case Yx.CancelInvocation:return this._writeCancelInvocation(e);case Yx.Close:return this._writeClose();case Yx.Ack:return this._writeAck(e);case Yx.Sequence:return this._writeSequence(e);default:throw new Error("Invalid message type.")}}_parseMessage(e,t){if(0===e.length)throw new Error("Invalid payload.");const n=this._decoder.decode(e);if(0===n.length||!(n instanceof Array))throw new Error("Invalid payload.");const r=n[0];switch(r){case Yx.Invocation:return this._createInvocationMessage(this._readHeaders(n),n);case Yx.StreamItem:return this._createStreamItemMessage(this._readHeaders(n),n);case Yx.Completion:return this._createCompletionMessage(this._readHeaders(n),n);case Yx.Ping:return this._createPingMessage(n);case Yx.Close:return this._createCloseMessage(n);case Yx.Ack:return this._createAckMessage(n);case Yx.Sequence:return this._createSequenceMessage(n);default:return t.log(kx.Information,"Unknown message type '"+r+"' ignored."),null}}_createCloseMessage(e){if(e.length<2)throw new Error("Invalid payload for Close message.");return{allowReconnect:e.length>=3?e[2]:void 0,error:e[1],type:Yx.Close}}_createPingMessage(e){if(e.length<1)throw new Error("Invalid payload for Ping message.");return{type:Yx.Ping}}_createInvocationMessage(e,t){if(t.length<5)throw new Error("Invalid payload for Invocation message.");const n=t[2];return n?{arguments:t[4],headers:e,invocationId:n,streamIds:[],target:t[3],type:Yx.Invocation}:{arguments:t[4],headers:e,streamIds:[],target:t[3],type:Yx.Invocation}}_createStreamItemMessage(e,t){if(t.length<4)throw new Error("Invalid payload for StreamItem message.");return{headers:e,invocationId:t[2],item:t[3],type:Yx.StreamItem}}_createCompletionMessage(e,t){if(t.length<4)throw new Error("Invalid payload for Completion message.");const n=t[3];if(n!==this._voidResult&&t.length<5)throw new Error("Invalid payload for Completion message.");let r,o;switch(n){case this._errorResult:r=t[4];break;case this._nonVoidResult:o=t[4]}return{error:r,headers:e,invocationId:t[2],result:o,type:Yx.Completion}}_createAckMessage(e){if(e.length<1)throw new Error("Invalid payload for Ack message.");return{sequenceId:e[1],type:Yx.Ack}}_createSequenceMessage(e){if(e.length<1)throw new Error("Invalid payload for Sequence message.");return{sequenceId:e[1],type:Yx.Sequence}}_writeInvocation(e){let t;return t=e.streamIds?this._encoder.encode([Yx.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments,e.streamIds]):this._encoder.encode([Yx.Invocation,e.headers||{},e.invocationId||null,e.target,e.arguments]),Kk.write(t.slice())}_writeStreamInvocation(e){let t;return t=e.streamIds?this._encoder.encode([Yx.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments,e.streamIds]):this._encoder.encode([Yx.StreamInvocation,e.headers||{},e.invocationId,e.target,e.arguments]),Kk.write(t.slice())}_writeStreamItem(e){const t=this._encoder.encode([Yx.StreamItem,e.headers||{},e.invocationId,e.item]);return Kk.write(t.slice())}_writeCompletion(e){const t=e.error?this._errorResult:void 0!==e.result?this._nonVoidResult:this._voidResult;let n;switch(t){case this._errorResult:n=this._encoder.encode([Yx.Completion,e.headers||{},e.invocationId,t,e.error]);break;case this._voidResult:n=this._encoder.encode([Yx.Completion,e.headers||{},e.invocationId,t]);break;case this._nonVoidResult:n=this._encoder.encode([Yx.Completion,e.headers||{},e.invocationId,t,e.result])}return Kk.write(n.slice())}_writeCancelInvocation(e){const t=this._encoder.encode([Yx.CancelInvocation,e.headers||{},e.invocationId]);return Kk.write(t.slice())}_writeClose(){const e=this._encoder.encode([Yx.Close,null]);return Kk.write(e.slice())}_writeAck(e){const t=this._encoder.encode([Yx.Ack,e.sequenceId]);return Kk.write(t.slice())}_writeSequence(e){const t=this._encoder.encode([Yx.Sequence,e.sequenceId]);return Kk.write(t.slice())}_readHeaders(e){const t=e[1];if("object"!=typeof t)throw new Error("Invalid headers.");return t}}function eC(e){return"function"==typeof e}function tC(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nC=tC((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function rC(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var oC=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var a=Be(i),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(eC(c))try{c()}catch(e){o=e instanceof nC?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=Be(l),d=u.next();!d.done;d=u.next()){var p=d.value;try{sC(p)}catch(e){o=null!=o?o:[],e instanceof nC?o=He(He([],We(o)),We(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new nC(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)sC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&rC(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&rC(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),iC=oC.EMPTY;function aC(e){return e instanceof oC||e&&"closed"in e&&eC(e.remove)&&eC(e.add)&&eC(e.unsubscribe)}function sC(e){eC(e)?e():e.unsubscribe()}var cC={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lC={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,He([e,t],We(n)))},clearTimeout:function(e){var t=lC.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function uC(e){lC.setTimeout((function(){throw e}))}function dC(){}function pC(e){e()}var hC=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,aC(t)&&t.add(n)):n.destination=vC,n}return Ge(t,e),t.create=function(e,t,n){return new gC(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(oC),fC=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){mC(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){mC(e)}else mC(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){mC(e)}},e}(),gC=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=eC(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,i.destination=new fC(o),i}return Ge(t,e),t}(hC);function mC(e){uC(e)}var vC={closed:!0,next:dC,error:function(e){throw e},complete:dC},yC="function"==typeof Symbol&&Symbol.observable||"@@observable";function _C(e){return e}var bC=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof hC||function(e){return e&&eC(e.next)&&eC(e.error)&&eC(e.complete)}(r)&&aC(r)?e:new gC(e,t,n);return pC((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=SC(t))((function(t,r){var o=new gC({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[yC]=function(){return this},e.prototype.pipe=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(e=t).length?_C:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=SC(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function SC(e){var t;return null!==(t=null!=e?e:cC.Promise)&&void 0!==t?t:Promise}function wC(e){return function(t){if(function(e){return eC(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function TC(e,t,n,r,o){return new EC(e,t,n,r,o)}var EC=function(e){function t(t,n,r,o,i,a){var s=e.call(this,t)||this;return s.onFinalize=i,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return Ge(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(hC),AC=tC((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),IC=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ge(t,e),t.prototype.lift=function(e){var t=new xC(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new AC},t.prototype.next=function(e){var t=this;pC((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=Be(t.currentObservers),i=o.next();!i.done;i=o.next()){i.value.next(e)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;pC((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;pC((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?iC:(this.currentObservers=null,i.push(e),new oC((function(){t.currentObservers=null,rC(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new bC;return e.source=this,e},t.create=function(e,t){return new xC(e,t)},t}(bC),xC=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Ge(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:iC},t}(IC),kC=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Ge(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(IC);function CC(e){return e[e.length-1]}function OC(e){return(t=CC(e))&&eC(t.schedule)?e.pop():void 0;var t}var RC=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function PC(e){return eC(null==e?void 0:e.then)}function NC(e){return eC(e[yC])}function LC(e){return Symbol.asyncIterator&&eC(null==e?void 0:e[Symbol.asyncIterator])}function $C(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var MC="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function DC(e){return eC(null==e?void 0:e[MC])}function UC(e){return ze(this,arguments,(function(){var t,n,r;return qe(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,Je(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,Je(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,Je(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function VC(e){return eC(null==e?void 0:e.getReader)}function FC(e){if(e instanceof bC)return e;if(null!=e){if(NC(e))return r=e,new bC((function(e){var t=r[yC]();if(eC(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(RC(e))return n=e,new bC((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(PC(e))return function(e){return new bC((function(t){e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,uC)}))}(e);if(LC(e))return GC(e);if(DC(e))return t=e,new bC((function(e){var n,r;try{for(var o=Be(t),i=o.next();!i.done;i=o.next()){var a=i.value;if(e.next(a),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(VC(e))return GC(UC(e))}var t,n,r;throw $C(e)}function GC(e){return new bC((function(t){(function(e,t){var n,r,o,i;return je(this,void 0,void 0,(function(){var a,s;return qe(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=Ye(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),o={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function jC(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(i),!o)return i}function qC(e,t){return void 0===t&&(t=0),wC((function(n,r){n.subscribe(TC(r,(function(n){return jC(r,e,(function(){return r.next(n)}),t)}),(function(){return jC(r,e,(function(){return r.complete()}),t)}),(function(n){return jC(r,e,(function(){return r.error(n)}),t)})))}))}function BC(e,t){return void 0===t&&(t=0),wC((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function WC(e,t){if(!e)throw new Error("Iterable cannot be null");return new bC((function(n){jC(n,t,(function(){var r=e[Symbol.asyncIterator]();jC(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function HC(e,t){if(null!=e){if(NC(e))return function(e,t){return FC(e).pipe(BC(t),qC(t))}(e,t);if(RC(e))return function(e,t){return new bC((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(PC(e))return function(e,t){return FC(e).pipe(BC(t),qC(t))}(e,t);if(LC(e))return WC(e,t);if(DC(e))return function(e,t){return new bC((function(n){var r;return jC(n,t,(function(){r=e[MC](),jC(n,t,(function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){return void n.error(e)}o?n.complete():n.next(t)}),0,!0)})),function(){return eC(null==r?void 0:r.return)&&r.return()}}))}(e,t);if(VC(e))return function(e,t){return WC(UC(e),t)}(e,t)}throw $C(e)}function JC(e,t){return t?HC(e,t):FC(e)}function zC(e,t){return wC((function(n,r){var o=0;n.subscribe(TC(r,(function(n){r.next(e.call(t,n,o++))})))}))}var YC=Array.isArray;function XC(e){return zC((function(t){return function(e,t){return YC(t)?e.apply(void 0,He([],We(t))):e(t)}(e,t)}))}var KC=Array.isArray,QC=Object.getPrototypeOf,ZC=Object.prototype,eO=Object.keys;function tO(e){if(1===e.length){var t=e[0];if(KC(t))return{args:t,keys:null};if((r=t)&&"object"==typeof r&&QC(r)===ZC){var n=eO(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}function nO(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=OC(e),r=function(e){return eC(CC(e))?e.pop():void 0}(e),o=tO(e),i=o.args,a=o.keys;if(0===i.length)return JC([],n);var s=new bC(function(e,t,n){void 0===n&&(n=_C);return function(r){rO(t,(function(){for(var o=e.length,i=new Array(o),a=o,s=o,c=function(o){rO(t,(function(){var c=JC(e[o],t),l=!1;c.subscribe(TC(r,(function(e){i[o]=e,l||(l=!0,s--),s||r.next(n(i.slice()))}),(function(){--a||r.complete()})))}),r)},l=0;l<o;l++)c(l)}),r)}}(i,n,a?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(a,e)}:_C));return r?s.pipe(XC(r)):s}function rO(e,t,n){e?jC(n,e,t):t()}function oO(e,t){return wC((function(n,r){var o=0;n.subscribe(TC(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}function iO(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new gC({next:function(){o.unsubscribe(),e()}});return FC(t.apply(void 0,He([],We(n)))).subscribe(o)}}else e()}function aO(){let e=0,t=0;for(let n=0;n<28;n+=7){let r=this.buf[this.pos++];if(e|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,!(128&n))return this.assertBounds(),[e,t];for(let n=3;n<=31;n+=7){let r=this.buf[this.pos++];if(t|=(127&r)<<n,!(128&r))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function sO(e,t,n){for(let r=0;r<28;r+=7){const o=e>>>r,i=!(o>>>7==0&&0==t),a=255&(i?128|o:o);if(n.push(a),!i)return}const r=e>>>28&15|(7&t)<<4,o=!!(t>>3);if(n.push(255&(o?128|r:r)),o){for(let e=3;e<31;e+=7){const r=t>>>e,o=!(r>>>7==0),i=255&(o?128|r:r);if(n.push(i),!o)return}n.push(t>>>31&1)}}const cO=4294967296;function lO(e){const t="-"===e[0];t&&(e=e.slice(1));const n=1e6;let r=0,o=0;function i(t,i){const a=Number(e.slice(t,i));o*=n,r=r*n+a,r>=cO&&(o+=r/cO|0,r%=cO)}return i(-24,-18),i(-18,-12),i(-12,-6),i(-6),t?pO(r,o):dO(r,o)}function uO(e,t){if(({lo:e,hi:t}=function(e,t){return{lo:e>>>0,hi:t>>>0}}(e,t)),t<=2097151)return String(cO*t+e);const n=16777215&(e>>>24|t<<8),r=t>>16&65535;let o=(16777215&e)+6777216*n+6710656*r,i=n+8147497*r,a=2*r;const s=1e7;return o>=s&&(i+=Math.floor(o/s),o%=s),i>=s&&(a+=Math.floor(i/s),i%=s),a.toString()+hO(i)+hO(o)}function dO(e,t){return{lo:0|e,hi:0|t}}function pO(e,t){return t=~t,e?e=1+~e:t+=1,dO(e,t)}const hO=e=>{const t=String(e);return"0000000".slice(t.length)+t};function fO(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function gO(){let e=this.buf[this.pos++],t=127&e;if(!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,!(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,!(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let t=5;128&e&&t<10;t++)e=this.buf[this.pos++];if(128&e)throw new Error("invalid varint");return this.assertBounds(),t>>>0}const mO=vO();function vO(){const e=new DataView(new ArrayBuffer(8));if("function"==typeof BigInt&&"function"==typeof e.getBigInt64&&"function"==typeof e.getBigUint64&&"function"==typeof e.setBigInt64&&"function"==typeof e.setBigUint64&&("object"!=typeof process||"object"!=typeof process.env||"1"!==process.env.BUF_BIGINT_DISABLE)){const t=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),r=BigInt("0"),o=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(e){const r="bigint"==typeof e?e:BigInt(e);if(r>n||r<t)throw new Error(`invalid int64: ${e}`);return r},uParse(e){const t="bigint"==typeof e?e:BigInt(e);if(t>o||t<r)throw new Error(`invalid uint64: ${e}`);return t},enc(t){return e.setBigInt64(0,this.parse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},uEnc(t){return e.setBigInt64(0,this.uParse(t),!0),{lo:e.getInt32(0,!0),hi:e.getInt32(4,!0)}},dec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigInt64(0,!0)),uDec:(t,n)=>(e.setInt32(0,t,!0),e.setInt32(4,n,!0),e.getBigUint64(0,!0))}}return{zero:"0",supported:!1,parse:e=>("string"!=typeof e&&(e=e.toString()),yO(e),e),uParse:e=>("string"!=typeof e&&(e=e.toString()),_O(e),e),enc:e=>("string"!=typeof e&&(e=e.toString()),yO(e),lO(e)),uEnc:e=>("string"!=typeof e&&(e=e.toString()),_O(e),lO(e)),dec:(e,t)=>function(e,t){let n=dO(e,t);const r=2147483648&n.hi;r&&(n=pO(n.lo,n.hi));const o=uO(n.lo,n.hi);return r?"-"+o:o}(e,t),uDec:(e,t)=>uO(e,t)}}function yO(e){if(!/^-?[0-9]+$/.test(e))throw new Error("invalid int64: "+e)}function _O(e){if(!/^[0-9]+$/.test(e))throw new Error("invalid uint64: "+e)}const bO=Symbol.for("@bufbuild/protobuf/text-encoding");function SO(){if(null==globalThis[bO]){const e=new globalThis.TextEncoder,t=new globalThis.TextDecoder;globalThis[bO]={encodeUtf8:t=>e.encode(t),decodeUtf8:e=>t.decode(e),checkUtf8(e){try{return encodeURIComponent(e),!0}catch(e){return!1}}}}return globalThis[bO]}var wO;!function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(wO||(wO={}));const TO=34028234663852886e22,EO=-34028234663852886e22;class AO{constructor(e=SO().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let t=0;t<this.chunks.length;t++)e+=this.chunks[t].length;let t=new Uint8Array(e),n=0;for(let e=0;e<this.chunks.length;e++)t.set(this.chunks[e],n),n+=this.chunks[e].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(kO(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return xO(e),fO(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.encodeUtf8(e);return this.uint32(t.byteLength),this.raw(t)}float(e){!function(e){if("string"==typeof e){const t=e;if(e=Number(e),isNaN(e)&&"NaN"!==t)throw new Error("invalid float32: "+t)}else if("number"!=typeof e)throw new Error("invalid float32: "+typeof e);if(Number.isFinite(e)&&(e>TO||e<EO))throw new Error("invalid float32: "+e)}(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){kO(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){xO(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return xO(e),fO(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=mO.enc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=mO.uEnc(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=mO.enc(e);return sO(t.lo,t.hi,this.buf),this}sint64(e){let t=mO.enc(e),n=t.hi>>31;return sO(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=mO.uEnc(e);return sO(t.lo,t.hi,this.buf),this}}class IO{constructor(e,t=SO().decodeUtf8){this.decodeUtf8=t,this.varint64=aO,this.uint32=gO,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e,t){let n=this.pos;switch(e){case wO.Varint:for(;128&this.buf[this.pos++];);break;case wO.Bit64:this.pos+=4;case wO.Bit32:this.pos+=4;break;case wO.LengthDelimited:let n=this.uint32();this.pos+=n;break;case wO.StartGroup:for(;;){const[e,n]=this.tag();if(n===wO.EndGroup){if(void 0!==t&&e!==t)throw new Error("invalid end group tag");break}this.skip(n,e)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return mO.dec(...this.varint64())}uint64(){return mO.uDec(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,mO.dec(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return mO.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return mO.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.decodeUtf8(this.bytes())}}function xO(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid int32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int32: "+e)}function kO(e){if("string"==typeof e)e=Number(e);else if("number"!=typeof e)throw new Error("invalid uint32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint32: "+e)}const CO={$type:"google.protobuf.Timestamp",encode:(e,t=new AO)=>(0!==e.seconds&&t.uint32(8).int64(e.seconds),0!==e.nanos&&t.uint32(16).int32(e.nanos),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.seconds=OO(n.int64());continue;case 2:if(16!==e)break;o.nanos=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CO.$type,seconds:RO(e.seconds)?globalThis.Number(e.seconds):0,nanos:RO(e.nanos)?globalThis.Number(e.nanos):0}),toJSON(e){const t={};return 0!==e.seconds&&(t.seconds=Math.round(e.seconds)),0!==e.nanos&&(t.nanos=Math.round(e.nanos)),t},create:e=>CO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"google.protobuf.Timestamp",seconds:0,nanos:0};return r.seconds=null!==(t=e.seconds)&&void 0!==t?t:0,r.nanos=null!==(n=e.nanos)&&void 0!==n?n:0,r}};function OO(e){const t=globalThis.Number(e.toString());if(t>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(t<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return t}function RO(e){return null!=e}const PO={$type:"google.protobuf.Int32Value",encode:(e,t=new AO)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"google.protobuf.Int32Value",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:PO.$type,value:(t=e.value,null!=t?globalThis.Number(e.value):0)};var t},toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>PO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"google.protobuf.Int32Value",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const NO={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",encode:(e,t=new AO)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:NO.$type,text:(t=e.text,null!=t?globalThis.String(e.text):"")};var t},toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>NO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternative",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const LO={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:LO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>LO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.WordAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const $O={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",encode(e,t=new AO){void 0!==e.flowId&&LO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)NO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=LO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(NO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:$O.$type,flowId:(t=e.flowId,null!=t?LO.fromJSON(e.flowId):void 0),alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>NO.fromJSON(e))):[]};var t},toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=LO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>NO.toJSON(e)))),n},create:e=>$O.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.ProvidedWordAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?LO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>NO.fromPartial(e))))||[],n}};const MO={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:MO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>MO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.TextUnitAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const DO={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&MO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=MO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:DO.$type,flowId:(t=e.flowId,null!=t?MO.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=MO.toJSON(e.flowId)),t},create:e=>DO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestTextUnitAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?MO.fromPartial(e.flowId):void 0,t}};const UO={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&LO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=LO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:UO.$type,flowId:(t=e.flowId,null!=t?LO.fromJSON(e.flowId):void 0)};var t},toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=LO.toJSON(e.flowId)),t},create:e=>UO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.alternatives.RequestWordAlternativesAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?LO.fromPartial(e.flowId):void 0,t}};const VO={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",encode:(e,t=new AO)=>(""!==e.selection&&t.uint32(10).string(e.selection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:VO.$type,selection:(t=e.selection,null!=t?globalThis.String(e.selection):"")};var t},toJSON(e){const t={};return""!==e.selection&&(t.selection=e.selection),t},create:e=>VO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectAutomaticTextUnitAlternativeAnnotationPayload",selection:""};return n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const FO={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&MO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=MO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FO.$type,flowId:GO(e.flowId)?MO.fromJSON(e.flowId):void 0,selection:GO(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=MO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>FO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectTextUnitAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?MO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function GO(e){return null!=e}const jO={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&LO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=LO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jO.$type,flowId:qO(e.flowId)?LO.fromJSON(e.flowId):void 0,selection:qO(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=LO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>jO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.SelectWordAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?LO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function qO(e){return null!=e}const BO={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:BO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>BO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const WO={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",encode(e,t=new AO){void 0!==e.textFormattingId&&BO.encode(e.textFormattingId,t.uint32(10).fork()).join(),""!==e.name&&t.uint32(18).string(e.name);for(const n of e.children)BO.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textFormattingId=BO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.name=n.string();continue;case 3:if(26!==e)break;o.children.push(BO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WO.$type,textFormattingId:HO(e.textFormattingId)?BO.fromJSON(e.textFormattingId):void 0,name:HO(e.name)?globalThis.String(e.name):"",children:globalThis.Array.isArray(null==e?void 0:e.children)?e.children.map((e=>BO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.textFormattingId&&(n.textFormattingId=BO.toJSON(e.textFormattingId)),""!==e.name&&(n.name=e.name),(null===(t=e.children)||void 0===t?void 0:t.length)&&(n.children=e.children.map((e=>BO.toJSON(e)))),n},create:e=>WO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.common.text_formatting.TextFormattingAnnotationPayload",textFormattingId:void 0,name:"",children:[]};return r.textFormattingId=void 0!==e.textFormattingId&&null!==e.textFormattingId?BO.fromPartial(e.textFormattingId):void 0,r.name=null!==(t=e.name)&&void 0!==t?t:"",r.children=(null===(n=e.children)||void 0===n?void 0:n.map((e=>BO.fromPartial(e))))||[],r}};function HO(e){return null!=e}const JO={$type:"deepl.pb.interactive_text_api.TextRange",encode:(e,t=new AO)=>(0!==e.start&&t.uint32(8).int32(e.start),0!==e.end&&t.uint32(16).int32(e.end),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.start=n.int32();continue;case 2:if(16!==e)break;o.end=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JO.$type,start:zO(e.start)?globalThis.Number(e.start):0,end:zO(e.end)?globalThis.Number(e.end):0}),toJSON(e){const t={};return 0!==e.start&&(t.start=Math.round(e.start)),0!==e.end&&(t.end=Math.round(e.end)),t},create:e=>JO.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.TextRange",start:0,end:0};return r.start=null!==(t=e.start)&&void 0!==t?t:0,r.end=null!==(n=e.end)&&void 0!==n?n:0,r}};function zO(e){return null!=e}const YO={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:YO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>YO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const XO={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.textUnitId&&YO.encode(e.textUnitId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.textUnitId=YO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:XO.$type,textUnitId:(t=e.textUnitId,null!=t?YO.fromJSON(e.textUnitId):void 0)};var t},toJSON(e){const t={};return void 0!==e.textUnitId&&(t.textUnitId=YO.toJSON(e.textUnitId)),t},create:e=>XO.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.common.text_units.TextUnitAnnotationPayload",textUnitId:void 0};return t.textUnitId=void 0!==e.textUnitId&&null!==e.textUnitId?YO.fromPartial(e.textUnitId):void 0,t}};const KO={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:KO.$type,value:(t=e.value,null!=t?globalThis.String(e.value):"")};var t},toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>KO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.alternatives.AutocompletionFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const QO={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",encode:(e,t=new AO)=>(""!==e.id&&t.uint32(10).string(e.id),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON(e){return{$type:QO.$type,id:(t=e.id,null!=t?globalThis.String(e.id):"")};var t},toJSON(e){const t={};return""!==e.id&&(t.id=e.id),t},create:e=>QO.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.common.glossaries.GlossaryId",id:""};return n.id=null!==(t=e.id)&&void 0!==t?t:"",n}};var ZO,eR;function tR(e){switch(e){case 0:case"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED":return ZO.UNSPECIFIED;case 1:case"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE":return ZO.REQUESTED_LANGUAGE;case 2:case"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION":return ZO.LANGUAGE_DETECTION;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function nR(e){switch(e){case ZO.UNSPECIFIED:return"CALCULATED_LANGUAGE_ORIGIN_UNSPECIFIED";case ZO.REQUESTED_LANGUAGE:return"CALCULATED_LANGUAGE_ORIGIN_REQUESTED_LANGUAGE";case ZO.LANGUAGE_DETECTION:return"CALCULATED_LANGUAGE_ORIGIN_LANGUAGE_DETECTION";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum CalculatedLanguageOrigin")}}function rR(e){switch(e){case 0:case"TEXT_DIRECTION_UNSPECIFIED":return eR.UNSPECIFIED;case 1:case"TEXT_DIRECTION_LEFT_TO_RIGHT":return eR.LEFT_TO_RIGHT;case 2:case"TEXT_DIRECTION_RIGHT_TO_LEFT":return eR.RIGHT_TO_LEFT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REQUESTED_LANGUAGE=1]="REQUESTED_LANGUAGE",e[e.LANGUAGE_DETECTION=2]="LANGUAGE_DETECTION"}(ZO||(ZO={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.LEFT_TO_RIGHT=1]="LEFT_TO_RIGHT",e[e.RIGHT_TO_LEFT=2]="RIGHT_TO_LEFT"}(eR||(eR={}));const oR={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&KO.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=KO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oR.$type,flowId:JR(e.flowId)?KO.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=KO.toJSON(e.flowId)),t},create:e=>oR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestAutocompletionAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?KO.fromPartial(e.flowId):void 0,t}};const iR={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",encode(e,t=new AO){void 0!==e.flowId&&KO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.autocompletions)VR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=KO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.autocompletions.push(VR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iR.$type,flowId:JR(e.flowId)?KO.fromJSON(e.flowId):void 0,autocompletions:globalThis.Array.isArray(null==e?void 0:e.autocompletions)?e.autocompletions.map((e=>VR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=KO.toJSON(e.flowId)),(null===(t=e.autocompletions)||void 0===t?void 0:t.length)&&(n.autocompletions=e.autocompletions.map((e=>VR.toJSON(e)))),n},create:e=>iR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutocompletionAnnotationPayload",flowId:void 0,autocompletions:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?KO.fromPartial(e.flowId):void 0,n.autocompletions=(null===(t=e.autocompletions)||void 0===t?void 0:t.map((e=>VR.fromPartial(e))))||[],n}};const aR={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&KO.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=KO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aR.$type,flowId:JR(e.flowId)?KO.fromJSON(e.flowId):void 0,selection:JR(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=KO.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>aR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SelectAutocompletionAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?KO.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};const sR={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.replacement&&LR.encode(e.replacement,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.replacement=LR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sR.$type,replacement:JR(e.replacement)?LR.fromJSON(e.replacement):void 0}),toJSON(e){const t={};return void 0!==e.replacement&&(t.replacement=LR.toJSON(e.replacement)),t},create:e=>sR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryReplacementAnnotationPayload",replacement:void 0};return t.replacement=void 0!==e.replacement&&null!==e.replacement?LR.fromPartial(e.replacement):void 0,t}};const cR={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new AO){void 0!==e.flowId&&MO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)VR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=MO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(VR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cR.$type,flowId:JR(e.flowId)?MO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>VR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=MO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>VR.toJSON(e)))),n},create:e=>cR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?MO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>VR.fromPartial(e))))||[],n}};const lR={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new AO){for(const n of e.alternatives)VR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(VR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lR.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>VR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>VR.toJSON(e)))),n},create:e=>lR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>VR.fromPartial(e))))||[],n}};const uR={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&WR.encode(e.flowId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=WR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uR.$type,flowId:JR(e.flowId)?WR.fromJSON(e.flowId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=WR.toJSON(e.flowId)),t},create:e=>uR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestClarifyAnnotationPayload",flowId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?WR.fromPartial(e.flowId):void 0,t}};const dR={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&WR.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&HR.encode(e.questionId,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=WR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=HR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dR.$type,flowId:JR(e.flowId)?WR.fromJSON(e.flowId):void 0,questionId:JR(e.questionId)?HR.fromJSON(e.questionId):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=WR.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=HR.toJSON(e.questionId)),t},create:e=>dR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyHighlightAnnotationPayload",flowId:void 0,questionId:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?WR.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?HR.fromPartial(e.questionId):void 0,t}};const pR={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&WR.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionWithAnswers&&qR.encode(e.questionWithAnswers,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=WR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionWithAnswers=qR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pR.$type,flowId:JR(e.flowId)?WR.fromJSON(e.flowId):void 0,questionWithAnswers:JR(e.questionWithAnswers)?qR.fromJSON(e.questionWithAnswers):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=WR.toJSON(e.flowId)),void 0!==e.questionWithAnswers&&(t.questionWithAnswers=qR.toJSON(e.questionWithAnswers)),t},create:e=>pR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.ProvidedClarifyQuestionAnnotationPayload",flowId:void 0,questionWithAnswers:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?WR.fromPartial(e.flowId):void 0,t.questionWithAnswers=void 0!==e.questionWithAnswers&&null!==e.questionWithAnswers?qR.fromPartial(e.questionWithAnswers):void 0,t}};const hR={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&WR.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.questionId&&HR.encode(e.questionId,t.uint32(18).fork()).join(),void 0!==e.answer&&BR.encode(e.answer,t.uint32(26).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=WR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.questionId=HR.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.answer=BR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hR.$type,flowId:JR(e.flowId)?WR.fromJSON(e.flowId):void 0,questionId:JR(e.questionId)?HR.fromJSON(e.questionId):void 0,answer:JR(e.answer)?BR.fromJSON(e.answer):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=WR.toJSON(e.flowId)),void 0!==e.questionId&&(t.questionId=HR.toJSON(e.questionId)),void 0!==e.answer&&(t.answer=BR.toJSON(e.answer)),t},create:e=>hR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.SelectClarifyAnswerAnnotationPayload",flowId:void 0,questionId:void 0,answer:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?WR.fromPartial(e.flowId):void 0,t.questionId=void 0!==e.questionId&&null!==e.questionId?HR.fromPartial(e.questionId):void 0,t.answer=void 0!==e.answer&&null!==e.answer?BR.fromPartial(e.answer):void 0,t}};const fR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",encode(e,t=new AO){for(const n of e.sourceLanguages)DR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguages.push(DR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fR.$type,sourceLanguages:globalThis.Array.isArray(null==e?void 0:e.sourceLanguages)?e.sourceLanguages.map((e=>DR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.sourceLanguages)||void 0===t?void 0:t.length)&&(n.sourceLanguages=e.sourceLanguages.map((e=>DR.toJSON(e)))),n},create:e=>fR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguagesPropertyValue",sourceLanguages:[]};return n.sourceLanguages=(null===(t=e.sourceLanguages)||void 0===t?void 0:t.map((e=>DR.fromPartial(e))))||[],n}};const gR={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",encode(e,t=new AO){for(const n of e.targetLanguages)UR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguages.push(UR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gR.$type,targetLanguages:globalThis.Array.isArray(null==e?void 0:e.targetLanguages)?e.targetLanguages.map((e=>UR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.targetLanguages)||void 0===t?void 0:t.length)&&(n.targetLanguages=e.targetLanguages.map((e=>UR.toJSON(e)))),n},create:e=>gR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguagesPropertyValue",targetLanguages:[]};return n.targetLanguages=(null===(t=e.targetLanguages)||void 0===t?void 0:t.map((e=>UR.fromPartial(e))))||[],n}};const mR={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.sourceLanguage&&DR.encode(e.sourceLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=DR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mR.$type,sourceLanguage:JR(e.sourceLanguage)?DR.fromJSON(e.sourceLanguage):void 0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=DR.toJSON(e.sourceLanguage)),t},create:e=>mR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedSourceLanguagePropertyValue",sourceLanguage:void 0};return t.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?DR.fromPartial(e.sourceLanguage):void 0,t}};const vR={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.sourceLanguage&&DR.encode(e.sourceLanguage,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceLanguage=DR.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vR.$type,sourceLanguage:JR(e.sourceLanguage)?DR.fromJSON(e.sourceLanguage):void 0,origin:JR(e.origin)?tR(e.origin):0}),toJSON(e){const t={};return void 0!==e.sourceLanguage&&(t.sourceLanguage=DR.toJSON(e.sourceLanguage)),0!==e.origin&&(t.origin=nR(e.origin)),t},create:e=>vR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.CalculatedSourceLanguagePropertyValue",sourceLanguage:void 0,origin:0};return n.sourceLanguage=void 0!==e.sourceLanguage&&null!==e.sourceLanguage?DR.fromPartial(e.sourceLanguage):void 0,n.origin=null!==(t=e.origin)&&void 0!==t?t:0,n}};const yR={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.targetLanguage&&UR.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=UR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yR.$type,targetLanguage:JR(e.targetLanguage)?UR.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=UR.toJSON(e.targetLanguage)),t},create:e=>yR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.RequestedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?UR.fromPartial(e.targetLanguage):void 0,t}};const _R={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.targetLanguage&&UR.encode(e.targetLanguage,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.targetLanguage=UR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_R.$type,targetLanguage:JR(e.targetLanguage)?UR.fromJSON(e.targetLanguage):void 0}),toJSON(e){const t={};return void 0!==e.targetLanguage&&(t.targetLanguage=UR.toJSON(e.targetLanguage)),t},create:e=>_R.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.CalculatedTargetLanguagePropertyValue",targetLanguage:void 0};return t.targetLanguage=void 0!==e.targetLanguage&&null!==e.targetLanguage?UR.fromPartial(e.targetLanguage):void 0,t}};const bR={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",encode:(e,t=new AO)=>(void 0!==e.glossaryId&&QO.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=QO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:bR.$type,glossaryId:JR(e.glossaryId)?QO.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=QO.toJSON(e.glossaryId)),t},create:e=>bR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?QO.fromPartial(e.glossaryId):void 0,t}};const SR={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue",encode:(e,t=new AO)=>t,decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:SR.$type}),toJSON:e=>({}),create:e=>SR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.GlossarySupportPropertyValue"})};const wR={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",encode:(e,t=new AO)=>(0!==e.progressInPercent&&t.uint32(8).int32(e.progressInPercent),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.progressInPercent=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:wR.$type,progressInPercent:JR(e.progressInPercent)?globalThis.Number(e.progressInPercent):0}),toJSON(e){const t={};return 0!==e.progressInPercent&&(t.progressInPercent=Math.round(e.progressInPercent)),t},create:e=>wR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TaskMetaInfo",progressInPercent:0};return n.progressInPercent=null!==(t=e.progressInPercent)&&void 0!==t?t:0,n}};const TR={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",encode(e,t=new AO){for(const n of e.formalityModes)PR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityModes.push(PR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:TR.$type,formalityModes:globalThis.Array.isArray(null==e?void 0:e.formalityModes)?e.formalityModes.map((e=>PR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.formalityModes)||void 0===t?void 0:t.length)&&(n.formalityModes=e.formalityModes.map((e=>PR.toJSON(e)))),n},create:e=>TR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityModesPropertyValue",formalityModes:[]};return n.formalityModes=(null===(t=e.formalityModes)||void 0===t?void 0:t.map((e=>PR.fromPartial(e))))||[],n}};const ER={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",encode:(e,t=new AO)=>(void 0!==e.formalityMode&&PR.encode(e.formalityMode,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.formalityMode=PR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ER.$type,formalityMode:JR(e.formalityMode)?PR.fromJSON(e.formalityMode):void 0}),toJSON(e){const t={};return void 0!==e.formalityMode&&(t.formalityMode=PR.toJSON(e.formalityMode)),t},create:e=>ER.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.FormalityModePropertyValue",formalityMode:void 0};return t.formalityMode=void 0!==e.formalityMode&&null!==e.formalityMode?PR.fromPartial(e.formalityMode):void 0,t}};const AR={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",encode(e,t=new AO){for(const n of e.languageModels)NR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModels.push(NR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:AR.$type,languageModels:globalThis.Array.isArray(null==e?void 0:e.languageModels)?e.languageModels.map((e=>NR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languageModels)||void 0===t?void 0:t.length)&&(n.languageModels=e.languageModels.map((e=>NR.toJSON(e)))),n},create:e=>AR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModelsPropertyValue",languageModels:[]};return n.languageModels=(null===(t=e.languageModels)||void 0===t?void 0:t.map((e=>NR.fromPartial(e))))||[],n}};const IR={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",encode:(e,t=new AO)=>(void 0!==e.languageModel&&NR.encode(e.languageModel,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languageModel=NR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:IR.$type,languageModel:JR(e.languageModel)?NR.fromJSON(e.languageModel):void 0}),toJSON(e){const t={};return void 0!==e.languageModel&&(t.languageModel=NR.toJSON(e.languageModel)),t},create:e=>IR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.translator.LanguageModelPropertyValue",languageModel:void 0};return t.languageModel=void 0!==e.languageModel&&null!==e.languageModel?NR.fromPartial(e.languageModel):void 0,t}};const xR={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",encode:(e,t=new AO)=>(0!==e.textDirection&&t.uint32(8).int32(e.textDirection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.textDirection=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:xR.$type,textDirection:JR(e.textDirection)?rR(e.textDirection):0}),toJSON(e){const t={};return 0!==e.textDirection&&(t.textDirection=function(e){switch(e){case eR.UNSPECIFIED:return"TEXT_DIRECTION_UNSPECIFIED";case eR.LEFT_TO_RIGHT:return"TEXT_DIRECTION_LEFT_TO_RIGHT";case eR.RIGHT_TO_LEFT:return"TEXT_DIRECTION_RIGHT_TO_LEFT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum TextDirection")}}(e.textDirection)),t},create:e=>xR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TextDirectionPropertyValue",textDirection:0};return n.textDirection=null!==(t=e.textDirection)&&void 0!==t?t:0,n}};const kR={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",encode:(e,t=new AO)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kR.$type,max:JR(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>kR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const CR={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue",encode:(e,t=new AO)=>t,decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CR.$type}),toJSON:e=>({}),create:e=>CR.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.translator.UnsupportedSourceLanguagePropertyValue"})};const OR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",encode(e,t=new AO){for(const n of e.weights)FR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.weights.push(FR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:OR.$type,weights:globalThis.Array.isArray(null==e?void 0:e.weights)?e.weights.map((e=>FR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.weights)||void 0===t?void 0:t.length)&&(n.weights=e.weights.map((e=>FR.toJSON(e)))),n},create:e=>OR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeightsPropertyValue",weights:[]};return n.weights=(null===(t=e.weights)||void 0===t?void 0:t.map((e=>FR.fromPartial(e))))||[],n}};const RR={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",encode:(e,t=new AO)=>(!1!==e.enableTranscription&&t.uint32(8).bool(e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&t.uint32(16).bool(e.enableTranslatorQuoteConversion),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.enableTranscription=n.bool();continue;case 2:if(16!==e)break;o.enableTranslatorQuoteConversion=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:RR.$type,enableTranscription:!!JR(e.enableTranscription)&&globalThis.Boolean(e.enableTranscription),enableTranslatorQuoteConversion:!!JR(e.enableTranslatorQuoteConversion)&&globalThis.Boolean(e.enableTranslatorQuoteConversion)}),toJSON(e){const t={};return!1!==e.enableTranscription&&(t.enableTranscription=e.enableTranscription),!1!==e.enableTranslatorQuoteConversion&&(t.enableTranslatorQuoteConversion=e.enableTranslatorQuoteConversion),t},create:e=>RR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.SessionOptions",enableTranscription:!1,enableTranslatorQuoteConversion:!1};return r.enableTranscription=null!==(t=e.enableTranscription)&&void 0!==t&&t,r.enableTranslatorQuoteConversion=null!==(n=e.enableTranslatorQuoteConversion)&&void 0!==n&&n,r}};const PR={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:PR.$type,value:JR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>PR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.FormalityMode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const NR={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:NR.$type,value:JR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>NR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.LanguageModel",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const LR={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",encode:(e,t=new AO)=>(""!==e.source&&t.uint32(10).string(e.source),""!==e.target&&t.uint32(18).string(e.target),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.source=n.string();continue;case 2:if(18!==e)break;o.target=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:LR.$type,source:JR(e.source)?globalThis.String(e.source):"",target:JR(e.target)?globalThis.String(e.target):""}),toJSON(e){const t={};return""!==e.source&&(t.source=e.source),""!==e.target&&(t.target=e.target),t},create:e=>LR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.GlossaryEntry",source:"",target:""};return r.source=null!==(t=e.source)&&void 0!==t?t:"",r.target=null!==(n=e.target)&&void 0!==n?n:"",r}};const $R={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",encode(e,t=new AO){for(const n of e.glossaryEntries)LR.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(LR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:$R.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>LR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>LR.toJSON(e)))),n},create:e=>$R.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>LR.fromPartial(e))))||[],n}};const MR={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",encode(e,t=new AO){void 0!==e.entry&&LR.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)JO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=LR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(JO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MR.$type,entry:JR(e.entry)?LR.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>JO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=LR.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>JO.toJSON(e)))),n},create:e=>MR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?LR.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>JO.fromPartial(e))))||[],n}};const DR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",encode:(e,t=new AO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DR.$type,code:JR(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>DR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const UR={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",encode:(e,t=new AO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UR.$type,code:JR(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>UR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.TargetLanguage",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const VR={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",encode(e,t=new AO){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)MR.encode(n,t.uint32(18).fork()).join();return""!==e.transcription&&t.uint32(26).string(e.transcription),t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(MR.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.transcription=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VR.$type,text:JR(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>MR.fromJSON(e))):[],transcription:JR(e.transcription)?globalThis.String(e.transcription):""}),toJSON(e){var t;const n={};return""!==e.text&&(n.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(n.glossaryHighlights=e.glossaryHighlights.map((e=>MR.toJSON(e)))),""!==e.transcription&&(n.transcription=e.transcription),n},create:e=>VR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.TextUnitAlternative",text:"",glossaryHighlights:[],transcription:""};return o.text=null!==(t=e.text)&&void 0!==t?t:"",o.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>MR.fromPartial(e))))||[],o.transcription=null!==(r=e.transcription)&&void 0!==r?r:"",o}};const FR={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",encode:(e,t=new AO)=>(void 0!==e.language&&DR.encode(e.language,t.uint32(10).fork()).join(),0!==e.weight&&t.uint32(17).double(e.weight),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=DR.decode(n,n.uint32());continue;case 2:if(17!==e)break;o.weight=n.double();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FR.$type,language:JR(e.language)?DR.fromJSON(e.language):void 0,weight:JR(e.weight)?globalThis.Number(e.weight):0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=DR.toJSON(e.language)),0!==e.weight&&(t.weight=e.weight),t},create:e=>FR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.SourceLanguageDetectionWeight",language:void 0,weight:0};return n.language=void 0!==e.language&&null!==e.language?DR.fromPartial(e.language):void 0,n.weight=null!==(t=e.weight)&&void 0!==t?t:0,n}};const GR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",encode:(e,t=new AO)=>(void 0!==e.id&&HR.encode(e.id,t.uint32(10).fork()).join(),""!==e.title&&t.uint32(18).string(e.title),""!==e.question&&t.uint32(26).string(e.question),""!==e.category&&t.uint32(34).string(e.category),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.id=HR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.title=n.string();continue;case 3:if(26!==e)break;o.question=n.string();continue;case 4:if(34!==e)break;o.category=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GR.$type,id:JR(e.id)?HR.fromJSON(e.id):void 0,title:JR(e.title)?globalThis.String(e.title):"",question:JR(e.question)?globalThis.String(e.question):"",category:JR(e.category)?globalThis.String(e.category):""}),toJSON(e){const t={};return void 0!==e.id&&(t.id=HR.toJSON(e.id)),""!==e.title&&(t.title=e.title),""!==e.question&&(t.question=e.question),""!==e.category&&(t.category=e.category),t},create:e=>GR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestion",id:void 0,title:"",question:"",category:""};return o.id=void 0!==e.id&&null!==e.id?HR.fromPartial(e.id):void 0,o.title=null!==(t=e.title)&&void 0!==t?t:"",o.question=null!==(n=e.question)&&void 0!==n?n:"",o.category=null!==(r=e.category)&&void 0!==r?r:"",o}};const jR={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",encode:(e,t=new AO)=>(""!==e.answer&&t.uint32(10).string(e.answer),!1!==e.isDefault&&t.uint32(16).bool(e.isDefault),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue;case 2:if(16!==e)break;o.isDefault=n.bool();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jR.$type,answer:JR(e.answer)?globalThis.String(e.answer):"",isDefault:!!JR(e.isDefault)&&globalThis.Boolean(e.isDefault)}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),!1!==e.isDefault&&(t.isDefault=e.isDefault),t},create:e=>jR.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.translator.ClarifyAnswer",answer:"",isDefault:!1};return r.answer=null!==(t=e.answer)&&void 0!==t?t:"",r.isDefault=null!==(n=e.isDefault)&&void 0!==n&&n,r}};const qR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",encode(e,t=new AO){void 0!==e.question&&GR.encode(e.question,t.uint32(10).fork()).join();for(const n of e.answers)jR.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.question=GR.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.answers.push(jR.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qR.$type,question:JR(e.question)?GR.fromJSON(e.question):void 0,answers:globalThis.Array.isArray(null==e?void 0:e.answers)?e.answers.map((e=>jR.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.question&&(n.question=GR.toJSON(e.question)),(null===(t=e.answers)||void 0===t?void 0:t.length)&&(n.answers=e.answers.map((e=>jR.toJSON(e)))),n},create:e=>qR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionWithAnswers",question:void 0,answers:[]};return n.question=void 0!==e.question&&null!==e.question?GR.fromPartial(e.question):void 0,n.answers=(null===(t=e.answers)||void 0===t?void 0:t.map((e=>jR.fromPartial(e))))||[],n}};const BR={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",encode:(e,t=new AO)=>(""!==e.answer&&t.uint32(10).string(e.answer),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.answer=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BR.$type,answer:JR(e.answer)?globalThis.String(e.answer):""}),toJSON(e){const t={};return""!==e.answer&&(t.answer=e.answer),t},create:e=>BR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:""};return n.answer=null!==(t=e.answer)&&void 0!==t?t:"",n}};const WR={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WR.$type,value:JR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>WR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const HR={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HR.$type,value:JR(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>HR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.translator.ClarifyQuestionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};function JR(e){return null!=e}const zR={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.diffUnitId&&aP.encode(e.diffUnitId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.diffUnitId=aP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zR.$type,diffUnitId:bP(e.diffUnitId)?aP.fromJSON(e.diffUnitId):void 0}),toJSON(e){const t={};return void 0!==e.diffUnitId&&(t.diffUnitId=aP.toJSON(e.diffUnitId)),t},create:e=>zR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.DiffUnitAnnotationPayload",diffUnitId:void 0};return t.diffUnitId=void 0!==e.diffUnitId&&null!==e.diffUnitId?aP.fromPartial(e.diffUnitId):void 0,t}};const YR={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",encode(e,t=new AO){void 0!==e.flowId&&MO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)hP.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=MO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(hP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YR.$type,flowId:bP(e.flowId)?MO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>hP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=MO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>hP.toJSON(e)))),n},create:e=>YR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedTextUnitAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?MO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>hP.fromPartial(e))))||[],n}};const XR={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",encode(e,t=new AO){for(const n of e.alternatives)hP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.alternatives.push(hP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XR.$type,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>hP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>hP.toJSON(e)))),n},create:e=>XR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedAutomaticTextUnitAlternativesAnnotationPayload",alternatives:[]};return n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>hP.fromPartial(e))))||[],n}};const KR={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",encode(e,t=new AO){for(const n of e.languages)dP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(dP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:KR.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>dP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>dP.toJSON(e)))),n},create:e=>KR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.LanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>dP.fromPartial(e))))||[],n}};const QR={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",encode(e,t=new AO){for(const n of e.languages)dP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.languages.push(dP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:QR.$type,languages:globalThis.Array.isArray(null==e?void 0:e.languages)?e.languages.map((e=>dP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.languages)||void 0===t?void 0:t.length)&&(n.languages=e.languages.map((e=>dP.toJSON(e)))),n},create:e=>QR.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryLanguagesPropertyValue",languages:[]};return n.languages=(null===(t=e.languages)||void 0===t?void 0:t.map((e=>dP.fromPartial(e))))||[],n}};const ZR={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.language&&dP.encode(e.language,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=dP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:ZR.$type,language:bP(e.language)?dP.fromJSON(e.language):void 0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=dP.toJSON(e.language)),t},create:e=>ZR.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestedLanguagePropertyValue",language:void 0};return t.language=void 0!==e.language&&null!==e.language?dP.fromPartial(e.language):void 0,t}};const eP={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",encode:(e,t=new AO)=>(void 0!==e.language&&dP.encode(e.language,t.uint32(10).fork()).join(),0!==e.origin&&t.uint32(16).int32(e.origin),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.language=dP.decode(n,n.uint32());continue;case 2:if(16!==e)break;o.origin=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:eP.$type,language:bP(e.language)?dP.fromJSON(e.language):void 0,origin:bP(e.origin)?tR(e.origin):0}),toJSON(e){const t={};return void 0!==e.language&&(t.language=dP.toJSON(e.language)),0!==e.origin&&(t.origin=nR(e.origin)),t},create:e=>eP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.CalculatedLanguagePropertyValue",language:void 0,origin:0};return n.language=void 0!==e.language&&null!==e.language?dP.fromPartial(e.language):void 0,n.origin=null!==(t=e.origin)&&void 0!==t?t:0,n}};const tP={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",encode:(e,t=new AO)=>(void 0!==e.glossaryId&&QO.encode(e.glossaryId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryId=QO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:tP.$type,glossaryId:bP(e.glossaryId)?QO.fromJSON(e.glossaryId):void 0}),toJSON(e){const t={};return void 0!==e.glossaryId&&(t.glossaryId=QO.toJSON(e.glossaryId)),t},create:e=>tP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.GlossaryIdPropertyValue",glossaryId:void 0};return t.glossaryId=void 0!==e.glossaryId&&null!==e.glossaryId?QO.fromPartial(e.glossaryId):void 0,t}};const nP={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",encode:(e,t=new AO)=>(0!==e.max&&t.uint32(8).int32(e.max),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.max=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:nP.$type,max:bP(e.max)?globalThis.Number(e.max):0}),toJSON(e){const t={};return 0!==e.max&&(t.max=Math.round(e.max)),t},create:e=>nP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.MaximumTextLengthPropertyValue",max:0};return n.max=null!==(t=e.max)&&void 0!==t?t:0,n}};const rP={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",encode(e,t=new AO){for(const n of e.styleVariants)fP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariants.push(fP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rP.$type,styleVariants:globalThis.Array.isArray(null==e?void 0:e.styleVariants)?e.styleVariants.map((e=>fP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.styleVariants)||void 0===t?void 0:t.length)&&(n.styleVariants=e.styleVariants.map((e=>fP.toJSON(e)))),n},create:e=>rP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariantsPropertyValue",styleVariants:[]};return n.styleVariants=(null===(t=e.styleVariants)||void 0===t?void 0:t.map((e=>fP.fromPartial(e))))||[],n}};const oP={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",encode:(e,t=new AO)=>(void 0!==e.styleVariant&&fP.encode(e.styleVariant,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.styleVariant=fP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oP.$type,styleVariant:bP(e.styleVariant)?fP.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.styleVariant&&(t.styleVariant=fP.toJSON(e.styleVariant)),t},create:e=>oP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.StyleVariantPropertyValue",styleVariant:void 0};return t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?fP.fromPartial(e.styleVariant):void 0,t}};const iP={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue",encode:(e,t=new AO)=>t,decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:iP.$type}),toJSON:e=>({}),create:e=>iP.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.UnsupportedLanguagePropertyValue"})};const aP={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:aP.$type,value:bP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>aP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.DiffUnitId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const sP={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",encode:(e,t=new AO)=>(""!==e.term&&t.uint32(10).string(e.term),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.term=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:sP.$type,term:bP(e.term)?globalThis.String(e.term):""}),toJSON(e){const t={};return""!==e.term&&(t.term=e.term),t},create:e=>sP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryEntry",term:""};return n.term=null!==(t=e.term)&&void 0!==t?t:"",n}};const cP={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",encode(e,t=new AO){for(const n of e.glossaryEntries)sP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.glossaryEntries.push(sP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:cP.$type,glossaryEntries:globalThis.Array.isArray(null==e?void 0:e.glossaryEntries)?e.glossaryEntries.map((e=>sP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.glossaryEntries)||void 0===t?void 0:t.length)&&(n.glossaryEntries=e.glossaryEntries.map((e=>sP.toJSON(e)))),n},create:e=>cP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryListPropertyValue",glossaryEntries:[]};return n.glossaryEntries=(null===(t=e.glossaryEntries)||void 0===t?void 0:t.map((e=>sP.fromPartial(e))))||[],n}};const lP={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue",encode:(e,t=new AO)=>t,decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:lP.$type}),toJSON:e=>({}),create:e=>lP.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.write.GlossarySupportPropertyValue"})};const uP={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",encode(e,t=new AO){void 0!==e.entry&&sP.encode(e.entry,t.uint32(10).fork()).join();for(const n of e.ranges)JO.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.entry=sP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.ranges.push(JO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:uP.$type,entry:bP(e.entry)?sP.fromJSON(e.entry):void 0,ranges:globalThis.Array.isArray(null==e?void 0:e.ranges)?e.ranges.map((e=>JO.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.entry&&(n.entry=sP.toJSON(e.entry)),(null===(t=e.ranges)||void 0===t?void 0:t.length)&&(n.ranges=e.ranges.map((e=>JO.toJSON(e)))),n},create:e=>uP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.GlossaryHighlight",entry:void 0,ranges:[]};return n.entry=void 0!==e.entry&&null!==e.entry?sP.fromPartial(e.entry):void 0,n.ranges=(null===(t=e.ranges)||void 0===t?void 0:t.map((e=>JO.fromPartial(e))))||[],n}};const dP={$type:"deepl.pb.interactive_text_api.write.Language",encode:(e,t=new AO)=>(""!==e.code&&t.uint32(10).string(e.code),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.Language",code:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.code=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:dP.$type,code:bP(e.code)?globalThis.String(e.code):""}),toJSON(e){const t={};return""!==e.code&&(t.code=e.code),t},create:e=>dP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.Language",code:""};return n.code=null!==(t=e.code)&&void 0!==t?t:"",n}};const pP={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",encode:(e,t=new AO)=>(void 0!==e.sourceRange&&JO.encode(e.sourceRange,t.uint32(10).fork()).join(),void 0!==e.alternativeRange&&JO.encode(e.alternativeRange,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sourceRange=JO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternativeRange=JO.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:pP.$type,sourceRange:bP(e.sourceRange)?JO.fromJSON(e.sourceRange):void 0,alternativeRange:bP(e.alternativeRange)?JO.fromJSON(e.alternativeRange):void 0}),toJSON(e){const t={};return void 0!==e.sourceRange&&(t.sourceRange=JO.toJSON(e.sourceRange)),void 0!==e.alternativeRange&&(t.alternativeRange=JO.toJSON(e.alternativeRange)),t},create:e=>pP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternativeDiff",sourceRange:void 0,alternativeRange:void 0};return t.sourceRange=void 0!==e.sourceRange&&null!==e.sourceRange?JO.fromPartial(e.sourceRange):void 0,t.alternativeRange=void 0!==e.alternativeRange&&null!==e.alternativeRange?JO.fromPartial(e.alternativeRange):void 0,t}};const hP={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",encode(e,t=new AO){""!==e.text&&t.uint32(10).string(e.text);for(const n of e.glossaryHighlights)uP.encode(n,t.uint32(18).fork()).join();for(const n of e.diffs)pP.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue;case 2:if(18!==e)break;o.glossaryHighlights.push(uP.decode(n,n.uint32()));continue;case 3:if(26!==e)break;o.diffs.push(pP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:hP.$type,text:bP(e.text)?globalThis.String(e.text):"",glossaryHighlights:globalThis.Array.isArray(null==e?void 0:e.glossaryHighlights)?e.glossaryHighlights.map((e=>uP.fromJSON(e))):[],diffs:globalThis.Array.isArray(null==e?void 0:e.diffs)?e.diffs.map((e=>pP.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return""!==e.text&&(r.text=e.text),(null===(t=e.glossaryHighlights)||void 0===t?void 0:t.length)&&(r.glossaryHighlights=e.glossaryHighlights.map((e=>uP.toJSON(e)))),(null===(n=e.diffs)||void 0===n?void 0:n.length)&&(r.diffs=e.diffs.map((e=>pP.toJSON(e)))),r},create:e=>hP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r;const o={$type:"deepl.pb.interactive_text_api.write.TextUnitAlternative",text:"",glossaryHighlights:[],diffs:[]};return o.text=null!==(t=e.text)&&void 0!==t?t:"",o.glossaryHighlights=(null===(n=e.glossaryHighlights)||void 0===n?void 0:n.map((e=>uP.fromPartial(e))))||[],o.diffs=(null===(r=e.diffs)||void 0===r?void 0:r.map((e=>pP.fromPartial(e))))||[],o}};const fP={$type:"deepl.pb.interactive_text_api.write.StyleVariant",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:fP.$type,value:bP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>fP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.StyleVariant",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const gP={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:gP.$type,value:bP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>gP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternativesFlowId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const mP={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&gP.encode(e.flowId,t.uint32(10).fork()).join(),void 0!==e.styleVariant&&fP.encode(e.styleVariant,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.styleVariant=fP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:mP.$type,flowId:bP(e.flowId)?gP.fromJSON(e.flowId):void 0,styleVariant:bP(e.styleVariant)?fP.fromJSON(e.styleVariant):void 0}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=gP.toJSON(e.flowId)),void 0!==e.styleVariant&&(t.styleVariant=fP.toJSON(e.styleVariant)),t},create:e=>mP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.write.RequestChangeStyleAlternativesAnnotationPayload",flowId:void 0,styleVariant:void 0};return t.flowId=void 0!==e.flowId&&null!==e.flowId?gP.fromPartial(e.flowId):void 0,t.styleVariant=void 0!==e.styleVariant&&null!==e.styleVariant?fP.fromPartial(e.styleVariant):void 0,t}};const vP={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",encode:(e,t=new AO)=>(""!==e.text&&t.uint32(10).string(e.text),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:vP.$type,text:bP(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return""!==e.text&&(t.text=e.text),t},create:e=>vP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ChangeStyleAlternative",text:""};return n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const yP={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",encode(e,t=new AO){void 0!==e.flowId&&MO.encode(e.flowId,t.uint32(10).fork()).join();for(const n of e.alternatives)vP.encode(n,t.uint32(18).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=MO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.alternatives.push(vP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:yP.$type,flowId:bP(e.flowId)?MO.fromJSON(e.flowId):void 0,alternatives:globalThis.Array.isArray(null==e?void 0:e.alternatives)?e.alternatives.map((e=>vP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return void 0!==e.flowId&&(n.flowId=MO.toJSON(e.flowId)),(null===(t=e.alternatives)||void 0===t?void 0:t.length)&&(n.alternatives=e.alternatives.map((e=>vP.toJSON(e)))),n},create:e=>yP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.ProvidedChangeStyleAlternativesAnnotationPayload",flowId:void 0,alternatives:[]};return n.flowId=void 0!==e.flowId&&null!==e.flowId?MO.fromPartial(e.flowId):void 0,n.alternatives=(null===(t=e.alternatives)||void 0===t?void 0:t.map((e=>vP.fromPartial(e))))||[],n}};const _P={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",encode:(e,t=new AO)=>(void 0!==e.flowId&&gP.encode(e.flowId,t.uint32(10).fork()).join(),""!==e.selection&&t.uint32(18).string(e.selection),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.flowId=gP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.selection=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:_P.$type,flowId:bP(e.flowId)?gP.fromJSON(e.flowId):void 0,selection:bP(e.selection)?globalThis.String(e.selection):""}),toJSON(e){const t={};return void 0!==e.flowId&&(t.flowId=gP.toJSON(e.flowId)),""!==e.selection&&(t.selection=e.selection),t},create:e=>_P.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.write.SelectChangeStyleAlternativeAnnotationPayload",flowId:void 0,selection:""};return n.flowId=void 0!==e.flowId&&null!==e.flowId?gP.fromPartial(e.flowId):void 0,n.selection=null!==(t=e.selection)&&void 0!==t?t:"",n}};function bP(e){return null!=e}var SP,wP,TP;function EP(e){switch(e){case 0:case"FIELD_NAME_UNSPECIFIED":return SP.UNSPECIFIED;case 1:case"FIELD_NAME_TRANSLATOR_SOURCE_TEXT":return SP.TRANSLATOR_SOURCE_TEXT;case 2:case"FIELD_NAME_TRANSLATOR_TARGET_TEXT":return SP.TRANSLATOR_TARGET_TEXT;case 4:case"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT":return SP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT;case 5:case"FIELD_NAME_WRITE_SOURCE_TEXT":return SP.WRITE_SOURCE_TEXT;case 6:case"FIELD_NAME_WRITE_TARGET_TEXT":return SP.WRITE_TARGET_TEXT;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function AP(e){switch(e){case SP.UNSPECIFIED:return"FIELD_NAME_UNSPECIFIED";case SP.TRANSLATOR_SOURCE_TEXT:return"FIELD_NAME_TRANSLATOR_SOURCE_TEXT";case SP.TRANSLATOR_TARGET_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TEXT";case SP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT:return"FIELD_NAME_TRANSLATOR_TARGET_TRANSCRIPTION_TEXT";case SP.WRITE_SOURCE_TEXT:return"FIELD_NAME_WRITE_SOURCE_TEXT";case SP.WRITE_TARGET_TEXT:return"FIELD_NAME_WRITE_TARGET_TEXT";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum FieldName")}}function IP(e){switch(e){case 0:case"PROPERTY_NAME_UNSPECIFIED":return wP.UNSPECIFIED;case 1:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES":return wP.TRANSLATOR_SOURCE_LANGUAGES;case 2:case"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES":return wP.TRANSLATOR_TARGET_LANGUAGES;case 3:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE":return wP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE;case 4:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE":return wP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE;case 5:case"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE":return wP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE;case 7:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES":return wP.TRANSLATOR_FORMALITY_MODES;case 8:case"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE":return wP.TRANSLATOR_FORMALITY_MODE;case 9:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT":return wP.TRANSLATOR_GLOSSARY_SUPPORT;case 10:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST":return wP.TRANSLATOR_GLOSSARY_LIST;case 12:case"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION":return wP.TRANSLATOR_TEXT_DIRECTION;case 13:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS":return wP.TRANSLATOR_GLOSSARY_SUGGESTIONS;case 14:case"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH":return wP.TRANSLATOR_MAXIMUM_TEXT_LENGTH;case 15:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS":return wP.TRANSLATOR_LANGUAGE_MODELS;case 16:case"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL":return wP.TRANSLATOR_LANGUAGE_MODEL;case 17:case"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID":return wP.TRANSLATOR_GLOSSARY_ID;case 18:case"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE":return wP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE;case 19:case"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE":return wP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE;case 20:case"PROPERTY_NAME_WRITE_LANGUAGES":return wP.WRITE_LANGUAGES;case 21:case"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE":return wP.WRITE_REQUESTED_LANGUAGE;case 22:case"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE":return wP.WRITE_CALCULATED_LANGUAGE;case 23:case"PROPERTY_NAME_WRITE_STYLE_VARIANTS":return wP.WRITE_STYLE_VARIANTS;case 24:case"PROPERTY_NAME_WRITE_STYLE_VARIANT":return wP.WRITE_STYLE_VARIANT;case 25:case"PROPERTY_NAME_WRITE_GLOSSARY_ID":return wP.WRITE_GLOSSARY_ID;case 26:case"PROPERTY_NAME_WRITE_GLOSSARY_LIST":return wP.WRITE_GLOSSARY_LIST;case 27:case"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT":return wP.WRITE_GLOSSARY_SUPPORT;case 28:case"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH":return wP.WRITE_MAXIMUM_TEXT_LENGTH;case 29:case"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE":return wP.WRITE_UNSUPPORTED_LANGUAGE;case 30:case"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS":return wP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS;case 31:case"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES":return wP.WRITE_GLOSSARY_LANGUAGES;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}function xP(e){switch(e){case 0:case"SESSION_MODE_UNSPECIFIED":return TP.UNSPECIFIED;case 1:case"SESSION_MODE_TRANSLATOR":return TP.TRANSLATOR;case 2:case"SESSION_MODE_WRITE":return TP.WRITE;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_TEXT=1]="TRANSLATOR_SOURCE_TEXT",e[e.TRANSLATOR_TARGET_TEXT=2]="TRANSLATOR_TARGET_TEXT",e[e.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT=4]="TRANSLATOR_TARGET_TRANSCRIPTION_TEXT",e[e.WRITE_SOURCE_TEXT=5]="WRITE_SOURCE_TEXT",e[e.WRITE_TARGET_TEXT=6]="WRITE_TARGET_TEXT"}(SP||(SP={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR_SOURCE_LANGUAGES=1]="TRANSLATOR_SOURCE_LANGUAGES",e[e.TRANSLATOR_TARGET_LANGUAGES=2]="TRANSLATOR_TARGET_LANGUAGES",e[e.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE=3]="TRANSLATOR_REQUESTED_SOURCE_LANGUAGE",e[e.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE=4]="TRANSLATOR_CALCULATED_SOURCE_LANGUAGE",e[e.TRANSLATOR_REQUESTED_TARGET_LANGUAGE=5]="TRANSLATOR_REQUESTED_TARGET_LANGUAGE",e[e.TRANSLATOR_FORMALITY_MODES=7]="TRANSLATOR_FORMALITY_MODES",e[e.TRANSLATOR_FORMALITY_MODE=8]="TRANSLATOR_FORMALITY_MODE",e[e.TRANSLATOR_GLOSSARY_SUPPORT=9]="TRANSLATOR_GLOSSARY_SUPPORT",e[e.TRANSLATOR_GLOSSARY_LIST=10]="TRANSLATOR_GLOSSARY_LIST",e[e.TRANSLATOR_TEXT_DIRECTION=12]="TRANSLATOR_TEXT_DIRECTION",e[e.TRANSLATOR_GLOSSARY_SUGGESTIONS=13]="TRANSLATOR_GLOSSARY_SUGGESTIONS",e[e.TRANSLATOR_MAXIMUM_TEXT_LENGTH=14]="TRANSLATOR_MAXIMUM_TEXT_LENGTH",e[e.TRANSLATOR_LANGUAGE_MODELS=15]="TRANSLATOR_LANGUAGE_MODELS",e[e.TRANSLATOR_LANGUAGE_MODEL=16]="TRANSLATOR_LANGUAGE_MODEL",e[e.TRANSLATOR_GLOSSARY_ID=17]="TRANSLATOR_GLOSSARY_ID",e[e.TRANSLATOR_CALCULATED_TARGET_LANGUAGE=18]="TRANSLATOR_CALCULATED_TARGET_LANGUAGE",e[e.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE=19]="TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE",e[e.WRITE_LANGUAGES=20]="WRITE_LANGUAGES",e[e.WRITE_REQUESTED_LANGUAGE=21]="WRITE_REQUESTED_LANGUAGE",e[e.WRITE_CALCULATED_LANGUAGE=22]="WRITE_CALCULATED_LANGUAGE",e[e.WRITE_STYLE_VARIANTS=23]="WRITE_STYLE_VARIANTS",e[e.WRITE_STYLE_VARIANT=24]="WRITE_STYLE_VARIANT",e[e.WRITE_GLOSSARY_ID=25]="WRITE_GLOSSARY_ID",e[e.WRITE_GLOSSARY_LIST=26]="WRITE_GLOSSARY_LIST",e[e.WRITE_GLOSSARY_SUPPORT=27]="WRITE_GLOSSARY_SUPPORT",e[e.WRITE_MAXIMUM_TEXT_LENGTH=28]="WRITE_MAXIMUM_TEXT_LENGTH",e[e.WRITE_UNSUPPORTED_LANGUAGE=29]="WRITE_UNSUPPORTED_LANGUAGE",e[e.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS=30]="TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS",e[e.WRITE_GLOSSARY_LANGUAGES=31]="WRITE_GLOSSARY_LANGUAGES"}(wP||(wP={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.TRANSLATOR=1]="TRANSLATOR",e[e.WRITE=2]="WRITE"}(TP||(TP={}));const kP={$type:"deepl.pb.interactive_text_api.TextChangeOperation",encode:(e,t=new AO)=>(void 0!==e.range&&JO.encode(e.range,t.uint32(10).fork()).join(),""!==e.text&&t.uint32(18).string(e.text),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.range=JO.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.text=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:kP.$type,range:ZP(e.range)?JO.fromJSON(e.range):void 0,text:ZP(e.text)?globalThis.String(e.text):""}),toJSON(e){const t={};return void 0!==e.range&&(t.range=JO.toJSON(e.range)),""!==e.text&&(t.text=e.text),t},create:e=>kP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.TextChangeOperation",range:void 0,text:""};return n.range=void 0!==e.range&&null!==e.range?JO.fromPartial(e.range):void 0,n.text=null!==(t=e.text)&&void 0!==t?t:"",n}};const CP={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",encode:(e,t=new AO)=>(void 0!==e.annotationId&&zP.encode(e.annotationId,t.uint32(10).fork()).join(),void 0!==e.range&&JO.encode(e.range,t.uint32(18).fork()).join(),void 0!==e.textUnitPayload&&XO.encode(e.textUnitPayload,t.uint32(26).fork()).join(),void 0!==e.requestWordAlternativesPayload&&UO.encode(e.requestWordAlternativesPayload,t.uint32(34).fork()).join(),void 0!==e.providedWordAlternativesPayload&&$O.encode(e.providedWordAlternativesPayload,t.uint32(42).fork()).join(),void 0!==e.selectWordAlternativePayload&&jO.encode(e.selectWordAlternativePayload,t.uint32(50).fork()).join(),void 0!==e.translatorGlossaryReplacementPayload&&sR.encode(e.translatorGlossaryReplacementPayload,t.uint32(58).fork()).join(),void 0!==e.requestTextUnitAlternativesPayload&&DO.encode(e.requestTextUnitAlternativesPayload,t.uint32(66).fork()).join(),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&cR.encode(e.translatorProvidedTextUnitAlternativesPayload,t.uint32(74).fork()).join(),void 0!==e.selectTextUnitAlternativePayload&&FO.encode(e.selectTextUnitAlternativePayload,t.uint32(82).fork()).join(),void 0!==e.translatorRequestAutocompletionPayload&&oR.encode(e.translatorRequestAutocompletionPayload,t.uint32(90).fork()).join(),void 0!==e.translatorProvidedAutocompletionPayload&&iR.encode(e.translatorProvidedAutocompletionPayload,t.uint32(98).fork()).join(),void 0!==e.translatorSelectAutocompletionPayload&&aR.encode(e.translatorSelectAutocompletionPayload,t.uint32(106).fork()).join(),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&lR.encode(e.translatorProvidedAutomaticTextUnitAlternativesPayload,t.uint32(114).fork()).join(),void 0!==e.selectAutomaticTextUnitAlternativePayload&&VO.encode(e.selectAutomaticTextUnitAlternativePayload,t.uint32(122).fork()).join(),void 0!==e.writeDiffUnitPayload&&zR.encode(e.writeDiffUnitPayload,t.uint32(130).fork()).join(),void 0!==e.textFormattingPayload&&WO.encode(e.textFormattingPayload,t.uint32(138).fork()).join(),void 0!==e.writeProvidedTextUnitAlternativesPayload&&YR.encode(e.writeProvidedTextUnitAlternativesPayload,t.uint32(146).fork()).join(),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&XR.encode(e.writeProvidedAutomaticTextUnitAlternativesPayload,t.uint32(154).fork()).join(),void 0!==e.translatorRequestClarifyPayload&&uR.encode(e.translatorRequestClarifyPayload,t.uint32(162).fork()).join(),void 0!==e.translatorProvidedClarifyQuestionPayload&&pR.encode(e.translatorProvidedClarifyQuestionPayload,t.uint32(170).fork()).join(),void 0!==e.translatorProvidedClarifyHighlightPayload&&dR.encode(e.translatorProvidedClarifyHighlightPayload,t.uint32(178).fork()).join(),void 0!==e.translatorSelectClarifyAnswerPayload&&hR.encode(e.translatorSelectClarifyAnswerPayload,t.uint32(186).fork()).join(),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&mP.encode(e.writeRequestChangeStyleAlternativesAnnotationPayload,t.uint32(194).fork()).join(),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&yP.encode(e.writeProvidedChangeStyleAlternativesAnnotationPayload,t.uint32(202).fork()).join(),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&_P.encode(e.writeSelectChangeStyleAlternativeAnnotationPayload,t.uint32(210).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=zP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.range=JO.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.textUnitPayload=XO.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.requestWordAlternativesPayload=UO.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.providedWordAlternativesPayload=$O.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.selectWordAlternativePayload=jO.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorGlossaryReplacementPayload=sR.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.requestTextUnitAlternativesPayload=DO.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorProvidedTextUnitAlternativesPayload=cR.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.selectTextUnitAlternativePayload=FO.decode(n,n.uint32());continue;case 11:if(90!==e)break;o.translatorRequestAutocompletionPayload=oR.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorProvidedAutocompletionPayload=iR.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorSelectAutocompletionPayload=aR.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorProvidedAutomaticTextUnitAlternativesPayload=lR.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.selectAutomaticTextUnitAlternativePayload=VO.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.writeDiffUnitPayload=zR.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.textFormattingPayload=WO.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.writeProvidedTextUnitAlternativesPayload=YR.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.writeProvidedAutomaticTextUnitAlternativesPayload=XR.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.translatorRequestClarifyPayload=uR.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.translatorProvidedClarifyQuestionPayload=pR.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.translatorProvidedClarifyHighlightPayload=dR.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.translatorSelectClarifyAnswerPayload=hR.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeRequestChangeStyleAlternativesAnnotationPayload=mP.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeProvidedChangeStyleAlternativesAnnotationPayload=yP.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeSelectChangeStyleAlternativeAnnotationPayload=_P.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:CP.$type,annotationId:ZP(e.annotationId)?zP.fromJSON(e.annotationId):void 0,range:ZP(e.range)?JO.fromJSON(e.range):void 0,textUnitPayload:ZP(e.textUnitPayload)?XO.fromJSON(e.textUnitPayload):void 0,requestWordAlternativesPayload:ZP(e.requestWordAlternativesPayload)?UO.fromJSON(e.requestWordAlternativesPayload):void 0,providedWordAlternativesPayload:ZP(e.providedWordAlternativesPayload)?$O.fromJSON(e.providedWordAlternativesPayload):void 0,selectWordAlternativePayload:ZP(e.selectWordAlternativePayload)?jO.fromJSON(e.selectWordAlternativePayload):void 0,translatorGlossaryReplacementPayload:ZP(e.translatorGlossaryReplacementPayload)?sR.fromJSON(e.translatorGlossaryReplacementPayload):void 0,requestTextUnitAlternativesPayload:ZP(e.requestTextUnitAlternativesPayload)?DO.fromJSON(e.requestTextUnitAlternativesPayload):void 0,translatorProvidedTextUnitAlternativesPayload:ZP(e.translatorProvidedTextUnitAlternativesPayload)?cR.fromJSON(e.translatorProvidedTextUnitAlternativesPayload):void 0,selectTextUnitAlternativePayload:ZP(e.selectTextUnitAlternativePayload)?FO.fromJSON(e.selectTextUnitAlternativePayload):void 0,translatorRequestAutocompletionPayload:ZP(e.translatorRequestAutocompletionPayload)?oR.fromJSON(e.translatorRequestAutocompletionPayload):void 0,translatorProvidedAutocompletionPayload:ZP(e.translatorProvidedAutocompletionPayload)?iR.fromJSON(e.translatorProvidedAutocompletionPayload):void 0,translatorSelectAutocompletionPayload:ZP(e.translatorSelectAutocompletionPayload)?aR.fromJSON(e.translatorSelectAutocompletionPayload):void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:ZP(e.translatorProvidedAutomaticTextUnitAlternativesPayload)?lR.fromJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,selectAutomaticTextUnitAlternativePayload:ZP(e.selectAutomaticTextUnitAlternativePayload)?VO.fromJSON(e.selectAutomaticTextUnitAlternativePayload):void 0,writeDiffUnitPayload:ZP(e.writeDiffUnitPayload)?zR.fromJSON(e.writeDiffUnitPayload):void 0,textFormattingPayload:ZP(e.textFormattingPayload)?WO.fromJSON(e.textFormattingPayload):void 0,writeProvidedTextUnitAlternativesPayload:ZP(e.writeProvidedTextUnitAlternativesPayload)?YR.fromJSON(e.writeProvidedTextUnitAlternativesPayload):void 0,writeProvidedAutomaticTextUnitAlternativesPayload:ZP(e.writeProvidedAutomaticTextUnitAlternativesPayload)?XR.fromJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,translatorRequestClarifyPayload:ZP(e.translatorRequestClarifyPayload)?uR.fromJSON(e.translatorRequestClarifyPayload):void 0,translatorProvidedClarifyQuestionPayload:ZP(e.translatorProvidedClarifyQuestionPayload)?pR.fromJSON(e.translatorProvidedClarifyQuestionPayload):void 0,translatorProvidedClarifyHighlightPayload:ZP(e.translatorProvidedClarifyHighlightPayload)?dR.fromJSON(e.translatorProvidedClarifyHighlightPayload):void 0,translatorSelectClarifyAnswerPayload:ZP(e.translatorSelectClarifyAnswerPayload)?hR.fromJSON(e.translatorSelectClarifyAnswerPayload):void 0,writeRequestChangeStyleAlternativesAnnotationPayload:ZP(e.writeRequestChangeStyleAlternativesAnnotationPayload)?mP.fromJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:ZP(e.writeProvidedChangeStyleAlternativesAnnotationPayload)?yP.fromJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,writeSelectChangeStyleAlternativeAnnotationPayload:ZP(e.writeSelectChangeStyleAlternativeAnnotationPayload)?_P.fromJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=zP.toJSON(e.annotationId)),void 0!==e.range&&(t.range=JO.toJSON(e.range)),void 0!==e.textUnitPayload&&(t.textUnitPayload=XO.toJSON(e.textUnitPayload)),void 0!==e.requestWordAlternativesPayload&&(t.requestWordAlternativesPayload=UO.toJSON(e.requestWordAlternativesPayload)),void 0!==e.providedWordAlternativesPayload&&(t.providedWordAlternativesPayload=$O.toJSON(e.providedWordAlternativesPayload)),void 0!==e.selectWordAlternativePayload&&(t.selectWordAlternativePayload=jO.toJSON(e.selectWordAlternativePayload)),void 0!==e.translatorGlossaryReplacementPayload&&(t.translatorGlossaryReplacementPayload=sR.toJSON(e.translatorGlossaryReplacementPayload)),void 0!==e.requestTextUnitAlternativesPayload&&(t.requestTextUnitAlternativesPayload=DO.toJSON(e.requestTextUnitAlternativesPayload)),void 0!==e.translatorProvidedTextUnitAlternativesPayload&&(t.translatorProvidedTextUnitAlternativesPayload=cR.toJSON(e.translatorProvidedTextUnitAlternativesPayload)),void 0!==e.selectTextUnitAlternativePayload&&(t.selectTextUnitAlternativePayload=FO.toJSON(e.selectTextUnitAlternativePayload)),void 0!==e.translatorRequestAutocompletionPayload&&(t.translatorRequestAutocompletionPayload=oR.toJSON(e.translatorRequestAutocompletionPayload)),void 0!==e.translatorProvidedAutocompletionPayload&&(t.translatorProvidedAutocompletionPayload=iR.toJSON(e.translatorProvidedAutocompletionPayload)),void 0!==e.translatorSelectAutocompletionPayload&&(t.translatorSelectAutocompletionPayload=aR.toJSON(e.translatorSelectAutocompletionPayload)),void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&(t.translatorProvidedAutomaticTextUnitAlternativesPayload=lR.toJSON(e.translatorProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.selectAutomaticTextUnitAlternativePayload&&(t.selectAutomaticTextUnitAlternativePayload=VO.toJSON(e.selectAutomaticTextUnitAlternativePayload)),void 0!==e.writeDiffUnitPayload&&(t.writeDiffUnitPayload=zR.toJSON(e.writeDiffUnitPayload)),void 0!==e.textFormattingPayload&&(t.textFormattingPayload=WO.toJSON(e.textFormattingPayload)),void 0!==e.writeProvidedTextUnitAlternativesPayload&&(t.writeProvidedTextUnitAlternativesPayload=YR.toJSON(e.writeProvidedTextUnitAlternativesPayload)),void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&(t.writeProvidedAutomaticTextUnitAlternativesPayload=XR.toJSON(e.writeProvidedAutomaticTextUnitAlternativesPayload)),void 0!==e.translatorRequestClarifyPayload&&(t.translatorRequestClarifyPayload=uR.toJSON(e.translatorRequestClarifyPayload)),void 0!==e.translatorProvidedClarifyQuestionPayload&&(t.translatorProvidedClarifyQuestionPayload=pR.toJSON(e.translatorProvidedClarifyQuestionPayload)),void 0!==e.translatorProvidedClarifyHighlightPayload&&(t.translatorProvidedClarifyHighlightPayload=dR.toJSON(e.translatorProvidedClarifyHighlightPayload)),void 0!==e.translatorSelectClarifyAnswerPayload&&(t.translatorSelectClarifyAnswerPayload=hR.toJSON(e.translatorSelectClarifyAnswerPayload)),void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&(t.writeRequestChangeStyleAlternativesAnnotationPayload=mP.toJSON(e.writeRequestChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&(t.writeProvidedChangeStyleAlternativesAnnotationPayload=yP.toJSON(e.writeProvidedChangeStyleAlternativesAnnotationPayload)),void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&(t.writeSelectChangeStyleAlternativeAnnotationPayload=_P.toJSON(e.writeSelectChangeStyleAlternativeAnnotationPayload)),t},create:e=>CP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.CreateAnnotationOperation",annotationId:void 0,range:void 0,textUnitPayload:void 0,requestWordAlternativesPayload:void 0,providedWordAlternativesPayload:void 0,selectWordAlternativePayload:void 0,translatorGlossaryReplacementPayload:void 0,requestTextUnitAlternativesPayload:void 0,translatorProvidedTextUnitAlternativesPayload:void 0,selectTextUnitAlternativePayload:void 0,translatorRequestAutocompletionPayload:void 0,translatorProvidedAutocompletionPayload:void 0,translatorSelectAutocompletionPayload:void 0,translatorProvidedAutomaticTextUnitAlternativesPayload:void 0,selectAutomaticTextUnitAlternativePayload:void 0,writeDiffUnitPayload:void 0,textFormattingPayload:void 0,writeProvidedTextUnitAlternativesPayload:void 0,writeProvidedAutomaticTextUnitAlternativesPayload:void 0,translatorRequestClarifyPayload:void 0,translatorProvidedClarifyQuestionPayload:void 0,translatorProvidedClarifyHighlightPayload:void 0,translatorSelectClarifyAnswerPayload:void 0,writeRequestChangeStyleAlternativesAnnotationPayload:void 0,writeProvidedChangeStyleAlternativesAnnotationPayload:void 0,writeSelectChangeStyleAlternativeAnnotationPayload:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?zP.fromPartial(e.annotationId):void 0,t.range=void 0!==e.range&&null!==e.range?JO.fromPartial(e.range):void 0,t.textUnitPayload=void 0!==e.textUnitPayload&&null!==e.textUnitPayload?XO.fromPartial(e.textUnitPayload):void 0,t.requestWordAlternativesPayload=void 0!==e.requestWordAlternativesPayload&&null!==e.requestWordAlternativesPayload?UO.fromPartial(e.requestWordAlternativesPayload):void 0,t.providedWordAlternativesPayload=void 0!==e.providedWordAlternativesPayload&&null!==e.providedWordAlternativesPayload?$O.fromPartial(e.providedWordAlternativesPayload):void 0,t.selectWordAlternativePayload=void 0!==e.selectWordAlternativePayload&&null!==e.selectWordAlternativePayload?jO.fromPartial(e.selectWordAlternativePayload):void 0,t.translatorGlossaryReplacementPayload=void 0!==e.translatorGlossaryReplacementPayload&&null!==e.translatorGlossaryReplacementPayload?sR.fromPartial(e.translatorGlossaryReplacementPayload):void 0,t.requestTextUnitAlternativesPayload=void 0!==e.requestTextUnitAlternativesPayload&&null!==e.requestTextUnitAlternativesPayload?DO.fromPartial(e.requestTextUnitAlternativesPayload):void 0,t.translatorProvidedTextUnitAlternativesPayload=void 0!==e.translatorProvidedTextUnitAlternativesPayload&&null!==e.translatorProvidedTextUnitAlternativesPayload?cR.fromPartial(e.translatorProvidedTextUnitAlternativesPayload):void 0,t.selectTextUnitAlternativePayload=void 0!==e.selectTextUnitAlternativePayload&&null!==e.selectTextUnitAlternativePayload?FO.fromPartial(e.selectTextUnitAlternativePayload):void 0,t.translatorRequestAutocompletionPayload=void 0!==e.translatorRequestAutocompletionPayload&&null!==e.translatorRequestAutocompletionPayload?oR.fromPartial(e.translatorRequestAutocompletionPayload):void 0,t.translatorProvidedAutocompletionPayload=void 0!==e.translatorProvidedAutocompletionPayload&&null!==e.translatorProvidedAutocompletionPayload?iR.fromPartial(e.translatorProvidedAutocompletionPayload):void 0,t.translatorSelectAutocompletionPayload=void 0!==e.translatorSelectAutocompletionPayload&&null!==e.translatorSelectAutocompletionPayload?aR.fromPartial(e.translatorSelectAutocompletionPayload):void 0,t.translatorProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.translatorProvidedAutomaticTextUnitAlternativesPayload&&null!==e.translatorProvidedAutomaticTextUnitAlternativesPayload?lR.fromPartial(e.translatorProvidedAutomaticTextUnitAlternativesPayload):void 0,t.selectAutomaticTextUnitAlternativePayload=void 0!==e.selectAutomaticTextUnitAlternativePayload&&null!==e.selectAutomaticTextUnitAlternativePayload?VO.fromPartial(e.selectAutomaticTextUnitAlternativePayload):void 0,t.writeDiffUnitPayload=void 0!==e.writeDiffUnitPayload&&null!==e.writeDiffUnitPayload?zR.fromPartial(e.writeDiffUnitPayload):void 0,t.textFormattingPayload=void 0!==e.textFormattingPayload&&null!==e.textFormattingPayload?WO.fromPartial(e.textFormattingPayload):void 0,t.writeProvidedTextUnitAlternativesPayload=void 0!==e.writeProvidedTextUnitAlternativesPayload&&null!==e.writeProvidedTextUnitAlternativesPayload?YR.fromPartial(e.writeProvidedTextUnitAlternativesPayload):void 0,t.writeProvidedAutomaticTextUnitAlternativesPayload=void 0!==e.writeProvidedAutomaticTextUnitAlternativesPayload&&null!==e.writeProvidedAutomaticTextUnitAlternativesPayload?XR.fromPartial(e.writeProvidedAutomaticTextUnitAlternativesPayload):void 0,t.translatorRequestClarifyPayload=void 0!==e.translatorRequestClarifyPayload&&null!==e.translatorRequestClarifyPayload?uR.fromPartial(e.translatorRequestClarifyPayload):void 0,t.translatorProvidedClarifyQuestionPayload=void 0!==e.translatorProvidedClarifyQuestionPayload&&null!==e.translatorProvidedClarifyQuestionPayload?pR.fromPartial(e.translatorProvidedClarifyQuestionPayload):void 0,t.translatorProvidedClarifyHighlightPayload=void 0!==e.translatorProvidedClarifyHighlightPayload&&null!==e.translatorProvidedClarifyHighlightPayload?dR.fromPartial(e.translatorProvidedClarifyHighlightPayload):void 0,t.translatorSelectClarifyAnswerPayload=void 0!==e.translatorSelectClarifyAnswerPayload&&null!==e.translatorSelectClarifyAnswerPayload?hR.fromPartial(e.translatorSelectClarifyAnswerPayload):void 0,t.writeRequestChangeStyleAlternativesAnnotationPayload=void 0!==e.writeRequestChangeStyleAlternativesAnnotationPayload&&null!==e.writeRequestChangeStyleAlternativesAnnotationPayload?mP.fromPartial(e.writeRequestChangeStyleAlternativesAnnotationPayload):void 0,t.writeProvidedChangeStyleAlternativesAnnotationPayload=void 0!==e.writeProvidedChangeStyleAlternativesAnnotationPayload&&null!==e.writeProvidedChangeStyleAlternativesAnnotationPayload?yP.fromPartial(e.writeProvidedChangeStyleAlternativesAnnotationPayload):void 0,t.writeSelectChangeStyleAlternativeAnnotationPayload=void 0!==e.writeSelectChangeStyleAlternativeAnnotationPayload&&null!==e.writeSelectChangeStyleAlternativeAnnotationPayload?_P.fromPartial(e.writeSelectChangeStyleAlternativeAnnotationPayload):void 0,t}};const OP={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",encode:(e,t=new AO)=>(void 0!==e.annotationId&&zP.encode(e.annotationId,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.annotationId=zP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:OP.$type,annotationId:ZP(e.annotationId)?zP.fromJSON(e.annotationId):void 0}),toJSON(e){const t={};return void 0!==e.annotationId&&(t.annotationId=zP.toJSON(e.annotationId)),t},create:e=>OP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.RemoveAnnotationOperation",annotationId:void 0};return t.annotationId=void 0!==e.annotationId&&null!==e.annotationId?zP.fromPartial(e.annotationId):void 0,t}};const RP={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",encode:(e,t=new AO)=>(0!==e.propertyName&&t.uint32(8).int32(e.propertyName),void 0!==e.translatorSourceLanguagesValue&&fR.encode(e.translatorSourceLanguagesValue,t.uint32(18).fork()).join(),void 0!==e.translatorTargetLanguagesValue&&gR.encode(e.translatorTargetLanguagesValue,t.uint32(26).fork()).join(),void 0!==e.translatorRequestedSourceLanguageValue&&mR.encode(e.translatorRequestedSourceLanguageValue,t.uint32(34).fork()).join(),void 0!==e.translatorRequestedTargetLanguageValue&&yR.encode(e.translatorRequestedTargetLanguageValue,t.uint32(42).fork()).join(),void 0!==e.translatorFormalityModesValue&&TR.encode(e.translatorFormalityModesValue,t.uint32(58).fork()).join(),void 0!==e.translatorFormalityModeValue&&ER.encode(e.translatorFormalityModeValue,t.uint32(66).fork()).join(),void 0!==e.translatorGlossarySupportValue&&SR.encode(e.translatorGlossarySupportValue,t.uint32(74).fork()).join(),void 0!==e.translatorGlossaryListValue&&$R.encode(e.translatorGlossaryListValue,t.uint32(82).fork()).join(),void 0!==e.translatorTextDirectionValue&&xR.encode(e.translatorTextDirectionValue,t.uint32(98).fork()).join(),void 0!==e.translatorCalculatedSourceLanguageValue&&vR.encode(e.translatorCalculatedSourceLanguageValue,t.uint32(106).fork()).join(),void 0!==e.translatorMaximumTextLengthValue&&kR.encode(e.translatorMaximumTextLengthValue,t.uint32(114).fork()).join(),void 0!==e.translatorLanguageModelsValue&&AR.encode(e.translatorLanguageModelsValue,t.uint32(122).fork()).join(),void 0!==e.translatorLanguageModelValue&&IR.encode(e.translatorLanguageModelValue,t.uint32(130).fork()).join(),void 0!==e.translatorGlossaryIdValue&&bR.encode(e.translatorGlossaryIdValue,t.uint32(138).fork()).join(),void 0!==e.translatorCalculatedTargetLanguageValue&&_R.encode(e.translatorCalculatedTargetLanguageValue,t.uint32(146).fork()).join(),void 0!==e.translatorUnsupportedSourceLanguageValue&&CR.encode(e.translatorUnsupportedSourceLanguageValue,t.uint32(154).fork()).join(),void 0!==e.writeLanguagesValue&&KR.encode(e.writeLanguagesValue,t.uint32(162).fork()).join(),void 0!==e.writeRequestedLanguageValue&&ZR.encode(e.writeRequestedLanguageValue,t.uint32(170).fork()).join(),void 0!==e.writeCalculatedLanguageValue&&eP.encode(e.writeCalculatedLanguageValue,t.uint32(178).fork()).join(),void 0!==e.writeStyleVariantsValue&&rP.encode(e.writeStyleVariantsValue,t.uint32(186).fork()).join(),void 0!==e.writeStyleVariantValue&&oP.encode(e.writeStyleVariantValue,t.uint32(194).fork()).join(),void 0!==e.writeGlossaryIdValue&&tP.encode(e.writeGlossaryIdValue,t.uint32(202).fork()).join(),void 0!==e.writeGlossaryListValue&&cP.encode(e.writeGlossaryListValue,t.uint32(210).fork()).join(),void 0!==e.writeGlossarySupportValue&&lP.encode(e.writeGlossarySupportValue,t.uint32(218).fork()).join(),void 0!==e.writeMaximumTextLengthValue&&nP.encode(e.writeMaximumTextLengthValue,t.uint32(226).fork()).join(),void 0!==e.writeUnsupportedLanguageValue&&iP.encode(e.writeUnsupportedLanguageValue,t.uint32(234).fork()).join(),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&OR.encode(e.translatorSourceLanguageDetectionWeightsValue,t.uint32(242).fork()).join(),void 0!==e.writeGlossaryLanguagesValue&&QR.encode(e.writeGlossaryLanguagesValue,t.uint32(250).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.propertyName=n.int32();continue;case 2:if(18!==e)break;o.translatorSourceLanguagesValue=fR.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorTargetLanguagesValue=gR.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.translatorRequestedSourceLanguageValue=mR.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.translatorRequestedTargetLanguageValue=yR.decode(n,n.uint32());continue;case 7:if(58!==e)break;o.translatorFormalityModesValue=TR.decode(n,n.uint32());continue;case 8:if(66!==e)break;o.translatorFormalityModeValue=ER.decode(n,n.uint32());continue;case 9:if(74!==e)break;o.translatorGlossarySupportValue=SR.decode(n,n.uint32());continue;case 10:if(82!==e)break;o.translatorGlossaryListValue=$R.decode(n,n.uint32());continue;case 12:if(98!==e)break;o.translatorTextDirectionValue=xR.decode(n,n.uint32());continue;case 13:if(106!==e)break;o.translatorCalculatedSourceLanguageValue=vR.decode(n,n.uint32());continue;case 14:if(114!==e)break;o.translatorMaximumTextLengthValue=kR.decode(n,n.uint32());continue;case 15:if(122!==e)break;o.translatorLanguageModelsValue=AR.decode(n,n.uint32());continue;case 16:if(130!==e)break;o.translatorLanguageModelValue=IR.decode(n,n.uint32());continue;case 17:if(138!==e)break;o.translatorGlossaryIdValue=bR.decode(n,n.uint32());continue;case 18:if(146!==e)break;o.translatorCalculatedTargetLanguageValue=_R.decode(n,n.uint32());continue;case 19:if(154!==e)break;o.translatorUnsupportedSourceLanguageValue=CR.decode(n,n.uint32());continue;case 20:if(162!==e)break;o.writeLanguagesValue=KR.decode(n,n.uint32());continue;case 21:if(170!==e)break;o.writeRequestedLanguageValue=ZR.decode(n,n.uint32());continue;case 22:if(178!==e)break;o.writeCalculatedLanguageValue=eP.decode(n,n.uint32());continue;case 23:if(186!==e)break;o.writeStyleVariantsValue=rP.decode(n,n.uint32());continue;case 24:if(194!==e)break;o.writeStyleVariantValue=oP.decode(n,n.uint32());continue;case 25:if(202!==e)break;o.writeGlossaryIdValue=tP.decode(n,n.uint32());continue;case 26:if(210!==e)break;o.writeGlossaryListValue=cP.decode(n,n.uint32());continue;case 27:if(218!==e)break;o.writeGlossarySupportValue=lP.decode(n,n.uint32());continue;case 28:if(226!==e)break;o.writeMaximumTextLengthValue=nP.decode(n,n.uint32());continue;case 29:if(234!==e)break;o.writeUnsupportedLanguageValue=iP.decode(n,n.uint32());continue;case 30:if(242!==e)break;o.translatorSourceLanguageDetectionWeightsValue=OR.decode(n,n.uint32());continue;case 31:if(250!==e)break;o.writeGlossaryLanguagesValue=QR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:RP.$type,propertyName:ZP(e.propertyName)?IP(e.propertyName):0,translatorSourceLanguagesValue:ZP(e.translatorSourceLanguagesValue)?fR.fromJSON(e.translatorSourceLanguagesValue):void 0,translatorTargetLanguagesValue:ZP(e.translatorTargetLanguagesValue)?gR.fromJSON(e.translatorTargetLanguagesValue):void 0,translatorRequestedSourceLanguageValue:ZP(e.translatorRequestedSourceLanguageValue)?mR.fromJSON(e.translatorRequestedSourceLanguageValue):void 0,translatorRequestedTargetLanguageValue:ZP(e.translatorRequestedTargetLanguageValue)?yR.fromJSON(e.translatorRequestedTargetLanguageValue):void 0,translatorFormalityModesValue:ZP(e.translatorFormalityModesValue)?TR.fromJSON(e.translatorFormalityModesValue):void 0,translatorFormalityModeValue:ZP(e.translatorFormalityModeValue)?ER.fromJSON(e.translatorFormalityModeValue):void 0,translatorGlossarySupportValue:ZP(e.translatorGlossarySupportValue)?SR.fromJSON(e.translatorGlossarySupportValue):void 0,translatorGlossaryListValue:ZP(e.translatorGlossaryListValue)?$R.fromJSON(e.translatorGlossaryListValue):void 0,translatorTextDirectionValue:ZP(e.translatorTextDirectionValue)?xR.fromJSON(e.translatorTextDirectionValue):void 0,translatorCalculatedSourceLanguageValue:ZP(e.translatorCalculatedSourceLanguageValue)?vR.fromJSON(e.translatorCalculatedSourceLanguageValue):void 0,translatorMaximumTextLengthValue:ZP(e.translatorMaximumTextLengthValue)?kR.fromJSON(e.translatorMaximumTextLengthValue):void 0,translatorLanguageModelsValue:ZP(e.translatorLanguageModelsValue)?AR.fromJSON(e.translatorLanguageModelsValue):void 0,translatorLanguageModelValue:ZP(e.translatorLanguageModelValue)?IR.fromJSON(e.translatorLanguageModelValue):void 0,translatorGlossaryIdValue:ZP(e.translatorGlossaryIdValue)?bR.fromJSON(e.translatorGlossaryIdValue):void 0,translatorCalculatedTargetLanguageValue:ZP(e.translatorCalculatedTargetLanguageValue)?_R.fromJSON(e.translatorCalculatedTargetLanguageValue):void 0,translatorUnsupportedSourceLanguageValue:ZP(e.translatorUnsupportedSourceLanguageValue)?CR.fromJSON(e.translatorUnsupportedSourceLanguageValue):void 0,writeLanguagesValue:ZP(e.writeLanguagesValue)?KR.fromJSON(e.writeLanguagesValue):void 0,writeRequestedLanguageValue:ZP(e.writeRequestedLanguageValue)?ZR.fromJSON(e.writeRequestedLanguageValue):void 0,writeCalculatedLanguageValue:ZP(e.writeCalculatedLanguageValue)?eP.fromJSON(e.writeCalculatedLanguageValue):void 0,writeStyleVariantsValue:ZP(e.writeStyleVariantsValue)?rP.fromJSON(e.writeStyleVariantsValue):void 0,writeStyleVariantValue:ZP(e.writeStyleVariantValue)?oP.fromJSON(e.writeStyleVariantValue):void 0,writeGlossaryIdValue:ZP(e.writeGlossaryIdValue)?tP.fromJSON(e.writeGlossaryIdValue):void 0,writeGlossaryListValue:ZP(e.writeGlossaryListValue)?cP.fromJSON(e.writeGlossaryListValue):void 0,writeGlossarySupportValue:ZP(e.writeGlossarySupportValue)?lP.fromJSON(e.writeGlossarySupportValue):void 0,writeMaximumTextLengthValue:ZP(e.writeMaximumTextLengthValue)?nP.fromJSON(e.writeMaximumTextLengthValue):void 0,writeUnsupportedLanguageValue:ZP(e.writeUnsupportedLanguageValue)?iP.fromJSON(e.writeUnsupportedLanguageValue):void 0,translatorSourceLanguageDetectionWeightsValue:ZP(e.translatorSourceLanguageDetectionWeightsValue)?OR.fromJSON(e.translatorSourceLanguageDetectionWeightsValue):void 0,writeGlossaryLanguagesValue:ZP(e.writeGlossaryLanguagesValue)?QR.fromJSON(e.writeGlossaryLanguagesValue):void 0}),toJSON(e){const t={};return 0!==e.propertyName&&(t.propertyName=function(e){switch(e){case wP.UNSPECIFIED:return"PROPERTY_NAME_UNSPECIFIED";case wP.TRANSLATOR_SOURCE_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGES";case wP.TRANSLATOR_TARGET_LANGUAGES:return"PROPERTY_NAME_TRANSLATOR_TARGET_LANGUAGES";case wP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_SOURCE_LANGUAGE";case wP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_SOURCE_LANGUAGE";case wP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_REQUESTED_TARGET_LANGUAGE";case wP.TRANSLATOR_FORMALITY_MODES:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODES";case wP.TRANSLATOR_FORMALITY_MODE:return"PROPERTY_NAME_TRANSLATOR_FORMALITY_MODE";case wP.TRANSLATOR_GLOSSARY_SUPPORT:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUPPORT";case wP.TRANSLATOR_GLOSSARY_LIST:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_LIST";case wP.TRANSLATOR_TEXT_DIRECTION:return"PROPERTY_NAME_TRANSLATOR_TEXT_DIRECTION";case wP.TRANSLATOR_GLOSSARY_SUGGESTIONS:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_SUGGESTIONS";case wP.TRANSLATOR_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_TRANSLATOR_MAXIMUM_TEXT_LENGTH";case wP.TRANSLATOR_LANGUAGE_MODELS:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODELS";case wP.TRANSLATOR_LANGUAGE_MODEL:return"PROPERTY_NAME_TRANSLATOR_LANGUAGE_MODEL";case wP.TRANSLATOR_GLOSSARY_ID:return"PROPERTY_NAME_TRANSLATOR_GLOSSARY_ID";case wP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_CALCULATED_TARGET_LANGUAGE";case wP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE:return"PROPERTY_NAME_TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE";case wP.WRITE_LANGUAGES:return"PROPERTY_NAME_WRITE_LANGUAGES";case wP.WRITE_REQUESTED_LANGUAGE:return"PROPERTY_NAME_WRITE_REQUESTED_LANGUAGE";case wP.WRITE_CALCULATED_LANGUAGE:return"PROPERTY_NAME_WRITE_CALCULATED_LANGUAGE";case wP.WRITE_STYLE_VARIANTS:return"PROPERTY_NAME_WRITE_STYLE_VARIANTS";case wP.WRITE_STYLE_VARIANT:return"PROPERTY_NAME_WRITE_STYLE_VARIANT";case wP.WRITE_GLOSSARY_ID:return"PROPERTY_NAME_WRITE_GLOSSARY_ID";case wP.WRITE_GLOSSARY_LIST:return"PROPERTY_NAME_WRITE_GLOSSARY_LIST";case wP.WRITE_GLOSSARY_SUPPORT:return"PROPERTY_NAME_WRITE_GLOSSARY_SUPPORT";case wP.WRITE_MAXIMUM_TEXT_LENGTH:return"PROPERTY_NAME_WRITE_MAXIMUM_TEXT_LENGTH";case wP.WRITE_UNSUPPORTED_LANGUAGE:return"PROPERTY_NAME_WRITE_UNSUPPORTED_LANGUAGE";case wP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS:return"PROPERTY_NAME_TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS";case wP.WRITE_GLOSSARY_LANGUAGES:return"PROPERTY_NAME_WRITE_GLOSSARY_LANGUAGES";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum PropertyName")}}(e.propertyName)),void 0!==e.translatorSourceLanguagesValue&&(t.translatorSourceLanguagesValue=fR.toJSON(e.translatorSourceLanguagesValue)),void 0!==e.translatorTargetLanguagesValue&&(t.translatorTargetLanguagesValue=gR.toJSON(e.translatorTargetLanguagesValue)),void 0!==e.translatorRequestedSourceLanguageValue&&(t.translatorRequestedSourceLanguageValue=mR.toJSON(e.translatorRequestedSourceLanguageValue)),void 0!==e.translatorRequestedTargetLanguageValue&&(t.translatorRequestedTargetLanguageValue=yR.toJSON(e.translatorRequestedTargetLanguageValue)),void 0!==e.translatorFormalityModesValue&&(t.translatorFormalityModesValue=TR.toJSON(e.translatorFormalityModesValue)),void 0!==e.translatorFormalityModeValue&&(t.translatorFormalityModeValue=ER.toJSON(e.translatorFormalityModeValue)),void 0!==e.translatorGlossarySupportValue&&(t.translatorGlossarySupportValue=SR.toJSON(e.translatorGlossarySupportValue)),void 0!==e.translatorGlossaryListValue&&(t.translatorGlossaryListValue=$R.toJSON(e.translatorGlossaryListValue)),void 0!==e.translatorTextDirectionValue&&(t.translatorTextDirectionValue=xR.toJSON(e.translatorTextDirectionValue)),void 0!==e.translatorCalculatedSourceLanguageValue&&(t.translatorCalculatedSourceLanguageValue=vR.toJSON(e.translatorCalculatedSourceLanguageValue)),void 0!==e.translatorMaximumTextLengthValue&&(t.translatorMaximumTextLengthValue=kR.toJSON(e.translatorMaximumTextLengthValue)),void 0!==e.translatorLanguageModelsValue&&(t.translatorLanguageModelsValue=AR.toJSON(e.translatorLanguageModelsValue)),void 0!==e.translatorLanguageModelValue&&(t.translatorLanguageModelValue=IR.toJSON(e.translatorLanguageModelValue)),void 0!==e.translatorGlossaryIdValue&&(t.translatorGlossaryIdValue=bR.toJSON(e.translatorGlossaryIdValue)),void 0!==e.translatorCalculatedTargetLanguageValue&&(t.translatorCalculatedTargetLanguageValue=_R.toJSON(e.translatorCalculatedTargetLanguageValue)),void 0!==e.translatorUnsupportedSourceLanguageValue&&(t.translatorUnsupportedSourceLanguageValue=CR.toJSON(e.translatorUnsupportedSourceLanguageValue)),void 0!==e.writeLanguagesValue&&(t.writeLanguagesValue=KR.toJSON(e.writeLanguagesValue)),void 0!==e.writeRequestedLanguageValue&&(t.writeRequestedLanguageValue=ZR.toJSON(e.writeRequestedLanguageValue)),void 0!==e.writeCalculatedLanguageValue&&(t.writeCalculatedLanguageValue=eP.toJSON(e.writeCalculatedLanguageValue)),void 0!==e.writeStyleVariantsValue&&(t.writeStyleVariantsValue=rP.toJSON(e.writeStyleVariantsValue)),void 0!==e.writeStyleVariantValue&&(t.writeStyleVariantValue=oP.toJSON(e.writeStyleVariantValue)),void 0!==e.writeGlossaryIdValue&&(t.writeGlossaryIdValue=tP.toJSON(e.writeGlossaryIdValue)),void 0!==e.writeGlossaryListValue&&(t.writeGlossaryListValue=cP.toJSON(e.writeGlossaryListValue)),void 0!==e.writeGlossarySupportValue&&(t.writeGlossarySupportValue=lP.toJSON(e.writeGlossarySupportValue)),void 0!==e.writeMaximumTextLengthValue&&(t.writeMaximumTextLengthValue=nP.toJSON(e.writeMaximumTextLengthValue)),void 0!==e.writeUnsupportedLanguageValue&&(t.writeUnsupportedLanguageValue=iP.toJSON(e.writeUnsupportedLanguageValue)),void 0!==e.translatorSourceLanguageDetectionWeightsValue&&(t.translatorSourceLanguageDetectionWeightsValue=OR.toJSON(e.translatorSourceLanguageDetectionWeightsValue)),void 0!==e.writeGlossaryLanguagesValue&&(t.writeGlossaryLanguagesValue=QR.toJSON(e.writeGlossaryLanguagesValue)),t},create:e=>RP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SetPropertyOperation",propertyName:0,translatorSourceLanguagesValue:void 0,translatorTargetLanguagesValue:void 0,translatorRequestedSourceLanguageValue:void 0,translatorRequestedTargetLanguageValue:void 0,translatorFormalityModesValue:void 0,translatorFormalityModeValue:void 0,translatorGlossarySupportValue:void 0,translatorGlossaryListValue:void 0,translatorTextDirectionValue:void 0,translatorCalculatedSourceLanguageValue:void 0,translatorMaximumTextLengthValue:void 0,translatorLanguageModelsValue:void 0,translatorLanguageModelValue:void 0,translatorGlossaryIdValue:void 0,translatorCalculatedTargetLanguageValue:void 0,translatorUnsupportedSourceLanguageValue:void 0,writeLanguagesValue:void 0,writeRequestedLanguageValue:void 0,writeCalculatedLanguageValue:void 0,writeStyleVariantsValue:void 0,writeStyleVariantValue:void 0,writeGlossaryIdValue:void 0,writeGlossaryListValue:void 0,writeGlossarySupportValue:void 0,writeMaximumTextLengthValue:void 0,writeUnsupportedLanguageValue:void 0,translatorSourceLanguageDetectionWeightsValue:void 0,writeGlossaryLanguagesValue:void 0};return n.propertyName=null!==(t=e.propertyName)&&void 0!==t?t:0,n.translatorSourceLanguagesValue=void 0!==e.translatorSourceLanguagesValue&&null!==e.translatorSourceLanguagesValue?fR.fromPartial(e.translatorSourceLanguagesValue):void 0,n.translatorTargetLanguagesValue=void 0!==e.translatorTargetLanguagesValue&&null!==e.translatorTargetLanguagesValue?gR.fromPartial(e.translatorTargetLanguagesValue):void 0,n.translatorRequestedSourceLanguageValue=void 0!==e.translatorRequestedSourceLanguageValue&&null!==e.translatorRequestedSourceLanguageValue?mR.fromPartial(e.translatorRequestedSourceLanguageValue):void 0,n.translatorRequestedTargetLanguageValue=void 0!==e.translatorRequestedTargetLanguageValue&&null!==e.translatorRequestedTargetLanguageValue?yR.fromPartial(e.translatorRequestedTargetLanguageValue):void 0,n.translatorFormalityModesValue=void 0!==e.translatorFormalityModesValue&&null!==e.translatorFormalityModesValue?TR.fromPartial(e.translatorFormalityModesValue):void 0,n.translatorFormalityModeValue=void 0!==e.translatorFormalityModeValue&&null!==e.translatorFormalityModeValue?ER.fromPartial(e.translatorFormalityModeValue):void 0,n.translatorGlossarySupportValue=void 0!==e.translatorGlossarySupportValue&&null!==e.translatorGlossarySupportValue?SR.fromPartial(e.translatorGlossarySupportValue):void 0,n.translatorGlossaryListValue=void 0!==e.translatorGlossaryListValue&&null!==e.translatorGlossaryListValue?$R.fromPartial(e.translatorGlossaryListValue):void 0,n.translatorTextDirectionValue=void 0!==e.translatorTextDirectionValue&&null!==e.translatorTextDirectionValue?xR.fromPartial(e.translatorTextDirectionValue):void 0,n.translatorCalculatedSourceLanguageValue=void 0!==e.translatorCalculatedSourceLanguageValue&&null!==e.translatorCalculatedSourceLanguageValue?vR.fromPartial(e.translatorCalculatedSourceLanguageValue):void 0,n.translatorMaximumTextLengthValue=void 0!==e.translatorMaximumTextLengthValue&&null!==e.translatorMaximumTextLengthValue?kR.fromPartial(e.translatorMaximumTextLengthValue):void 0,n.translatorLanguageModelsValue=void 0!==e.translatorLanguageModelsValue&&null!==e.translatorLanguageModelsValue?AR.fromPartial(e.translatorLanguageModelsValue):void 0,n.translatorLanguageModelValue=void 0!==e.translatorLanguageModelValue&&null!==e.translatorLanguageModelValue?IR.fromPartial(e.translatorLanguageModelValue):void 0,n.translatorGlossaryIdValue=void 0!==e.translatorGlossaryIdValue&&null!==e.translatorGlossaryIdValue?bR.fromPartial(e.translatorGlossaryIdValue):void 0,n.translatorCalculatedTargetLanguageValue=void 0!==e.translatorCalculatedTargetLanguageValue&&null!==e.translatorCalculatedTargetLanguageValue?_R.fromPartial(e.translatorCalculatedTargetLanguageValue):void 0,n.translatorUnsupportedSourceLanguageValue=void 0!==e.translatorUnsupportedSourceLanguageValue&&null!==e.translatorUnsupportedSourceLanguageValue?CR.fromPartial(e.translatorUnsupportedSourceLanguageValue):void 0,n.writeLanguagesValue=void 0!==e.writeLanguagesValue&&null!==e.writeLanguagesValue?KR.fromPartial(e.writeLanguagesValue):void 0,n.writeRequestedLanguageValue=void 0!==e.writeRequestedLanguageValue&&null!==e.writeRequestedLanguageValue?ZR.fromPartial(e.writeRequestedLanguageValue):void 0,n.writeCalculatedLanguageValue=void 0!==e.writeCalculatedLanguageValue&&null!==e.writeCalculatedLanguageValue?eP.fromPartial(e.writeCalculatedLanguageValue):void 0,n.writeStyleVariantsValue=void 0!==e.writeStyleVariantsValue&&null!==e.writeStyleVariantsValue?rP.fromPartial(e.writeStyleVariantsValue):void 0,n.writeStyleVariantValue=void 0!==e.writeStyleVariantValue&&null!==e.writeStyleVariantValue?oP.fromPartial(e.writeStyleVariantValue):void 0,n.writeGlossaryIdValue=void 0!==e.writeGlossaryIdValue&&null!==e.writeGlossaryIdValue?tP.fromPartial(e.writeGlossaryIdValue):void 0,n.writeGlossaryListValue=void 0!==e.writeGlossaryListValue&&null!==e.writeGlossaryListValue?cP.fromPartial(e.writeGlossaryListValue):void 0,n.writeGlossarySupportValue=void 0!==e.writeGlossarySupportValue&&null!==e.writeGlossarySupportValue?lP.fromPartial(e.writeGlossarySupportValue):void 0,n.writeMaximumTextLengthValue=void 0!==e.writeMaximumTextLengthValue&&null!==e.writeMaximumTextLengthValue?nP.fromPartial(e.writeMaximumTextLengthValue):void 0,n.writeUnsupportedLanguageValue=void 0!==e.writeUnsupportedLanguageValue&&null!==e.writeUnsupportedLanguageValue?iP.fromPartial(e.writeUnsupportedLanguageValue):void 0,n.translatorSourceLanguageDetectionWeightsValue=void 0!==e.translatorSourceLanguageDetectionWeightsValue&&null!==e.translatorSourceLanguageDetectionWeightsValue?OR.fromPartial(e.translatorSourceLanguageDetectionWeightsValue):void 0,n.writeGlossaryLanguagesValue=void 0!==e.writeGlossaryLanguagesValue&&null!==e.writeGlossaryLanguagesValue?QR.fromPartial(e.writeGlossaryLanguagesValue):void 0,n}};const PP={$type:"deepl.pb.interactive_text_api.StartSessionRequest",encode:(e,t=new AO)=>(0!==e.sessionMode&&t.uint32(8).int32(e.sessionMode),void 0!==e.baseDocument&&YP.encode(e.baseDocument,t.uint32(18).fork()).join(),void 0!==e.translatorSessionOptions&&RR.encode(e.translatorSessionOptions,t.uint32(26).fork()).join(),void 0!==e.appInformation&&qP.encode(e.appInformation,t.uint32(34).fork()).join(),void 0!==e.previousSessionId&&BP.encode(e.previousSessionId,t.uint32(42).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.sessionMode=n.int32();continue;case 2:if(18!==e)break;o.baseDocument=YP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.translatorSessionOptions=RR.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.appInformation=qP.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.previousSessionId=BP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:PP.$type,sessionMode:ZP(e.sessionMode)?xP(e.sessionMode):0,baseDocument:ZP(e.baseDocument)?YP.fromJSON(e.baseDocument):void 0,translatorSessionOptions:ZP(e.translatorSessionOptions)?RR.fromJSON(e.translatorSessionOptions):void 0,appInformation:ZP(e.appInformation)?qP.fromJSON(e.appInformation):void 0,previousSessionId:ZP(e.previousSessionId)?BP.fromJSON(e.previousSessionId):void 0}),toJSON(e){const t={};return 0!==e.sessionMode&&(t.sessionMode=function(e){switch(e){case TP.UNSPECIFIED:return"SESSION_MODE_UNSPECIFIED";case TP.TRANSLATOR:return"SESSION_MODE_TRANSLATOR";case TP.WRITE:return"SESSION_MODE_WRITE";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum SessionMode")}}(e.sessionMode)),void 0!==e.baseDocument&&(t.baseDocument=YP.toJSON(e.baseDocument)),void 0!==e.translatorSessionOptions&&(t.translatorSessionOptions=RR.toJSON(e.translatorSessionOptions)),void 0!==e.appInformation&&(t.appInformation=qP.toJSON(e.appInformation)),void 0!==e.previousSessionId&&(t.previousSessionId=BP.toJSON(e.previousSessionId)),t},create:e=>PP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.StartSessionRequest",sessionMode:0,baseDocument:void 0,translatorSessionOptions:void 0,appInformation:void 0,previousSessionId:void 0};return n.sessionMode=null!==(t=e.sessionMode)&&void 0!==t?t:0,n.baseDocument=void 0!==e.baseDocument&&null!==e.baseDocument?YP.fromPartial(e.baseDocument):void 0,n.translatorSessionOptions=void 0!==e.translatorSessionOptions&&null!==e.translatorSessionOptions?RR.fromPartial(e.translatorSessionOptions):void 0,n.appInformation=void 0!==e.appInformation&&null!==e.appInformation?qP.fromPartial(e.appInformation):void 0,n.previousSessionId=void 0!==e.previousSessionId&&null!==e.previousSessionId?BP.fromPartial(e.previousSessionId):void 0,n}};const NP={$type:"deepl.pb.interactive_text_api.StartSessionResponse",encode:(e,t=new AO)=>(void 0!==e.sessionId&&BP.encode(e.sessionId,t.uint32(10).fork()).join(),void 0!==e.participantId&&JP.encode(e.participantId,t.uint32(18).fork()).join(),""!==e.sessionToken&&t.uint32(26).string(e.sessionToken),void 0!==e.versionRemovedAt&&CO.encode(function(e){const t=Math.trunc(e.getTime()/1e3),n=e.getTime()%1e3*1e6;return{$type:"google.protobuf.Timestamp",seconds:t,nanos:n}}(e.versionRemovedAt),t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.sessionId=BP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.participantId=JP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.sessionToken=n.string();continue;case 4:if(34!==e)break;o.versionRemovedAt=KP(CO.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:NP.$type,sessionId:ZP(e.sessionId)?BP.fromJSON(e.sessionId):void 0,participantId:ZP(e.participantId)?JP.fromJSON(e.participantId):void 0,sessionToken:ZP(e.sessionToken)?globalThis.String(e.sessionToken):"",versionRemovedAt:ZP(e.versionRemovedAt)?QP(e.versionRemovedAt):void 0}),toJSON(e){const t={};return void 0!==e.sessionId&&(t.sessionId=BP.toJSON(e.sessionId)),void 0!==e.participantId&&(t.participantId=JP.toJSON(e.participantId)),""!==e.sessionToken&&(t.sessionToken=e.sessionToken),void 0!==e.versionRemovedAt&&(t.versionRemovedAt=e.versionRemovedAt.toISOString()),t},create:e=>NP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.StartSessionResponse",sessionId:void 0,participantId:void 0,sessionToken:"",versionRemovedAt:void 0};return r.sessionId=void 0!==e.sessionId&&null!==e.sessionId?BP.fromPartial(e.sessionId):void 0,r.participantId=void 0!==e.participantId&&null!==e.participantId?JP.fromPartial(e.participantId):void 0,r.sessionToken=null!==(t=e.sessionToken)&&void 0!==t?t:"",r.versionRemovedAt=null!==(n=e.versionRemovedAt)&&void 0!==n?n:void 0,r}};const LP={$type:"deepl.pb.interactive_text_api.ParticipantRequest",encode:(e,t=new AO)=>(void 0!==e.appendMessage&&GP.encode(e.appendMessage,t.uint32(10).fork()).join(),void 0!==e.updateAuthenticationTokenMessage&&jP.encode(e.updateAuthenticationTokenMessage,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.appendMessage=GP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.updateAuthenticationTokenMessage=jP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:LP.$type,appendMessage:ZP(e.appendMessage)?GP.fromJSON(e.appendMessage):void 0,updateAuthenticationTokenMessage:ZP(e.updateAuthenticationTokenMessage)?jP.fromJSON(e.updateAuthenticationTokenMessage):void 0}),toJSON(e){const t={};return void 0!==e.appendMessage&&(t.appendMessage=GP.toJSON(e.appendMessage)),void 0!==e.updateAuthenticationTokenMessage&&(t.updateAuthenticationTokenMessage=jP.toJSON(e.updateAuthenticationTokenMessage)),t},create:e=>LP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantRequest",appendMessage:void 0,updateAuthenticationTokenMessage:void 0};return t.appendMessage=void 0!==e.appendMessage&&null!==e.appendMessage?GP.fromPartial(e.appendMessage):void 0,t.updateAuthenticationTokenMessage=void 0!==e.updateAuthenticationTokenMessage&&null!==e.updateAuthenticationTokenMessage?jP.fromPartial(e.updateAuthenticationTokenMessage):void 0,t}};const $P={$type:"deepl.pb.interactive_text_api.ParticipantResponse",encode:(e,t=new AO)=>(void 0!==e.confirmedMessage&&MP.encode(e.confirmedMessage,t.uint32(10).fork()).join(),void 0!==e.initializedMessage&&DP.encode(e.initializedMessage,t.uint32(18).fork()).join(),void 0!==e.publishedMessage&&UP.encode(e.publishedMessage,t.uint32(26).fork()).join(),void 0!==e.metaInfoMessage&&VP.encode(e.metaInfoMessage,t.uint32(34).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.confirmedMessage=MP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.initializedMessage=DP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.publishedMessage=UP.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.metaInfoMessage=VP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:$P.$type,confirmedMessage:ZP(e.confirmedMessage)?MP.fromJSON(e.confirmedMessage):void 0,initializedMessage:ZP(e.initializedMessage)?DP.fromJSON(e.initializedMessage):void 0,publishedMessage:ZP(e.publishedMessage)?UP.fromJSON(e.publishedMessage):void 0,metaInfoMessage:ZP(e.metaInfoMessage)?VP.fromJSON(e.metaInfoMessage):void 0}),toJSON(e){const t={};return void 0!==e.confirmedMessage&&(t.confirmedMessage=MP.toJSON(e.confirmedMessage)),void 0!==e.initializedMessage&&(t.initializedMessage=DP.toJSON(e.initializedMessage)),void 0!==e.publishedMessage&&(t.publishedMessage=UP.toJSON(e.publishedMessage)),void 0!==e.metaInfoMessage&&(t.metaInfoMessage=VP.toJSON(e.metaInfoMessage)),t},create:e=>$P.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ParticipantResponse",confirmedMessage:void 0,initializedMessage:void 0,publishedMessage:void 0,metaInfoMessage:void 0};return t.confirmedMessage=void 0!==e.confirmedMessage&&null!==e.confirmedMessage?MP.fromPartial(e.confirmedMessage):void 0,t.initializedMessage=void 0!==e.initializedMessage&&null!==e.initializedMessage?DP.fromPartial(e.initializedMessage):void 0,t.publishedMessage=void 0!==e.publishedMessage&&null!==e.publishedMessage?UP.fromPartial(e.publishedMessage):void 0,t.metaInfoMessage=void 0!==e.metaInfoMessage&&null!==e.metaInfoMessage?VP.fromPartial(e.metaInfoMessage):void 0,t}};const MP={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",encode:(e,t=new AO)=>(void 0!==e.currentVersion&&WP.encode(e.currentVersion,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.currentVersion=WP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:MP.$type,currentVersion:ZP(e.currentVersion)?WP.fromJSON(e.currentVersion):void 0}),toJSON(e){const t={};return void 0!==e.currentVersion&&(t.currentVersion=WP.toJSON(e.currentVersion)),t},create:e=>MP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.ConfirmedMessage",currentVersion:void 0};return t.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?WP.fromPartial(e.currentVersion):void 0,t}};const DP={$type:"deepl.pb.interactive_text_api.InitializedMessage",encode:(e,t=new AO)=>t,decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.InitializedMessage"};for(;n.pos<r;){const e=n.uint32();if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:DP.$type}),toJSON:e=>({}),create:e=>DP.fromPartial(null!=e?e:{}),fromPartial:e=>({$type:"deepl.pb.interactive_text_api.InitializedMessage"})};const UP={$type:"deepl.pb.interactive_text_api.PublishedMessage",encode(e,t=new AO){for(const n of e.events)HP.encode(n,t.uint32(10).fork()).join();return void 0!==e.currentVersion&&WP.encode(e.currentVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(HP.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.currentVersion=WP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:UP.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>HP.fromJSON(e))):[],currentVersion:ZP(e.currentVersion)?WP.fromJSON(e.currentVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>HP.toJSON(e)))),void 0!==e.currentVersion&&(n.currentVersion=WP.toJSON(e.currentVersion)),n},create:e=>UP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.PublishedMessage",events:[],currentVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>HP.fromPartial(e))))||[],n.currentVersion=void 0!==e.currentVersion&&null!==e.currentVersion?WP.fromPartial(e.currentVersion):void 0,n}};const VP={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",encode:(e,t=new AO)=>(void 0!==e.idle&&FP.encode(e.idle,t.uint32(10).fork()).join(),void 0!==e.translatorTaskMetaInfo&&wR.encode(e.translatorTaskMetaInfo,t.uint32(18).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.idle=FP.decode(n,n.uint32());continue;case 2:if(18!==e)break;o.translatorTaskMetaInfo=wR.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:VP.$type,idle:ZP(e.idle)?FP.fromJSON(e.idle):void 0,translatorTaskMetaInfo:ZP(e.translatorTaskMetaInfo)?wR.fromJSON(e.translatorTaskMetaInfo):void 0}),toJSON(e){const t={};return void 0!==e.idle&&(t.idle=FP.toJSON(e.idle)),void 0!==e.translatorTaskMetaInfo&&(t.translatorTaskMetaInfo=wR.toJSON(e.translatorTaskMetaInfo)),t},create:e=>VP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.MetaInfoMessage",idle:void 0,translatorTaskMetaInfo:void 0};return t.idle=void 0!==e.idle&&null!==e.idle?FP.fromPartial(e.idle):void 0,t.translatorTaskMetaInfo=void 0!==e.translatorTaskMetaInfo&&null!==e.translatorTaskMetaInfo?wR.fromPartial(e.translatorTaskMetaInfo):void 0,t}};const FP={$type:"deepl.pb.interactive_text_api.Idle",encode:(e,t=new AO)=>(void 0!==e.eventVersion&&WP.encode(e.eventVersion,t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.eventVersion=WP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:FP.$type,eventVersion:ZP(e.eventVersion)?WP.fromJSON(e.eventVersion):void 0}),toJSON(e){const t={};return void 0!==e.eventVersion&&(t.eventVersion=WP.toJSON(e.eventVersion)),t},create:e=>FP.fromPartial(null!=e?e:{}),fromPartial(e){const t={$type:"deepl.pb.interactive_text_api.Idle",eventVersion:void 0};return t.eventVersion=void 0!==e.eventVersion&&null!==e.eventVersion?WP.fromPartial(e.eventVersion):void 0,t}};const GP={$type:"deepl.pb.interactive_text_api.AppendMessage",encode(e,t=new AO){for(const n of e.events)HP.encode(n,t.uint32(10).fork()).join();return void 0!==e.baseVersion&&WP.encode(e.baseVersion,t.uint32(18).fork()).join(),t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.events.push(HP.decode(n,n.uint32()));continue;case 2:if(18!==e)break;o.baseVersion=WP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:GP.$type,events:globalThis.Array.isArray(null==e?void 0:e.events)?e.events.map((e=>HP.fromJSON(e))):[],baseVersion:ZP(e.baseVersion)?WP.fromJSON(e.baseVersion):void 0}),toJSON(e){var t;const n={};return(null===(t=e.events)||void 0===t?void 0:t.length)&&(n.events=e.events.map((e=>HP.toJSON(e)))),void 0!==e.baseVersion&&(n.baseVersion=WP.toJSON(e.baseVersion)),n},create:e=>GP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AppendMessage",events:[],baseVersion:void 0};return n.events=(null===(t=e.events)||void 0===t?void 0:t.map((e=>HP.fromPartial(e))))||[],n.baseVersion=void 0!==e.baseVersion&&null!==e.baseVersion?WP.fromPartial(e.baseVersion):void 0,n}};const jP={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",encode:(e,t=new AO)=>(""!==e.token&&t.uint32(10).string(e.token),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.token=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:jP.$type,token:ZP(e.token)?globalThis.String(e.token):""}),toJSON(e){const t={};return""!==e.token&&(t.token=e.token),t},create:e=>jP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.UpdateAuthenticationTokenMessage",token:""};return n.token=null!==(t=e.token)&&void 0!==t?t:"",n}};const qP={$type:"deepl.pb.interactive_text_api.AppInformation",encode:(e,t=new AO)=>(""!==e.os&&t.uint32(10).string(e.os),""!==e.osVersion&&t.uint32(18).string(e.osVersion),""!==e.appVersion&&t.uint32(26).string(e.appVersion),""!==e.appBuild&&t.uint32(34).string(e.appBuild),""!==e.instanceId&&t.uint32(42).string(e.instanceId),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.os=n.string();continue;case 2:if(18!==e)break;o.osVersion=n.string();continue;case 3:if(26!==e)break;o.appVersion=n.string();continue;case 4:if(34!==e)break;o.appBuild=n.string();continue;case 5:if(42!==e)break;o.instanceId=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:qP.$type,os:ZP(e.os)?globalThis.String(e.os):"",osVersion:ZP(e.osVersion)?globalThis.String(e.osVersion):"",appVersion:ZP(e.appVersion)?globalThis.String(e.appVersion):"",appBuild:ZP(e.appBuild)?globalThis.String(e.appBuild):"",instanceId:ZP(e.instanceId)?globalThis.String(e.instanceId):""}),toJSON(e){const t={};return""!==e.os&&(t.os=e.os),""!==e.osVersion&&(t.osVersion=e.osVersion),""!==e.appVersion&&(t.appVersion=e.appVersion),""!==e.appBuild&&(t.appBuild=e.appBuild),""!==e.instanceId&&(t.instanceId=e.instanceId),t},create:e=>qP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o,i;const a={$type:"deepl.pb.interactive_text_api.AppInformation",os:"",osVersion:"",appVersion:"",appBuild:"",instanceId:""};return a.os=null!==(t=e.os)&&void 0!==t?t:"",a.osVersion=null!==(n=e.osVersion)&&void 0!==n?n:"",a.appVersion=null!==(r=e.appVersion)&&void 0!==r?r:"",a.appBuild=null!==(o=e.appBuild)&&void 0!==o?o:"",a.instanceId=null!==(i=e.instanceId)&&void 0!==i?i:"",a}};const BP={$type:"deepl.pb.interactive_text_api.SessionId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.SessionId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:BP.$type,value:ZP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>BP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.SessionId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const WP={$type:"deepl.pb.interactive_text_api.EventVersion",encode:(e,t=new AO)=>(void 0!==e.version&&PO.encode({$type:"google.protobuf.Int32Value",value:e.version},t.uint32(10).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.version=PO.decode(n,n.uint32()).value;continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:WP.$type,version:ZP(e.version)?Number(e.version):void 0}),toJSON(e){const t={};return void 0!==e.version&&(t.version=e.version),t},create:e=>WP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.EventVersion",version:void 0};return n.version=null!==(t=e.version)&&void 0!==t?t:void 0,n}};const HP={$type:"deepl.pb.interactive_text_api.FieldEvent",encode:(e,t=new AO)=>(0!==e.fieldName&&t.uint32(8).int32(e.fieldName),void 0!==e.textChangeOperation&&kP.encode(e.textChangeOperation,t.uint32(18).fork()).join(),void 0!==e.createAnnotationOperation&&CP.encode(e.createAnnotationOperation,t.uint32(26).fork()).join(),void 0!==e.removeAnnotationOperation&&OP.encode(e.removeAnnotationOperation,t.uint32(34).fork()).join(),void 0!==e.setPropertyOperation&&RP.encode(e.setPropertyOperation,t.uint32(42).fork()).join(),void 0!==e.participantId&&JP.encode(e.participantId,t.uint32(50).fork()).join(),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.textChangeOperation=kP.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.createAnnotationOperation=CP.decode(n,n.uint32());continue;case 4:if(34!==e)break;o.removeAnnotationOperation=OP.decode(n,n.uint32());continue;case 5:if(42!==e)break;o.setPropertyOperation=RP.decode(n,n.uint32());continue;case 6:if(50!==e)break;o.participantId=JP.decode(n,n.uint32());continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:HP.$type,fieldName:ZP(e.fieldName)?EP(e.fieldName):0,textChangeOperation:ZP(e.textChangeOperation)?kP.fromJSON(e.textChangeOperation):void 0,createAnnotationOperation:ZP(e.createAnnotationOperation)?CP.fromJSON(e.createAnnotationOperation):void 0,removeAnnotationOperation:ZP(e.removeAnnotationOperation)?OP.fromJSON(e.removeAnnotationOperation):void 0,setPropertyOperation:ZP(e.setPropertyOperation)?RP.fromJSON(e.setPropertyOperation):void 0,participantId:ZP(e.participantId)?JP.fromJSON(e.participantId):void 0}),toJSON(e){const t={};return 0!==e.fieldName&&(t.fieldName=AP(e.fieldName)),void 0!==e.textChangeOperation&&(t.textChangeOperation=kP.toJSON(e.textChangeOperation)),void 0!==e.createAnnotationOperation&&(t.createAnnotationOperation=CP.toJSON(e.createAnnotationOperation)),void 0!==e.removeAnnotationOperation&&(t.removeAnnotationOperation=OP.toJSON(e.removeAnnotationOperation)),void 0!==e.setPropertyOperation&&(t.setPropertyOperation=RP.toJSON(e.setPropertyOperation)),void 0!==e.participantId&&(t.participantId=JP.toJSON(e.participantId)),t},create:e=>HP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.FieldEvent",fieldName:0,textChangeOperation:void 0,createAnnotationOperation:void 0,removeAnnotationOperation:void 0,setPropertyOperation:void 0,participantId:void 0};return n.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,n.textChangeOperation=void 0!==e.textChangeOperation&&null!==e.textChangeOperation?kP.fromPartial(e.textChangeOperation):void 0,n.createAnnotationOperation=void 0!==e.createAnnotationOperation&&null!==e.createAnnotationOperation?CP.fromPartial(e.createAnnotationOperation):void 0,n.removeAnnotationOperation=void 0!==e.removeAnnotationOperation&&null!==e.removeAnnotationOperation?OP.fromPartial(e.removeAnnotationOperation):void 0,n.setPropertyOperation=void 0!==e.setPropertyOperation&&null!==e.setPropertyOperation?RP.fromPartial(e.setPropertyOperation):void 0,n.participantId=void 0!==e.participantId&&null!==e.participantId?JP.fromPartial(e.participantId):void 0,n}};const JP={$type:"deepl.pb.interactive_text_api.ParticipantId",encode:(e,t=new AO)=>(0!==e.value&&t.uint32(8).int32(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.value=n.int32();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:JP.$type,value:ZP(e.value)?globalThis.Number(e.value):0}),toJSON(e){const t={};return 0!==e.value&&(t.value=Math.round(e.value)),t},create:e=>JP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.ParticipantId",value:0};return n.value=null!==(t=e.value)&&void 0!==t?t:0,n}};const zP={$type:"deepl.pb.interactive_text_api.AnnotationId",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:zP.$type,value:ZP(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>zP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.AnnotationId",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const YP={$type:"deepl.pb.interactive_text_api.BaseDocument",encode(e,t=new AO){for(const n of e.fields)XP.encode(n,t.uint32(10).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.fields.push(XP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:YP.$type,fields:globalThis.Array.isArray(null==e?void 0:e.fields)?e.fields.map((e=>XP.fromJSON(e))):[]}),toJSON(e){var t;const n={};return(null===(t=e.fields)||void 0===t?void 0:t.length)&&(n.fields=e.fields.map((e=>XP.toJSON(e)))),n},create:e=>YP.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.BaseDocument",fields:[]};return n.fields=(null===(t=e.fields)||void 0===t?void 0:t.map((e=>XP.fromPartial(e))))||[],n}};const XP={$type:"deepl.pb.interactive_text_api.Field",encode(e,t=new AO){0!==e.fieldName&&t.uint32(8).int32(e.fieldName),""!==e.text&&t.uint32(18).string(e.text);for(const n of e.annotations)CP.encode(n,t.uint32(26).fork()).join();for(const n of e.properties)RP.encode(n,t.uint32(34).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.fieldName=n.int32();continue;case 2:if(18!==e)break;o.text=n.string();continue;case 3:if(26!==e)break;o.annotations.push(CP.decode(n,n.uint32()));continue;case 4:if(34!==e)break;o.properties.push(RP.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:XP.$type,fieldName:ZP(e.fieldName)?EP(e.fieldName):0,text:ZP(e.text)?globalThis.String(e.text):"",annotations:globalThis.Array.isArray(null==e?void 0:e.annotations)?e.annotations.map((e=>CP.fromJSON(e))):[],properties:globalThis.Array.isArray(null==e?void 0:e.properties)?e.properties.map((e=>RP.fromJSON(e))):[]}),toJSON(e){var t,n;const r={};return 0!==e.fieldName&&(r.fieldName=AP(e.fieldName)),""!==e.text&&(r.text=e.text),(null===(t=e.annotations)||void 0===t?void 0:t.length)&&(r.annotations=e.annotations.map((e=>CP.toJSON(e)))),(null===(n=e.properties)||void 0===n?void 0:n.length)&&(r.properties=e.properties.map((e=>RP.toJSON(e)))),r},create:e=>XP.fromPartial(null!=e?e:{}),fromPartial(e){var t,n,r,o;const i={$type:"deepl.pb.interactive_text_api.Field",fieldName:0,text:"",annotations:[],properties:[]};return i.fieldName=null!==(t=e.fieldName)&&void 0!==t?t:0,i.text=null!==(n=e.text)&&void 0!==n?n:"",i.annotations=(null===(r=e.annotations)||void 0===r?void 0:r.map((e=>CP.fromPartial(e))))||[],i.properties=(null===(o=e.properties)||void 0===o?void 0:o.map((e=>RP.fromPartial(e))))||[],i}};function KP(e){let t=1e3*(e.seconds||0);return t+=(e.nanos||0)/1e6,new globalThis.Date(t)}function QP(e){return e instanceof globalThis.Date?e:"string"==typeof e?new globalThis.Date(e):KP(CO.fromJSON(e))}function ZP(e){return null!=e}var eN,tN;function nN(e){switch(e){case 0:case"STATUS_CODE_UNSPECIFIED":return tN.UNSPECIFIED;case 1:case"STATUS_CODE_CANCELLED":return tN.CANCELLED;case 2:case"STATUS_CODE_UNKNOWN":return tN.UNKNOWN;case 3:case"STATUS_CODE_INVALID_ARGUMENT":return tN.INVALID_ARGUMENT;case 4:case"STATUS_CODE_DEADLINE_EXCEEDED":return tN.DEADLINE_EXCEEDED;case 5:case"STATUS_CODE_NOT_FOUND":return tN.NOT_FOUND;case 6:case"STATUS_CODE_ALREADY_EXISTS":return tN.ALREADY_EXISTS;case 7:case"STATUS_CODE_PERMISSION_DENIED":return tN.PERMISSION_DENIED;case 8:case"STATUS_CODE_RESOURCE_EXHAUSTED":return tN.RESOURCE_EXHAUSTED;case 9:case"STATUS_CODE_FAILED_PRECONDITION":return tN.FAILED_PRECONDITION;case 10:case"STATUS_CODE_ABORTED":return tN.ABORTED;case 11:case"STATUS_CODE_OUT_OF_RANGE":return tN.OUT_OF_RANGE;case 12:case"STATUS_CODE_UNIMPLEMENTED":return tN.UNIMPLEMENTED;case 13:case"STATUS_CODE_INTERNAL":return tN.INTERNAL;case 14:case"STATUS_CODE_UNAVAILABLE":return tN.UNAVAILABLE;case 15:case"STATUS_CODE_DATA_LOSS":return tN.DATA_LOSS;case 16:case"STATUS_CODE_UNAUTHENTICATED":return tN.UNAUTHENTICATED;default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}!function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.START_SESSION_REQUEST=1]="START_SESSION_REQUEST",e[e.START_SESSION_RESPONSE=2]="START_SESSION_RESPONSE",e[e.EVENT_VERSION=3]="EVENT_VERSION",e[e.PARTICIPANT_REQUEST=4]="PARTICIPANT_REQUEST",e[e.PARTICIPANT_RESPONSE=5]="PARTICIPANT_RESPONSE",e[e.CLIENT_ERROR_INFO=6]="CLIENT_ERROR_INFO"}(eN||(eN={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED"}(tN||(tN={}));const rN={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",encode:(e,t=new AO)=>(""!==e.value&&t.uint32(10).string(e.value),t),decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(10!==e)break;o.value=n.string();continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:rN.$type,value:iN(e.value)?globalThis.String(e.value):""}),toJSON(e){const t={};return""!==e.value&&(t.value=e.value),t},create:e=>rN.fromPartial(null!=e?e:{}),fromPartial(e){var t;const n={$type:"deepl.pb.interactive_text_api.signalr.DetailCode",value:""};return n.value=null!==(t=e.value)&&void 0!==t?t:"",n}};const oN={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",encode(e,t=new AO){0!==e.statusCode&&t.uint32(8).int32(e.statusCode),void 0!==e.detailCode&&rN.encode(e.detailCode,t.uint32(18).fork()).join();for(const n of e.fallbackDetailCodes)rN.encode(n,t.uint32(26).fork()).join();return t},decode(e,t){const n=e instanceof IO?e:new IO(e);let r=void 0===t?n.len:n.pos+t;const o={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:if(8!==e)break;o.statusCode=n.int32();continue;case 2:if(18!==e)break;o.detailCode=rN.decode(n,n.uint32());continue;case 3:if(26!==e)break;o.fallbackDetailCodes.push(rN.decode(n,n.uint32()));continue}if(4==(7&e)||0===e)break;n.skip(7&e)}return o},fromJSON:e=>({$type:oN.$type,statusCode:iN(e.statusCode)?nN(e.statusCode):0,detailCode:iN(e.detailCode)?rN.fromJSON(e.detailCode):void 0,fallbackDetailCodes:globalThis.Array.isArray(null==e?void 0:e.fallbackDetailCodes)?e.fallbackDetailCodes.map((e=>rN.fromJSON(e))):[]}),toJSON(e){var t;const n={};return 0!==e.statusCode&&(n.statusCode=function(e){switch(e){case tN.UNSPECIFIED:return"STATUS_CODE_UNSPECIFIED";case tN.CANCELLED:return"STATUS_CODE_CANCELLED";case tN.UNKNOWN:return"STATUS_CODE_UNKNOWN";case tN.INVALID_ARGUMENT:return"STATUS_CODE_INVALID_ARGUMENT";case tN.DEADLINE_EXCEEDED:return"STATUS_CODE_DEADLINE_EXCEEDED";case tN.NOT_FOUND:return"STATUS_CODE_NOT_FOUND";case tN.ALREADY_EXISTS:return"STATUS_CODE_ALREADY_EXISTS";case tN.PERMISSION_DENIED:return"STATUS_CODE_PERMISSION_DENIED";case tN.RESOURCE_EXHAUSTED:return"STATUS_CODE_RESOURCE_EXHAUSTED";case tN.FAILED_PRECONDITION:return"STATUS_CODE_FAILED_PRECONDITION";case tN.ABORTED:return"STATUS_CODE_ABORTED";case tN.OUT_OF_RANGE:return"STATUS_CODE_OUT_OF_RANGE";case tN.UNIMPLEMENTED:return"STATUS_CODE_UNIMPLEMENTED";case tN.INTERNAL:return"STATUS_CODE_INTERNAL";case tN.UNAVAILABLE:return"STATUS_CODE_UNAVAILABLE";case tN.DATA_LOSS:return"STATUS_CODE_DATA_LOSS";case tN.UNAUTHENTICATED:return"STATUS_CODE_UNAUTHENTICATED";default:throw new globalThis.Error("Unrecognized enum value "+e+" for enum StatusCode")}}(e.statusCode)),void 0!==e.detailCode&&(n.detailCode=rN.toJSON(e.detailCode)),(null===(t=e.fallbackDetailCodes)||void 0===t?void 0:t.length)&&(n.fallbackDetailCodes=e.fallbackDetailCodes.map((e=>rN.toJSON(e)))),n},create:e=>oN.fromPartial(null!=e?e:{}),fromPartial(e){var t,n;const r={$type:"deepl.pb.interactive_text_api.signalr.ClientErrorInfo",statusCode:0,detailCode:void 0,fallbackDetailCodes:[]};return r.statusCode=null!==(t=e.statusCode)&&void 0!==t?t:0,r.detailCode=void 0!==e.detailCode&&null!==e.detailCode?rN.fromPartial(e.detailCode):void 0,r.fallbackDetailCodes=(null===(n=e.fallbackDetailCodes)||void 0===n?void 0:n.map((e=>rN.fromPartial(e))))||[],r}};function iN(e){return null!=e}function aN(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function sN(){const e=new $k;return e.register({type:eN.START_SESSION_REQUEST,encode:e=>aN(e)&&"sessionMode"in e?PP.encode(e).finish():null,decode:e=>PP.decode(e)}),e.register({type:eN.START_SESSION_RESPONSE,encode:e=>aN(e)&&"sessionId"in e&&"participantId"in e&&"sessionToken"in e?NP.encode(e).finish():null,decode:e=>NP.decode(e)}),e.register({type:eN.EVENT_VERSION,encode:e=>aN(e)&&"version"in e?WP.encode(e).finish():null,decode:e=>WP.decode(e)}),e.register({type:eN.PARTICIPANT_REQUEST,encode:e=>aN(e)&&("appendMessage"in e||"updateAuthenticationTokenMessage"in e)?LP.encode(e).finish():null,decode:e=>LP.decode(e)}),e.register({type:eN.PARTICIPANT_RESPONSE,encode:e=>aN(e)&&"confirmedMessage"in e&&"initializedMessage"in e&&"publishedMessage"in e?$P.encode(e).finish():null,decode:e=>$P.decode(e)}),e.register({type:eN.CLIENT_ERROR_INFO,encode:e=>aN(e)&&"statusCode"in e&&"detailCode"in e&&"fallbackDetailCodes"in e?oN.encode(e).finish():null,decode:e=>oN.decode(e)}),e}function cN(e){return e.$type===kP.$type}function lN(e){return e.$type===CP.$type}function uN(e){return e.$type===OP.$type}function dN(e){return e.$type===RP.$type}function pN(e){if(e.textChangeOperation)return e.textChangeOperation;if(e.createAnnotationOperation)return e.createAnnotationOperation;if(e.removeAnnotationOperation)return e.removeAnnotationOperation;if(e.setPropertyOperation)return e.setPropertyOperation;throw new Error("FieldEvent does not contain an operation")}function hN(e,t,n){const r={fieldName:t,participantId:n,$type:HP.$type};switch(e.$type){case kP.$type:return Object.assign(Object.assign({},r),{textChangeOperation:e});case CP.$type:return Object.assign(Object.assign({},r),{createAnnotationOperation:e});case OP.$type:return Object.assign(Object.assign({},r),{removeAnnotationOperation:e});case RP.$type:return Object.assign(Object.assign({},r),{setPropertyOperation:e})}}function fN(e,t,n){return{$type:kP.$type,range:{$type:JO.$type,start:e,end:t},text:n}}function gN(e,t,n,r){return function(e,t){switch(t.$type){case XO.$type:return Object.assign(Object.assign({},e),{textUnitPayload:t});case UO.$type:return Object.assign(Object.assign({},e),{requestWordAlternativesPayload:t});case $O.$type:return Object.assign(Object.assign({},e),{providedWordAlternativesPayload:t});case jO.$type:return Object.assign(Object.assign({},e),{selectWordAlternativePayload:t});case sR.$type:return Object.assign(Object.assign({},e),{translatorGlossaryReplacementPayload:t});case DO.$type:return Object.assign(Object.assign({},e),{requestTextUnitAlternativesPayload:t});case cR.$type:return Object.assign(Object.assign({},e),{translatorProvidedTextUnitAlternativesPayload:t});case FO.$type:return Object.assign(Object.assign({},e),{selectTextUnitAlternativePayload:t});case oR.$type:return Object.assign(Object.assign({},e),{translatorRequestAutocompletionPayload:t});case iR.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutocompletionPayload:t});case aR.$type:return Object.assign(Object.assign({},e),{translatorSelectAutocompletionPayload:t});case lR.$type:return Object.assign(Object.assign({},e),{translatorProvidedAutomaticTextUnitAlternativesPayload:t});case VO.$type:return Object.assign(Object.assign({},e),{selectAutomaticTextUnitAlternativePayload:t});case YR.$type:return Object.assign(Object.assign({},e),{writeProvidedTextUnitAlternativesPayload:t});case XR.$type:return Object.assign(Object.assign({},e),{writeProvidedAutomaticTextUnitAlternativesPayload:t});case zR.$type:return Object.assign(Object.assign({},e),{writeDiffUnitPayload:t});case WO.$type:return Object.assign(Object.assign({},e),{textFormattingPayload:t});case uR.$type:return Object.assign(Object.assign({},e),{translatorRequestClarifyPayload:t});case hR.$type:return Object.assign(Object.assign({},e),{translatorSelectClarifyAnswerPayload:t});case mP.$type:return Object.assign(Object.assign({},e),{writeRequestChangeStyleAlternativesAnnotationPayload:t});case yP.$type:return Object.assign(Object.assign({},e),{writeProvidedChangeStyleAlternativesAnnotationPayload:t});case _P.$type:return Object.assign(Object.assign({},e),{writeSelectChangeStyleAlternativeAnnotationPayload:t});default:throw new Error("Could not match annotation payload.")}}({$type:CP.$type,annotationId:e,range:{$type:JO.$type,start:t,end:n}},r)}function mN(e,t){const n={$type:RP.$type,propertyName:e};return void 0===t?n:function(e,t){switch(t.$type){case fR.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguagesValue:t});case mR.$type:return Object.assign(Object.assign({},e),{translatorRequestedSourceLanguageValue:t});case vR.$type:return Object.assign(Object.assign({},e),{translatorCalculatedSourceLanguageValue:t});case gR.$type:return Object.assign(Object.assign({},e),{translatorTargetLanguagesValue:t});case yR.$type:return Object.assign(Object.assign({},e),{translatorRequestedTargetLanguageValue:t});case _R.$type:return Object.assign(Object.assign({},e),{translatorCalculatedTargetLanguageValue:t});case TR.$type:return Object.assign(Object.assign({},e),{translatorFormalityModesValue:t});case ER.$type:return Object.assign(Object.assign({},e),{translatorFormalityModeValue:t});case SR.$type:return Object.assign(Object.assign({},e),{translatorGlossarySupportValue:t});case $R.$type:return Object.assign(Object.assign({},e),{translatorGlossaryListValue:t});case bR.$type:return Object.assign(Object.assign({},e),{translatorGlossaryIdValue:t});case AR.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelsValue:t});case IR.$type:return Object.assign(Object.assign({},e),{translatorLanguageModelValue:t});case xR.$type:return Object.assign(Object.assign({},e),{translatorTextDirectionValue:t});case kR.$type:return Object.assign(Object.assign({},e),{translatorMaximumTextLengthValue:t});case CR.$type:return Object.assign(Object.assign({},e),{translatorUnsupportedSourceLanguageValue:t});case KR.$type:return Object.assign(Object.assign({},e),{writeLanguagesValue:t});case ZR.$type:return Object.assign(Object.assign({},e),{writeRequestedLanguageValue:t});case eP.$type:return Object.assign(Object.assign({},e),{writeCalculatedLanguageValue:t});case rP.$type:return Object.assign(Object.assign({},e),{writeStyleVariantsValue:t});case oP.$type:return Object.assign(Object.assign({},e),{writeStyleVariantValue:t});case tP.$type:return Object.assign(Object.assign({},e),{writeGlossaryIdValue:t});case lP.$type:return Object.assign(Object.assign({},e),{writeGlossarySupportValue:t});case cP.$type:return Object.assign(Object.assign({},e),{writeGlossaryListValue:t});case nP.$type:return Object.assign(Object.assign({},e),{writeMaximumTextLengthValue:t});case iP.$type:return Object.assign(Object.assign({},e),{writeUnsupportedLanguageValue:t});case OR.$type:return Object.assign(Object.assign({},e),{translatorSourceLanguageDetectionWeightsValue:t});case QR.$type:return Object.assign(Object.assign({},e),{writeGlossaryLanguagesValue:t})}}(n,t)}let vN=class{constructor(){this.fields=[]}registerField(e){return this.fields.push(e),e}applyItaEvent(e){const t=this.fields.find((t=>t.name===e.fieldName));t&&t.applyOperation(pN(e))}serialize(){return{$type:YP.$type,fields:this.fields.map((e=>e.serialize()))}}prettyPrint(){return{fields:this.fields.map((e=>e.prettyPrint()))}}reset(){this.fields.forEach((e=>e.reset()))}};function yN(){}function _N(e,t,n,r,o){for(var i,a=[];t;)a.push(t),i=t.previousComponent,delete t.previousComponent,t=i;a.reverse();for(var s=0,c=a.length,l=0,u=0;s<c;s++){var d=a[s];if(d.removed){if(d.value=e.join(r.slice(u,u+d.count)),u+=d.count,s&&a[s-1].added){var p=a[s-1];a[s-1]=a[s],a[s]=p}}else{if(!d.added&&o){var h=n.slice(l,l+d.count);h=h.map((function(e,t){var n=r[u+t];return n.length>e.length?n:e})),d.value=e.join(h)}else d.value=e.join(n.slice(l,l+d.count));l+=d.count,d.added||(u+=d.count)}}var f=a[c-1];return c>1&&"string"==typeof f.value&&(f.added||f.removed)&&e.equals("",f.value)&&(a[c-2].value+=f.value,a.pop()),a}yN.prototype={diff:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callback;"function"==typeof r&&(o=r,r={}),this.options=r;var i=this;function a(e){return o?(setTimeout((function(){o(void 0,e)}),0),!0):e}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e));var s=(t=this.removeEmpty(this.tokenize(t))).length,c=e.length,l=1,u=s+c;r.maxEditLength&&(u=Math.min(u,r.maxEditLength));var d=null!==(n=r.timeout)&&void 0!==n?n:1/0,p=Date.now()+d,h=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(h[0],t,e,0);if(h[0].oldPos+1>=c&&f+1>=s)return a([{value:this.join(t),count:t.length}]);var g=-1/0,m=1/0;function v(){for(var n=Math.max(g,-l);n<=Math.min(m,l);n+=2){var r=void 0,o=h[n-1],u=h[n+1];o&&(h[n-1]=void 0);var d=!1;if(u){var p=u.oldPos-n;d=u&&0<=p&&p<s}var v=o&&o.oldPos+1<c;if(d||v){if(r=!v||d&&o.oldPos+1<u.oldPos?i.addToPath(u,!0,void 0,0):i.addToPath(o,void 0,!0,1),f=i.extractCommon(r,t,e,n),r.oldPos+1>=c&&f+1>=s)return a(_N(i,r.lastComponent,t,e,i.useLongestToken));h[n]=r,r.oldPos+1>=c&&(m=Math.min(m,n-1)),f+1>=s&&(g=Math.max(g,n+1))}else h[n]=void 0}l++}if(o)!function e(){setTimeout((function(){if(l>u||Date.now()>p)return o();v()||e()}),0)}();else for(;l<=u&&Date.now()<=p;){var y=v();if(y)return y}},addToPath:function(e,t,n,r){var o=e.lastComponent;return o&&o.added===t&&o.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:o.count+1,added:t,removed:n,previousComponent:o.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:o}}},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,a=e.oldPos,s=a-r,c=0;s+1<o&&a+1<i&&this.equals(t[s+1],n[a+1]);)s++,a++,c++;return c&&(e.lastComponent={count:c,previousComponent:e.lastComponent}),e.oldPos=a,s},equals:function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty:function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};var bN=new yN;var SN=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,wN=/\S/,TN=new yN;TN.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!wN.test(e)&&!wN.test(t)},TN.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&SN.test(t[n])&&SN.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};var EN=new yN;function AN(e){return AN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AN(e)}EN.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t},(new yN).tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)},(new yN).tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};var IN=Object.prototype.toString,xN=new yN;function kN(e,t,n,r,o){var i,a;for(t=t||[],n=n||[],r&&(e=r(o,e)),i=0;i<t.length;i+=1)if(t[i]===e)return n[i];if("[object Array]"===IN.call(e)){for(t.push(e),a=new Array(e.length),n.push(a),i=0;i<e.length;i+=1)a[i]=kN(e[i],t,n,r,o);return t.pop(),n.pop(),a}if(e&&e.toJSON&&(e=e.toJSON()),"object"===AN(e)&&null!==e){t.push(e),a={},n.push(a);var s,c=[];for(s in e)e.hasOwnProperty(s)&&c.push(s);for(c.sort(),i=0;i<c.length;i+=1)a[s=c[i]]=kN(e[s],t,n,r,s);t.pop(),n.pop()}else a=e;return a}xN.useLongestToken=!0,xN.tokenize=EN.tokenize,xN.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,o=void 0===r?function(e,t){return void 0===t?n:t}:r;return"string"==typeof e?e:JSON.stringify(kN(e,null,null,o),o,"  ")},xN.equals=function(e,t){return yN.prototype.equals.call(xN,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var CN=new yN;CN.tokenize=function(e){return e.slice()},CN.join=CN.removeEmpty=function(e){return e};var ON;function RN(e,t){return{$type:JO.$type,start:e,end:t}}!function(e){e[e.BaseThenNew=0]="BaseThenNew",e[e.NewThenBase=1]="NewThenBase"}(ON||(ON={}));const PN=(e,t,n=ON.BaseThenNew)=>{var r,o;if(uN(t)||uN(e)||lN(e)||cN(e)&&(null===(r=e.range)||void 0===r?void 0:r.start)===(null===(o=e.range)||void 0===o?void 0:o.end)&&0===e.text.length)return t;if(dN(e)&&dN(t))return((e,t,n)=>e.propertyName!==t.propertyName||n===ON.BaseThenNew?t:e)(e,t,n);if(dN(e)||dN(t))return t;if(cN(e)&&cN(t))return((e,t,n)=>{const r=e.range,o=t.range;if(r.start>o.end)return t;const i=e.text.length+r.start-r.end;if(r.end<o.start)return Object.assign(Object.assign({},t),{range:RN(o.start+i,o.end+i)});const a=r.start<o.start||r.start===o.start&&n===ON.BaseThenNew,s=r.end<o.end;if(a){const n=r.start+e.text.length;return s?Object.assign(Object.assign({},t),{range:RN(n,o.end+i)}):Object.assign(Object.assign({},t),{range:RN(n,n)})}return s?Object.assign(Object.assign({},t),{range:RN(o.start,o.end+i),text:t.text+e.text}):Object.assign(Object.assign({},t),{range:RN(o.start,r.start)})})(e,t,n);if(cN(e)&&lN(t))return((e,t)=>{const n=e.range,r=t.range;if(n.start>r.end)return t;const o=e.text.length+n.start-n.end;if(n.end<r.start)return Object.assign(Object.assign({},t),{range:RN(r.start+o,r.end+o)});const i=n.start<r.start,a=n.end<r.end,s=n.start+e.text.length;return i?a?Object.assign(Object.assign({},t),{range:RN(s,r.end+o)}):n.end===r.end?Object.assign(Object.assign({},t),{range:RN(s,s)}):Object.assign(Object.assign({},t),{range:RN(n.start,n.start)}):a?n.start===r.start?Object.assign(Object.assign({},t),{range:RN(s,r.end+o)}):Object.assign(Object.assign({},t),{range:RN(r.start,r.end+o)}):Object.assign(Object.assign({},t),{range:RN(r.start,s)})})(e,t);throw new Error(`Operational transform for operations of type [${null==e?void 0:e.$type}, ${null==t?void 0:t.$type}] not implemented.`)},NN=(e,t)=>[PN(t,e,ON.NewThenBase),PN(e,t,ON.BaseThenNew)],LN=(e,t)=>{let n=[...e];const r=t.map((e=>{let t=e;return n=n.map((e=>{const[n,r]=NN(t,e);return t=n,r})),t}));return[n,r]},$N=(e,t)=>{let n=[...t];return{transformedIncomingEvents:e.map((e=>{let t=pN(e);return n=n.map((n=>{if(e.fieldName!==n.fieldName)return n;const[r,o]=NN(t,pN(n));return t=r,"participantId"in n?hN(o,n.fieldName,n.participantId):hN(o,n.fieldName)})),hN(t,e.fieldName,e.participantId)})),transformedExistingEvents:n}};function MN(e){return e.$type===GP.$type?{$type:LP.$type,appendMessage:e}:{$type:LP.$type,updateAuthenticationTokenMessage:e}}function DN(e){if(!e.range)throw new Error("TextChangeOperation must have a range to calculate delta");return e.text.length-e.range.end+e.range.start}function UN(e,t){const n=(r=e,o=t,i={ignoreCase:!1},bN.diff(r,o,i));var r,o,i;const{compactedOperations:a}=n.reduce((({compactedOperations:e,index:t},r,o)=>{if(!r.added&&!r.removed)return{compactedOperations:e,index:t+r.value.length};const i=n[o-1];if(!i||!i.added&&!i.removed){const n=function(e,t){if(!e.added&&!e.removed)throw new Error("Cannot convert change object that represents common chunk to text change operation");return e.removed?fN(t,t+e.value.length,""):fN(t,t,e.value)}(r,t);return{compactedOperations:[...e,n],index:t+n.text.length}}const a=e.at(-1),s=function(e,t){return t.removed?fN(e.range.start,e.range.end+t.value.length,e.text):fN(e.range.start,e.range.end,e.text+t.value)}(a,r);return{compactedOperations:[...e.slice(0,-1),s],index:t-DN(a)+DN(s)}}),{compactedOperations:[],index:0});return a}const VN=(e,t)=>e.split("-")[0]===t.split("-")[0];class FN{constructor(e){this.name=e,this.content=new kC(void 0),this.annotations=[],this.annotationsRequiringTransformation=[],this.changeNotifier=new IC,this.wasChanged=this.changeNotifier.asObservable(),this.properties=new Map}registerAnnotation(e){return e.config.requiresTransformation&&this.annotationsRequiringTransformation.push(e),this.annotations.push(e),e}registerProperty(e){return this.properties.set(e.propertyName,e),e}applyOperation(e){cN(e)?this.applyTextChangeOperation(e):lN(e)?this.applyCreateAnnotationOperation(e):uN(e)?this.applyRemoveAnnotationOperation(e):dN(e)&&this.applySetPropertyOperation(e)}applyTextChangeOperation(e){var t;const n=((e,t)=>{var n,r;if(void 0===t.range||t.range.start>e.length||t.range.start<0||t.range.end>e.length||t.range.end<0||t.range.start>t.range.end)throw new Error(`Tried to apply out of range operation to string: start ${null===(n=t.range)||void 0===n?void 0:n.start}, end ${null===(r=t.range)||void 0===r?void 0:r.end}, length ${e.length}`);return e.slice(0,t.range.start)+t.text+e.slice(t.range.end)})(null!==(t=this.content.value)&&void 0!==t?t:"",e);this.content.next(n),this.changeNotifier.next();for(const t of this.annotationsRequiringTransformation){const n=t.annotations.value.map((t=>Object.assign(Object.assign({},t),{operation:PN(e,t.operation)})));t.set(n)}}applyCreateAnnotationOperation(e){const t=function(e){if(e.textUnitPayload)return e.textUnitPayload;if(e.requestWordAlternativesPayload)return e.requestWordAlternativesPayload;if(e.providedWordAlternativesPayload)return e.providedWordAlternativesPayload;if(e.selectWordAlternativePayload)return e.selectWordAlternativePayload;if(e.translatorGlossaryReplacementPayload)return e.translatorGlossaryReplacementPayload;if(e.requestTextUnitAlternativesPayload)return e.requestTextUnitAlternativesPayload;if(e.translatorProvidedTextUnitAlternativesPayload)return e.translatorProvidedTextUnitAlternativesPayload;if(e.selectTextUnitAlternativePayload)return e.selectTextUnitAlternativePayload;if(e.translatorRequestAutocompletionPayload)return e.translatorRequestAutocompletionPayload;if(e.translatorProvidedAutocompletionPayload)return e.translatorProvidedAutocompletionPayload;if(e.translatorSelectAutocompletionPayload)return e.translatorSelectAutocompletionPayload;if(e.translatorProvidedAutomaticTextUnitAlternativesPayload)return e.translatorProvidedAutomaticTextUnitAlternativesPayload;if(e.selectAutomaticTextUnitAlternativePayload)return e.selectAutomaticTextUnitAlternativePayload;if(e.writeProvidedTextUnitAlternativesPayload)return e.writeProvidedTextUnitAlternativesPayload;if(e.writeProvidedAutomaticTextUnitAlternativesPayload)return e.writeProvidedAutomaticTextUnitAlternativesPayload;if(e.writeDiffUnitPayload)return e.writeDiffUnitPayload;if(e.textFormattingPayload)return e.textFormattingPayload;if(e.translatorProvidedClarifyHighlightPayload)return e.translatorProvidedClarifyHighlightPayload;if(e.translatorProvidedClarifyQuestionPayload)return e.translatorProvidedClarifyQuestionPayload;if(e.writeRequestChangeStyleAlternativesAnnotationPayload)return e.writeRequestChangeStyleAlternativesAnnotationPayload;if(e.writeProvidedChangeStyleAlternativesAnnotationPayload)return e.writeProvidedChangeStyleAlternativesAnnotationPayload;if(e.writeSelectChangeStyleAlternativeAnnotationPayload)return e.writeSelectChangeStyleAlternativeAnnotationPayload;throw new Error("CreateAnnotationOperation does not contain a known payload")}(e),n=this.annotations.find((e=>e.payloadType===t.$type));n&&(n.applyCreateAnnotationOperation({operation:e,specificPayload:t}),this.changeNotifier.next())}applyRemoveAnnotationOperation(e){this.annotations.forEach((t=>t.applyRemoveAnnotationOperation(e))),this.changeNotifier.next()}applySetPropertyOperation(e){const{propertyName:t}=e,n=this.properties.get(t);n&&(n.applySetPropertyOperation(e),this.changeNotifier.next())}update(e){var t;const n=function(e){const t=[],n=[];let r=0,o=0;for(const i of e){const e=DN(i);e<0?(o+=e,t.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-r,end:i.range.end-r})}))):(r+=e,n.push(Object.assign(Object.assign({},i),{range:Object.assign(Object.assign({},i.range),{start:i.range.start-o,end:i.range.end-o})})))}const[i,a]=LN(t,n);return[...t,...a]}(UN(null!==(t=this.content.value)&&void 0!==t?t:"",e));this.content.next(e),this.changeNotifier.next();for(const e of this.annotationsRequiringTransformation){const t=e.annotations.value,[r,o]=LN(n,t.map((e=>e.operation)));e.set(o.map(((e,n)=>Object.assign(Object.assign({},t[n]),{operation:e}))))}return n}serialize(){var e;return{$type:XP.$type,fieldName:this.name,text:null!==(e=this.content.value)&&void 0!==e?e:"",annotations:this.annotations.flatMap((e=>e.serialize())),properties:Array.from(this.properties.values()).map((e=>e.serialize()))}}prettyPrint(){return{fieldName:SP[this.name],text:this.content.value,annotations:this.annotations.flatMap((e=>e.prettyPrint())),properties:Array.from(this.properties.values()).map((e=>e.prettyPrint()))}}reset(){this.content.next(""),this.annotations.forEach((e=>e.reset())),this.properties.forEach((e=>e.reset())),this.changeNotifier.next()}}class GN extends FN{constructor(){super(...arguments),this.excessText="",this.fullContent=this.content.pipe(zC((e=>{if(void 0!==e)return e+this.excessText})))}updateWithLimit(e,t){const n=e.slice(0,t);return this.excessText=e.slice(t),super.update(n)}}class jN{constructor(e,t,n){this.name=e,this.sessionMode=t,this.document=n,this.bufferedInitialEvents=[]}addChangeHandler(e){this.onChange=e,this.onChange(this.bufferedInitialEvents),this.bufferedInitialEvents=[]}applyFieldEvent(e){this.document.applyItaEvent(e)}publishChange(e,t){const n=t.map((t=>hN(t,e)));this.publishEvents(n)}publishChanges(e){const t=e.flatMap((([e,t])=>t.map((t=>hN(t,e)))));this.publishEvents(t)}publishEvents(e){this.onChange?this.onChange(e):this.bufferedInitialEvents=[...this.bufferedInitialEvents,...e]}}function qN(e){return e.$type===VP.$type}function BN(e){if(function(e){return e.$type===$P.$type}(e))return function(e){if(null==e?void 0:e.confirmedMessage)return e.confirmedMessage;if(null==e?void 0:e.initializedMessage)return e.initializedMessage;if(null==e?void 0:e.publishedMessage)return e.publishedMessage;if(null==e?void 0:e.metaInfoMessage)return e.metaInfoMessage;throw new Error("ParticipantResponse does not contain a message")}(e);if(function(e){return e.$type===LP.$type}(e))return function(e){if(null==e?void 0:e.appendMessage)return e.appendMessage;if(null==e?void 0:e.updateAuthenticationTokenMessage)return e.updateAuthenticationTokenMessage;throw new Error("ParticipantRequest does not contain a message")}(e);throw new Error("Extracting message failed, you need to pass a ParticipantRequest or ParticipantResponse")}class WN{constructor(e){var t,n,r,o,i,a;this.currentVersion={$type:WP.$type,version:void 0},this.isInitialized=!1,this.pendingEvents=[],this.sentEvents=[],this.confirmedEvents=[],this.incomingEvents=e.pipe(zC((e=>BN(e))),(a=eC(r=e=>{(function(e){return e.$type===MP.$type})(e)&&this.handleConfirmedMessage(e),function(e){return e.$type===DP.$type}(e)&&this.handleInitializedMessage()})||o||i?{next:r,error:o,complete:i}:r)?wC((function(e,t){var n;null===(n=a.subscribe)||void 0===n||n.call(a);var r=!0;e.subscribe(TC(t,(function(e){var n;null===(n=a.next)||void 0===n||n.call(a,e),t.next(e)}),(function(){var e;r=!1,null===(e=a.complete)||void 0===e||e.call(a),t.complete()}),(function(e){var n;r=!1,null===(n=a.error)||void 0===n||n.call(a,e),t.error(e)}),(function(){var e,t;r&&(null===(e=a.unsubscribe)||void 0===e||e.call(a)),null===(t=a.finalize)||void 0===t||t.call(a)})))})):_C,oO((e=>function(e){return e.$type===UP.$type}(e))),zC((e=>this.handlePublished(e))),(t=e=>JC(e),wC((function(e,r){var o=null,i=0,a=!1,s=function(){return a&&!o&&r.complete()};e.subscribe(TC(r,(function(e){null==o||o.unsubscribe();var a=0,c=i++;FC(t(e,c)).subscribe(o=TC(r,(function(t){return r.next(n?n(e,t,c,a++):t)}),(function(){o=null,s()})))}),(function(){a=!0,s()})))}))),function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new IC}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,a=void 0===i||i,s=e.resetOnRefCountZero,c=void 0===s||s;return function(e){var t,r,i,s=0,l=!1,u=!1,d=function(){null==r||r.unsubscribe(),r=void 0},p=function(){d(),t=i=void 0,l=u=!1},h=function(){var e=t;p(),null==e||e.unsubscribe()};return wC((function(e,f){s++,u||l||d();var g=i=null!=i?i:n();f.add((function(){0!=--s||u||l||(r=iO(h,c))})),g.subscribe(f),!t&&s>0&&(t=new gC({next:function(e){return g.next(e)},error:function(e){u=!0,d(),r=iO(p,o,e),g.error(e)},complete:function(){l=!0,d(),r=iO(p,a),g.complete()}}),FC(e).subscribe(t))}))(e)}}())}addClientEvents(e){this.pendingEvents.push(...e),this.trySendPendingEvents()}handleConfirmedMessage(e){this.currentVersion=e.currentVersion,this.confirmedEvents.push(...this.sentEvents),this.sentEvents=[],this.trySendPendingEvents()}handlePublished(e){const t=e.events,{transformedIncomingEvents:n,transformedExistingEvents:r}=$N(t,this.sentEvents);this.sentEvents=r;const{transformedIncomingEvents:o,transformedExistingEvents:i}=$N(n,this.pendingEvents);return this.pendingEvents=i,this.confirmedEvents.push(...o),this.currentVersion=e.currentVersion,this.trySendPendingEvents(),o}connectToSession(e){this.sendEvents=e,this.trySendPendingEvents()}trySendPendingEvents(){0===this.pendingEvents.length||this.sentEvents.length>0||!this.isInitialized||!this.sendEvents||(this.sentEvents=this.sendEvents(this.pendingEvents.reduce(((e,t)=>{if(function(e){var t,n;return void 0!==e&&(null===(t=e.range)||void 0===t?void 0:t.start)===(null===(n=e.range)||void 0===n?void 0:n.end)&&0===e.text.length}(t.textChangeOperation))return e;if(0===e.length)return[t];const n=e.at(-1);if(n.fieldName!==t.fieldName||!t.textChangeOperation||!n.textChangeOperation)return[...e,t];const r=n.textChangeOperation,o=t.textChangeOperation,i=o.range.start-r.range.start,a=o.range.end-r.range.start,s=Math.max(0,i),c=Math.min(r.text.length,a);if(s>c)return[...e,t];const l=Math.min(0,i),u=a-i-(c-s),d=hN(fN(r.range.start+l,r.range.end+l+u,r.text.slice(0,s)+o.text+r.text.slice(c)),t.fieldName);return[...e.slice(0,-1),d]}),new Array),this.currentVersion),this.pendingEvents=[])}handleInitializedMessage(){this.sentEvents.length>0&&this.sendEvents(this.sentEvents,this.currentVersion),this.isInitialized=!0,this.trySendPendingEvents()}}var HN,JN=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};!function(e){e[e.Connecting=0]="Connecting",e[e.Reconnecting=1]="Reconnecting",e[e.Restoring=2]="Restoring",e[e.Connected=3]="Connected",e[e.Disconnected=4]="Disconnected"}(HN||(HN={}));class zN extends Error{constructor(){super(...arguments),this.name="ConnectionError"}}class YN extends Error{constructor(e){super("There was an error with the session on the server. See the info property for details."),this.info=e,this.name="SessionError"}}class XN{constructor(e,t,n,r){this.connectionBuilder=e,this.config=t,this.client=n,this.metaInfo=r,this.participantResponses=new IC,this.participantRequests=new IC,this.errorInfoSubject=new IC,this.error=this.errorInfoSubject.asObservable(),this.statusSubject=new kC(HN.Disconnected),this.status=this.statusSubject.asObservable(),this.messagesSubject=new IC,this.messages=this.messagesSubject.asObservable(),this.connection=this.connectionBuilder.build(),this.participantRequests.subscribe((e=>this.messagesSubject.next(e))),this.participantResponses.subscribe((e=>this.messagesSubject.next(e))),this.eventHandler=new WN(this.participantResponses),this.client.addChangeHandler((e=>this.eventHandler.addClientEvents(e))),this.eventHandler.incomingEvents.subscribe((e=>this.client.applyFieldEvent(e))),this.participantResponses.pipe(zC(BN),oO(qN)).subscribe((e=>{var t;return null===(t=this.metaInfo)||void 0===t?void 0:t.addMetaInfoMessage(e)})),this.connection.onclose((e=>{this.statusSubject.value===HN.Connected&&(this.statusSubject.next(HN.Disconnected),this.errorInfoSubject.next(new zN(`The connection was closed with error: ${e}`)))}))}connect(e){return JN(this,void 0,void 0,(function*(){if(this.statusSubject.value!==HN.Disconnected)return;if(this.connection.on("OnError",(e=>{this.connection.off("OnError"),this.statusSubject.next(HN.Disconnected),this.errorInfoSubject.next(new YN(e))})),this.startSessionResponse&&!e?this.statusSubject.next(HN.Reconnecting):this.statusSubject.next(HN.Connecting),this.connection.state!==Zx.Connected)try{yield this.connection.start()}catch(e){throw this.statusSubject.next(HN.Disconnected),new zN(`Error starting connection: ${e}`)}this.startSessionResponse&&!e||(this.startSessionResponse=yield this.startSession(e));const t=this.connection.stream("GetMessages",this.startSessionResponse.sessionToken,this.eventHandler.currentVersion).subscribe({next:e=>{this.statusSubject.value!==HN.Connected&&this.statusSubject.next(HN.Connected),this.participantResponses.next(e)},error:()=>{},complete:()=>{}});this.connection.on("OnError",(()=>t.dispose()));try{yield this.connection.send("AppendMessages",this.startSessionResponse.sessionToken,this.participantRequests)}catch(e){throw this.statusSubject.next(HN.Disconnected),new zN(`Error starting 'AppendMessages': ${e}`)}var n;this.eventHandler.connectToSession(((e,t)=>{const n=e.map((e=>Object.assign(Object.assign({},e),{participantId:this.startSessionResponse.participantId})));if(this.statusSubject.value!==HN.Connected)return this.errorInfoSubject.next(new zN("Error sending message to the server: hub connection is not in a connected state")),n;const r=MN(function(e,t){return{$type:GP.$type,events:e,baseVersion:t}}(n,t));return this.participantRequests.next(r),n})),this.config.accessToken.pipe((n=this.status.pipe(oO((e=>e===HN.Connected))),wC((function(e,t){var r=!1,o=TC(t,(function(){null==o||o.unsubscribe(),r=!0}),dC);FC(n).subscribe(o),e.subscribe(TC(t,(function(e){return r&&t.next(e)})))}))),function(e){return wC((function(t,n){FC(e).subscribe(TC(n,(function(){return n.complete()}),dC)),!n.closed&&t.subscribe(n)}))}(this.status.pipe(oO((e=>e===HN.Disconnected))))).subscribe((e=>this.updateAuthenticationToken(e)))}))}startSession(e){return JN(this,void 0,void 0,(function*(){const t={$type:PP.$type,sessionMode:this.client.sessionMode,baseDocument:e,translatorSessionOptions:{$type:RR.$type,enableTranscription:this.config.enableTranscription,enableTranslatorQuoteConversion:this.config.enableTranslatorQuoteConversion}};let n;try{n=yield this.connection.invoke("StartSession",t)}catch(e){throw this.statusSubject.next(HN.Disconnected),new zN(`Error starting session: ${e}`)}if(!n)throw this.statusSubject.next(HN.Disconnected),new zN("No StartSessionResponse returned from StartSession");return n}))}restore(){return JN(this,void 0,void 0,(function*(){this.statusSubject.next(HN.Restoring),this.participantResponses.complete(),this.connection.stop();const e=this.client.document.serialize();this.client.document.reset();const t=new XN(this.connectionBuilder,this.config,this.client,this.metaInfo);try{yield t.connect(e)}catch(e){throw this.statusSubject.next(HN.Disconnected),e}return t}))}updateAuthenticationToken(e){this.participantRequests.next(MN({$type:jP.$type,token:e}))}}class KN{constructor(e,t){this.serverUrl=e;const n=new URL(e);n.pathname+="/sessions",this.accessTokenSubject=new kC(t),this.connectionBuilder=(new mk).withHubProtocol(new Zk({extensionCodec:sN()})).configureLogging(kx.Critical),this.connectionBuilder=t?this.connectionBuilder.withUrl(n.toString(),{accessTokenFactory:()=>this.accessTokenSubject.value}):this.connectionBuilder.withUrl(n.toString())}createSession(e,t,n){const r=Object.assign(Object.assign({},{enableTranscription:!1,enableTranslatorQuoteConversion:!1}),n);return new XN(this.connectionBuilder,Object.assign({accessToken:this.accessTokenSubject.pipe(oO((e=>"string"==typeof e)))},r),e,t)}updateAccessToken(e){this.accessTokenSubject.next(e)}}const QN=1500,ZN={requiresTransformation:!1};class eL{constructor(e,t){this.payloadType=e,this.annotations=new kC([]),this.payloads=this.annotations.pipe(zC((e=>e.map((e=>e.specificPayload))))),this.config=Object.assign(Object.assign({},ZN),t)}applyCreateAnnotationOperation(e){if(!e.operation.range||!e.operation.annotationId)return;const t=[...this.annotations.value,e];this.annotations.next(t)}applyRemoveAnnotationOperation(e){const t=this.annotations.value.filter((t=>{var n,r;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)!==(null===(r=e.annotationId)||void 0===r?void 0:r.value)}));this.annotations.next(t)}add(e,t,n){const r=gN({$type:zP.$type,value:crypto.randomUUID()},e,t,n);return this.annotations.next([...this.annotations.value,{operation:r,specificPayload:n}]),[r]}set(e){this.annotations.next(e)}removeAnnotation(e){const t=this.annotations.value.filter((t=>{var n;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)===(null==e?void 0:e.value)})).map((e=>function(e){return{$type:OP.$type,annotationId:e}}(e.operation.annotationId))),n=this.annotations.value.filter((t=>{var n;return(null===(n=t.operation.annotationId)||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)}));return this.annotations.next(n),t}serialize(){return this.annotations.value.map((e=>e.operation))}prettyPrint(){return this.annotations.value.map((e=>{var t;return{id:null===(t=e.operation.annotationId)||void 0===t?void 0:t.value,range:e.operation.range,annotationPayload:e.specificPayload}}))}reset(){this.annotations.next([])}}class tL{constructor(e,t){this.propertyName=e,this.propertyType=t,this.value=new kC(void 0)}applySetPropertyOperation(e){const t=function(e){return e.translatorSourceLanguagesValue?e.translatorSourceLanguagesValue:e.translatorTargetLanguagesValue?e.translatorTargetLanguagesValue:e.translatorRequestedSourceLanguageValue?e.translatorRequestedSourceLanguageValue:e.translatorCalculatedSourceLanguageValue?e.translatorCalculatedSourceLanguageValue:e.translatorRequestedTargetLanguageValue?e.translatorRequestedTargetLanguageValue:e.translatorCalculatedTargetLanguageValue?e.translatorCalculatedTargetLanguageValue:e.translatorFormalityModesValue?e.translatorFormalityModesValue:e.translatorFormalityModeValue?e.translatorFormalityModeValue:e.translatorGlossarySupportValue?e.translatorGlossarySupportValue:e.translatorGlossaryListValue?e.translatorGlossaryListValue:e.translatorGlossaryIdValue?e.translatorGlossaryIdValue:e.translatorLanguageModelsValue?e.translatorLanguageModelsValue:e.translatorLanguageModelValue?e.translatorLanguageModelValue:e.translatorTextDirectionValue?e.translatorTextDirectionValue:e.translatorMaximumTextLengthValue?e.translatorMaximumTextLengthValue:e.translatorUnsupportedSourceLanguageValue?e.translatorUnsupportedSourceLanguageValue:e.writeGlossarySupportValue?e.writeGlossarySupportValue:e.writeGlossaryListValue?e.writeGlossaryListValue:e.writeGlossaryIdValue?e.writeGlossaryIdValue:e.writeLanguagesValue?e.writeLanguagesValue:e.writeMaximumTextLengthValue?e.writeMaximumTextLengthValue:e.writeUnsupportedLanguageValue?e.writeUnsupportedLanguageValue:e.writeRequestedLanguageValue?e.writeRequestedLanguageValue:e.writeCalculatedLanguageValue?e.writeCalculatedLanguageValue:e.writeStyleVariantsValue?e.writeStyleVariantsValue:e.writeStyleVariantValue?e.writeStyleVariantValue:e.translatorSourceLanguageDetectionWeightsValue?e.translatorSourceLanguageDetectionWeightsValue:e.writeGlossaryLanguagesValue?e.writeGlossaryLanguagesValue:void 0}(e);if(void 0===t)return this.reset();if(t.$type!==this.propertyType)throw new Error(`PropertyValue has type ${t.$type}, but ${this.propertyType} expected`);this.value.next(t)}set(e){return this.value.next(e),[this.serialize()]}reset(){this.value.next(void 0)}serialize(){return mN(this.propertyName,this.value.value)}prettyPrint(){return{propertyName:wP[this.propertyName],propertyValue:this.value.value}}}class nL extends tL{constructor(){super(wP.TRANSLATOR_TEXT_DIRECTION,xR.$type),this.isRightToLeft=this.value.pipe(zC((e=>(null==e?void 0:e.textDirection)===eR.RIGHT_TO_LEFT)))}}const rL=e=>!!e;class oL extends tL{constructor(){super(wP.TRANSLATOR_MAXIMUM_TEXT_LENGTH,kR.$type),this.max=this.value.pipe(oO(rL),zC((e=>e.max)))}getCurrentMax(){var e,t;return null!==(t=null===(e=this.value.value)||void 0===e?void 0:e.max)&&void 0!==t?t:QN}}class iL extends tL{constructor(){super(wP.TRANSLATOR_UNSUPPORTED_SOURCE_LANGUAGE,CR.$type),this.unsupported=this.value.pipe(zC((e=>!!e)))}}class aL extends tL{constructor(){super(wP.TRANSLATOR_CALCULATED_SOURCE_LANGUAGE,vR.$type),this.language=this.value.pipe(zC((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}))),this.isAutoDetected=this.value.pipe(zC((e=>(null==e?void 0:e.origin)===ZO.LANGUAGE_DETECTION)))}updateLanguage(e){return super.set({$type:vR.$type,sourceLanguage:{$type:DR.$type,code:e},origin:ZO.REQUESTED_LANGUAGE})}getCurrent(){var e,t;return null===(t=null===(e=this.value.value)||void 0===e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code}}class sL extends tL{constructor(){super(wP.TRANSLATOR_REQUESTED_SOURCE_LANGUAGE,mR.$type),this.language=this.value.pipe(zC((e=>{var t;return null===(t=null==e?void 0:e.sourceLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){if("autodetect"===e){return super.set(void 0)}return super.set({$type:mR.$type,sourceLanguage:{$type:DR.$type,code:e}})}}class cL extends tL{constructor(){super(wP.TRANSLATOR_SOURCE_LANGUAGES,fR.$type),this.sourceLanguages=this.value.pipe(zC((e=>{var t;return null!==(t=null==e?void 0:e.sourceLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class lL extends tL{constructor(){super(wP.TRANSLATOR_SOURCE_LANGUAGE_DETECTION_WEIGHTS,OR.$type),this.weights=this.value.pipe(zC((e=>{var t;return null!==(t=null==e?void 0:e.weights)&&void 0!==t?t:[]})))}updateSourceLanguageDetectionWeights(e){return super.set(void 0===e?void 0:{$type:OR.$type,weights:e})}}class uL extends GN{constructor(){super(...arguments),this.calculatedSourceLanguageProperty=this.registerProperty(new aL),this.requestedSourceLanguageProperty=this.registerProperty(new sL),this.sourceLanguagesProperty=this.registerProperty(new cL),this.maximumTextLengthProperty=this.registerProperty(new oL),this.unsupportedLanguageProperty=this.registerProperty(new iL),this.sourceLanguageDetectionWeightsProperty=this.registerProperty(new lL),this.sourceTextUnitAnnotations=this.registerAnnotation(new eL(XO.$type,{requiresTransformation:!0})),this.textFormattingAnnotations=this.registerAnnotation(new eL(WO.$type,{requiresTransformation:!0})),this.textDirection=this.registerProperty(new nL),this.requestClarifyAnnotations=this.registerAnnotation(new eL(uR.$type,{requiresTransformation:!0})),this.clarifyQuestionAnnotations=this.registerAnnotation(new eL(pR.$type,{requiresTransformation:!0})),this.clarifyHighlightAnnotations=this.registerAnnotation(new eL(dR.$type,{requiresTransformation:!0})),this.selectClarifyAnswerAnnotations=this.registerAnnotation(new eL(hR.$type,{requiresTransformation:!0}))}}class dL extends tL{constructor(){super(wP.TRANSLATOR_TARGET_LANGUAGES,gR.$type),this.targetLanguages=this.value.pipe(zC((e=>{var t;return null!==(t=null==e?void 0:e.targetLanguages.map((e=>e.code)))&&void 0!==t?t:[]})))}}class pL extends tL{constructor(){super(wP.TRANSLATOR_CALCULATED_TARGET_LANGUAGE,_R.$type),this.language=this.value.pipe(zC((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code})))}updateLanguage(e){return super.set({$type:_R.$type,targetLanguage:{$type:UR.$type,code:e}})}}class hL extends tL{constructor(){super(wP.TRANSLATOR_REQUESTED_TARGET_LANGUAGE,yR.$type)}updateLanguage(e){return super.set({$type:yR.$type,targetLanguage:{$type:UR.$type,code:e}})}getCurrent(){var e,t;return null===(t=null===(e=this.value.value)||void 0===e?void 0:e.targetLanguage)||void 0===t?void 0:t.code}}class fL extends tL{constructor(){super(wP.TRANSLATOR_GLOSSARY_SUPPORT,SR.$type),this.supported=this.value.pipe(zC((e=>!!e)))}}class gL extends tL{constructor(){super(wP.TRANSLATOR_GLOSSARY_LIST,$R.$type),this.entries=this.value.pipe(zC((e=>{var t;return null!==(t=null==e?void 0:e.glossaryEntries)&&void 0!==t?t:[]})))}updateGlossaryList(e){return super.set(void 0===e?void 0:{$type:$R.$type,glossaryEntries:e})}}class mL extends tL{constructor(){super(wP.TRANSLATOR_GLOSSARY_SUGGESTIONS,$R.$type)}}class vL extends tL{constructor(){super(wP.TRANSLATOR_FORMALITY_MODES,TR.$type)}}class yL extends tL{constructor(){super(wP.TRANSLATOR_FORMALITY_MODE,ER.$type)}update(e){return super.set(void 0===e?void 0:{$type:ER.$type,formalityMode:e})}}class _L extends tL{constructor(){super(wP.TRANSLATOR_LANGUAGE_MODELS,AR.$type)}}class bL extends tL{constructor(){super(wP.TRANSLATOR_LANGUAGE_MODEL,IR.$type)}update(e){return super.set(void 0===e?void 0:{$type:IR.$type,languageModel:e})}}class SL extends tL{constructor(){super(wP.TRANSLATOR_GLOSSARY_ID,bR.$type)}update(e){return super.set(void 0===e?void 0:{$type:bR.$type,glossaryId:e})}}class wL extends FN{constructor(){super(...arguments),this.requestedTargetLanguageProperty=this.registerProperty(new hL),this.calculatedTargetLanguageProperty=this.registerProperty(new pL),this.targetLanguagesProperty=this.registerProperty(new dL),this.requestWordAlternativesAnnotations=this.registerAnnotation(new eL(UO.$type)),this.providedWordAlternativesAnnotations=this.registerAnnotation(new eL($O.$type,{requiresTransformation:!0})),this.selectWordAlternativeAnnotations=this.registerAnnotation(new eL(jO.$type)),this.requestTextUnitAlternativesAnnotations=this.registerAnnotation(new eL(DO.$type)),this.providedTextUnitAlternativesAnnotations=this.registerAnnotation(new eL(cR.$type,{requiresTransformation:!0})),this.selectTextUnitAlternativeAnnotations=this.registerAnnotation(new eL(FO.$type)),this.requestAutocompletionAnnotations=this.registerAnnotation(new eL(oR.$type)),this.providedAutocompletionAnnotations=this.registerAnnotation(new eL(iR.$type,{requiresTransformation:!0})),this.selectAutocompletionAnnotations=this.registerAnnotation(new eL(aR.$type)),this.providedAutomaticTextUnitAlternativesAnnotations=this.registerAnnotation(new eL(lR.$type,{requiresTransformation:!0})),this.selectAutomaticTextUnitAlternativeAnnotations=this.registerAnnotation(new eL(VO.$type)),this.targetTextUnitAnnotations=this.registerAnnotation(new eL(XO.$type,{requiresTransformation:!0})),this.glossaryReplacementAnnotations=this.registerAnnotation(new eL(sR.$type,{requiresTransformation:!0})),this.textFormattingAnnotations=this.registerAnnotation(new eL(WO.$type,{requiresTransformation:!0})),this.glossarySupport=this.registerProperty(new fL),this.glossaryListProperty=this.registerProperty(new gL),this.glossarySuggestions=this.registerProperty(new mL),this.formalityModes=this.registerProperty(new vL),this.formalityMode=this.registerProperty(new yL),this.languageModels=this.registerProperty(new _L),this.languageModel=this.registerProperty(new bL),this.textDirection=this.registerProperty(new nL),this.glossaryId=this.registerProperty(new SL),this.maximumTextLengthProperty=this.registerProperty(new oL)}}function TL(e){const{plainText:t,textFormattingAnnotations:n}=e,r=new Map,o=new Document,i=o.createElement("document");o.appendChild(i),r.set(i,{$type:JO.$type,start:0,end:t.length});const a=new Map;for(const e of n){const t=o.createElement(e.specificPayload.name),n=e.specificPayload.textFormattingId.value;a.set(n,t),r.set(t,e.operation.range)}const s=new Set(a.keys());for(const e of n){const t=a.get(e.specificPayload.textFormattingId.value);if(void 0!==t)for(const n of e.specificPayload.children){const e=a.get(n.value);void 0!==e&&(t.appendChild(e),s.delete(n.value))}}let c=[];s.forEach((e=>{const t=a.get(e);void 0!==t&&c.push(t)})),c=c.sort(((e,t)=>{var n,o,i,a;const s=r.get(e),c=r.get(t),l=(null!==(n=null==s?void 0:s.start)&&void 0!==n?n:0)-(null!==(o=null==c?void 0:c.start)&&void 0!==o?o:0);return 0===l?(null!==(i=null==s?void 0:s.end)&&void 0!==i?i:0)-(null!==(a=null==c?void 0:c.end)&&void 0!==a?a:0):l}));for(const e of c)i.appendChild(e);function l(e,n,r){if(e===n)return e;return r(o.createTextNode(t.slice(e,n))),n}return function e(t,n){let o=t;for(const t of Array.from(n.childNodes)){const i=r.get(t);void 0!==i&&(o=l(o,i.start,(e=>n.insertBefore(e,t))),o=e(o,t),o=l(o,i.end,(e=>{const{nextSibling:r}=t;null!=r?r.insertBefore(e,t):n.appendChild(e)})))}const i=r.get(n);return void 0!==i&&(o=l(o,i.end,(e=>n.appendChild(e)))),o}(0,i),i.innerHTML}function EL(e,t,n){if(t.nodeType===Node.TEXT_NODE)return{text:t.textContent,id:void 0};const r={$type:BO.$type,value:crypto.randomUUID()};let o=n,i="";const a=[];if(t.hasChildNodes())for(const n of t.childNodes){const t=EL(e,n,o),r=t.text,s=t.id;o+=r.length,i=i.concat(r),void 0!==s&&a.push(s)}const s={$type:JO.$type,start:n,end:o};if("HTML"!==t.nodeName&&"BODY"!==t.nodeName&&"HEAD"!==t.nodeName){const n={$type:WO.$type,textFormattingId:r,name:t.nodeName,children:a};e.push({operation:{$type:CP.$type,annotationId:{$type:zP.$type,value:crypto.randomUUID()},range:s,textFormattingPayload:n},specificPayload:n})}return{text:i,id:r}}function AL(e){const t=document.createElement("html");t.innerHTML=e;const n=new Array,{text:r}=EL(n,t,0);return{plainText:r,textFormattingAnnotations:n}}class IL extends FN{constructor(){super(...arguments),this.targetTranscriptionTextUnitAnnotations=this.registerAnnotation(new eL(XO.$type,{requiresTransformation:!0}))}}class xL extends vN{constructor(){super(...arguments),this.sourceTextField=this.registerField(new uL(SP.TRANSLATOR_SOURCE_TEXT)),this.targetTextField=this.registerField(new wL(SP.TRANSLATOR_TARGET_TEXT)),this.targetTranscriptionTextField=this.registerField(new IL(SP.TRANSLATOR_TARGET_TRANSCRIPTION_TEXT)),this.textUnitAnnotations=nO([this.sourceTextField.sourceTextUnitAnnotations.annotations,this.targetTextField.targetTextUnitAnnotations.annotations,this.targetTranscriptionTextField.targetTranscriptionTextUnitAnnotations.annotations]).pipe(zC((e=>{const t=e[0],n=e[1],r=e[2];return t.sort(((e,t)=>e.operation.range.start-t.operation.range.start)).map((e=>{var t,o,i,a;const s=e.operation.range,c=null!==(o=null===(t=n.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===t?void 0:t.operation.range)&&void 0!==o?o:JO.fromJSON({}),l=null!==(a=null===(i=r.find((t=>{var n,r;return(null===(n=e.specificPayload.textUnitId)||void 0===n?void 0:n.value)===(null===(r=t.specificPayload.textUnitId)||void 0===r?void 0:r.value)})))||void 0===i?void 0:i.operation.range)&&void 0!==a?a:JO.fromJSON({});return{sourceStart:s.start,sourceEnd:s.end,sourceLength:s.end-s.start,targetStart:c.start,targetEnd:c.end,targetLength:c.end-c.start,targetTranscriptionStart:l.start,targetTranscriptionEnd:l.end,targetTranscriptionLength:l.end-l.start}}))})))}}let kL=class e extends jN{constructor(e={preventSameLanguages:{enabled:!1}}){super("Translator",TP.TRANSLATOR,new xL),this.config=e,this.targetLanguage=this.document.targetTextField.requestedTargetLanguageProperty.value.pipe(zC((e=>{var t;return null===(t=null==e?void 0:e.targetLanguage)||void 0===t?void 0:t.code}))),this.formattedSourceText=nO([this.document.sourceTextField.content,this.document.sourceTextField.textFormattingAnnotations.annotations]).pipe(zC((([e,t])=>0===t.length?e:void 0===e?void 0:TL({plainText:e,textFormattingAnnotations:t})))),this.formattedTargetText=nO([this.document.targetTextField.content,this.document.targetTextField.textFormattingAnnotations.annotations]).pipe(zC((([e,t])=>0===t.length?e:void 0===e?void 0:TL({plainText:e,textFormattingAnnotations:t})))),this.config.preventSameLanguages.enabled&&this.document.sourceTextField.calculatedSourceLanguageProperty.language.pipe(oO((e=>!!e))).subscribe((e=>{const t=this.document.targetTextField.requestedTargetLanguageProperty.getCurrent();t&&this.config.preventSameLanguages.enabled&&VN(e,t)&&this.updateRequestedTargetLanguage(this.config.preventSameLanguages.getAlternativeTargetLanguage(t))}))}applyFieldEvent(e){if(e.fieldName===SP.TRANSLATOR_TARGET_TEXT&&e.textChangeOperation){const e=[];e.push(...this.cancelTextUnitAlternativesFlows()),e.push(...this.cancelWordAlternativesFlows()),e.push(...this.cancelAutocompletionFlows()),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,e)}this.document.applyItaEvent(e)}updateSourceText(t){const n=this.document.sourceTextField,r=n.maximumTextLengthProperty.getCurrentMax(),o=e.removeTextFormattingAnnotations(n.textFormattingAnnotations),i=n.updateWithLimit(t,r);this.publishChanges([[n.name,o],[n.name,i]])}updateFormattedSourceText(e,t){const n=this.document.sourceTextField.maximumTextLengthProperty.getCurrentMax();this.updateFormattedText(this.document.sourceTextField,e,n)}updateTargetText(t){const n=this.document.targetTextField,r=e.removeTextFormattingAnnotations(n.textFormattingAnnotations),o=n.update(t);this.publishChanges([[n.name,this.cancelTextUnitAlternativesFlows()],[n.name,this.cancelWordAlternativesFlows()],[n.name,this.cancelAutocompletionFlows()],[n.name,r],[n.name,o]])}updateFormattedTargetText(e,t){this.updateFormattedText(this.document.targetTextField,e,t)}updateRequestedTargetLanguage(e){var t;if(this.config.preventSameLanguages.enabled&&VN(e,null!==(t=this.document.sourceTextField.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:""))return;const n=this.document.targetTextField.requestedTargetLanguageProperty.updateLanguage(e);this.publishChange(SP.TRANSLATOR_TARGET_TEXT,n)}updateRequestedSourceLanguage(e){const t=this.document.sourceTextField.requestedSourceLanguageProperty.updateLanguage(e);this.publishChange(SP.TRANSLATOR_SOURCE_TEXT,t)}switchLanguages(e){var t,n,r,o,i,a,s,c,l;const{sourceTextField:u,targetTextField:d}=this.document,p=null!==(t=u.calculatedSourceLanguageProperty.getCurrent())&&void 0!==t?t:null===(r=null===(n=u.requestedSourceLanguageProperty.value.value)||void 0===n?void 0:n.sourceLanguage)||void 0===r?void 0:r.code,h=null!==(a=null===(i=null===(o=d.calculatedTargetLanguageProperty.value.value)||void 0===o?void 0:o.targetLanguage)||void 0===i?void 0:i.code)&&void 0!==a?a:null===(c=null===(s=d.requestedTargetLanguageProperty.value.value)||void 0===s?void 0:s.targetLanguage)||void 0===c?void 0:c.code,f=d.content.value;if(!p||!h)return;const g=h.split("-")[0],m=null!==(l=e[p])&&void 0!==l?l:p;this.publishChanges([[SP.TRANSLATOR_TARGET_TEXT,[...d.update("")]],[SP.TRANSLATOR_SOURCE_TEXT,[...u.update("")]],[SP.TRANSLATOR_TARGET_TEXT,[...d.requestedTargetLanguageProperty.updateLanguage(m)]],[SP.TRANSLATOR_SOURCE_TEXT,[...u.requestedSourceLanguageProperty.updateLanguage(g),...u.updateWithLimit(null!=f?f:"",u.maximumTextLengthProperty.getCurrentMax())]]]),u.calculatedSourceLanguageProperty.updateLanguage(g)}updateFormattedText(t,n,r){const o=e.removeTextFormattingAnnotations(t.textFormattingAnnotations),i=AL(n),{plainText:a,textFormattingAnnotations:s}=function(e,t){return e.plainText.length<=t?e:{plainText:e.plainText.slice(0,t),textFormattingAnnotations:e.textFormattingAnnotations.filter((e=>e.operation.range.start<t)).map((e=>e.operation.range.end<=t?e:Object.assign(Object.assign({},e),{operation:Object.assign(Object.assign({},e.operation),{range:Object.assign(Object.assign({},e.operation.range),{end:t})})})))}}(i,r),c=t.update(a);t.textFormattingAnnotations.set(s),this.publishChanges([[t.name,o],[t.name,c],[t.name,s.map((e=>e.operation))]])}static removeTextFormattingAnnotations(e){var t;const n=null!==(t=e.annotations.value.map((e=>({$type:OP.$type,annotationId:e.operation.annotationId}))))&&void 0!==t?t:[];return e.reset(),n}cancelWordAlternativesFlows(){return this.document.targetTextField.requestWordAlternativesAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestWordAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelTextUnitAlternativesFlows(){return this.document.targetTextField.requestTextUnitAlternativesAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestTextUnitAlternativesAnnotations.removeAnnotation(e.operation.annotationId)))}cancelAutocompletionFlows(){return this.document.targetTextField.requestAutocompletionAnnotations.annotations.value.flatMap((e=>this.document.targetTextField.requestAutocompletionAnnotations.removeAnnotation(e.operation.annotationId)))}requestWordAlternatives(e){const t=[];t.push(...this.cancelWordAlternativesFlows());const n=this.document.targetTextField.requestWordAlternativesAnnotations.add(e,e,{$type:UO.$type,flowId:{$type:LO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}requestTextUnitAlternatives(e){const t=[];t.push(...this.cancelTextUnitAlternativesFlows());const n=this.document.targetTextField.requestTextUnitAlternativesAnnotations.add(e,e,{$type:DO.$type,flowId:{$type:MO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}requestAutocompletion(e){const t=[];t.push(...this.cancelAutocompletionFlows());const n=this.document.targetTextField.requestAutocompletionAnnotations.add(e,e,{$type:oR.$type,flowId:{$type:KO.$type,value:crypto.randomUUID()}})[0];t.push(n),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}cancelClarifyFlows(){return this.document.sourceTextField.requestClarifyAnnotations.annotations.value.flatMap((e=>this.document.sourceTextField.requestClarifyAnnotations.removeAnnotation(e.operation.annotationId)))}requestClarify(){var e;const t=[];t.push(...this.cancelClarifyFlows());const n=(null!==(e=this.document.sourceTextField.content.value)&&void 0!==e?e:"").length-1,r=this.document.sourceTextField.requestClarifyAnnotations.add(0,n,{$type:uR.$type,flowId:{$type:WR.$type,value:crypto.randomUUID()}})[0];t.push(r),this.publishChange(SP.TRANSLATOR_SOURCE_TEXT,t)}selectClarifyAnswer(e,t){var n,r,o,i,a,s;const c=[],l=this.document.sourceTextField.clarifyQuestionAnnotations.annotations.value.find((t=>{var n,r,o;return(null===(o=null===(r=null===(n=t.specificPayload.questionWithAnswers)||void 0===n?void 0:n.question)||void 0===r?void 0:r.id)||void 0===o?void 0:o.value)===e}));if(!l)throw new Error(`Unknown question id "${e}" found!`);const u=null!==(r=null===(n=l.operation.range)||void 0===n?void 0:n.start)&&void 0!==r?r:0,d=null!==(i=null===(o=l.operation.range)||void 0===o?void 0:o.end)&&void 0!==i?i:0,p=this.document.sourceTextField.selectClarifyAnswerAnnotations.add(u,d,{$type:hR.$type,flowId:l.specificPayload.flowId,questionId:null===(s=null===(a=l.specificPayload.questionWithAnswers)||void 0===a?void 0:a.question)||void 0===s?void 0:s.id,answer:{$type:"deepl.pb.interactive_text_api.translator.ClarifySelectedAnswer",answer:t}})[0];c.push(p),this.publishChange(SP.TRANSLATOR_SOURCE_TEXT,c)}selectWordAlternative(e,t,n){const r=[];r.push(...this.cancelTextUnitAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectWordAlternativeAnnotations.add(e,e,{$type:jO.$type,flowId:{$type:LO.$type,value:t},selection:n});r.push(...o),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,r)}selectTextUnitAlternative(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelAutocompletionFlows());const o=this.document.targetTextField.selectTextUnitAlternativeAnnotations.add(e,e,{$type:FO.$type,flowId:{$type:MO.$type,value:t},selection:n});r.push(...o),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,r)}selectAutocompletion(e,t,n){const r=[];r.push(...this.cancelWordAlternativesFlows()),r.push(...this.cancelTextUnitAlternativesFlows());const o=this.document.targetTextField.selectAutocompletionAnnotations.add(e,e,{$type:aR.$type,flowId:{$type:KO.$type,value:t},selection:n});r.push(...o),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,r)}selectAutomaticTextUnitAlternative(e,t){const n=[],r=this.document.targetTextField.selectAutomaticTextUnitAlternativeAnnotations.add(e,e,{$type:VO.$type,selection:t});n.push(...r),this.publishChange(SP.TRANSLATOR_TARGET_TEXT,n)}updateGlossaryList(e){const t=this.document.targetTextField.glossaryListProperty.updateGlossaryList(e);this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}updateSourceLanguageDetectionWeights(e){const t=this.document.sourceTextField.sourceLanguageDetectionWeightsProperty.updateSourceLanguageDetectionWeights(e);this.publishChange(SP.TRANSLATOR_SOURCE_TEXT,t)}updateFormalityMode(e){const t=this.document.targetTextField.formalityMode.update(e);this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}updateLanguageModel(e){const t=this.document.targetTextField.languageModel.update(e);this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}updateGlossaryId(e){const t=this.document.targetTextField.glossaryId.update(e);this.publishChange(SP.TRANSLATOR_TARGET_TEXT,t)}};function CL(e){return je(this,arguments,void 0,(function*({itaDocumentState:e,accessToken:t}){var n,r;!function(){je(this,void 0,void 0,(function*(){const{session:e}=yield sb(["session"]);!e||(Date.now()-e.timestamp)/6e4>30?yield cb():yield chrome.storage.sync.set({session:Object.assign(Object.assign({},e),{timestamp:Date.now()})})}))}();try{yield bb();const o=yield vb(),i=io(o,Xn.TRANSLATOR)?"https://ita-pro.www.deepl.com/v1":"https://ita-free.www.deepl.com/v1",a=new KN(new URL(i),t),s=new kL,c=a.createSession(s);return yield c.connect(e),Q_({itaSessionType:ur,itaSessionEventType:e?hr:pr}),zr()&&console.log("ITA Translate session ID:",null===(r=null===(n=c.startSessionResponse)||void 0===n?void 0:n.sessionId)||void 0===r?void 0:r.value),[{session:c,updateAccessToken:e=>a.updateAccessToken(e)},null]}catch(e){return console.error(e),(null==e?void 0:e.info)&&console.log(e.info),Q_({itaSessionType:ur,itaSessionEventType:fr,itaErrorType:mr,itaErrorMessage:e.message}),[null,e]}}))}const OL=e=>je(void 0,void 0,void 0,(function*(){const t=e.nicheIntegration===Un||e.nicheIntegration===qn||e.nicheIntegration===Bn||!e.nicheIntegration,n=yield mb(Xn.TRANSLATOR),r=yield mb(Xn.WRITE);if(!((!n||!r)&&t))return;const o=e.sourceTexts.reduce(((e,t)=>e+t.length),0),i=e.isWriteRequest?Xr.writeServiceType:Xr.translatorServiceType,a=yield function(){return je(this,arguments,void 0,(function*(e=Xr.translatorServiceType){const t=yield gb(e);let n;switch(e){case Xr.translatorServiceType:n=ft;break;case Xr.writeServiceType:n=gt;break;default:n=ft}switch(t){case dt:return n.notLoggedIn;case ht:return n.loggedInFree;case pt:return;default:return n.notLoggedIn}}))}(i);if(e.isWriteRequest){if(n&&!r&&o>a)throw new jy(a,"Char limit exceeded (Translator Pro, Write Free)");if(!r&&o>a)throw new Gy(a,"Char limit exceeded (Write Free Or Anonymous)")}else{let e;try{e=yield gb()}catch(t){e=dt,console.log(t)}if(e===ht&&r&&o>a)throw new qy(a,"Char limit exceeded (Free or Anon Translator, Write Pro)");if(e===ht&&o>a)throw new Vy(a,"Char limit exceeded (Translator Free)");if(e===dt&&o>a)throw new Fy(a,"Char limit exceeded (Translator Anon)")}}));function RL(){return je(this,arguments,void 0,(function*(e=!1,t=!0){if(!e){const e=yield function(){return je(this,void 0,void 0,(function*(){const e=yield ib(nb,tb);if(e&&e.meta)return(Date.now()-e.meta.createdAt)/6e4>20?void 0:e.data}))}();if(e)return e}const n=(r="getClientState",o={v:"20180814"},i=function(){let e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}(),{jsonrpc:"2.0",method:r,params:o,id:i});var r,o,i;const a=yield db(),s=t||function(e){try{const t=By(e);if(t.exp&&Date.now()/1e3<t.exp-5)return!1}catch(e){console.error("Error decoding token:",e)}return!0}(a.access_token),{response:c,accessToken:l}=yield QI("https://w.deepl.com/web",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(n),access_token:a.access_token,refresh_token:a.refresh_token,token_url:"https://w.deepl.com/oidc/token",credentials:"omit"},s);yield lb(l,a.refresh_token,a.id_token);const u=(yield c.json()).result;return u&&(ab(u),function(e){je(this,void 0,void 0,(function*(){var t,n,r,o,i;const a=e.featureSet.translator.service,s=e.featureSet.write.service,c=e.featureSet.api.service,l=e.featureSet.documentTranslation.service,u=e.featureSet.glossary.termbaseService,d=e.featureSet.glossary.maxGlossaries;let p,h;(null===(t=e.loginState)||void 0===t?void 0:t.accountId)&&(p=e.loginState.accountId),(null===(r=null===(n=e.featureSet)||void 0===n?void 0:n.integrations)||void 0===r?void 0:r.browserExtension)&&(h=null===(i=null===(o=e.featureSet)||void 0===o?void 0:o.integrations)||void 0===i?void 0:i.browserExtension),yield chrome.storage.local.set({translatorServiceType:a,writeServiceType:s,apiServiceType:c,docTranslatorServiceType:l,accountId:p||"",featureSet:h,hasTermbaseService:u&&d>0})}))}(u)),u}))}let PL;const NL=e=>je(void 0,void 0,void 0,(function*(){try{return yield e(LL())}catch(e){if(e.name===Gw||e.name===jw||e.name===qw||e.name===AT||e.name===xT||e.name===kT){if(PL)throw e;PL=setTimeout((()=>je(void 0,void 0,void 0,(function*(){try{yield function(e){return je(this,void 0,void 0,(function*(){const t=yield db(),n="https://www.deepl.com/auth/logout",r=new URLSearchParams([["id_token_hint",t.id_token],["post_logout_redirect_uri",chrome.identity.getRedirectURL()]]),o=()=>je(this,void 0,void 0,(function*(){try{yield function(){return je(this,void 0,void 0,(function*(){const e=yield fb();return J_((t=>Object.assign(Object.assign({},t),{eventId:h_,accountData:{accountUuid:e}})))}))}()}catch(e){console.error(e)}yield Promise.all([pb(),ub(),yb(),$L()]),yield chrome.storage.local.set({[Xr.lastLogoutTrigger]:e.trigger});try{yield Y_({trigger:e.trigger,reason:e.reason})}catch(e){console.error(e)}yield RL(!0),function(){je(this,void 0,void 0,(function*(){yield chrome.storage.sync.remove(["activeTermbaseId","isGlossaryEnabled"]),yield chrome.storage.sync.set({activeTermbaseId:"",isGlossaryEnabled:!1})}))}(),e.showAlert&&chrome.tabs.query({active:!0,currentWindow:!0},(function(t){chrome.tabs.sendMessage(t[0].id,{action:"dlShowAlert",payload:{error:e.reason}})}))}));if(!t.id_token)return void(yield o());const i=`${n}?${r}`;chrome.identity.launchWebAuthFlow({url:i,interactive:!0},(()=>{o()}))}))}({trigger:zn,reason:e.name})}finally{clearTimeout(PL),PL=void 0}}))),5e3)}throw e}})),LL=()=>({baseUrls:{translate:{free:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",pro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0"},write:{free:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",pro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0"},glossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0"},auth:{getAuthTokens:db,setAuthTokens:lb,getServiceLevels:()=>je(void 0,void 0,void 0,(function*(){const e=yield vb();return{translator:e.translatorServiceType,write:e.writeServiceType}})),tokenUrl:"https://w.deepl.com/oidc/token"},omitCookies:!0});function $L(){return je(this,void 0,void 0,(function*(){yield chrome.action.setIcon({path:"images/deepl_32.png"})}))}async function ML(){let e,t,n="";try{e=await async function(){const e=await hb();return{isLoggedIn:e.isLoggedIn,translatorServiceType:e.translatorServiceType,writeServiceType:e.writeServiceType,hasTermbaseService:e.hasTermbaseService}}()}catch(e){t=e.message}if(!e?.isLoggedIn||t)return[[],t];try{const e=await je(void 0,void 0,void 0,(function*(){return NL((e=>je(void 0,void 0,void 0,(function*(){return yield ox({config:e})}))))}));n=e.result||[]}catch(e){t=e.message}return[n,t]}function DL(e,t){e&&(t?e.updateGlossaryId({$type:QO.$type,id:t}):e.updateGlossaryId())}function UL(){return je(this,void 0,void 0,(function*(){const e=yield sb(["activeTermbaseId","session","isGlossaryEnabled","hasTermbaseService",Xr.isLoggedIn]);let t;if(e.isGlossaryEnabled&&so(e)&&e.activeTermbaseId){const[n]=yield ML();t=n.find((t=>t.id===e.activeTermbaseId))}return{glossaryId:null==t?void 0:t.id,isAutoTermbase:null==t?void 0:t.isAutoTermbase,isShared:null==t?void 0:t.shared}}))}const VL="textChange",FL="targetLanguageChange",GL="formalityChange",jL="writeStyleChange",qL="translatorRequestedTargetLanguageValue",BL="translatorFormalityModeValue",WL="writeStyleVariantValue",HL=(e,t)=>e||t>=10?[e,t]:[e=++t>=10,t];function JL(t){let n,r,i,a;return{c(){n=P("div"),q(n,"--placeholder-headline","'"+t[1]+"'"),q(n,"--placeholder-explanation","'"+t[2]+"'"),F(n,"class","input-area editable svelte-13cutv0"),F(n,"data-testid","side-panel-input"),F(n,"contenteditable",r=t[0]?"false":"true"),W(n,"isDisabled",t[0])},m(e,r){C(e,n,r),i||(a=[D(n,"input",t[3]),D(n,"paste",t[4]),D(n,"focus",t[6]),D(n,"click",t[7])],i=!0)},p(e,[t]){2&t&&q(n,"--placeholder-headline","'"+e[1]+"'"),4&t&&q(n,"--placeholder-explanation","'"+e[2]+"'"),1&t&&r!==(r=e[0]?"false":"true")&&F(n,"contenteditable",r),1&t&&W(n,"isDisabled",e[0])},i:e,o:e,d(e){e&&O(n),i=!1,o(a)}}}function zL(e,t,n){let{onInputChange:r=()=>{}}=t,{isDisabled:o=!1}=t,i=chrome.i18n.getMessage("side_panel_translate_input_prompt"),a=chrome.i18n.getMessage("side_panel_translate_input_prompt_description");return e.$$set=e=>{"onInputChange"in e&&n(5,r=e.onInputChange),"isDisabled"in e&&n(0,o=e.isDisabled)},[o,i,a,function(e){n(1,i=""),n(2,a=""),r(e.target.innerText.trim())},function(e){n(1,i=""),n(2,a=""),e.preventDefault();const t=e.clipboardData.getData("text/plain");console.error(t),document.execCommand("insertText",!1,t)},r,function(t){se.call(this,e,t)},()=>X_(En)]}class YL extends Ve{constructor(e){super(),Ue(this,e,zL,JL,a,{onInputChange:5,isDisabled:0})}}function XL(e){let t;return{c(){t=P("div"),F(t,"class","sliding-bar svelte-g1fkpi")},m(e,n){C(e,t,n)},d(e){e&&O(t)}}}function KL(t){let n,r=t[0]&&XL();return{c(){n=P("div"),r&&r.c(),F(n,"class","container svelte-g1fkpi")},m(e,t){C(e,n,t),r&&r.m(n,null)},p(e,[t]){e[0]?r||(r=XL(),r.c(),r.m(n,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&O(n),r&&r.d()}}}function QL(e,t,n){let{isProcessing:r=!1}=t;return e.$$set=e=>{"isProcessing"in e&&n(0,r=e.isProcessing)},[r]}class ZL extends Ve{constructor(e){super(),Ue(this,e,QL,KL,a,{isProcessing:0})}}function e$(e){let t,n,r;return n=new ZL({props:{isProcessing:e[1]}}),{c(){t=P("div"),Le(n.$$.fragment),F(t,"class","loading-indicator svelte-f1iv6z"),F(t,"data-testid","side-panel-target-text-loading-indicator")},m(e,o){C(e,t,o),$e(n,t,null),r=!0},p(e,t){const r={};2&t&&(r.isProcessing=e[1]),n.$set(r)},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n)}}}function t$(e){let t,n,r,o,i,a,s=e[2]&&e$(e);return{c(){t=P("div"),s&&s.c(),n=$(),r=L(e[0]),F(t,"class","output-area svelte-f1iv6z"),F(t,"data-testid","side-panel-output")},m(c,l){C(c,t,l),s&&s.m(t,null),I(t,n),I(t,r),o=!0,i||(a=D(t,"click",e[4]),i=!0)},p(e,[i]){e[2]?s?(s.p(e,i),4&i&&xe(s,1)):(s=e$(e),s.c(),xe(s,1),s.m(t,n)):s&&(Ae(),ke(s,1,1,(()=>{s=null})),Ie()),(!o||1&i)&&G(r,e[0])},i(e){o||(xe(s),o=!0)},o(e){ke(s),o=!1},d(e){e&&O(t),s&&s.d(),i=!1,a()}}}function n$(e,t,n){let r,{targetText:o=""}=t,{isProcessing:i}=t,a=!1;re((()=>{r&&clearTimeout(r)}));return e.$$set=e=>{"targetText"in e&&n(0,o=e.targetText),"isProcessing"in e&&n(1,i=e.isProcessing)},e.$$.update=()=>{10&e.$$.dirty&&(i?r||n(3,r=setTimeout((()=>{i&&n(2,a=!0),n(3,r=null)}),500)):(n(2,a=!1),r&&(clearTimeout(r),n(3,r=null))))},[o,i,a,r,()=>X_(An)]}class r$ extends Ve{constructor(e){super(),Ue(this,e,n$,t$,a,{targetText:0,isProcessing:1})}}function o$(e){let t,n,r,i,a,s,c,l,u,d,p;return r=new Dw({props:{value:e[1],dataQaButton:"side-panel-translator-sourcelang",showRegionalVariants:!1,readOnly:e[2],fontSize:"sm",placeholderText:chrome.i18n.getMessage("dropdown_detect_language")}}),r.$on("selection",e[4]),l=new Dw({props:{value:e[0],dataQaButton:"side-panel-translator-targetlang",fontSize:"sm",readOnly:e[2]}}),l.$on("selection",e[7]),{c(){t=P("div"),n=P("div"),Le(r.$$.fragment),i=$(),a=P("div"),s=$(),c=P("div"),Le(l.$$.fragment),F(n,"class","language-picker svelte-5ewc1i"),F(a,"class","translate-to-arrow svelte-5ewc1i"),F(c,"class","language-picker svelte-5ewc1i"),F(t,"class","container svelte-5ewc1i")},m(o,h){C(o,t,h),I(t,n),$e(r,n,null),I(t,i),I(t,a),I(t,s),I(t,c),$e(l,c,null),u=!0,d||(p=[D(n,"mouseup",e[5]),D(a,"click",e[6]),D(c,"mouseup",e[8])],d=!0)},p(e,[t]){const n={};2&t&&(n.value=e[1]),4&t&&(n.readOnly=e[2]),r.$set(n);const o={};1&t&&(o.value=e[0]),4&t&&(o.readOnly=e[2]),l.$set(o)},i(e){u||(xe(r.$$.fragment,e),xe(l.$$.fragment,e),u=!0)},o(e){ke(r.$$.fragment,e),ke(l.$$.fragment,e),u=!1},d(e){e&&O(t),Me(r),Me(l),d=!1,o(p)}}}function i$(e,t,n){const r=oe();let{targetLang:o}=t,{sourceLang:i}=t,{isDisabled:a=!1}=t;return e.$$set=e=>{"targetLang"in e&&n(0,o=e.targetLang),"sourceLang"in e&&n(1,i=e.sourceLang),"isDisabled"in e&&n(2,a=e.isDisabled)},[o,i,a,r,e=>{n(1,i=e.detail.selectedOption.value),r("selectSourcetLang",{sourceLang:i})},()=>X_(wn),()=>X_(Tn),e=>{n(0,o=e.detail.selectedOption.value),r("selectTargetLang",{targetLang:o}),function(e){je(this,void 0,void 0,(function*(){return J_((t=>Object.assign(Object.assign({},t),{eventId:f_,sidePanelLanguageChangeData:{lang:e}})))}))}(o)},()=>X_(Sn)]}class a$ extends Ve{constructor(e){super(),Ue(this,e,i$,o$,a,{targetLang:0,sourceLang:1,isDisabled:2})}}function s$(t){let n,r=zr(),o=r&&function(e){let t,n,r,o;return{c(){t=P("div"),n=L(e[1]),F(t,"class","dev-label svelte-1djhzwy"),W(t,"isInline",e[0])},m(i,a){C(i,t,a),I(t,n),r||(o=D(t,"click",e[2]),r=!0)},p(e,r){2&r&&G(n,e[1]),1&r&&W(t,"isInline",e[0])},d(e){e&&O(t),r=!1,o()}}}(t);return{c(){o&&o.c(),n=M()},m(e,t){o&&o.m(e,t),C(e,n,t)},p(e,[t]){r&&o.p(e,t)},i:e,o:e,d(e){e&&O(n),o&&o.d(e)}}}function c$(e,t,n){let{isInline:r=!1}=t,{text:o="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,r=e.isInline),"text"in e&&n(1,o=e.text)},[r,o,function(t){se.call(this,e,t)}]}class l$ extends Ve{constructor(e){super(),Ue(this,e,c$,s$,a,{isInline:0,text:1})}}function u$(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f,g,m,v,y,_,b,S,w,T,E,A,x,k,R,N,M,D=e[0]?.startSessionResponse?.sessionId?.value+"",U=e[0]?.connection?.connectionId+"",V=e[3]?.length+"",j=e[4]&&d$(e);return N=new FI({props:{text:"Open dev tools"}}),{c(){t=P("div"),n=P("div"),r=P("pre"),o=L("ITA session id: "),i=L(D),a=$(),s=P("pre"),c=L("ITA connection id: "),l=L(U),u=$(),d=P("pre"),p=L("ITA session status: "),h=L(e[1]),f=$(),g=P("pre"),m=L("Reconnecting "),v=L(e[6]),y=$(),_=P("pre"),b=L("is processing: "),S=L(e[2]),w=$(),T=P("pre"),E=L("Active subscriptions: "),A=L(V),x=$(),j&&j.c(),k=$(),R=P("div"),Le(N.$$.fragment),q(R,"width","fit-content"),F(t,"class","dev-info svelte-1tepehe")},m(e,O){C(e,t,O),I(t,n),I(n,r),I(r,o),I(r,i),I(n,a),I(n,s),I(s,c),I(s,l),I(n,u),I(n,d),I(d,p),I(d,h),I(n,f),I(n,g),I(g,m),I(g,v),I(n,y),I(n,_),I(_,b),I(_,S),I(n,w),I(n,T),I(T,E),I(T,A),I(t,x),j&&j.m(t,null),I(t,k),I(t,R),$e(N,R,null),M=!0},p(e,n){(!M||1&n)&&D!==(D=e[0]?.startSessionResponse?.sessionId?.value+"")&&G(i,D),(!M||1&n)&&U!==(U=e[0]?.connection?.connectionId+"")&&G(l,U),(!M||2&n)&&G(h,e[1]),(!M||64&n)&&G(v,e[6]),(!M||4&n)&&G(S,e[2]),(!M||8&n)&&V!==(V=e[3]?.length+"")&&G(A,V),e[4]?j?j.p(e,n):(j=d$(e),j.c(),j.m(t,k)):j&&(j.d(1),j=null)},i(e){M||(xe(N.$$.fragment,e),M=!0)},o(e){ke(N.$$.fragment,e),M=!1},d(e){e&&O(t),j&&j.d(),Me(N)}}}function d$(e){let t,n,r,o,i,a,s,c,l,u,d,p=e[4].info?.statusCode+"",h=e[4].info?.detailCode?.value+"",f=e[4].message+"";return{c(){t=P("pre"),n=L("Error Code: "),r=L(p),o=$(),i=P("pre"),a=L("Error Detail Code: "),s=L(h),c=$(),l=P("pre"),u=L("Error Message: "),d=L(f)},m(e,p){C(e,t,p),I(t,n),I(t,r),C(e,o,p),C(e,i,p),I(i,a),I(i,s),C(e,c,p),C(e,l,p),I(l,u),I(l,d)},p(e,t){16&t&&p!==(p=e[4].info?.statusCode+"")&&G(r,p),16&t&&h!==(h=e[4].info?.detailCode?.value+"")&&G(s,h),16&t&&f!==(f=e[4].message+"")&&G(d,f)},d(e){e&&(O(t),O(o),O(i),O(c),O(l))}}}function p$(e){let t,n,r,o,i;n=new l$({}),n.$on("click",e[8]);let a=e[7]&&u$(e);return{c(){t=P("div"),Le(n.$$.fragment),r=$(),a&&a.c(),o=M(),F(t,"style",e[5])},m(e,s){C(e,t,s),$e(n,t,null),C(e,r,s),a&&a.m(e,s),C(e,o,s),i=!0},p(e,[n]){(!i||32&n)&&F(t,"style",e[5]),e[7]?a?(a.p(e,n),128&n&&xe(a,1)):(a=u$(e),a.c(),xe(a,1),a.m(o.parentNode,o)):a&&(Ae(),ke(a,1,1,(()=>{a=null})),Ie())},i(e){i||(xe(n.$$.fragment,e),xe(a),i=!0)},o(e){ke(n.$$.fragment,e),ke(a),i=!1},d(e){e&&(O(t),O(r),O(o)),Me(n),a&&a.d(e)}}}function h$(e,t,n){let{itaSession:r}=t,{sessionStatus:o}=t,{isProcessing:i}=t,{activeItaSubscriptions:a}=t,{sessionError:s}=t,{style:c}=t,{reconnecting:l}=t,u=!1;return e.$$set=e=>{"itaSession"in e&&n(0,r=e.itaSession),"sessionStatus"in e&&n(1,o=e.sessionStatus),"isProcessing"in e&&n(2,i=e.isProcessing),"activeItaSubscriptions"in e&&n(3,a=e.activeItaSubscriptions),"sessionError"in e&&n(4,s=e.sessionError),"style"in e&&n(5,c=e.style),"reconnecting"in e&&n(6,l=e.reconnecting)},[r,o,i,a,s,c,l,u,()=>n(7,u=!u)]}class f$ extends Ve{constructor(e){super(),Ue(this,e,h$,p$,a,{itaSession:0,sessionStatus:1,isProcessing:2,activeItaSubscriptions:3,sessionError:4,style:5,reconnecting:6})}}function g$(e){let t,n;return t=new uA({props:{error:{error:e[6]},close:e[22]}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};64&n[0]&&(r.error={error:e[6]}),64&n[0]&&(r.close=e[22]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function m$(e){let t,n;return t=new PI({props:{serviceName:Xn.TRANSLATOR}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function v$(e){let t,n;return t=new r$({props:{targetText:e[5],isProcessing:e[8]||e[12]}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};32&n[0]&&(r.targetText=e[5]),4352&n[0]&&(r.isProcessing=e[8]||e[12]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function y$(e){let t,n;return t=new uA({props:{error:{error:e[7]},close:e[23]}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};128&n[0]&&(r.error={error:e[7]}),128&n[0]&&(r.close=e[23]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function _$(e){let t,n,r,o,i,a,s,c,l,u,d,p,h,f=zr(),g=f&&function(e){let t,n;return t=new f$({props:{style:"position: absolute; right: 8px;",itaSession:e[4],sessionStatus:e[11],isProcessing:e[8],activeItaSubscriptions:e[13],sessionError:e[10],reconnecting:e[12]}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,n){const r={};16&n[0]&&(r.itaSession=e[4]),2048&n[0]&&(r.sessionStatus=e[11]),256&n[0]&&(r.isProcessing=e[8]),8192&n[0]&&(r.activeItaSubscriptions=e[13]),1024&n[0]&&(r.sessionError=e[10]),4096&n[0]&&(r.reconnecting=e[12]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}(e);function m(t){e[19](t)}function v(t){e[20](t)}let y={isDisabled:e[0]||e[12]};void 0!==e[3]&&(y.targetLang=e[3]),void 0!==e[9]&&(y.sourceLang=e[9]),r=new a$({props:y}),le.push((()=>Ne(r,"targetLang",m))),le.push((()=>Ne(r,"sourceLang",v))),r.$on("selectSourcetLang",e[21]);let _=e[6]&&g$(e),b=e[0]&&m$();l=new YL({props:{onInputChange:e[17],isDisabled:e[0]}}),l.$on("focus",e[18]);const S=[y$,v$],w=[];function T(e,t){return e[7]?0:1}return d=T(e),p=w[d]=S[d](e),{c(){t=P("div"),g&&g.c(),n=$(),Le(r.$$.fragment),a=$(),_&&_.c(),s=$(),b&&b.c(),c=$(),Le(l.$$.fragment),u=$(),p.c(),F(t,"class","translator-container svelte-1o4xy6w"),F(t,"data-testid",e[1])},m(e,o){C(e,t,o),g&&g.m(t,null),I(t,n),$e(r,t,null),I(t,a),_&&_.m(t,null),I(t,s),b&&b.m(t,null),I(t,c),$e(l,t,null),I(t,u),w[d].m(t,null),h=!0},p(e,n){f&&g.p(e,n);const a={};4097&n[0]&&(a.isDisabled=e[0]||e[12]),!o&&8&n[0]&&(o=!0,a.targetLang=e[3],ge((()=>o=!1))),!i&&512&n[0]&&(i=!0,a.sourceLang=e[9],ge((()=>i=!1))),r.$set(a),e[6]?_?(_.p(e,n),64&n[0]&&xe(_,1)):(_=g$(e),_.c(),xe(_,1),_.m(t,s)):_&&(Ae(),ke(_,1,1,(()=>{_=null})),Ie()),e[0]?b?1&n[0]&&xe(b,1):(b=m$(),b.c(),xe(b,1),b.m(t,c)):b&&(Ae(),ke(b,1,1,(()=>{b=null})),Ie());const u={};1&n[0]&&(u.isDisabled=e[0]),l.$set(u);let m=d;d=T(e),d===m?w[d].p(e,n):(Ae(),ke(w[m],1,1,(()=>{w[m]=null})),Ie(),p=w[d],p?p.p(e,n):(p=w[d]=S[d](e),p.c()),xe(p,1),p.m(t,null)),(!h||2&n[0])&&F(t,"data-testid",e[1])},i(e){h||(xe(g),xe(r.$$.fragment,e),xe(_),xe(b),xe(l.$$.fragment,e),xe(p),h=!0)},o(e){ke(g),ke(r.$$.fragment,e),ke(_),ke(b),ke(l.$$.fragment,e),ke(p),h=!1},d(e){e&&O(t),g&&g.d(),Me(r),_&&_.d(),b&&b.d(),Me(l),w[d].d()}}}function b$(e,t,n){let r,o,{isTranslateDisabled:i=!1}=t,{dataTestId:a=""}=t;const s=ae("Sentry"),c=ae("deepl_website_settings");u(e,c,(e=>n(31,r=e)));const l=ae("deepl_settings");let d,p,h,f,g,m,v;u(e,l,(e=>n(32,o=e)));let y,_,b,S,w,T,E,A,I=Vr(),x=!1,k=[],C=!1;async function O(){return p?"Connecting"!==p.connection?.state&&(!(!_&&S!==HN.Disconnected)&&(await N(),!0)):(await N(),!0)}async function R(){let e;try{e=await function(){return je(this,void 0,void 0,(function*(){const e=yield db();let t=e.access_token;if(t){const n=6e4;if(1e3*By(t).exp-Date.now()<n){const n="https://w.deepl.com/oidc/token";t=yield KI(e.refresh_token,n),yield lb(t,e.refresh_token,e.id_token)}}return t}))}(),w&&w(e)}catch(e){return n(6,g=oT),console.error(e),[null,e]}return[e,null]}function P(){for(const e of k)e.unsubscribe();n(13,k=[])}async function N(){if(!x){n(12,x=!0),n(10,_=void 0),n(6,g=void 0),n(7,m=void 0);try{const[e]=await R();P();const[t,i]=await CL({itaDocumentState:b,accessToken:e});if(i)throw n(12,x=!1),n(6,g=i.message),i;n(4,p=t.session),w=t.updateAccessToken,n(2,d=p.client);let a=[];a.push(d.document.targetTextField.content.subscribe((e=>{n(5,h=e)}))),a.push(d.document.sourceTextField.calculatedSourceLanguageProperty.language.subscribe((e=>{n(9,y=e?.toUpperCase())}))),a.push(p.error.subscribe((e=>{if(e instanceof YN){console.error(e),n(10,_=e);const t=_?.info?.detailCode?.value;(function(e){switch(e){case iT:case aT:case sT:case cT:case lT:case pT:case hT:case gT:case mT:case vT:case yT:case _T:case bT:case ST:case dT:case fT:return!0;default:return!1}})(t)&&(n(6,g=function(e,t=!1){switch(e){case aT:return Qw;case sT:return Zw;case iT:return Qw;case uT:return oT;default:return t?nT:rT}}(t)),z_({errorCode:t||e.name,errorMessage:e.message,domainName:r?.hostname,targetLang:I,websiteLanguage:y,trigger:lt,characterCount:h?.length})),Q_({itaSessionType:ur,itaSessionEventType:fr,itaErrorType:vr,itaErrorMessage:t||e.message})}s.captureException(e)}))),a.push(p.status.subscribe((e=>{n(11,S=e)}))),a.push(p.messages.subscribe((async e=>{if(!e)return;0===e.metaInfoMessage?.translatorTaskMetaInfo?.progressInPercent&&n(8,v=!0),100===e.metaInfoMessage?.translatorTaskMetaInfo?.progressInPercent&&n(8,v=!1);const t=e.appendMessage?.events[e.appendMessage.events.length-1];(t?(e=>{if(e.textChangeOperation)return VL;if(e.setPropertyOperation){if(qL in e.setPropertyOperation)return FL;if(BL in e.setPropertyOperation)return GL;if(WL in e.setPropertyOperation)return jL}})(t):void 0)&&(clearTimeout(E),E=setTimeout((()=>{!function(e){je(this,void 0,void 0,(function*(){return J_((t=>Object.assign(Object.assign({},t),{eventId:c_,translationRequestData:Object.assign(Object.assign(Object.assign(Object.assign({extensionVersion:"1.44.0",domainName:e.domainName,userId:e.installationId,translationTrigger:N_(e.trigger),translationData:{sourceLang:e.websiteLanguage,targetLang:e.targetLanguage,sourceLength:e.characterCount}},e.translationPerformance&&{translationPerformance:e.translationPerformance}),{nicheIntegration:M_(e.nicheIntegration||Un)}),e.glossaryTrackingInfo&&{isGlossaryEnabled:e.glossaryTrackingInfo.isGlossaryEnabled,isGlossaryShared:e.glossaryTrackingInfo.isGlossaryShared,didGlossaryChangeTranslation:e.glossaryTrackingInfo.didGlossaryChangeTranslation,isAutoTermbase:e.glossaryTrackingInfo.isAutoTermbase}),e.isIta&&{isIta:e.isIta})})))}))}({installationId:o.installationId,trigger:lt,websiteLanguage:y,targetLanguage:I,characterCount:f?.length,domainName:r?.hostname,isIta:!0,glossaryTrackingInfo:{isGlossaryEnabled:!!A?.glossaryId,isGlossaryShared:!!A?.isShared,isAutoTermbase:!!A?.isAutoTermbase,didGlossaryChangeTranslation:C}}),je(void 0,void 0,void 0,(function*(){const{successfulSidepanelTranslations:e,isSidePanelSurveyVisible:t,sidePanelSurveyHasBeenDisplayed:n}=yield sb(["successfulSidepanelTranslations","isSidePanelSurveyVisible","sidePanelSurveyHasBeenDisplayed"]);if(n)return;const[r,o]=HL(t,e);r===t&&o===e||(yield chrome.storage.sync.set({successfulSidepanelTranslations:o,isSidePanelSurveyVisible:r}))}))}),3e3))}))),a.push(d.document.targetTextField.glossaryReplacementAnnotations.annotations.subscribe((e=>{C=e.length>0}))),n(13,k=[...a]),p.connection.onclose(P),A=await UL(),await DL(d,A?.glossaryId)}catch(e){n(6,g=e.message),n(10,_=e),z_({errorCode:e.name,errorMessage:e.message,domainName:r?.hostname,targetLang:I,websiteLanguage:y,trigger:lt,characterCount:h?.length})}n(12,x=!1)}}async function L(e){(e.accountId?.oldValue||e.accountId?.newValue)&&N(),d&&(e.isGlossaryEnabled?.oldValue!==e.isGlossaryEnabled?.newValue||e.activeTermbaseId?.newValue)&&(A=await UL(),await DL(d,A?.glossaryId))}ne((()=>{chrome.storage.onChanged.addListener(L),N(),window.addEventListener("online",(()=>{N()})),window.addEventListener("offline",(()=>{n(6,g=Sy)}))})),re((()=>{p&&p.close(),chrome.storage.onChanged.removeListener(L),clearTimeout(T)}));return e.$$set=e=>{"isTranslateDisabled"in e&&n(0,i=e.isTranslateDisabled),"dataTestId"in e&&n(1,a=e.dataTestId)},e.$$.update=()=>{12&e.$$.dirty[0]&&I&&d&&O().then((()=>{d.updateRequestedTargetLanguage(Br(I))}))},[i,a,d,I,p,h,g,m,v,y,_,S,x,k,c,l,O,async function(e){n(7,m="");try{await OL({sourceTexts:[e]})}catch(e){return void n(7,m=e.name)}f=e,d&&d.updateSourceText(f),clearTimeout(T),T=setTimeout((async()=>{!function(){if(!d||!d.document)return;try{b=d.document.serialize()}catch(e){console.error(e)}}(),await R(),await O()}),1e3)},async function(){await R(),await O()},function(e){I=e,n(3,I)},function(e){y=e,n(9,y)},()=>{O(),d.updateRequestedSourceLanguage(Br(y))},()=>n(6,g=""),()=>n(7,m="")]}class S$ extends Ve{constructor(e){super(),Ue(this,e,b$,_$,a,{isTranslateDisabled:0,dataTestId:1},null,[-1,-1])}}function w$(t){let n,r,o,i,a,s,c,l;return{c(){n=P("div"),r=P("div"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=$(),i=P("div"),a=P("p"),s=P("strong"),s.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,c=$(),l=P("p"),l.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,F(r,"class","icon svelte-16jsbww"),F(i,"class","text svelte-16jsbww"),F(n,"class","container svelte-16jsbww"),F(n,"data-testid","login-required-policy-message")},m(e,t){C(e,n,t),I(n,r),I(n,o),I(n,i),I(i,a),I(a,s),I(i,c),I(i,l)},p:e,i:e,o:e,d(e){e&&O(n)}}}class T$ extends Ve{constructor(e){super(),Ue(this,e,null,w$,a,{})}}function E$(t){let n,r,i,a,s,c,l,u,d,p,h;return{c(){n=P("div"),r=P("button"),i=$(),a=P("span"),a.textContent=`${chrome.i18n.getMessage("sidepanel_survey_header")}`,s=$(),c=P("span"),c.textContent=`${chrome.i18n.getMessage("sidepanel_survey_content")}`,l=$(),u=P("div"),d=P("button"),d.textContent=`${chrome.i18n.getMessage("sidepanel_survey_call_to_action")}`,F(r,"class","close-button svelte-4h2mjo"),F(r,"data-testid","close"),F(a,"class","header-text svelte-4h2mjo"),F(c,"class","content-text svelte-4h2mjo"),F(d,"data-testid","open_survey"),F(d,"class","svelte-4h2mjo"),F(u,"class","call-to-action svelte-4h2mjo"),F(n,"class","dl-survey-link svelte-4h2mjo")},m(e,o){C(e,n,o),I(n,r),I(n,i),I(n,a),I(n,s),I(n,c),I(n,l),I(n,u),I(u,d),p||(h=[D(r,"click",t[1]),D(d,"click",t[2])],p=!0)},p:e,i:e,o:e,d(e){e&&O(n),p=!1,o(h)}}}function A$(e,t,n){let r;var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};const i=ae("deepl_settings");u(e,i,(e=>n(3,r=e)));const a=()=>{v(i,r.isSidePanelSurveyVisible=!1,r),v(i,r.sidePanelSurveyHasBeenDisplayed=!0,r)};return[i,a,()=>o(void 0,void 0,void 0,(function*(){Cr({action:xr.dlExternalURLRedirect,payload:{destination:r_}}),a()}))]}class I$ extends Ve{constructor(e){super(),Ue(this,e,A$,E$,a,{})}}function x$(t){let n,r,o;return r=new T$({}),{c(){n=P("div"),Le(r.$$.fragment),F(n,"class","admin-info svelte-1kwuhj")},m(e,t){C(e,n,t),$e(r,n,null),o=!0},p:e,i(e){o||(xe(r.$$.fragment,e),o=!0)},o(e){ke(r.$$.fragment,e),o=!1},d(e){e&&O(n),Me(r)}}}function k$(e){let t,n,r,o=e[1]&&C$();return n=new S$({props:{isTranslateDisabled:e[6],dataTestId:"side-panel-translator"}}),{c(){o&&o.c(),t=$(),Le(n.$$.fragment)},m(e,i){o&&o.m(e,i),C(e,t,i),$e(n,e,i),r=!0},p(e,r){e[1]?o?2&r&&xe(o,1):(o=C$(),o.c(),xe(o,1),o.m(t.parentNode,t)):o&&(Ae(),ke(o,1,1,(()=>{o=null})),Ie());const i={};64&r&&(i.isTranslateDisabled=e[6]),n.$set(i)},i(e){r||(xe(o),xe(n.$$.fragment,e),r=!0)},o(e){ke(o),ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),o&&o.d(e),Me(n,e)}}}function C$(e){let t,n,r;return n=new gI({props:{useAdvancedToolTip:!0}}),{c(){t=P("div"),Le(n.$$.fragment),F(t,"class","fpt-container svelte-1kwuhj"),F(t,"data-testid","fpt-container")},m(e,o){C(e,t,o),$e(n,t,null),r=!0},i(e){r||(xe(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&O(t),Me(n)}}}function O$(e){let t,n,r,o,i;const a=[k$,x$],s=[];function c(e,t){return e[0]?1:0}return r=c(e),o=s[r]=a[r](e),{c(){t=P("div"),n=P("div"),o.c(),F(n,"class","content-container svelte-1kwuhj"),F(t,"class","main-content svelte-1kwuhj"),F(t,"slot","main-content")},m(e,o){C(e,t,o),I(t,n),s[r].m(n,null),i=!0},p(e,t){let i=r;r=c(e),r===i?s[r].p(e,t):(Ae(),ke(s[i],1,1,(()=>{s[i]=null})),Ie(),o=s[r],o?o.p(e,t):(o=s[r]=a[r](e),o.c()),xe(o,1),o.m(n,null))},i(e){i||(xe(o),i=!0)},o(e){ke(o),i=!1},d(e){e&&O(t),s[r].d()}}}function R$(e){let t,n;return t=new I$({}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function P$(e){let t,n,r,o,i,a,s,c;r=new vx({props:{noBorder:!0,dataTestId:"side-panel-glossary"}}),a=new SI({props:{selectedTab:Yn,noBorder:!0,dataTestId:"side-panel-icon-toggle"}});let l=e[2]&&R$();return{c(){t=P("div"),n=P("div"),Le(r.$$.fragment),o=$(),i=P("div"),Le(a.$$.fragment),s=$(),l&&l.c(),F(n,"class","footer-section svelte-1kwuhj"),F(i,"class","footer-section svelte-1kwuhj"),F(t,"slot","footer")},m(e,u){C(e,t,u),I(t,n),$e(r,n,null),I(t,o),I(t,i),$e(a,i,null),I(t,s),l&&l.m(t,null),c=!0},p(e,n){e[2]?l?4&n&&xe(l,1):(l=R$(),l.c(),xe(l,1),l.m(t,null)):l&&(Ae(),ke(l,1,1,(()=>{l=null})),Ie())},i(e){c||(xe(r.$$.fragment,e),xe(a.$$.fragment,e),xe(l),c=!0)},o(e){ke(r.$$.fragment,e),ke(a.$$.fragment,e),ke(l),c=!1},d(e){e&&O(t),Me(r),Me(a),l&&l.d()}}}function N$(e){let t,n;return t=new tS({props:{isLoggedIn:e[3],showUpgradeButton:e[4],isProTranslator:e[5],$$slots:{footer:[P$],"main-content":[O$]},$$scope:{ctx:e}}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,[n]){const r={};8&n&&(r.isLoggedIn=e[3]),16&n&&(r.showUpgradeButton=e[4]),32&n&&(r.isProTranslator=e[5]),199&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function L$(e,t,n){let{forceLogin:r=!1}=t,{showFPTWidget:o=!1}=t,{showSurveyLink:i=!1}=t,{isLoggedIn:a=!1}=t,{showUpgradeButton:s=!1}=t,{isProTranslator:c=!1}=t,{isTranslateDisabled:l=!1}=t;return e.$$set=e=>{"forceLogin"in e&&n(0,r=e.forceLogin),"showFPTWidget"in e&&n(1,o=e.showFPTWidget),"showSurveyLink"in e&&n(2,i=e.showSurveyLink),"isLoggedIn"in e&&n(3,a=e.isLoggedIn),"showUpgradeButton"in e&&n(4,s=e.showUpgradeButton),"isProTranslator"in e&&n(5,c=e.isProTranslator),"isTranslateDisabled"in e&&n(6,l=e.isTranslateDisabled)},[r,o,i,a,s,c,l]}class $$ extends Ve{constructor(e){super(),Ue(this,e,L$,N$,a,{forceLogin:0,showFPTWidget:1,showSurveyLink:2,isLoggedIn:3,showUpgradeButton:4,isProTranslator:5,isTranslateDisabled:6})}}function M$(e){let t,n;return t=new $$({props:{forceLogin:e[0],showFPTWidget:e[6],showSurveyLink:e[5],isLoggedIn:e[3],showUpgradeButton:e[4],isProTranslator:e[2],isTranslateDisabled:e[1]}}),{c(){Le(t.$$.fragment)},m(e,r){$e(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.forceLogin=e[0]),64&n&&(r.showFPTWidget=e[6]),32&n&&(r.showSurveyLink=e[5]),8&n&&(r.isLoggedIn=e[3]),16&n&&(r.showUpgradeButton=e[4]),4&n&&(r.isProTranslator=e[2]),2&n&&(r.isTranslateDisabled=e[1]),t.$set(r)},i(e){n||(xe(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Me(t,e)}}}function D$(e,t,n){let r,o,i,a,s,c,l,d,p;u(e,Zr,(e=>n(10,d=e))),u(e,to,(e=>n(11,p=e)));let h,f,g,m,{Sentry:v}=t,y=!1;async function _(){try{await Rr(eo),n(8,h=!0)}catch(e){n(8,h=!1)}}return ie("deepl_settings",Zr),ie("deepl_website_settings",to),ie("Sentry",v),ne((()=>{f=()=>_(),chrome.tabs.onActivated.addListener(f),g=()=>_(),chrome.windows.onFocusChanged.addListener(g),m=(e,t)=>{"complete"===t.status&&_()},chrome.tabs.onUpdated.addListener(m),_(),Cr({action:Ar.dlTrackSidePanelOpened}),bb().then().catch((e=>{n(0,y=e.name===Dy)}))})),re((()=>{f&&chrome.tabs.onActivated.removeListener(f),g&&chrome.windows.onFocusChanged.removeListener(g),m&&chrome.tabs.onUpdated.removeListener(m)})),e.$$set=e=>{"Sentry"in e&&n(7,v=e.Sentry)},e.$$.update=()=>{2048&e.$$.dirty&&n(9,r=p&&p.isValidUrlForPopup),3840&e.$$.dirty&&n(6,o=p&&d&&io(d,Xn.TRANSLATOR)&&r&&h),1024&e.$$.dirty&&n(5,i=d&&d.isSidePanelSurveyVisible&&!d.sidePanelSurveyHasBeenDisplayed),1024&e.$$.dirty&&n(4,a=d.isLoggedIn&&(!io(d,Xn.TRANSLATOR)||!io(d,Xn.WRITE))),1024&e.$$.dirty&&n(3,s=d.isLoggedIn),1024&e.$$.dirty&&n(2,c=io(d,Xn.TRANSLATOR)),1024&e.$$.dirty&&n(1,l=((e,t)=>oo(e,t)===Zn)(d,Xn.TRANSLATOR))},[y,l,c,s,a,i,o,v,h,r,d,p]}const U$=(zr()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";yy(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";yy(t)&&e.preventDefault()}))),hp({..._y}),by(vy),vy);U$.setContext("appContext",{location:"side_panel"});return new class extends Ve{constructor(e){super(),Ue(this,e,D$,M$,a,{Sentry:7})}}({target:document.body,props:{Sentry:U$}})}();
//# sourceMappingURL=sidePanel.js.map
