var content=function(e){"use strict";function t(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))}function n(e,t,n,o){if("a"===n&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?o:"a"===n?o.call(e):o?o.value:t.get(e)}function o(e,t,n,o,i){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?i.call(e,n):i?i.value=n:t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError;const i=[{langCode:"AR",langCodeForSpeech:"ar-AR",langCodeForIta:"ar"},{langCode:"BG",langCodeForSpeech:"bg-BG",langCodeForIta:"bg"},{langCode:"CS",langCodeForSpeech:"cs-CZ",langCodeForIta:"cs"},{langCode:"DA",langCodeForSpeech:"da-DK",langCodeForIta:"da"},{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0,langCodeForIta:"de"},{langCode:"EL",langCodeForSpeech:"el-GR",langCodeForIta:"el"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-GB"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male",langCodeForIta:"en-US"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google espa√±ol",label:"ES",supportsFormality:!0,langCodeForIta:"es"},{langCode:"ET",langCodeForSpeech:"et",langCodeForIta:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu",langCodeForIta:"fi"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0,langCodeForIta:"fr"},{langCode:"HU",langCodeForSpeech:"hu-HU",langCodeForIta:"hu"},{langCode:"ID",langCodeForSpeech:"id-ID",langCodeForIta:"id"},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0,langCodeForIta:"it"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0,langCodeForIta:"ja"},{langCode:"KO",langCodeForSpeech:"ko-KR",langCodeForIta:"ko"},{langCode:"LT",langCodeForSpeech:"lt",langCodeForIta:"lt"},{langCode:"LV",langCodeForSpeech:"lv",langCodeForIta:"lv"},{langCode:"NB",langCodeForSpeech:"nb-NO",langCodeForIta:"nb"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0,langCodeForIta:"nl"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0,langCodeForIta:"pl"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-BR"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0,langCodeForIta:"pt-PT"},{langCode:"RO",langCodeForSpeech:"ro-RO",langCodeForIta:"ro"},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0,langCodeForIta:"ru"},{langCode:"SK",langCodeForSpeech:"sk-SK",langCodeForIta:"sk"},{langCode:"SL",langCodeForSpeech:"sl",langCodeForIta:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE",langCodeForIta:"sv"},{langCode:"TR",langCodeForSpeech:"tr-TR",langCodeForIta:"tr"},{langCode:"UK",langCodeForSpeech:"uk-UA",langCodeForIta:"uk"},{langCode:"ZH",langCodeForSpeech:"zh-CN",langCodeForIta:"zh-Hans"},{langCode:"ZH-HANT",langCodeForSpeech:"zh-HANT",langCodeForIta:"zh-Hant"}],s=[{langCode:"EN",langCodeForIta:"en"},{langCode:"PT",langCodeForIta:"pt"}],r=["EN-GB","EN-US","EN","DE","FR","ES","PT-PT","PT-BR","PT","IT"],a=["pt-BR","pt-PT","en-GB","en-US","de","fr","it","es"],l=["ES","FR","IT","PT","PT-BR","PT-PT"],c=1,d=2,u={none:"",ongoingTranslation:"ONGOING_TRANSLATION",isTranslationComplete:"IS_TRANLSATION_COMPLETE",showOriginal:"SHOW_ORIGINAL",ongoingAutoDetection:"ON_GOING_AUTODETECTION",anonymousUserMaxCharExceeded:"ANONYMOUS_USER_MAX_CHAR_EXCEEDED"},p="",m="ONGOING_WRITE",g=1,h=2,f="inline",_="automatic",v="manual",w="input",T=1,b=2,y=3,E=1500,$=5e3,x=2e3,S=2e3,C=1,L=3,k=4,A=1,I=2,M=3,O=1,R=2,N=1,D=2,P={deepl_inline_ui:{z_index:2147483650}},U="HINT_KEYBOARD_SHORTCUT",G="INPUT_TRANSLATION",H="INLINE_TRANSLATION",B="FULL_PAGE_TRANSLATION",z="ACCOUNT_SUCCESSFULLY_CREATED",W="SUCCESSFULLY_LOGGED_IN",j="GSLIDES_WARNING_TO_AVOID_ASSET_LOSS",F="SHOW_ADS_FOR_MS_ADDINS",q="NOTIFICATION_TYPE_REQUIRE_LOGIN_POLICY",V={green_theme:"green_theme",warning_theme:"warning_theme",ads_theme:"ads_theme"},Z="INLINE_TRANSLATION_TRIGGER_ICON",Y="INLINE_TRANSLATION_SETTINGS_ICON",X="INLINE_TRANSLATION_SETTING_POPUP",K="INPUT_TRANSLATION_SETTING_USE_ADVANCED_WINDOW",Q="INPUT_TRANSLATION_TRIGGER_ICON",J="INPUT_IMPROVE_TRIGGER_ICON",ee="INPUT_TRANSLATION_SETTINGS_ICON",te="INPUT_TRANSLATION_SETTING_POPUP",ne="SETTINGS_PAGE_FPT",oe="SETTINGS_PAGE_READING",ie="SETTINGS_PAGE_WRITING",se="SETTINGS_PAGE_INTEGRATIONS",re="FPT_HIDE_MODAL",ae="INPUT_TRANSLATION_READ_MORE_LINK",le="INLINE_TRANSLATION_READ_MORE_LINK",ce="FPT_TRANSLATION_READ_MORE_LINK",de="EXTENSION_HUB_TOGGLE_SWITCH",ue="HUB_CUSTOMIZE_SHORTCUT",pe="HUB_LOGIN_BUTTON",me="HUB_UPGRADE_TO_PRO_LINK",ge="HUB_TRY_PRO_LINK",he="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",fe="HUB_FPT_ENABLE_CHECKBOX",_e="HUB_FPT_DISABLE_CHECKBOX",ve="DEEPL_WRITE_ICON",we="gmailOnboardingPopup",Te="gmailOnboardingIcon",be="gmailCharLimitLogin",ye="gmailFeedbackSurvey",Ee="HUB_VIEW_INTEGRATIONS",$e="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",xe="GSLIDES_FEEDBACK_SURVEY",Se="GSLIDES_CHAR_LIMIT_LOGIN",Ce="ZENDESK_TRY_PRO_LINK",Le="ONBOARDING_SIGN_UP",ke="ONBOARDING_SKIP_SIGN_UP",Ae="ONBOARDING_LOGIN_LINK",Ie="ONBOARDING_SEE_ALL_INTEGRATIONS",Me="ICON_TOGGLE_IN_HUB_TRANSLATOR",Oe="ICON_TOGGLE_IN_HUB_WRITE",Re="MANAGE_ICON_SETTINGS",Ne="WRITE_LANGUAGE_SWITCHED_IN_HUB",De="WRITE_LANGUAGE_SWITCHED_IN_SETTINGS",Pe="SIDE_PANEL_ICON_ON_WEBSITE",Ue="HUB_ONBOARDING_LINK",Ge="INLINE_SELECTION_TRANSLATE_ICON",He="INLINE_SELECTION__WRITE_ICON",Be="INPUT_SELECTION_TRANSLATE_ICON",ze="INPUT_SELECTION__WRITE_ICON",We="INLINE_SELECTION_TRIGGER_OFF_ICON",je="INPUT_SELECTION_TRIGGER_OFF_ICON",Fe="SIDE_PANEL_LOGIN_BUTTON",qe="SIDE_PANEL_SETTINGS_BUTTON",Ve="SIDE_PANEL_LOGOUT_BUTTON",Ze="SIDE_PANEL_UPGRADE_BUTTON",Ye="SIDE_PANEL_TRANSLATOR_TAB",Xe="SIDE_PANEL_TRANSLATOR_TARGET_LANG",Ke="SIDE_PANEL_TRANSLATOR_SOURCE_LANG",Qe="SIDE_PANEL_TRANSLATION_DIR_INDICATOR",Je="SIDE_PANEL_SOURCE_TEXT_FIELD",et="SIDE_PANEL_TARGET_TEXT_FIELD",tt="REVIEW_WINDOW_CLOSE_ICON",nt="REVIEW_WINDOW_TRANSLATE_ALTERNATIVES",ot="REVIEW_WINDOW_WRITE_ALTERNATIVES",it="trigger-translation",st="CLICK_ON_SHORTCUT_NOTIFICATION",rt="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",at="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",lt="CLICK_ON_LOGOUT_MENU_ENTRY",ct="DISABLE_PER_SITE",dt="DISABLE_EVERYWHERE",ut="INPUT_TRANSLATION",pt="INLINE_TRANSLATION",mt=1,gt=2,ht=0,ft=1,_t=2,vt=3,wt=4,Tt="cofdbpoegempjloogbagkncekinflcnj",bt="fancfknaplihpclbhbpclnmmjcjanbaf",yt="ocpdpnakdghopjcifldjidbdmfobmmoi",Et="firefox-extension@deepl.com",$t={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},xt={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},St={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},Ct={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",gmail:"GMAIL",gslides:"GSLIDES",customer_segmentation:"CUSTOMER_SEGMENTATION",arabic_survey:"ARABIC_SURVEY"},Lt=1,kt=2,At=3,It={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES",linkedIn:"LINKEDIN",youtube:"YOUTUBE"},Mt="source",Ot="target",Rt={translate:"translate",write:"write"},Nt=["script","style"],Dt=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],Pt="OPEN_TICKET",Ut="DETECT_TICKET_LANGUAGE",Gt="SWITCH_TICKET_LANGUAGE",Ht="ENABLE_AUTOTRANSLATE",Bt="DISABLE_AUTOTRANSLATE",zt="TRANSLATE_MESSAGE",Wt="TRANSLATE_INPUT",jt="ERROR",Ft="TICKET",qt="LIVE_CHAT",Vt=50,Zt={TRANSLATOR:"TRANSLATOR",WRITE:"WRITE",API:"API",DOC_TRANSLATOR:"DOC_TRANSLATOR"},Yt="free",Xt="pro",Kt="none",Qt="TEXT_REFINEMENT_REQUEST",Jt="GDOCS_INSERT_COPY",en="GDOCS_DISCARD_COPY",tn="GDOCS_CHAR_LIMIT_REACHED",nn="RESULT_ACCEPTED",on="RESULT_REVERTED",sn="ERROR",rn="RESULT_ACCEPTED",an="RESULT_REVERTED",ln="ALTERNATIVES_OPENED",cn="SEGMENTATION_SELECTED",dn="ALTERNATIVE_SELECTED",un="SHOWN",pn="CLICKED",mn="READING_VIEW_TRANSLATE",gn="COMPOSE_VIEW_TRANSLATE",hn="COMPOSE_VIEW_IMPROVE",fn="ANONYMOUS_USER_LIMIT_EXCEEDED",_n="FREE_ACCOUNT_LIMIT_EXCEEDED",vn="WRITE_ANONYMOUS_USER_LIMIT_EXCEEDED",wn="WRITE_FREE_ACCOUNT_LIMIT_EXCEEDED",Tn="PRO_TRIAL",bn="LOGIN",yn="SIGNUP",En="ANONYMOUS",$n="FREE",xn={WORD:"word",SENTENCE:"sentence"},Sn=["JA","ZH","ZH-HANT"],Cn="None",Ln="Pro",kn="Free",An="formal",In="informal",Mn="undefined",On=["simple","business","academic","casual"],Rn=["enthusiastic","friendly","confident","diplomatic"],Nn="inline",Dn="input",Pn="customization",Un="translation",Gn="improvement",Hn={dlRequestLogin:"dlRequestLogin",dlRequestLogout:"dlRequestLogout",dlGetUserState:"dlGetUserState",dlGetClientState:"dlGetClientState",dlManipulateGetClientState:"dlManipulateGetClientState",dlGetUsersCharacterLimit:"dlGetUsersCharacterLimit"},Bn={dlTextToSpeech:"dlTextToSpeech",dlGetSupportedVoices:"dlGetSupportedVoices",dlStopSpeech:"dlStopSpeech"},zn={dlSendNotification:"dlSendNotification"},Wn={dlTriggerImproveInline:"dlTriggerImproveInline",dlTriggerImproveInput:"dlTriggerImproveInput",dlRequestGDocsSentenceAlternatives:"dlRequestGDocsSentenceAlternatives",dlRequestGDocsWordAlternatives:"dlRequestGDocsWordAlternatives",dlRequestGDocsSentenceFromPartialTranslation:"dlRequestGDocsSentenceFromPartialTranslation",dlRequestAlternatives:"dlRequestAlternatives",dlRequestImproveWriting:"dlRequestImproveWriting"},jn={dlRequestGDocsSplitText:"dlRequestGDocsSplitText",dlSplitTextRequest:"dlSplitTextRequest"},Fn={dlCheckCommandShortcuts:"dlCheckCommandShortcuts",dlGetAppSettings:"dlGetAppSettings",dlUpdateAppSettings:"dlUpdateAppSettings"},qn={dlRequestHtmlTranslation:"dlRequestHtmlTranslation",dlRequestInlineTranslation:"dlRequestInlineTranslation",dlTriggerTranslateInline:"dlTriggerTranslateInline",dlTriggerTranslateInput:"dlTriggerTranslateInput",dlRequestInputTranslation:"dlRequestInputTranslation",dlRequestZendeskInputTranslation:"dlRequestZendeskInputTranslation",dlRequestGmailReceivedEmailTranslation:"dlRequestGmailReceivedEmailTranslation",dlRequestWhatsAppMessageTranslation:"dlRequestWhatsAppMessageTranslation",dlRequestTwitterTweetTranslation:"dlRequestTwitterTweetTranslation",dlRequestYouTubeTranslation:"dlRequestYouTubeTranslation",dlRequestLinkedInPostTranslation:"dlRequestLinkedInPostTranslation",dlRequestZendeskMessageTranslation:"dlRequestZendeskMessageTranslation",dlRequestWhatsAppMessagesTranslation:"dlRequestWhatsAppMessagesTranslation",dlRequestGDocsProcessContent:"dlRequestGDocsProcessContent",dlTranslatedInputTextNotSet:"dlTranslatedInputTextNotSet"},Vn={dlRequestTermbases:"dlRequestTermbases",dlGetDictionary:"dlGetDictionary"},Zn={dlTrackInlineSettingOpened:"dlTrackInlineSettingOpened",dlTrackPolicyLoginRequiredNotification:"dlTrackPolicyLoginRequiredNotification",dlTrackUpgradeNotificationAction:"dlTrackUpgradeNotificationAction",dlTrackLogoClickedEvent:"dlTrackLogoClickedEvent",dlTrackDetectLanguage:"dlTrackDetectLanguage",dlTrackSidePanelOpened:"dlTrackSidePanelOpened",dlTrackFormalitySelected:"dlTrackFormalitySelected",dlTrackWriteTextTonesChanged:"dlTrackWriteTextTonesChanged",dlTrackWriteTextStylesApplied:"dlTrackWriteTextStylesApplied",dlTrackWriteTextStylesChanged:"dlTrackWriteTextStylesChanged",dlTrackClicksOnAdsButton:"dlTrackClicksOnAdsButton",dlTrackIframeTranslationFailed:"dlTrackIframeTranslationFailed",dlTrackSeeAlternativesClicked:"dlTrackSeeAlternativesClicked",dlTrackAlternativeSelected:"dlTrackAlternativeSelected",dlTrackLanguageDetectionForTextProcessing:"dlTrackLanguageDetectionForTextProcessing",dlTrackUpgradeNotificationClosed:"dlTrackUpgradeNotificationClosed",dlTrackUpgradeNotificationIsDisplayed:"dlTrackUpgradeNotificationIsDisplayed",dlOnSuccessfulZendeskTranslation:"dlOnSuccessfulZendeskTranslation",dlTrackAlternativesEvent:"dlTrackAlternativesEvent",dlTrackGmailCharLimitReached:"dlTrackGmailCharLimitReached",dlTrackCustomizationEnabledEvent:"dlTrackCustomizationEnabledEvent",dlTrackTranslateAcceptOrRevertEvent:"dlTrackTranslateAcceptOrRevertEvent",dlTrackGDocsReplaceText:"dlTrackGDocsReplaceText",dlTrackLandingOnWebsite:"dlTrackLandingOnWebsite",dlTrackOnboardingOpenExternalLink:"dlTrackOnboardingOpenExternalLink",dlTrackOnboardingStepChange:"dlTrackOnboardingStepChange",dlTrackIconHover:"dlTrackIconHover",dlTrackVoiceOverStops:"dlTrackVoiceOverStops",dlTrackInlineListen:"dlTrackInlineListen",dlTrackInlineCopy:"dlTrackInlineCopy",dlTrackFptHide:"dlTrackFptHide",dlTrackInlineDragStart:"dlTrackInlineDragStart",dlTrackInlinePositionChange:"dlTrackInlinePositionChange",dlTrackRightClick:"dlTrackRightClick",dlTrackRecommendToAFriendClick:"dlTrackRecommendToAFriendClick",dlTrackDocTransClick:"dlTrackDocTransClick",dlTrackExtensionOpenedEvent:"dlTrackExtensionOpenedEvent",dlTrackInputTranslationInjection:"dlTrackInputTranslationInjection",dlTrackUseOfShortcut:"dlTrackUseOfShortcut",dlTrackUiAction:"dlTrackUiAction",dlTrackSettingChanged:"dlTrackSettingChanged",dlTrackOpenInputHighlighter:"dlTrackOpenInputHighlighter",dlTrackOpenInlineHighlighter:"dlTrackOpenInlineHighlighter",dlTrackCloseInputHighlighter:"dlTrackCloseInputHighlighter",dlTrackCloseInlineHighlighter:"dlTrackCloseInlineHighlighter",dlTrackDictionaryStatus:"dlTrackDictionaryStatus",dlTrackOpenDictionarySection:"dlTrackOpenDictionarySection",dlTrackDisabledDictionaryHover:"dlTrackDisabledDictionaryHover",dlTrackZendeskCustomizationEvent:"dlTrackZendeskCustomizationEvent",dlTrackZendeskGlossaryOpened:"dlTrackZendeskGlossaryOpened",dlTrackGlossaryEnabled:"dlTrackGlossaryEnabled",dlTrackGlossaryDisabled:"dlTrackGlossaryDisabled",dlTrackDeeplWriteEvent:"dlTrackDeeplWriteEvent",dlTrackLingueeErrorData:"dlTrackLingueeErrorData",dlTrackGdocsMaxCharExceededShown:"dlTrackGdocsMaxCharExceededShown",dlTrackGDocsMaxCharExceededTryProClicked:"dlTrackGDocsMaxCharExceededTryProClicked",dlTrackOnboardingModalShown:"dlTrackOnboardingModalShown",dlTrackUILocationClicked:"dlTrackUILocationClicked",dlTrackIframeTranslationSuccessful:"dlTrackIframeTranslationSuccessful",dlTrackReplaceInField:"dlTrackReplaceInField"},Yn={dlGetExperiments:"dlGetExperiments"},Xn={dlTestClassicAPI:"dlTestClassicAPI",dlOpenInternalPage:"dlOpenInternalPage",dlExternalURLRedirect:"dlExternalURLRedirect",newWebsiteState:"newWebsiteState"};function Kn(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&"object"==typeof e&&"error"in e&&n(e),t(e)}))}))}function Qn(e){return Kn(e)}function Jn(e,t){return Kn({action:zn.dlSendNotification,payload:{type:e,options:t}})}function eo(e){return t(this,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}))}const to="Unidentified service name supplied to getServiceType",no=(e,t)=>{if(!e)throw new Error("No settings supplied to getServiceType");if(!t||!Object.keys(Zt).includes(t))throw new Error(to);if(!e.isLoggedIn)return Yt;switch(t){case Zt.TRANSLATOR:return e.translatorServiceType;case Zt.WRITE:return e.writeServiceType;case Zt.API:return e.apiServiceType;case Zt.DOC_TRANSLATOR:return e.docTranslatorServiceType}throw new Error(to)},oo=(e,t)=>no(e,t)===Xt,io=(e,t)=>no(e,t)===Yt,so=(e,t)=>no(e,t)===Kt,ro=e=>!!e.isLoggedIn&&io(e,Zt.WRITE),ao=(e,t)=>!!e.isLoggedIn&&io(e,t),lo={chrome:"Chrome",edge:"Edge",brave:"Brave",firefox:"Firefox",opera:"Opera",safari:"Safari"};function co(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function uo(e,t){let n;try{switch(e){case lo.chrome:case lo.brave:n=t.split("Chrome/")[1].split(" ")[0];break;case lo.edge:n=t.split("Edg/")[1].split(" ")[0];break;case lo.firefox:n=t.split("Firefox/")[1].split(" ")[0];break;case lo.opera:n=t.split("OPR/")[1].split(" ")[0];break;case lo.safari:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&(null===navigator||void 0===navigator?void 0:navigator.userAgentData)&&function(e){return e===lo.chrome||e===lo.edge||e===lo.brave||e===lo.opera}(e)&&(n=po(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function po(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}const mo="unknown_user_agent",go="unknown_platform",ho="unknown_browser",fo="unknown_browser_version",_o="unknown_browser_language";function vo(){var e,t;const n=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||mo,o=(null===(e=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===e?void 0:e.platform)||(null===navigator||void 0===navigator?void 0:navigator.platform)||go;let i=ho,s=fo,r=(null===navigator||void 0===navigator?void 0:navigator.language)||_o;(null===(t=null===chrome||void 0===chrome?void 0:chrome.i18n)||void 0===t?void 0:t.getUILanguage)&&(r=chrome.i18n.getUILanguage());try{i=wo(n),s=uo(i,n)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:n,platform:o,browser:i,browserVersion:s,browserLang:r}}const wo=e=>{let t=ho;try{const n=e.match(/chrome|chromium|crios/i),o=e.match(/edg/i)||po(lo.edge),i=e.match(/firefox|fxios/i),s=e.match(/opr\//i)||po(lo.opera),r=e.match(/safari/i),a=po(lo.brave);n?(t=lo.chrome,o&&(t=lo.edge),s&&(t=lo.opera),a&&(t=lo.brave)):o?t=lo.edge:i?t=lo.firefox:s?t=lo.opera:r&&(t=lo.safari)}catch(e){console.error("Could not get the name of the brower",e)}return t};function To(){if({IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild)return{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.browserBuild.toLowerCase()===lo.firefox.toLowerCase();const e=chrome.runtime.getURL("");return vo().browser===lo.firefox||/moz-extension:\/\//gm.test(e)}const bo=()=>{const e=/(outlook\.office\.com|sharepoint\.com|microsoft.com|\.office.com)/,t=new URL(window.location.href);if(!e.test(t.origin))return!1;const n=t.origin.match(e);return!!n&&n[0]},{entries:yo,setPrototypeOf:Eo,isFrozen:$o,getPrototypeOf:xo,getOwnPropertyDescriptor:So}=Object;
/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */let{freeze:Co,seal:Lo,create:ko}=Object,{apply:Ao,construct:Io}="undefined"!=typeof Reflect&&Reflect;Co||(Co=function(e){return e}),Lo||(Lo=function(e){return e}),Ao||(Ao=function(e,t,n){return e.apply(t,n)}),Io||(Io=function(e,t){return new e(...t)});const Mo=Vo(Array.prototype.forEach),Oo=Vo(Array.prototype.lastIndexOf),Ro=Vo(Array.prototype.pop),No=Vo(Array.prototype.push),Do=Vo(Array.prototype.splice),Po=Vo(String.prototype.toLowerCase),Uo=Vo(String.prototype.toString),Go=Vo(String.prototype.match),Ho=Vo(String.prototype.replace),Bo=Vo(String.prototype.indexOf),zo=Vo(String.prototype.trim),Wo=Vo(Object.prototype.hasOwnProperty),jo=Vo(RegExp.prototype.test),Fo=(qo=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Io(qo,t)});var qo;function Vo(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return Ao(e,t,o)}}function Zo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Po;Eo&&Eo(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&($o(t)||(t[o]=e),i=e)}e[i]=!0}return e}function Yo(e){for(let t=0;t<e.length;t++){Wo(e,t)||(e[t]=null)}return e}function Xo(e){const t=ko(null);for(const[n,o]of yo(e)){Wo(e,n)&&(Array.isArray(o)?t[n]=Yo(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=Xo(o):t[n]=o)}return t}function Ko(e,t){for(;null!==e;){const n=So(e,t);if(n){if(n.get)return Vo(n.get);if("function"==typeof n.value)return Vo(n.value)}e=xo(e)}return function(){return null}}const Qo=Co(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jo=Co(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ei=Co(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ti=Co(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ni=Co(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oi=Co(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ii=Co(["#text"]),si=Co(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ri=Co(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ai=Co(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),li=Co(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ci=Lo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),di=Lo(/<%[\w\W]*|[\w\W]*%>/gm),ui=Lo(/\$\{[\w\W]*/gm),pi=Lo(/^data-[\-\w.\u00B7-\uFFFF]+$/),mi=Lo(/^aria-[\-\w]+$/),gi=Lo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),hi=Lo(/^(?:\w+script|data):/i),fi=Lo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),_i=Lo(/^html$/i),vi=Lo(/^[a-z][.\w]*(-[.\w]+)+$/i);var wi=Object.freeze({__proto__:null,ARIA_ATTR:mi,ATTR_WHITESPACE:fi,CUSTOM_ELEMENT:vi,DATA_ATTR:pi,DOCTYPE_NAME:_i,ERB_EXPR:di,IS_ALLOWED_URI:gi,IS_SCRIPT_OR_DATA:hi,MUSTACHE_EXPR:ci,TMPLIT_EXPR:ui});const Ti=1,bi=3,yi=7,Ei=8,$i=9,xi=function(){return"undefined"==typeof window?null:window};var Si=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xi();const n=t=>e(t);if(n.version="3.2.4",n.removed=[],!t||!t.document||t.document.nodeType!==$i||!t.Element)return n.isSupported=!1,n;let{document:o}=t;const i=o,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:d,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:g}=t,h=c.prototype,f=Ko(h,"cloneNode"),_=Ko(h,"remove"),v=Ko(h,"nextSibling"),w=Ko(h,"childNodes"),T=Ko(h,"parentNode");if("function"==typeof a){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let b,y="";const{implementation:E,createNodeIterator:$,createDocumentFragment:x,getElementsByTagName:S}=o,{importNode:C}=i;let L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof yo&&"function"==typeof T&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:k,ERB_EXPR:A,TMPLIT_EXPR:I,DATA_ATTR:M,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:D}=wi;let{IS_ALLOWED_URI:P}=wi,U=null;const G=Zo({},[...Qo,...Jo,...ei,...ni,...ii]);let H=null;const B=Zo({},[...si,...ri,...ai,...li]);let z=Object.seal(ko(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,j=null,F=!0,q=!0,V=!1,Z=!0,Y=!1,X=!0,K=!1,Q=!1,J=!1,ee=!1,te=!1,ne=!1,oe=!0,ie=!1,se=!0,re=!1,ae={},le=null;const ce=Zo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let de=null;const ue=Zo({},["audio","video","img","source","image","track"]);let pe=null;const me=Zo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ge="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",fe="http://www.w3.org/1999/xhtml";let _e=fe,ve=!1,we=null;const Te=Zo({},[ge,he,fe],Uo);let be=Zo({},["mi","mo","mn","ms","mtext"]),ye=Zo({},["annotation-xml"]);const Ee=Zo({},["title","style","font","a","script"]);let $e=null;const xe=["application/xhtml+xml","text/html"];let Se=null,Ce=null;const Le=o.createElement("form"),ke=function(e){return e instanceof RegExp||e instanceof Function},Ae=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=Xo(e),$e=-1===xe.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Se="application/xhtml+xml"===$e?Uo:Po,U=Wo(e,"ALLOWED_TAGS")?Zo({},e.ALLOWED_TAGS,Se):G,H=Wo(e,"ALLOWED_ATTR")?Zo({},e.ALLOWED_ATTR,Se):B,we=Wo(e,"ALLOWED_NAMESPACES")?Zo({},e.ALLOWED_NAMESPACES,Uo):Te,pe=Wo(e,"ADD_URI_SAFE_ATTR")?Zo(Xo(me),e.ADD_URI_SAFE_ATTR,Se):me,de=Wo(e,"ADD_DATA_URI_TAGS")?Zo(Xo(ue),e.ADD_DATA_URI_TAGS,Se):ue,le=Wo(e,"FORBID_CONTENTS")?Zo({},e.FORBID_CONTENTS,Se):ce,W=Wo(e,"FORBID_TAGS")?Zo({},e.FORBID_TAGS,Se):{},j=Wo(e,"FORBID_ATTR")?Zo({},e.FORBID_ATTR,Se):{},ae=!!Wo(e,"USE_PROFILES")&&e.USE_PROFILES,F=!1!==e.ALLOW_ARIA_ATTR,q=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Z=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,K=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,ne=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,oe=!1!==e.SANITIZE_DOM,ie=e.SANITIZE_NAMED_PROPS||!1,se=!1!==e.KEEP_CONTENT,re=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||gi,_e=e.NAMESPACE||fe,be=e.MATHML_TEXT_INTEGRATION_POINTS||be,ye=e.HTML_INTEGRATION_POINTS||ye,z=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ke(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(z.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ke(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(z.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(z.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(q=!1),te&&(ee=!0),ae&&(U=Zo({},ii),H=[],!0===ae.html&&(Zo(U,Qo),Zo(H,si)),!0===ae.svg&&(Zo(U,Jo),Zo(H,ri),Zo(H,li)),!0===ae.svgFilters&&(Zo(U,ei),Zo(H,ri),Zo(H,li)),!0===ae.mathMl&&(Zo(U,ni),Zo(H,ai),Zo(H,li))),e.ADD_TAGS&&(U===G&&(U=Xo(U)),Zo(U,e.ADD_TAGS,Se)),e.ADD_ATTR&&(H===B&&(H=Xo(H)),Zo(H,e.ADD_ATTR,Se)),e.ADD_URI_SAFE_ATTR&&Zo(pe,e.ADD_URI_SAFE_ATTR,Se),e.FORBID_CONTENTS&&(le===ce&&(le=Xo(le)),Zo(le,e.FORBID_CONTENTS,Se)),se&&(U["#text"]=!0),K&&Zo(U,["html","head","body"]),U.table&&(Zo(U,["tbody"]),delete W.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Fo('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Fo('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');b=e.TRUSTED_TYPES_POLICY,y=b.createHTML("")}else void 0===b&&(b=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}}(g,s)),null!==b&&"string"==typeof y&&(y=b.createHTML(""));Co&&Co(e),Ce=e}},Ie=Zo({},[...Jo,...ei,...ti]),Me=Zo({},[...ni,...oi]),Oe=function(e){No(n.removed,{element:e});try{T(e).removeChild(e)}catch(t){_(e)}},Re=function(e,t){try{No(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){No(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ee||te)try{Oe(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Ne=function(e){let t=null,n=null;if(J)e="<remove></remove>"+e;else{const t=Go(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===$e&&_e===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=b?b.createHTML(e):e;if(_e===fe)try{t=(new m).parseFromString(i,$e)}catch(e){}if(!t||!t.documentElement){t=E.createDocument(_e,"template",null);try{t.documentElement.innerHTML=ve?y:i}catch(e){}}const s=t.body||t.documentElement;return e&&n&&s.insertBefore(o.createTextNode(n),s.childNodes[0]||null),_e===fe?S.call(t,K?"html":"body")[0]:K?t.documentElement:s},De=function(e){return $.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},Pe=function(e){return e instanceof p&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof u)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Ue=function(e){return"function"==typeof l&&e instanceof l};function Ge(e,t,o){Mo(e,(e=>{e.call(n,t,o,Ce)}))}const He=function(e){let t=null;if(Ge(L.beforeSanitizeElements,e,null),Pe(e))return Oe(e),!0;const o=Se(e.nodeName);if(Ge(L.uponSanitizeElement,e,{tagName:o,allowedTags:U}),e.hasChildNodes()&&!Ue(e.firstElementChild)&&jo(/<[/\w]/g,e.innerHTML)&&jo(/<[/\w]/g,e.textContent))return Oe(e),!0;if(e.nodeType===yi)return Oe(e),!0;if(X&&e.nodeType===Ei&&jo(/<[/\w]/g,e.data))return Oe(e),!0;if(!U[o]||W[o]){if(!W[o]&&ze(o)){if(z.tagNameCheck instanceof RegExp&&jo(z.tagNameCheck,o))return!1;if(z.tagNameCheck instanceof Function&&z.tagNameCheck(o))return!1}if(se&&!le[o]){const t=T(e)||e.parentNode,n=w(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=f(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,v(e))}}}return Oe(e),!0}return e instanceof c&&!function(e){let t=T(e);t&&t.tagName||(t={namespaceURI:_e,tagName:"template"});const n=Po(e.tagName),o=Po(t.tagName);return!!we[e.namespaceURI]&&(e.namespaceURI===he?t.namespaceURI===fe?"svg"===n:t.namespaceURI===ge?"svg"===n&&("annotation-xml"===o||be[o]):Boolean(Ie[n]):e.namespaceURI===ge?t.namespaceURI===fe?"math"===n:t.namespaceURI===he?"math"===n&&ye[o]:Boolean(Me[n]):e.namespaceURI===fe?!(t.namespaceURI===he&&!ye[o])&&!(t.namespaceURI===ge&&!be[o])&&!Me[n]&&(Ee[n]||!Ie[n]):!("application/xhtml+xml"!==$e||!we[e.namespaceURI]))}(e)?(Oe(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!jo(/<\/no(script|embed|frames)/i,e.innerHTML)?(Y&&e.nodeType===bi&&(t=e.textContent,Mo([k,A,I],(e=>{t=Ho(t,e," ")})),e.textContent!==t&&(No(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ge(L.afterSanitizeElements,e,null),!1):(Oe(e),!0)},Be=function(e,t,n){if(oe&&("id"===t||"name"===t)&&(n in o||n in Le))return!1;if(q&&!j[t]&&jo(M,t));else if(F&&jo(O,t));else if(!H[t]||j[t]){if(!(ze(e)&&(z.tagNameCheck instanceof RegExp&&jo(z.tagNameCheck,e)||z.tagNameCheck instanceof Function&&z.tagNameCheck(e))&&(z.attributeNameCheck instanceof RegExp&&jo(z.attributeNameCheck,t)||z.attributeNameCheck instanceof Function&&z.attributeNameCheck(t))||"is"===t&&z.allowCustomizedBuiltInElements&&(z.tagNameCheck instanceof RegExp&&jo(z.tagNameCheck,n)||z.tagNameCheck instanceof Function&&z.tagNameCheck(n))))return!1}else if(pe[t]);else if(jo(P,Ho(n,N,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Bo(n,"data:")||!de[e]){if(V&&!jo(R,Ho(n,N,"")));else if(n)return!1}else;return!0},ze=function(e){return"annotation-xml"!==e&&Go(e,D)},We=function(e){Ge(L.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Pe(e))return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let i=t.length;for(;i--;){const s=t[i],{name:r,namespaceURI:a,value:l}=s,c=Se(r);let d="value"===r?l:zo(l);if(o.attrName=c,o.attrValue=d,o.keepAttr=!0,o.forceKeepAttr=void 0,Ge(L.uponSanitizeAttribute,e,o),d=o.attrValue,!ie||"id"!==c&&"name"!==c||(Re(r,e),d="user-content-"+d),X&&jo(/((--!?|])>)|<\/(style|title)/i,d)){Re(r,e);continue}if(o.forceKeepAttr)continue;if(Re(r,e),!o.keepAttr)continue;if(!Z&&jo(/\/>/i,d)){Re(r,e);continue}Y&&Mo([k,A,I],(e=>{d=Ho(d,e," ")}));const u=Se(e.nodeName);if(Be(u,c,d)){if(b&&"object"==typeof g&&"function"==typeof g.getAttributeType)if(a);else switch(g.getAttributeType(u,c)){case"TrustedHTML":d=b.createHTML(d);break;case"TrustedScriptURL":d=b.createScriptURL(d)}try{a?e.setAttributeNS(a,r,d):e.setAttribute(r,d),Pe(e)?Oe(e):Ro(n.removed)}catch(e){}}}Ge(L.afterSanitizeAttributes,e,null)},je=function e(t){let n=null;const o=De(t);for(Ge(L.beforeSanitizeShadowDOM,t,null);n=o.nextNode();)Ge(L.uponSanitizeShadowNode,n,null),He(n),We(n),n.content instanceof r&&e(n.content);Ge(L.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,s=null,a=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ue(e)){if("function"!=typeof e.toString)throw Fo("toString is not a function");if("string"!=typeof(e=e.toString()))throw Fo("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ae(t),n.removed=[],"string"==typeof e&&(re=!1),re){if(e.nodeName){const t=Se(e.nodeName);if(!U[t]||W[t])throw Fo("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)o=Ne("\x3c!----\x3e"),s=o.ownerDocument.importNode(e,!0),s.nodeType===Ti&&"BODY"===s.nodeName||"HTML"===s.nodeName?o=s:o.appendChild(s);else{if(!ee&&!Y&&!K&&-1===e.indexOf("<"))return b&&ne?b.createHTML(e):e;if(o=Ne(e),!o)return ee?null:ne?y:""}o&&J&&Oe(o.firstChild);const d=De(re?e:o);for(;a=d.nextNode();)He(a),We(a),a.content instanceof r&&je(a.content);if(re)return e;if(ee){if(te)for(c=x.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return(H.shadowroot||H.shadowrootmode)&&(c=C.call(i,c,!0)),c}let u=K?o.outerHTML:o.innerHTML;return K&&U["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&jo(_i,o.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+u),Y&&Mo([k,A,I],(e=>{u=Ho(u,e," ")})),b&&ne?b.createHTML(u):u},n.setConfig=function(){Ae(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ce=null,Q=!1},n.isValidAttribute=function(e,t,n){Ce||Ae({});const o=Se(e),i=Se(t);return Be(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&No(L[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=Oo(L[e],t);return-1===n?void 0:Do(L[e],n,1)[0]}return Ro(L[e])},n.removeHooks=function(e){L[e]=[]},n.removeAllHooks=function(){L={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();const Ci=(e,t={})=>Si.sanitize(e,{USE_PROFILES:{html:!0},...t}),Li=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"docs.google.com"===e.hostname&&"/document/"===e.pathname.slice(0,10)},ki=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},Ai=()=>{const{iFrame:e,editable:t}=ki();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},Ii=()=>{const{iFrame:e,editable:t}=ki();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":Ci(t.innerHTML),text:o?"":t.innerText}},Mi=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,selectedTop:o,selectedBottom:r,selectedRight:n.width-s,selectedLeft:i+window.scrollX,selectedWidth:l,height:a}},Oi=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,i=40,s=t.getBoundingClientRect();let r=!1;const a={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);a.left=t.left,a.top=n?n+20:0,a.top+o/2<s.top+10&&(a.top=s.top+10),a.top-o/2>s.bottom&&(r=!0)}catch(e){if(n){const e=n.getBoundingClientRect();a.left=e.right-i/2,a.top=s.top+30}}return a.left+i/2>s.right&&(r=!0),{shouldBeOutOfViewport:r,newPosition:a}},Ri=()=>!!document.querySelector("#docs-toolbar-wrapper"),Ni=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let s="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),s+=`<${n}>`}})),s+=t}const r=[],a=s.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=Di(e);return r.push(i),{isTranslatable:t,index:r.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:r,entities:i,contentReference:a,originalObject:n,originalText:o.dsl_spacers}},Di=e=>{const{leadingEntities:t,processedLine:n}=Pi(e),{trailingEntities:o,processedLine:i}=Ui(n);return{leading:t,trailing:o,processedLine:i}},Pi=e=>{let t="",n="",o="",i=!0;for(const s of e){if(i){const e=o[o.length-1];if("<"===s&&0===o.length){o="<";continue}if(">"===s&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===s&&o.length>0&&"<"===e){o+="a";continue}if(s.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=s;continue}if(Gi(s)&&0===o.length){t+=s;continue}i=!1,o=""}n+=s}return{processedLine:n,leadingEntities:t}},Ui=e=>{let t="",n="",o="",i=!0;for(const s of e.split("").reverse()){if(i){if(">"===s&&0===o.length){o=">";continue}if("<"===s&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===s&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(s.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=s+o;continue}if(Gi(s)&&0===o.length){t=s+t;continue}i=!1,o=""}n=s+n}return{processedLine:n,trailingEntities:t}},Gi=e=>[16,17,18,28].includes(e.charCodeAt(0)),Hi=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${Array.isArray(e[t.index])?e[t.index].join(""):e[t.index]}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let i="",s=[],r=0,a=0;for(;r+a<o.length;){const e=r+a;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){a+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));s.push({...e,new_position:r});continue}}i+=o[e],r++}return{processedText:i,processedEntities:s}},Bi=e=>e.replace(/<(\/)?a(\d+)>/g,""),zi=e=>{const{characterMappings:t,cleanSentence:n}=ji(e),o=/[^\s.,:;!?"()*ÔΩüÔΩ†ÔΩ°ÔΩ¢ÔΩ£ÔΩ§ÔΩ•„ÄÅ„ÄÇ„Äà„Äâ„Ää„Äã„Äå„Äç„Äé„Äè„Äê„Äë„Äî„Äï„Äñ„Äó„Äò„Äô„Äö„Äõ„Äù„Äû„Äü „Ä™ „Ä´ „Ä¨ „Ä≠]/,i=[];let s="",r=0,a=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==a&&s.length>0&&(i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),s=""),a=c,s+=l,1===s.length&&(r=e)}return s&&i.push({text:s,isWord:a,offsetStart:r,offsetLength:s.length,offsetStartRaw:t[r],offsetLengthRaw:t[r+s.length]}),i},Wi=({entities:e,text:t,originalObject:n})=>{const o=Fi({entities:e,text:t,originalObject:n});qi(o)},ji=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let i=0;for(let e=0;e<o.length;e++){const s=o[e];if(!/^<a\d+>$/.test(s)){n+=s;for(let e=0;e<s.length;e++)t.push(i+e)}i+=s.length}return{characterMappings:t,cleanSentence:n}},Fi=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const s=[];for(let e=0;e<=i;e++)s.push(o[`${e}`]||null);return{...t,stsl_styles:s}})),s={...o.resolved,dsl_spacers:t,dsl_styleslices:i},r={...n,data:JSON.stringify({...o,resolved:s})};return JSON.stringify(r)},qi=e=>{const{editable:t}=ki();let n;const o="application/x-vnd.google-docs-document-slice-clip+wrapped";if(To())n=new ClipboardEvent("paste",{dataType:o,data:e});else{const t=new DataTransfer;t.setData(o,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};function Vi(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),i.map((e=>e.langCode)).includes(e))}const Zi=e=>e.substring(0,2).toUpperCase();function Yi(e){return t(this,arguments,void 0,(function*(e,t=!1){var n;let o="";const i=yield chrome.i18n.detectLanguage(e);return i&&(null===(n=i.languages)||void 0===n?void 0:n.length)>0&&(o=i.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t?{langCode:o,isReliable:i.isReliable,detectedLanguages:i.languages.sort(((e,t)=>t.percentage-e.percentage)).map((e=>({langCode:e.language.substr(0,2).toUpperCase(),percentage:e.percentage})))}:o}))}const Xi=()=>{let e,t,n=!1;return i.map((o=>{let i;return n=["EN-US","EN-GB","PT-PT","PT-BR","ZH-HANT"].includes(o.langCode),n&&(({optionLabel:e,selectedLabel:t}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};case"ZH-HANT":return{optionLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT"),selectedLabel:chrome.i18n.getMessage("supported_languages_ZH_HANT")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(o)),i=o.langCode.slice(0,2).toLowerCase()+o.langCode.slice(2)),{value:o.langCode,label:n?e:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),selectedOptionLabel:n?t:chrome.i18n.getMessage(`supported_languages_${o.langCode}`),regionalVariant:i}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))},Ki=()=>i.filter((e=>!["PT-BR","EN-US","ZH-HANT"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?Object.assign(Object.assign({},e),{langCode:"EN"}):"PT-PT"===e.langCode?Object.assign(Object.assign({},e),{langCode:"PT"}):e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())));function Qi(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function Ji(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}const es=e=>r.includes(null==e?void 0:e.substr(0,2).toUpperCase()),ts=e=>{const t=i.find((t=>t.langCode===e));return null==t?void 0:t.supportsFormality},ns=e=>{const t=e||chrome.i18n.getUILanguage();return["ar","he","fa","ur"].includes(t.toLowerCase().substr(0,2))?"rtl":"ltr"};function os(e){if("rtl"===e.dir)return!0;return"rtl"===window.getComputedStyle(e).direction}const is=()=>{const e="https://docs.google.com";return window.location.href.substr(0,23)===e&&!!document.querySelector("#sketchy-hidden-iframe")},ss=async()=>{const e=[],t=n=>{const o=[],i=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&i.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of i)t(e)},n=cs();if(n){t(n);const o=e.join("\n");return await Yi(o)}},rs=async()=>{const e=cs(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,i=t.right+2,s=t.bottom+2,r=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(r);for(let t=1;t<=10;t++){const r=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(i-n),clientY:o+t/10*(s-o)});e.dispatchEvent(r),await new Promise((e=>setTimeout(e,25)))}const a=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:i,clientY:s});e.dispatchEvent(a)}},as=e=>{const t=[],n=[];for(const n of e){const e=n[0],o=n[1];if(15===e){const e=n[4];if(""===e.trim())continue;if(t.find((e=>e.id===o)))continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:[]};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=ds(o);const{originalSentences:i,orphanModifiersIntegrityCheck:s}=ms(o);o.originalSentences=i,o.orphanModifiersIntegrityCheck=s;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},ls=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:i}=gs(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const s=hs(i,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let i=!1;if(fs(o,s)){const{start:e,end:t}=_s(o,s);t<=e?i=!0:(o[3]=e,o[4]=t)}else i=!0;i&&n.push(o)}},cs=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),ds=({originalContent:e,modifiers:t})=>{const n=ps(e);return us(t).filter((e=>!n.includes(e)))},us=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},ps=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},ms=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},i=e.split("\n").map((e=>{let i="";for(let s=0;s<e.length;s++){const r=n+s;if(t.includes(r)){const n=t.indexOf(r);/\s/.test(e[s])&&(o[`${n}`]=e[s]),i+=`<a${n}>`}i+=e[s]}return n+=e.length+1,i}));return{orphanModifiersIntegrityCheck:o,originalSentences:i}},gs=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const i={};let s=0;const r=o.replace(/<a\d+>/g,((t,r)=>{const a=t.match(/<a(\d+)>/);if(a){const l=a[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(i[`${d}`]=s+n+r-c*Object.keys(i).length);const u=o.charAt(r+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return s++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t={...t,...i},n+=r.length+1,r})).join("\n"),orphanModifiersMappingEquivalences:t}},hs=(e={},{originalContent:t,translatedContent:n})=>{const o=ps(t),i=ps(n),s={};for(let e=0;e<o.length;e++)s[`${o[e]}`]=i[e];return{...e,...s}},fs=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},_s=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},vs=[];for(let e=0;e<256;++e)vs.push((e+256).toString(16).slice(1));let ws;const Ts=new Uint8Array(16);var bs={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ys(e,t,n){if(bs.randomUUID&&!e)return bs.randomUUID();const o=(e=e||{}).random??e.rng?.()??function(){if(!ws){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ws=crypto.getRandomValues.bind(crypto)}return ws(Ts)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return(vs[e[t+0]]+vs[e[t+1]]+vs[e[t+2]]+vs[e[t+3]]+"-"+vs[e[t+4]]+vs[e[t+5]]+"-"+vs[e[t+6]]+vs[e[t+7]]+"-"+vs[e[t+8]]+vs[e[t+9]]+"-"+vs[e[t+10]]+vs[e[t+11]]+vs[e[t+12]]+vs[e[t+13]]+vs[e[t+14]]+vs[e[t+15]]).toLowerCase()}(o)}const Es=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function $s(){return crypto.randomUUID?crypto.randomUUID():ys()}const xs="production",Ss="development";function Cs(){return xs}function Ls(){return Cs()===Ss}function ks(){return Cs()===xs}const As=Object.prototype.toString;function Is(e){switch(As.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Bs(e,Error)}}function Ms(e,t){return As.call(e)===`[object ${t}]`}function Os(e){return Ms(e,"ErrorEvent")}function Rs(e){return Ms(e,"DOMError")}function Ns(e){return Ms(e,"String")}function Ds(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function Ps(e){return null===e||Ds(e)||"object"!=typeof e&&"function"!=typeof e}function Us(e){return Ms(e,"Object")}function Gs(e){return"undefined"!=typeof Event&&Bs(e,Event)}function Hs(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Bs(e,t){try{return e instanceof t}catch(e){return!1}}function zs(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}function Ws(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function js(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const o=e[t];try{zs(o)?n.push("[VueViewModel]"):n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Fs(e,t,n=!1){return!!Ns(e)&&(Ms(t,"RegExp")?t.test(e):!!Ns(t)&&(n?e===t:e.includes(t)))}function qs(e,t=[],n=!1){return t.some((t=>Fs(e,t,n)))}function Vs(e,t,n=250,o,i,s,r){if(!(s.exception&&s.exception.values&&r&&Bs(r.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var l,c;a&&(s.exception.values=(l=Zs(e,t,i,r.originalException,o,s.exception.values,a,0),c=n,l.map((e=>(e.value&&(e.value=Ws(e.value,c)),e)))))}function Zs(e,t,n,o,i,s,r,a){if(s.length>=n+1)return s;let l=[...s];if(Bs(o[i],Error)){Ys(r,a);const s=e(t,o[i]),c=l.length;Xs(s,i,c,a),l=Zs(e,t,n,o[i],i,[s,...l],s,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,s)=>{if(Bs(o,Error)){Ys(r,a);const c=e(t,o),d=l.length;Xs(c,`errors[${s}]`,d,a),l=Zs(e,t,n,o,i,[c,...l],c,d)}})),l}function Ys(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Xs(e,t,n,o){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:o}}function Ks(e){return e&&e.Math==Math?e:void 0}const Qs="object"==typeof globalThis&&Ks(globalThis)||"object"==typeof window&&Ks(window)||"object"==typeof self&&Ks(self)||"object"==typeof global&&Ks(global)||function(){return this}()||{};function Js(){return Qs}function er(e,t,n){const o=n||Qs,i=o.__SENTRY__=o.__SENTRY__||{};return i[e]||(i[e]=t())}const tr=Js();function nr(e,t={}){if(!e)return"<unknown>";try{let n=e;const o=5,i=[];let s=0,r=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,u=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&s++<o&&(c=or(n,d),!("html"===c||s>1&&r+i.length*l+c.length>=u));)i.push(c),r+=c.length,n=n.parentNode;return i.reverse().join(a)}catch(e){return"<unknown>"}}function or(e,t){const n=e,o=[];let i,s,r,a,l;if(!n||!n.tagName)return"";if(tr.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;o.push(n.tagName.toLowerCase());const c=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(c&&c.length)c.forEach((e=>{o.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&o.push(`#${n.id}`),i=n.className,i&&Ns(i))for(s=i.split(/\s+/),l=0;l<s.length;l++)o.push(`.${s[l]}`);const d=["aria-label","type","name","title","alt"];for(l=0;l<d.length;l++)r=d[l],a=n.getAttribute(r),a&&o.push(`[${r}="${a}"]`);return o.join("")}const ir="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,sr=["debug","info","warn","error","log","assert","trace"],rr={};function ar(e){if(!("console"in Qs))return e();const t=Qs.console,n={},o=Object.keys(rr);o.forEach((e=>{const o=rr[e];n[e]=t[e],t[e]=o}));try{return e()}finally{o.forEach((e=>{t[e]=n[e]}))}}const lr=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return ir?sr.forEach((n=>{t[n]=(...t)=>{e&&ar((()=>{Qs.console[n](`Sentry Logger [${n}]:`,...t)}))}})):sr.forEach((e=>{t[e]=()=>{}})),t}(),cr=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dr(e,t=!1){const{host:n,path:o,pass:i,port:s,projectId:r,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${o?`${o}/`:o}${r}`}function ur(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function pr(e){const t="string"==typeof e?function(e){const t=cr.exec(e);if(!t)return void ar((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,o,i="",s,r="",a]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const e=c.match(/^\d+/);e&&(c=e[0])}return ur({host:s,pass:i,path:l,projectId:c,port:r,protocol:n,publicKey:o})}(e):ur(e);if(t&&function(e){if(!ir)return!0;const{port:t,projectId:n,protocol:o}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(lr.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(o)?t&&isNaN(parseInt(t,10))&&(lr.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(lr.error(`Invalid Sentry Dsn: Invalid protocol ${o}`),1):(lr.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}class mr extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function gr(e,t,n){if(!(t in e))return;const o=e[t],i=n(o);"function"==typeof i&&fr(i,o),e[t]=i}function hr(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){ir&&lr.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function fr(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,hr(e,"__sentry_original__",t)}catch(e){}}function _r(e){return e.__sentry_original__}function vr(e){if(Is(e))return{message:e.message,name:e.name,stack:e.stack,...Tr(e)};if(Gs(e)){const t={type:e.type,target:wr(e.target),currentTarget:wr(e.currentTarget),...Tr(e)};return"undefined"!=typeof CustomEvent&&Bs(e,CustomEvent)&&(t.detail=e.detail),t}return e}function wr(e){try{return t=e,"undefined"!=typeof Element&&Bs(t,Element)?nr(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function Tr(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function br(e){return yr(e,new Map)}function yr(e,t){if(function(e){if(!Us(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const o={};t.set(e,o);for(const n of Object.keys(e))void 0!==e[n]&&(o[n]=yr(e[n],t));return o}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const o=[];return t.set(e,o),e.forEach((e=>{o.push(yr(e,t))})),o}return e}const Er=/\(error: (.*)\)/,$r=/captureMessage|captureException/;const xr="<anonymous>";function Sr(e){try{return e&&"function"==typeof e&&e.name||xr}catch(e){return xr}}const Cr={},Lr={};function kr(e,t){Cr[e]=Cr[e]||[],Cr[e].push(t)}function Ar(e,t){Lr[e]||(t(),Lr[e]=!0)}function Ir(e,t){const n=e&&Cr[e];if(n)for(const o of n)try{o(t)}catch(t){ir&&lr.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Sr(o)}\nError:`,t)}}function Mr(){"console"in Qs&&sr.forEach((function(e){e in Qs.console&&gr(Qs.console,e,(function(t){return rr[e]=t,function(...t){Ir("console",{args:t,level:e});const n=rr[e];n&&n.apply(Qs.console,t)}}))}))}function Or(){const e=Qs,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function Rr(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Nr(e){const{message:t,event_id:n}=e;if(t)return t;const o=Rr(e);return o?o.type&&o.value?`${o.type}: ${o.value}`:o.type||o.value||n||"<unknown>":n||"<unknown>"}function Dr(e,t,n){const o=e.exception=e.exception||{},i=o.values=o.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Pr(e,t){const n=Rr(e);if(!n)return;const o=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...o,...t},t&&"data"in t){const e={...o&&o.data,...t.data};n.mechanism.data=e}}function Ur(e){if(e&&e.__sentry_captured__)return!0;try{hr(e,"__sentry_captured__",!0)}catch(e){}return!1}const Gr=Qs;let Hr,Br,zr;function Wr(){if(!Gr.document)return;const e=Ir.bind(null,"dom"),t=jr(e,!0);Gr.document.addEventListener("click",t,!1),Gr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Gr[t]&&Gr[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(gr(n,"addEventListener",(function(t){return function(n,o,i){if("click"===n||"keypress"==n)try{const o=this,s=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},r=s[n]=s[n]||{refCount:0};if(!r.handler){const o=jr(e);r.handler=o,t.call(this,n,o,i)}r.refCount++}catch(e){}return t.call(this,n,o,i)}})),gr(n,"removeEventListener",(function(e){return function(t,n,o){if("click"===t||"keypress"==t)try{const n=this,i=n.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,o),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,o)}})))}))}function jr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const o=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,o))return;hr(n,"_sentryCaptured",!0),o&&!o._sentryId&&hr(o,"_sentryId",Or());const i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==Br)return!1;try{if(!e.target||e.target._sentryId!==zr)return!1}catch(e){}return!0}(n)){e({event:n,name:i,global:t}),Br=n.type,zr=o?o._sentryId:void 0}clearTimeout(Hr),Hr=Gr.setTimeout((()=>{zr=void 0,Br=void 0}),1e3)}}const Fr=Js();function qr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Vr(){if("string"==typeof EdgeRuntime)return!0;if(!function(){if(!("fetch"in Fr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}())return!1;if(qr(Fr.fetch))return!0;let e=!1;const t=Fr.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=qr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){ir&&lr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}function Zr(){Vr()&&gr(Qs,"fetch",(function(e){return function(...t){const{method:n,url:o}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:Xr(t),method:Yr(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:Xr(t),method:Yr(t,"method")?String(t.method).toUpperCase():"GET"}}(t),i={args:t,fetchData:{method:n,url:o},startTimestamp:Date.now()};return Ir("fetch",{...i}),e.apply(Qs,t).then((e=>(Ir("fetch",{...i,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Ir("fetch",{...i,endTimestamp:Date.now(),error:e}),e}))}}))}function Yr(e,t){return!!e&&"object"==typeof e&&!!e[t]}function Xr(e){return"string"==typeof e?e:e?Yr(e,"url")?e.url:e.toString?e.toString():"":""}let Kr=null;function Qr(){Kr=Qs.onerror,Qs.onerror=function(e,t,n,o,i){return Ir("error",{column:o,error:i,line:n,msg:e,url:t}),!(!Kr||Kr.__SENTRY_LOADER__)&&Kr.apply(this,arguments)},Qs.onerror.__SENTRY_INSTRUMENTED__=!0}let Jr=null;function ea(){Jr=Qs.onunhandledrejection,Qs.onunhandledrejection=function(e){return Ir("unhandledrejection",e),!(Jr&&!Jr.__SENTRY_LOADER__)||Jr.apply(this,arguments)},Qs.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const ta=Js();const na=Qs;let oa;function ia(){if(!function(){const e=ta.chrome,t=e&&e.app&&e.app.runtime,n="history"in ta&&!!ta.history.pushState&&!!ta.history.replaceState;return!t&&n}())return;const e=na.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=oa,t=String(n);oa=t;Ir("history",{from:e,to:t})}return e.apply(this,t)}}na.onpopstate=function(...t){const n=na.location.href,o=oa;oa=n;if(Ir("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},gr(na.history,"pushState",t),gr(na.history,"replaceState",t)}const sa=Qs,ra="__sentry_xhr_v3__";function aa(){if(!sa.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;gr(e,"open",(function(e){return function(...t){const n=Date.now(),o=Ns(t[0])?t[0].toUpperCase():void 0,i=function(e){if(Ns(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!o||!i)return e.apply(this,t);this[ra]={method:o,url:i,request_headers:{}},"POST"===o&&i.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[ra];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Ir("xhr",{args:[o,i],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?gr(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),gr(this,"setRequestHeader",(function(e){return function(...t){const[n,o]=t,i=this[ra];return i&&Ns(n)&&Ns(o)&&(i.request_headers[n.toLowerCase()]=o),e.apply(this,t)}})),e.apply(this,t)}})),gr(e,"send",(function(e){return function(...t){const n=this[ra];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Ir("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function la(e,t=100,n=1/0){try{return da("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function ca(e,t=3,n=102400){const o=la(e,t);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?ca(e,t-1,n):o;var i}function da(e,t,n=1/0,o=1/0,i=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[s,r]=i;if(null==t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(a=t)||a==a))return t;var a;const l=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(zs(t))return"[VueViewModel]";if(function(e){return Us(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t))return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Sr(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const n=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(e){return`**non-serializable** (${e})`}}(e,t);if(!l.startsWith("[object "))return l;if(t.__sentry_skip_normalization__)return t;const c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return l.replace("object ","");if(s(t))return"[Circular ~]";const d=t;if(d&&"function"==typeof d.toJSON)try{return da("",d.toJSON(),c-1,o,i)}catch(e){}const u=Array.isArray(t)?[]:{};let p=0;const m=vr(t);for(const e in m){if(!Object.prototype.hasOwnProperty.call(m,e))continue;if(p>=o){u[e]="[MaxProperties ~]";break}const t=m[e];u[e]=da(e,t,c-1,o,i),p++}return r(t),u}var ua;function pa(e){return new ga((t=>{t(e)}))}function ma(e){return new ga(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(ua||(ua={}));class ga{constructor(e){ga.prototype.__init.call(this),ga.prototype.__init2.call(this),ga.prototype.__init3.call(this),ga.prototype.__init4.call(this),this._state=ua.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new ga(((n,o)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){o(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){o(e)}else o(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new ga(((t,n)=>{let o,i;return this.then((t=>{i=!1,o=t,e&&e()}),(t=>{i=!0,o=t,e&&e()})).then((()=>{i?n(o):t(o)}))}))}__init(){this._resolve=e=>{this._setResult(ua.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(ua.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===ua.PENDING&&(Hs(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===ua.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===ua.RESOLVED&&e[1](this._value),this._state===ua.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function ha(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===e||t.length<e))return ma(new mr("Not adding Promise because buffer limit was reached."));const i=o();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new ga(((n,o)=>{let i=t.length;if(!i)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{pa(e).then((()=>{--i||(clearTimeout(s),n(!0))}),o)}))}))}}}function fa(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",o=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:o,relative:t[5]+n+o}}const _a=["fatal","error","warning","log","info","debug"];function va(e){return"warn"===e?"warning":_a.includes(e)?e:"log"}function wa(){return Date.now()/1e3}const Ta=function(){const{performance:e}=Qs;if(!e||!e.now)return wa;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/1e3}();function ba(e,t=[]){return[e,t]}function ya(e,t){const[n,o]=e;return[n,[...o,t]]}function Ea(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function $a(e,t){return(t||new TextEncoder).encode(e)}function xa(e,t){const[n,o]=e;let i=JSON.stringify(n);function s(e){"string"==typeof i?i="string"==typeof e?i+e:[$a(i,t),e]:i.push("string"==typeof e?$a(e,t):e)}for(const e of o){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(la(n))}s(e)}}return"string"==typeof i?i:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let o=0;for(const t of e)n.set(t,o),o+=t.length;return n}(i)}function Sa(e,t){const n="string"==typeof e.data?$a(e.data,t):e.data;return[br({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}(()=>{const{performance:e}=Qs;if(!e||!e.now)return;const t=36e5,n=e.now(),o=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=i<t,r=e.timing&&e.timing.navigationStart,a="number"==typeof r?Math.abs(r+n-o):t;(s||a<t)&&(i<=a&&e.timeOrigin)})();const Ca={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function La(e){return Ca[e]}function ka(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Aa(e,{statusCode:t,headers:n},o=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],r=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,s]=e.split(":",5),r=parseInt(t,10),a=1e3*(isNaN(r)?60:r);if(n)for(const e of n.split(";"))"metric_bucket"===e&&s&&!s.split(";").includes("custom")||(i[e]=o+a);else i.all=o+a}else r?i.all=o+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const o=Date.parse(`${e}`);return isNaN(o)?6e4:o-t}(r,o):429===t&&(i.all=o+6e4);return i}const Ia="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Ma="production";function Oa(){return er("globalEventProcessors",(()=>[]))}function Ra(e){Oa().push(e)}function Na(e,t,n,o=0){return new ga(((i,s)=>{const r=e[o];if(null===t||"function"!=typeof r)i(t);else{const a=r({...t},n);Ia&&r.id&&null===a&&lr.log(`Event processor "${r.id}" dropped event`),Hs(a)?a.then((t=>Na(e,t,n,o+1).then(i))).then(null,s):Na(e,a,n,o+1).then(i).then(null,s)}}))}function Da(e){const t=Ta(),n={sid:Or(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return br({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return Pa(n,e),n}function Pa(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ta(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Or()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ua(e){const{spanId:t,traceId:n}=e.spanContext(),{data:o,op:i,parent_span_id:s,status:r,tags:a,origin:l}=Ga(e);return br({data:o,op:i,parent_span_id:s,span_id:t,status:r,tags:a,trace_id:n,origin:l})}function Ga(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function Ha(e,t,n,o,i,s){const{normalizeDepth:r=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Or(),timestamp:t.timestamp||wa()},c=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:o,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Ma);void 0===e.release&&void 0!==o&&(e.release=o);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=Ws(e.message,s));const r=e.exception&&e.exception.values&&e.exception.values[0];r&&r.value&&(r.value=Ws(r.value,s));const a=e.request;a&&a.url&&(a.url=Ws(a.url,s))}(l,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(l,c),void 0===t.type&&function(e,t){const n=Qs._sentryDebugIds;if(!n)return;let o;const i=Ba.get(t);i?o=i:(o=new Map,Ba.set(t,o));const s=Object.keys(n).reduce(((e,i)=>{let s;const r=o.get(i);r?s=r:(s=t(i),o.set(i,s));for(let t=s.length-1;t>=0;t--){const o=s[t];if(o.filename){e[o.filename]=n[i];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}(l,e.stackParser);const d=function(e,t){if(!t)return e;const n=e?e.clone():new Qa;return n.update(t),n}(o,n.captureContext);n.mechanism&&Pr(l,n.mechanism);const u=i&&i.getEventProcessors?i.getEventProcessors():[],p=function(){Ka||(Ka=new Qa);return Ka}().getScopeData();if(s){Ya(p,s.getScopeData())}if(d){Ya(p,d.getScopeData())}const m=[...n.attachments||[],...p.attachments];m.length&&(n.attachments=m),Za(l,p);return Na([...u,...Oa(),...p.eventProcessors],l,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof r&&r>0?function(e,t,n){if(!e)return null;const o={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:la(e.data,t,n)}})))},...e.user&&{user:la(e.user,t,n)},...e.contexts&&{contexts:la(e.contexts,t,n)},...e.extra&&{extra:la(e.extra,t,n)}};e.contexts&&e.contexts.trace&&o.contexts&&(o.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(o.contexts.trace.data=la(e.contexts.trace.data,t,n)));e.spans&&(o.spans=e.spans.map((e=>{const o=Ga(e).data;return o&&(e.data=la(o,t,n)),e})));return o}(e,r,a):e)))}const Ba=new WeakMap;function za(e,t){return rl().captureEvent(e,t)}function Wa(e,t){rl().addBreadcrumb(e,t)}function ja(){return rl().getClient()}function Fa(e){return e.transaction}function qa(e,t,n){const o=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},r=br({environment:o.environment||Ma,release:o.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",r),r}function Va(e){const t=ja();if(!t)return{};const n=qa(Ga(e).trace_id||"",t,rl().getScope()),o=Fa(e);if(!o)return n;const i=o&&o._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:r}=o.metadata;null!=s&&(n.sample_rate=`${s}`);const a=Ga(o);return r&&"url"!==r&&(n.transaction=a.description),n.sampled=String(function(e){const{traceFlags:t}=e.spanContext();return Boolean(1&t)}(o)),t.emit&&t.emit("createDsc",n),n}function Za(e,t){const{fingerprint:n,span:o,breadcrumbs:i,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,transactionName:a}=t,l=br(n);l&&Object.keys(l).length&&(e.extra={...l,...e.extra});const c=br(o);c&&Object.keys(c).length&&(e.tags={...c,...e.tags});const d=br(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const u=br(s);u&&Object.keys(u).length&&(e.contexts={...u,...e.contexts});r&&(e.level=r);a&&(e.transaction=a)}(e,t),o&&function(e,t){e.contexts={trace:Ua(t),...e.contexts};const n=Fa(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Va(t),...e.sdkProcessingMetadata};const o=Ga(n).description;o&&(e.tags={transaction:o,...e.tags})}}(e,o),function(e,t){e.fingerprint=e.fingerprint?function(e){return Array.isArray(e)?e:[e]}(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,s)}function Ya(e,t){const{extra:n,tags:o,user:i,contexts:s,level:r,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:u,propagationContext:p,transactionName:m,span:g}=t;Xa(e,"extra",n),Xa(e,"tags",o),Xa(e,"user",i),Xa(e,"contexts",s),Xa(e,"sdkProcessingMetadata",a),r&&(e.level=r),m&&(e.transactionName=m),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),u.length&&(e.attachments=[...e.attachments,...u]),e.propagationContext={...e.propagationContext,...p}}function Xa(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[t][o]=n[o])}}let Ka;class Qa{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Ja()}static clone(e){return e?e.clone():new Qa}clone(){const e=new Qa;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Pa(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof Qa){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Us(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Ja(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const o={timestamp:wa(),...e},i=this._breadcrumbs;return i.push(o),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:o,_extra:i,_user:s,_level:r,_fingerprint:a,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:d,_transactionName:u,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:o,extra:i,user:s,level:r,fingerprint:a||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:d,transactionName:u,span:p}}applyToEvent(e,t={},n=[]){Za(e,this.getScopeData());return Na([...n,...Oa(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:Or();if(!this._client)return lr.warn("No client configured on scope - will not capture exception!"),n;const o=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:o,...t,event_id:n},this),n}captureMessage(e,t,n){const o=n&&n.event_id?n.event_id:Or();if(!this._client)return lr.warn("No client configured on scope - will not capture message!"),o;const i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o},this),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Or();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(lr.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function Ja(){return{traceId:Or(),spanId:Or().substring(16)}}const el="7.120.3",tl=parseFloat(el),nl=100;class ol{constructor(e,t,n,o=tl){let i,s;this._version=o,t?i=t:(i=new Qa,i.setClient(e)),n?s=n:(s=new Qa,s.setClient(e)),this._stack=[{scope:i}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return Hs(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:Or(),o=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:o,...t,event_id:n}),n}captureMessage(e,t,n){const o=this._lastEventId=n&&n.event_id?n.event_id:Or(),i=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:o}),o}captureEvent(e,t){const n=t&&t.event_id?t.event_id:Or();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:o}=this.getStackTop();if(!o)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=nl}=o.getOptions&&o.getOptions()||{};if(s<=0)return;const r={timestamp:wa(),...e},a=i?ar((()=>i(r,t))):r;null!==a&&(o.emit&&o.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=sl(this);try{e(this)}finally{sl(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Ia&&lr.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(Ia&&!n){this.getClient()?lr.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):lr.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&function(e){let t={};"ok"===e.status&&(t={status:"exited"}),Pa(e,t)}(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:o,environment:i=Ma}=n&&n.getOptions()||{},{userAgent:s}=Qs.navigator||{},r=Da({release:o,environment:i,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&Pa(a,{status:"exited"}),this.endSession(),t.setSession(r),r}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=il().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);Ia&&lr.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function il(){return Qs.__SENTRY__=Qs.__SENTRY__||{extensions:{},hub:void 0},Qs}function sl(e){const t=il(),n=al(t);return ll(t,e),n}function rl(){const e=il();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return function(e=il()){t=e,t&&t.__SENTRY__&&t.__SENTRY__.hub&&!al(e).isOlderThan(tl)||ll(e,new ol);var t;return al(e)}(e)}function al(e){return er("hub",(()=>new ol),e)}function ll(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}function cl(e,t,n,o){const i=ka(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const r=function(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:dr(o)},...i&&{trace:br({...i})}}}(e,i,o,t);delete e.sdkProcessingMetadata;return ba(r,[[{type:s},e]])}function dl(e,t){return n={sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}const ul=[];function pl(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function ml(e,t,n){if(n[t.name])Ia&&lr.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===ul.indexOf(t.name)&&(t.setupOnce(Ra,rl),ul.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,o)=>n(t,o,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),o=Object.assign(((t,o)=>n(t,o,e)),{id:t.name});e.addEventProcessor(o)}Ia&&lr.log(`Integration installed: ${t.name}`)}}function gl(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function hl(e,t,n,o){const i={sent_at:(new Date).toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(i.dsn=dr(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),o=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${o}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return ba(i,[s])}const fl="Not capturing exception because it's already been captured.";class _l{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=pr(e.dsn):Ia&&lr.warn("No DSN provided, client will not send events."),this._dsn){const t=function(e,t={}){const n="string"==typeof t?t:t.tunnel,o="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${function(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}(e)}${e.projectId}/envelope/`}(e)}?${dl(e,o)}`}(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(Ur(e))return void(Ia&&lr.log(fl));let o=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{o=e}))),o}captureMessage(e,t,n,o){let i=n&&n.event_id;const s=Ds(e)?e:String(e),r=Ps(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(r.then((e=>this._captureEvent(e,n,o))).then((e=>{i=e}))),i}captureEvent(e,t,n){if(t&&t.originalException&&Ur(t.originalException))return void(Ia&&lr.log(fl));let o=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{o=e}))),o}captureSession(e){"string"!=typeof e.release?Ia&&lr.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Pa(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):pa(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return Ia&&lr.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];ml(this,e,this._integrations),t||pl(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=cl(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=ya(n,Sa(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const o=this._sendEnvelope(n);o&&o.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const i=ka(n);return ba({sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!o&&t&&{dsn:dr(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const o="number"==typeof n?n:1,i=`${e}:${t}`;Ia&&lr.log(`Recording outcome: "${i}"${o>1?` (${o} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+o}}captureAggregateMetrics(e){Ia&&lr.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=hl(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&ml(e,t,n)})),n}(this,e),pl(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,o=!1;const i=t.exception&&t.exception.values;if(i){o=!0;for(const e of i){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(Pa(e,{...n&&{status:"crashed"},errors:e.errors||Number(o||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new ga((t=>{let n=0;const o=setInterval((()=>{0==this._numProcessing?(clearInterval(o),t(!0)):(n+=1,e&&n>=e&&(clearInterval(o),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,o=function(){return rl().getIsolationScope()}()){const i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),Ha(i,e,t,n,this,o).then((e=>{if(null===e)return e;const t={...o.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:o,spanId:i,parentSpanId:s,dsc:r}=t;e.contexts={trace:{trace_id:o,span_id:i,parent_span_id:s},...e.contexts};const a=r||qa(o,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Ia){const t=e;"log"===t.logLevel?lr.log(t.message):lr.warn(t)}}))}_processEvent(e,t,n){const o=this.getOptions(),{sampleRate:i}=o,s=wl(e),r=vl(e),a=e.type||"error",l=`before send for type \`${a}\``;if(r&&"number"==typeof i&&Math.random()>i)return this.recordDroppedEvent("sample_rate","error",e),ma(new mr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));const c="replay_event"===a?"replay":a,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",c,e),new mr("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const i=function(e,t,n){const{beforeSend:o,beforeSendTransaction:i}=e;if(vl(t)&&o)return o(t,n);if(wl(t)&&i){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return i(t,n)}return t}(o,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Hs(e))return e.then((e=>{if(!Us(e)&&null!==e)throw new mr(n);return e}),(e=>{throw new mr(`${t} rejected with ${e}`)}));if(!Us(e)&&null!==e)throw new mr(n);return e}(i,l)})).then((o=>{if(null===o){if(this.recordDroppedEvent("before_send",c,e),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new mr(`${l} returned \`null\`, will not send event.`,"log")}const i=n&&n.getSession();if(!s&&i&&this._updateSessionFromEvent(i,o),s){const e=(o.sdkProcessingMetadata&&o.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const r=o.transaction_info;if(s&&r&&o.transaction!==e.transaction){const e="custom";o.transaction_info={...r,source:e}}return this.sendEvent(o,t),o})).then(null,(e=>{if(e instanceof mr)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new mr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{Ia&&lr.error("Error while sending event:",e)}));Ia&&lr.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,o]=t.split(":");return{reason:n,category:o,quantity:e[t]}}))}}function vl(e){return void 0===e.type}function wl(e){return"transaction"===e.type}function Tl(e,t,n=ha(e.bufferSize||30)){let o={};function i(i){const s=[];if(Ea(i,((t,n)=>{const i=La(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(o,i)){const o=bl(t,n);e.recordDroppedEvent("ratelimit_backoff",i,o)}else s.push(t)})),0===s.length)return pa();const r=ba(i[0],s),a=t=>{Ea(r,((n,o)=>{const i=bl(n,o);e.recordDroppedEvent(t,La(o),i)}))};return n.add((()=>t({body:xa(r,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Ia&&lr.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),o=Aa(o,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof mr)return Ia&&lr.error("Skipped sending event because buffer is full."),a("queue_overflow"),pa();throw e}))}return i.__sentry__baseTransport__=!0,{send:i,flush:e=>n.drain(e)}}function bl(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}const yl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],El=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],$l="InboundFilters",xl=(e={})=>({name:$l,setupOnce(){},processEvent(t,n,o){const i=o.getOptions(),s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:yl],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:El],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Ia&&lr.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Nr(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));Ia&&0===t.length&&lr.error(`Could not extract message for event ${Nr(e)}`);return t}(e).some((e=>qs(e,t)))}(e,t.ignoreErrors))return Ia&&lr.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Nr(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&qs(n,t)}(e,t.ignoreTransactions))return Ia&&lr.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Nr(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=Sl(e);return!!n&&qs(n,t)}(e,t.denyUrls))return Ia&&lr.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Nr(e)}.\nUrl: ${Sl(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=Sl(e);return!n||qs(n,t)}(e,t.allowUrls))return Ia&&lr.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Nr(e)}.\nUrl: ${Sl(e)}`),!0;return!1}(t,s)?null:t}});function Sl(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Ia&&lr.error(`Cannot extract url for event ${Nr(e)}`),null}}let Cl;gl($l,xl);const Ll="FunctionToString",kl=new WeakMap,Al=()=>({name:Ll,setupOnce(){Cl=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=_r(this),n=kl.has(ja())&&void 0!==t?t:this;return Cl.apply(n,e)}}catch(e){}},setup(e){kl.set(e,!0)}});gl(Ll,Al);const Il=Qs;let Ml=0;function Ol(){return Ml>0}function Rl(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(_r(e))return e}catch(t){return e}const o=function(){const n=Array.prototype.slice.call(arguments);try{const o=n.map((e=>Rl(e,t)));return e.apply(this,o)}catch(e){throw Ml++,setTimeout((()=>{Ml--})),function(...e){const t=rl();if(2===e.length){const[n,o]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,o(n)))):t.withScope(o)}t.withScope(e[0])}((o=>{var i;o.addEventProcessor((e=>(t.mechanism&&(Dr(e,void 0),Pr(e,t.mechanism)),e.extra={...e.extra,arguments:n},e))),i=e,rl().captureException(i,void 0)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(e){}fr(o,e),hr(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(e){}return o}const Nl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Dl(e,t){const n=Ul(e,t),o={type:t&&t.name,value:Hl(t)};return n.length&&(o.stacktrace={frames:n}),void 0===o.type&&""===o.value&&(o.value="Unrecoverable error caught"),o}function Pl(e,t){return{exception:{values:[Dl(e,t)]}}}function Ul(e,t){const n=t.stacktrace||t.stack||"",o=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Gl.test(e.message))return 1}return 0}(t);try{return e(n,o)}catch(e){}return[]}const Gl=/Minified React error #\d+;/i;function Hl(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Bl(e,t,n,o,i){let s;if(Os(t)&&t.error){return Pl(e,t.error)}if(Rs(t)||Ms(t,"DOMException")){const i=t;if("stack"in t)s=Pl(e,t);else{const t=i.name||(Rs(i)?"DOMError":"DOMException"),r=i.message?`${t}: ${i.message}`:t;s=zl(e,r,n,o),Dr(s,r)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}if(Is(t))return Pl(e,t);if(Us(t)||Gs(t)){return s=function(e,t,n,o){const i=ja(),s=i&&i.getOptions().normalizeDepth,r={exception:{values:[{type:Gs(t)?t.constructor.name:o?"UnhandledRejection":"Error",value:Wl(t,{isUnhandledRejection:o})}]},extra:{__serialized__:ca(t,s)}};if(n){const t=Ul(e,n);t.length&&(r.exception.values[0].stacktrace={frames:t})}return r}(e,t,n,i),Pr(s,{synthetic:!0}),s}return s=zl(e,t,n,o),Dr(s,`${t}`),Pr(s,{synthetic:!0}),s}function zl(e,t,n,o){const i={};if(o&&n){const o=Ul(e,n);o.length&&(i.exception={values:[{value:t,stacktrace:{frames:o}}]})}if(Ds(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return i.logentry={message:e,params:n},i}return i.message=t,i}function Wl(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(vr(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ws(n[0],t);for(let e=n.length;e>0;e--){const o=n.slice(0,e).join(", ");if(!(o.length>t))return e===n.length?o:Ws(o,t)}return""}(e),o=t?"promise rejection":"exception";if(Os(e))return`Event \`ErrorEvent\` captured as ${o} with message \`${e.message}\``;if(Gs(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${o}`}return`Object captured as ${o} with keys: ${n}`}class jl extends _l{constructor(e){!function(e,t,n=[t],o="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:el}))),version:el}),e._metadata=i}(e,"browser",["browser"],Il.SENTRY_SDK_SOURCE||"npm"),super(e),e.sendClientReports&&Il.document&&Il.document.addEventListener("visibilitychange",(()=>{"hidden"===Il.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return function(e,t,n,o){const i=Bl(e,t,n&&n.syntheticException||void 0,o);return Pr(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),pa(i)}(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return function(e,t,n="info",o,i){const s=zl(e,t,o&&o.syntheticException||void 0,i);return s.level=n,o&&o.event_id&&(s.event_id=o.event_id),pa(s)}(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(Nl&&lr.warn("SDK not enabled, will not capture user feedback."));const t=function(e,{metadata:t,tunnel:n,dsn:o}){const i={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:dr(o)}},s=function(e){return[{type:"user_report"},e]}(e);return ba(i,[s])}(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(Nl&&lr.log("No outcomes to send"));if(!this._dsn)return void(Nl&&lr.log("No dsn provided, will not send outcomes"));Nl&&lr.log("Sending outcomes:",e);const t=(n=e,ba((o=this._options.tunnel&&dr(this._dsn))?{dsn:o}:{},[[{type:"client_report"},{timestamp:wa(),discarded_events:n}]]));var n,o;this._sendEnvelope(t)}}let Fl;function ql(e,t=function(){if(Fl)return Fl;if(qr(Il.fetch))return Fl=Il.fetch.bind(Il);const e=Il.document;let t=Il.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const o=n.contentWindow;o&&o.fetch&&(t=o.fetch),e.head.removeChild(n)}catch(e){Nl&&lr.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return Fl=t.bind(Il)}()){let n=0,o=0;return Tl(e,(function(i){const s=i.body.length;n+=s,o++;const r={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&o<15,...e.fetchOptions};try{return t(e.url,r).then((e=>(n-=s,o--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return Fl=void 0,n-=s,o--,ma(e)}}))}const Vl="?";function Zl(e,t,n,o){const i={filename:e,function:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==o&&(i.colno=o),i}const Yl=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Xl=/\((\S*)(?::(\d+))(?::(\d+))\)/,Kl=[30,e=>{const t=Yl.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Xl.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=oc(t[1]||Vl,t[2]);return Zl(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Ql=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Jl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ec=[50,e=>{const t=Ql.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=Jl.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Vl;return[n,e]=oc(n,e),Zl(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],tc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,nc=function(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const o=[],i=e.split("\n");for(let e=n;e<i.length;e++){const n=i[e];if(n.length>1024)continue;const s=Er.test(n)?n.replace(Er,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){o.push(t);break}}if(o.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),$r.test(t[t.length-1].function||"")&&(t.pop(),$r.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(o)}}(...[Kl,ec,[40,e=>{const t=tc.exec(e);return t?Zl(t[2],t[1]||Vl,+t[3],t[4]?+t[4]:void 0):void 0}]]),oc=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),o=-1!==e.indexOf("safari-web-extension");return n||o?[-1!==e.indexOf("@")?e.split("@")[0]:Vl,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ic=1024,sc="Breadcrumbs",rc=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:sc,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";kr(t,e),Ar(t,Mr)}(function(e){return function(t){if(ja()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:va(t.level),message:js(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${js(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Wa(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if(ja()!==e)return;let o,i,s="object"==typeof t?t.serializeAttribute:void 0,r="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;r&&r>ic&&(Nl&&lr.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${r} was configured. Sentry will use 1024 instead.`),r=ic),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;o=nr(t,{keyAttrs:s,maxStringLength:r}),i=function(e){if(!tr.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}(t)}catch(e){o="<unknown>"}if(0===o.length)return;const a={category:`ui.${n.name}`,message:o};i&&(a.data={"ui.component_name":i}),Wa(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),kr("dom",n),Ar("dom",Wr)),t.xhr&&function(e){kr("xhr",e),Ar("xhr",aa)}(function(e){return function(t){if(ja()!==e)return;const{startTimestamp:n,endTimestamp:o}=t,i=t.xhr[ra];if(!n||!o||!i)return;const{method:s,url:r,status_code:a,body:l}=i;Wa({category:"xhr",data:{method:s,url:r,status_code:a},type:"http"},{xhr:t.xhr,input:l,startTimestamp:n,endTimestamp:o})}}(e)),t.fetch&&function(e){const t="fetch";kr(t,e),Ar(t,Zr)}(function(e){return function(t){if(ja()!==e)return;const{startTimestamp:n,endTimestamp:o}=t;if(o&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Wa({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:o})}else{const e=t.response;Wa({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:o})}}}(e)),t.history&&function(e){const t="history";kr(t,e),Ar(t,ia)}(function(e){return function(t){if(ja()!==e)return;let n=t.from,o=t.to;const i=fa(Il.location.href);let s=n?fa(n):void 0;const r=fa(o);s&&s.path||(s=i),i.protocol===r.protocol&&i.host===r.host&&(o=r.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),Wa({category:"navigation",data:{from:n,to:o}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){ja()===e&&Wa({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Nr(t)},{event:t})}}(e))}}};gl(sc,rc);const ac="Dedupe",lc=()=>{let e;return{name:ac,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,o=t.message;if(!n&&!o)return!1;if(n&&!o||!n&&o)return!1;if(n!==o)return!1;if(!dc(e,t))return!1;if(!cc(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=uc(t),o=uc(e);if(!n||!o)return!1;if(n.type!==o.type||n.value!==o.value)return!1;if(!dc(e,t))return!1;if(!cc(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return Nl&&lr.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};function cc(e,t){let n=pc(e),o=pc(t);if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;if(o.length!==n.length)return!1;for(let e=0;e<o.length;e++){const t=o[e],i=n[e];if(t.filename!==i.filename||t.lineno!==i.lineno||t.colno!==i.colno||t.function!==i.function)return!1}return!0}function dc(e,t){let n=e.fingerprint,o=t.fingerprint;if(!n&&!o)return!0;if(n&&!o||!n&&o)return!1;try{return!(n.join("")!==o.join(""))}catch(e){return!1}}function uc(e){return e.exception&&e.exception.values&&e.exception.values[0]}function pc(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}gl(ac,lc);const mc="GlobalHandlers",gc=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:mc,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){!function(e){const t="error";kr(t,e),Ar(t,Qr)}((t=>{const{stackParser:n,attachStacktrace:o}=_c();if(ja()!==e||Ol())return;const{msg:i,url:s,line:r,column:a,error:l}=t,c=void 0===l&&Ns(i)?function(e,t,n,o){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=Os(e)?e.message:e,r="Error";const a=s.match(i);a&&(r=a[1],s=a[2]);const l={exception:{values:[{type:r,value:s}]}};return hc(l,t,n,o)}(i,s,r,a):hc(Bl(n,l||i,void 0,o,!1),s,r,a);c.level="error",za(c,{originalException:l,mechanism:{handled:!1,type:"onerror"}})}))}(e),fc("onerror")),t.onunhandledrejection&&(!function(e){!function(e){const t="unhandledrejection";kr(t,e),Ar(t,ea)}((t=>{const{stackParser:n,attachStacktrace:o}=_c();if(ja()!==e||Ol())return;const i=function(e){if(Ps(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),s=Ps(i)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(i)}`}]}}:Bl(n,i,void 0,o,!0);s.level="error",za(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),fc("onunhandledrejection"))}}};function hc(e,t,n,o){const i=e.exception=e.exception||{},s=i.values=i.values||[],r=s[0]=s[0]||{},a=r.stacktrace=r.stacktrace||{},l=a.frames=a.frames||[],c=isNaN(parseInt(o,10))?void 0:o,d=isNaN(parseInt(n,10))?void 0:n,u=Ns(t)&&t.length>0?t:function(){try{return tr.document.location.href}catch(e){return""}}();return 0===l.length&&l.push({colno:c,filename:u,function:"?",in_app:!0,lineno:d}),e}function fc(e){Nl&&lr.log(`Global Handler attached: ${e}`)}function _c(){const e=ja();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}gl(mc,gc);const vc="HttpContext",wc=()=>({name:vc,setupOnce(){},preprocessEvent(e){if(!Il.navigator&&!Il.location&&!Il.document)return;const t=e.request&&e.request.url||Il.location&&Il.location.href,{referrer:n}=Il.document||{},{userAgent:o}=Il.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...o&&{"User-Agent":o}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});gl(vc,wc);const Tc="LinkedErrors",bc=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Tc,setupOnce(){},preprocessEvent(e,o,i){const s=i.getOptions();Vs(Dl,s.stackParser,s.maxValueLength,n,t,e,o)}}};gl(Tc,bc);const yc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Ec="TryCatch",$c=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Ec,setupOnce(){t.setTimeout&&gr(Il,"setTimeout",xc),t.setInterval&&gr(Il,"setInterval",xc),t.requestAnimationFrame&&gr(Il,"requestAnimationFrame",Sc),t.XMLHttpRequest&&"XMLHttpRequest"in Il&&gr(XMLHttpRequest.prototype,"send",Cc);const e=t.eventTarget;if(e){(Array.isArray(e)?e:yc).forEach(Lc)}}}};function xc(e){return function(...t){const n=t[0];return t[0]=Rl(n,{mechanism:{data:{function:Sr(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Sc(e){return function(t){return e.apply(this,[Rl(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Sr(e)},handled:!1,type:"instrument"}})])}}function Cc(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&gr(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Sr(t)},handled:!1,type:"instrument"}},o=_r(t);return o&&(n.mechanism.data.handler=Sr(o)),Rl(t,n)}))})),e.apply(this,t)}}function Lc(e){const t=Il,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(gr(n,"addEventListener",(function(t){return function(n,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=Rl(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Sr(o),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Rl(o,{mechanism:{data:{function:"addEventListener",handler:Sr(o),target:e},handled:!1,type:"instrument"}}),i])}})),gr(n,"removeEventListener",(function(e){return function(t,n,o){const i=n;try{const n=i&&i.__sentry_wrapped__;n&&e.call(this,t,n,o)}catch(e){}return e.call(this,t,i,o)}})))}gl(Ec,$c);const kc=[xl(),Al(),$c(),rc(),gc(),bc(),lc(),wc()];function Ac(){}const Ic=e=>e;function Mc(e){return e()}function Oc(){return Object.create(null)}function Rc(e){e.forEach(Mc)}function Nc(e){return"function"==typeof e}function Dc(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function Pc(e,...t){if(null==e){for(const e of t)e(void 0);return Ac}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Uc(e,t,n){e.$$.on_destroy.push(Pc(t,n))}function Gc(e,t,n,o){if(e){const i=Hc(e,t,n,o);return e[0](i)}}function Hc(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function Bc(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function zc(e,t,n,o,i,s){if(i){const r=Hc(t,n,o,s);e.p(r,i)}}function Wc(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function jc(e){return null==e?"":e}function Fc(e,t,n){return e.set(n),t}function qc(e){return e&&Nc(e.destroy)?e.destroy:Ac}function Vc(e){const t="string"==typeof e&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}const Zc="undefined"!=typeof window;let Yc=Zc?()=>window.performance.now():()=>Date.now(),Xc=Zc?e=>requestAnimationFrame(e):Ac;const Kc=new Set;function Qc(e){Kc.forEach((t=>{t.c(e)||(Kc.delete(t),t.f())})),0!==Kc.size&&Xc(Qc)}function Jc(e){let t;return 0===Kc.size&&Xc(Qc),{promise:new Promise((n=>{Kc.add(t={c:e,f:n})})),abort(){Kc.delete(t)}}}function ed(e,t){e.appendChild(t)}function td(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function nd(e){const t=rd("style");return t.textContent="/* empty */",function(e,t){ed(e.head||e,t),t.sheet}(td(e),t),t.sheet}function od(e,t,n){e.insertBefore(t,n||null)}function id(e){e.parentNode&&e.parentNode.removeChild(e)}function sd(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function rd(e){return document.createElement(e)}function ad(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function ld(e){return document.createTextNode(e)}function cd(){return ld(" ")}function dd(){return ld("")}function ud(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function pd(e){return function(t){return t.preventDefault(),e.call(this,t)}}function md(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function gd(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function hd(e,t){t=""+t,e.data!==t&&(e.data=t)}function fd(e,t){e.value=null==t?"":t}function _d(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,"")}function vd(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let wd;function Td(){if(void 0===wd){wd=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){wd=!0}}return wd}function bd(e,t,n){e.classList.toggle(t,!!n)}function yd(e,t,{bubbles:n=!1,cancelable:o=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:o})}class Ed{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ad(t.nodeName):this.e=rd(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)od(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(id)}}function $d(e,t){return new e(t)}const xd=new Map;let Sd,Cd=0;function Ld(e,t,n,o,i,s,r,a=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*s(e);c+=100*e+`%{${r(o,1-o)}}\n`}const d=c+`100% {${r(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${a}`,p=td(e),{stylesheet:m,rules:g}=xd.get(p)||function(e,t){const n={stylesheet:nd(t),rules:{}};return xd.set(e,n),n}(p,e);g[u]||(g[u]=!0,m.insertRule(`@keyframes ${u} ${d}`,m.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,Cd+=1,u}function kd(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),Cd-=i,Cd||Xc((()=>{Cd||(xd.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&id(t)})),xd.clear())})))}function Ad(e){Sd=e}function Id(){if(!Sd)throw new Error("Function called outside component initialization");return Sd}function Md(e){Id().$$.on_mount.push(e)}function Od(e){Id().$$.on_destroy.push(e)}function Rd(){const e=Id();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=yd(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function Nd(e,t){return Id().$$.context.set(e,t),t}function Dd(e){return Id().$$.context.get(e)}function Pd(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const Ud=[],Gd=[];let Hd=[];const Bd=[],zd=Promise.resolve();let Wd=!1;function jd(){Wd||(Wd=!0,zd.then(Xd))}function Fd(e){Hd.push(e)}function qd(e){Bd.push(e)}const Vd=new Set;let Zd,Yd=0;function Xd(){if(0!==Yd)return;const e=Sd;do{try{for(;Yd<Ud.length;){const e=Ud[Yd];Yd++,Ad(e),Kd(e.$$)}}catch(e){throw Ud.length=0,Yd=0,e}for(Ad(null),Ud.length=0,Yd=0;Gd.length;)Gd.pop()();for(let e=0;e<Hd.length;e+=1){const t=Hd[e];Vd.has(t)||(Vd.add(t),t())}Hd.length=0}while(Ud.length);for(;Bd.length;)Bd.pop()();Wd=!1,Vd.clear(),Ad(e)}function Kd(e){if(null!==e.fragment){e.update(),Rc(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Fd)}}function Qd(){return Zd||(Zd=Promise.resolve(),Zd.then((()=>{Zd=null}))),Zd}function Jd(e,t,n){e.dispatchEvent(yd(`${t?"intro":"outro"}${n}`))}const eu=new Set;let tu;function nu(){tu={r:0,c:[],p:tu}}function ou(){tu.r||Rc(tu.c),tu=tu.p}function iu(e,t){e&&e.i&&(eu.delete(e),e.i(t))}function su(e,t,n,o){if(e&&e.o){if(eu.has(e))return;eu.add(e),tu.c.push((()=>{eu.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const ru={duration:0};function au(e,t,n){const o={direction:"in"};let i,s,r=t(e,n,o),a=!1,l=0;function c(){i&&kd(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=Ic,tick:d=Ac,css:u}=r||ru;u&&(i=Ld(e,0,1,n,t,o,u,l++)),d(0,1);const p=Yc()+t,m=p+n;s&&s.abort(),a=!0,Fd((()=>Jd(e,!0,"start"))),s=Jc((t=>{if(a){if(t>=m)return d(1,0),Jd(e,!0,"end"),c(),a=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return a}))}let u=!1;return{start(){u||(u=!0,kd(e),Nc(r)?(r=r(o),Qd().then(d)):d())},invalidate(){u=!1},end(){a&&(c(),a=!1)}}}function lu(e,t,n){const o={direction:"out"};let i,s=t(e,n,o),r=!0;const a=tu;let l;function c(){const{delay:t=0,duration:n=300,easing:o=Ic,tick:c=Ac,css:d}=s||ru;d&&(i=Ld(e,1,0,n,t,o,d));const u=Yc()+t,p=u+n;Fd((()=>Jd(e,!1,"start"))),"inert"in e&&(l=e.inert,e.inert=!0),Jc((t=>{if(r){if(t>=p)return c(0,1),Jd(e,!1,"end"),--a.r||Rc(a.c),!1;if(t>=u){const e=o((t-u)/n);c(1-e,e)}}return r}))}return a.r+=1,Nc(s)?Qd().then((()=>{s=s(o),c()})):c(),{end(t){t&&"inert"in e&&(e.inert=l),t&&s.tick&&s.tick(1,0),r&&(i&&kd(e,i),r=!1)}}}function cu(e,t,n,o){let i,s=t(e,n,{direction:"both"}),r=o?0:1,a=null,l=null,c=null;function d(){c&&kd(e,c)}function u(e,t){const n=e.b-r;return t*=Math.abs(n),{a:r,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:o=300,easing:p=Ic,tick:m=Ac,css:g}=s||ru,h={start:Yc()+n,b:t};t||(h.group=tu,tu.r+=1),"inert"in e&&(t?void 0!==i&&(e.inert=i):(i=e.inert,e.inert=!0)),a||l?l=h:(g&&(d(),c=Ld(e,r,t,o,n,p,g)),t&&m(0,1),a=u(h,o),Fd((()=>Jd(e,t,"start"))),Jc((t=>{if(l&&t>l.start&&(a=u(l,o),l=null,Jd(e,a.b,"start"),g&&(d(),c=Ld(e,r,a.b,a.duration,0,p,s.css))),a)if(t>=a.end)m(r=a.b,1-r),Jd(e,a.b,"end"),l||(a.b?d():--a.group.r||Rc(a.group.c)),a=null;else if(t>=a.start){const e=t-a.start;r=a.a+a.d*p(e/a.duration),m(r,1-r)}return!(!a&&!l)})))}return{run(e){Nc(s)?Qd().then((()=>{s=s({direction:e?"in":"out"}),p(e)})):p(e)},end(){d(),a=l=null}}}function du(e){return void 0!==e?.length?e:Array.from(e)}function uu(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function pu(e){e&&e.c()}function mu(e,t,n){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,n),Fd((()=>{const t=e.$$.on_mount.map(Mc).filter(Nc);e.$$.on_destroy?e.$$.on_destroy.push(...t):Rc(t),e.$$.on_mount=[]})),i.forEach(Fd)}function gu(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];Hd.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),Hd=t}(n.after_update),Rc(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function hu(e,t,n,o,i,s,r=null,a=[-1]){const l=Sd;Ad(e);const c=e.$$={fragment:null,ctx:[],props:s,update:Ac,not_equal:i,bound:Oc(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Oc(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(Ud.push(e),jd(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,Rc(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(id)}else c.fragment&&c.fragment.c();t.intro&&iu(e.$$.fragment),mu(e,t.target,t.anchor),Xd()}Ad(l)}class fu{$$=void 0;$$set=void 0;$destroy(){gu(this,1),this.$destroy=Ac}$on(e,t){if(!Nc(t))return Ac;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const _u=[];function vu(e,t=Ac){let n;const o=new Set;function i(t){if(Dc(e,t)&&(e=t,n)){const t=!_u.length;for(const t of o)t[1](),_u.push(t,e);if(t){for(let e=0;e<_u.length;e+=2)_u[e][0](_u[e+1]);_u.length=0}}}function s(t){i(t(e))}return{set:i,update:s,subscribe:function(r,a=Ac){const l=[r,a];return o.add(l),1===o.size&&(n=t(i,s)||Ac),r(e),()=>{o.delete(l),0===o.size&&n&&(n(),n=null)}}}}const wu={accessToken:"a_t",refreshToken:"r_t",idToken:"i_t",isLoggedIn:"isLoggedIn",writeServiceType:"writeServiceType",docTranslatorServiceType:"docTranslatorServiceType",apiServiceType:"apiServiceType",translatorServiceType:"translatorServiceType",accountId:"accountId",lastLogoutTrigger:"last_logout_trigger",last_login:"last_login"},Tu={activeTermbaseId:"activeTermbaseId",isGlossaryEnabled:"isGlossaryEnabled",hasTermbaseService:"hasTermbaseService"},bu="whiteLabelLogoId";const yu=function(){const{subscribe:e,set:t,update:n}=vu({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser",wu.translatorServiceType,wu.writeServiceType,wu.apiServiceType,wu.docTranslatorServiceType,bu,"browserInstanceId","featureSet","hasTermbaseService"],(e=>{n((t=>Object.assign(Object.assign({},t),e)))}))})),chrome.storage.onChanged.addListener((e=>{const t=[wu.accessToken,wu.refreshToken,wu.idToken,wu.accountId];let o={};for(const[n,i]of Object.entries(e))!1===t.includes(n)&&(o[n]=i.newValue);if(Ls()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}return n((e=>Object.assign(Object.assign({},e),o))),!0})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),Eu=function(){const{subscribe:e,update:t}=vu({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign(Object.assign(Object.assign({},t[n.tab.id]),e.payload),{error:e.payload.error?e.payload.error:void 0})})));break;case"resetWebsiteState":e.payload&&t((t=>Object.assign(Object.assign({},t),{[n.tab.id]:Object.assign({},e.payload)})))}return!0})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>Object.assign(Object.assign({},t),{[e[0].id]:Object.assign(Object.assign({},t[e[0].id]),n)})))}))}))}}}();!function(e,t,n){const o=!Array.isArray(e),i=o?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return r=(e,n)=>{let r=!1;const a=[];let l=0,c=Ac;const d=()=>{if(l)return;c();const i=t(o?a[0]:a,e,n);s?e(i):c=Nc(i)?i:Ac},u=i.map(((e,t)=>Pc(e,(e=>{a[t]=e,l&=~(1<<t),r&&d()}),(()=>{l|=1<<t}))));return r=!0,d(),function(){Rc(u),c(),r=!1}},{subscribe:vu(n,r).subscribe};var r}(Eu,((e,n)=>t(void 0,void 0,void 0,(function*(){if(!chrome.tabs)return;const t=yield chrome.tabs.query({active:!0,currentWindow:!0});n(e[t[0].id])}))));const $u=function(){const{subscribe:e,set:t}=vu([]);return Qn({action:Yn.dlGetExperiments,payload:{forceFetch:!1}}).then(t),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments);return!0})),{subscribe:e}}(),xu=e=>!![/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/].some((t=>t.test(e))),Su={dsn:"https://f7c23f019d154c319e91e8de004727dc@errortracking.deepl.com/12",release:"deepl-browser-extension@1.44.0",environment:Cs(),tracesSampleRate:ks()?.01:1,sampleRate:ks()?.01:1,ignoreErrors:[/Receiving end does not exist/,/message channel closed before a response was received/,/Extension context invalidated/],beforeSend(e){const t=e.message||e.exception&&e.exception.values&&e.exception.values[0].value||"";return xu(t)?null:(Ls()&&console.error(e),e)}};function Cu(e,t){t.captureException(e)}const Lu="NETWORK_ERROR",ku="PROTOCOL_ERROR",Au="NETWORK_ERROR",Iu="FULL_PAGE_SERVER_ERROR",Mu="-32003",Ou="429",Ru="403",Nu="1045601",Du="1042902",Pu="ENTRY_NOT_FOUND",Uu="TRANSLATED_INPUT_NOT_SET",Gu="HTML_NODE_CHAR_LENGTH_TOO_LONG",Hu="TRANSLATOR_FREE_ACCOUNT_LIMIT_EXCEEDED",Bu="TRANSLATOR_ANONYMOUS_LIMIT_EXCEEDED",zu="TRANSLATOR_FREE_ANON_WITH_WRITE_PRO",Wu="WRITE_ANON_OR_FREE_LIMIT_EXCEEDED",ju="WRITE_WITH_PRO_TRANSLATOR_LIMIT_EXCEEDED",Fu="LOGIN_REQUIRED";class qu extends Error{constructor(e,t){super(t),this.name=Hu,this.limit=e,this.message=t}}class Vu extends Error{constructor(e,t){super(t),this.name=Bu,this.limit=e,this.message=t}}class Zu extends Error{constructor(e,t){super(t),this.name=Wu,this.limit=e,this.message=t}}class Yu extends Error{constructor(e,t){super(t),this.name=ju,this.limit=e,this.message=t}}function Xu(e){let t;return{c(){t=rd("div"),gd(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add("4");function Ku(e,t,n){let o,i,s,r;Uc(e,yu,(e=>n(1,o=e))),Nd("text_direction",ns());const a=()=>{const e=window.location.pathname,t=D_(e);if(t){const e=P_();if(!e)return;const n=U_(e)||G_(e,t);let o=!1;if(r?.id!==t){const i=n.getTicketLanguageInformation();o=e.id===r?.paneId||!i?.hasAttemptedLanguageDetection,r={id:t,paneId:e.id}}n&&n.processRefreshUI(o)}},l=async e=>{if("dlChangeActiveTabStatus"===e.action)if(e.payload.isActive)c();else{if(!document.hidden)return;d()}return!0},c=()=>{i&&clearInterval(i),i=setInterval(a,800)},d=()=>{clearInterval(i)};Md((()=>{const e=o.zendeskSuccessfulTranslations>=Vt;n(0,s=o?.featureSet?.customizations?.includes("zendesk")),e&&!s&&Fc(yu,o.isZendeskEnabled=!1,o),u()}));const u=()=>{c(),chrome.runtime.onMessage.addListener(l)};return Od((()=>{i&&d(),chrome.runtime.onMessage.removeListener(l),B_()})),e.$$.update=()=>{2&e.$$.dirty&&!o?.featureSet?.customizations?.includes("zendesk")&&o.zendeskSuccessfulTranslations>=Vt&&(Fc(yu,o.isZendeskEnabled=!1,o),z_()),3&e.$$.dirty&&!1===s&&o?.featureSet?.customizations?.includes("zendesk")&&(n(0,s=!0),Fc(yu,o.isZendeskEnabled=!0,o),c()),2&e.$$.dirty&&(o.isZendeskEnabled?c():z_())},[s,o]}class Qu extends fu{constructor(e){super(),hu(this,e,Ku,Xu,Dc,{})}}class Ju{static HTML_TAG_NAME="deepl-zendesk-controller";static createElement=(e=document)=>{const t=e.createElement(Ju.HTML_TAG_NAME),n=new Ju(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t.getActiveTermbases=n.getActiveTermbases,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=()=>{this.domElement.mainComponent=new Qu({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()};getActiveTermbases=()=>this.domElement.mainComponent.getActiveTermbases()}function ep(e){const t=e-1;return t*t*t+1}function tp(e,{delay:t=0,duration:n=400,easing:o=Ic}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function np(e,{delay:t=0,duration:n=400,easing:o=ep,x:i=0,y:s=0,opacity:r=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-r),[u,p]=Vc(i),[m,g]=Vc(s);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*u}${p}, ${(1-e)*m}${g});\n\t\t\topacity: ${l-d*t}`}}function op(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function ip(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function sp(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=ip(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n}function rp(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function ap(e,t){const n=rp(e),o=rp(t),i=function(e,t){const n=(e,t)=>e===t,o=(()=>{let o=0;for(;n(e[o],t[o])&&o<e.length;)++o;return o})();if(o===e.length&&e.length===t.length)return[o];const i=(()=>{let i=e.length-1,s=t.length-1;for(;n(e[i],t[s])&&i>o&&s>o;)--i,--s;return e.length-i-1})(),s=e.length-o-i+1,r=t.length-o-i+1,a=s+r,l=new Map,c=new Map;l.set(1,0),c.set(1,null);for(let d=0;d<=a;++d)for(let a=-d;a<=d;a+=2){let u,p,m;for(a==-d||a!=d&&l.get(a-1)<l.get(a+1)?(u=l.get(a+1),m=[c.get(a+1),void 0,void 0]):(u=l.get(a-1)+1,m=[c.get(a-1),void 0,void 0]),p=u-a;u<s&&p<r&&n(e[u+o],t[p+o]);)++u,++p;if(u>=s&&p>=r){m[1]=s+i-1,m[2]=r+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let a=[],l=null;for(;n.length;){const o=n.pop(),i=o[0],s=o[1],r=i-e,c=s-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],a.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],a.push(l))),d>0&&(a.push(d),l=null),e=i,t=s}return a[0]=a[0]-1+o,a}l.set(a,u),m[1]=u,m[2]=p,c.set(a,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}function lp(e,t){let n=0;const o=function(e,t){const n=ap(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o}(e,t),i=[];for(let t of o){t.changeOffset>n&&i.push({isHighlighted:!1,text:e.substring(n,t.changeOffset)});const o=t.changeOffset+t.changeLength;i.push({isHighlighted:!0,text:e.substring(t.changeOffset,o)}),n=o}return n<e.length&&i.push({isHighlighted:!1,text:e.substring(n,e.length)}),i}const cp=e=>{let t="";for(const n of e.childNodes)n.nodeType===Node.TEXT_NODE?t+=n.textContent:n.nodeType===Node.ELEMENT_NODE&&"none"!==n.style.display&&(t+=cp(n));return t};function dp(e){return"IFRAME"===e.nodeName.toUpperCase()?mp(e):e.ownerDocument===document?window:e.ownerDocument}function up(e){return e.ownerDocument===document?document:e.ownerDocument}function pp(e){return"IFRAME"!==e.nodeName.toUpperCase()?e:mp(e).body}function mp(e){return e.contentDocument||e.contentWindow.document}function gp(e){if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const t=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;if(t)return t}return window}function hp(e){return"IFRAME"===e.nodeName.toUpperCase()?mp(e):e.ownerDocument===document?document:e.ownerDocument}function fp(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{const n=up(e).createRange();n.selectNodeContents(pp(e));const o=dp(e).getSelection();o.removeAllRanges(),o.addRange(n),t(o)}))}))}const _p=async(e,t)=>{await Es(10);const n=new ClipboardEvent("paste");n.clipboardData.setData("text/html",t.html),n.clipboardData.setData("text/plain",t.text),e.dispatchEvent(n),await Es(10)},vp=async(e,t)=>{await Es(10);const n=new ClipboardEvent("paste",{dataType:"text/html",data:t.html});e.dispatchEvent(n),await Es(10)},wp=async(e,t)=>{await Es(10);const n=new ClipboardEvent("paste",{dataType:"text/plain",data:t.text});e.dispatchEvent(n),await Es(10)},Tp=async(e,t)=>{await Es(10),document.execCommand("insertText",!1,t.text),await Es(10)},bp=async(e,t)=>{await Es(10),document.execCommand("insertHTML",!1,t.html),await Es(10)},yp=async(e,t)=>{const n=gp(e);await Es(10);const o=new DataTransfer;o.setData("text/html",t.html),o.setData("text/plain",t.text),e.dispatchEvent(new n.ClipboardEvent("paste",{clipboardData:o,bubbles:!0,cancelable:!0})),o.clearData(),await Es(10)},Ep=async(e,t)=>{const n=hp(e),o=gp(e),i=n.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,o,t.text),e.dispatchEvent(i),await Es(10)},$p=async(e,t)=>{const n=hp(e);e.value&&e.select(),n.execCommand("insertHTML",!1,t.html),await Es(20),(e.value||""===e.value)&&(e.value=t.text)},xp=async(e,t,n)=>{const o=To();n||e.focus();const i=pp(e).innerText,s=pp(e).value,r=[...o?[{method:_p,isSuccessful:()=>Sp(i,e.innerText,t.text)},{method:vp,isSuccessful:()=>Sp(i,e.innerText,t.text)},{method:wp,isSuccessful:()=>Sp(i,e.innerText,t.text)},{method:Tp,isSuccessful:()=>Sp(i,e.innerText,t.text)},{method:bp,isSuccessful:()=>Sp(i,e.innerText,t.text)||Sp(s,e.value,t.text)}]:[],{method:yp,isSuccessful:()=>Sp(i,pp(e).innerText,t.text)},{method:Ep,isSuccessful:()=>Sp(i,pp(e).innerText,t.text)},{method:$p,isSuccessful:()=>Sp(i,pp(e).innerText,t.text)||Sp(s,pp(e).value,t.text)}];for(const n of r)if(o&&Ls()&&console.log(`trying paste event: ${n.method.name}`),await n.method(e,t),n.isSuccessful())return void(o&&Ls()&&console.log("attempt was successful: ",n.method.name));throw await Es(1e3),Qn({action:qn.dlTranslatedInputTextNotSet,payload:window.location.hostname}),new Error({error:Uu})},Sp=(e,t,n)=>{let o=!0;return(e&&!t||!op(e,n)&&e===t||!op(t,n))&&(o=!1),o},Cp=(e,t)=>{const n=new(gp(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},Lp=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)};function kp(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function Ap(e){document.addEventListener("deepl-reset-event",e)}function Ip(e){let t,n;const o=e[12].default,i=Gc(o,e,e[11],null);return{c(){t=rd("div"),i&&i.c()},m(e,o){od(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||2048&t)&&zc(i,o,e,e[11],n?Bc(o,e[11],t,null):Wc(e[11]),null)},i(e){n||(iu(i,e),n=!0)},o(e){su(i,e),n=!1},d(e){e&&id(t),i&&i.d(e)}}}function Mp(e){let t,n,o;const i=e[12].default,s=Gc(i,e,e[11],null);return{c(){t=rd("div"),s&&s.c(),gd(t,"data-tooltip",e[0]),gd(t,"style",n=`z-index: ${e[2]}; ${e[6]}`),gd(t,"class","svelte-1a71ske"),bd(t,"multiline",e[1]),bd(t,"isFlexItem",e[4]),bd(t,"isRTL",e[7]),bd(t,"showProShield",e[5])},m(e,n){od(e,t,n),s&&s.m(t,null),o=!0},p(e,r){s&&s.p&&(!o||2048&r)&&zc(s,i,e,e[11],o?Bc(i,e[11],r,null):Wc(e[11]),null),(!o||1&r)&&gd(t,"data-tooltip",e[0]),(!o||68&r&&n!==(n=`z-index: ${e[2]}; ${e[6]}`))&&gd(t,"style",n),(!o||2&r)&&bd(t,"multiline",e[1]),(!o||16&r)&&bd(t,"isFlexItem",e[4]),(!o||128&r)&&bd(t,"isRTL",e[7]),(!o||32&r)&&bd(t,"showProShield",e[5])},i(e){o||(iu(s,e),o=!0)},o(e){su(s,e),o=!1},d(e){e&&id(t),s&&s.d(e)}}}function Op(e){let t,n,o,i;const s=[Mp,Ip],r=[];function a(e,t){return e[3]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=dd()},m(e,n){r[t].m(e,n),od(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),iu(n,1),n.m(o.parentNode,o))},i(e){i||(iu(n),i=!0)},o(e){su(n),i=!1},d(e){e&&id(o),r[t].d(e)}}}function Rp(e,t,n){let o,i,{$$slots:s={},$$scope:r}=t;const{deepl_inline_ui:a}=P;let{tooltip:l=!1}=t,{multiline:c=!1}=t,{zIndex:d=a.z_index}=t,{isEnabled:u=!0}=t,{isFlexItem:p=!1}=t,{width:m=null}=t,{parentIsRTL:g=!1}=t,{ignoreTextDirection:h=!1}=t,{showProShield:f=!1}=t;return e.$$set=e=>{"tooltip"in e&&n(0,l=e.tooltip),"multiline"in e&&n(1,c=e.multiline),"zIndex"in e&&n(2,d=e.zIndex),"isEnabled"in e&&n(3,u=e.isEnabled),"isFlexItem"in e&&n(4,p=e.isFlexItem),"width"in e&&n(8,m=e.width),"parentIsRTL"in e&&n(9,g=e.parentIsRTL),"ignoreTextDirection"in e&&n(10,h=e.ignoreTextDirection),"showProShield"in e&&n(5,f=e.showProShield),"$$scope"in e&&n(11,r=e.$$scope)},e.$$.update=()=>{1536&e.$$.dirty&&n(7,o=g||!h&&"rtl"===ns()),256&e.$$.dirty&&n(6,i=m?`width: ${m}px`:"")},[l,c,d,u,p,f,i,o,m,g,h,r,s]}class Np extends fu{constructor(e){super(),hu(this,e,Rp,Op,Dc,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:8,parentIsRTL:9,ignoreTextDirection:10,showProShield:5})}}const Dp=(e,t)=>{const n=new ResizeObserver((()=>{const n={clientHeight:e.clientHeight,clientWidth:e.clientWidth,offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth};t(n)}));return n.observe(e),()=>{n.disconnect()}};function Pp(e,t,n){const o=e.slice();return o[46]=t[n],o[48]=n,o}function Up(e){let t,n,o,i=du(e[3]),s=[];for(let t=0;t<i.length;t+=1)s[t]=Bp(Pp(e,i,t));return{c(){t=rd("ul");for(let e=0;e<s.length;e+=1)s[e].c();gd(t,"id","dropdown_list"),gd(t,"role","listbox"),gd(t,"aria-labelledby","dropdown_option"),gd(t,"tabindex","-1"),gd(t,"style",n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`),gd(t,"data-qa",e[6]),gd(t,"class","svelte-1tk603q"),bd(t,"alternate-dropdown-list","sm"===e[8]),bd(t,"align-right",e[9])},m(n,o){od(n,t,o);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);e[37](t)},p(e,o){if(4726795&o[0]){let n;for(i=du(e[3]),n=0;n<i.length;n+=1){const r=Pp(e,i,n);s[n]?s[n].p(r,o):(s[n]=Bp(r),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}69632&o[0]&&n!==(n="up"===e[12]?"bottom: 30px":`height: ${e[16].height}; top: ${e[16].top};`)&&gd(t,"style",n),64&o[0]&&gd(t,"data-qa",e[6]),256&o[0]&&bd(t,"alternate-dropdown-list","sm"===e[8]),512&o[0]&&bd(t,"align-right",e[9])},i(e){o||Fd((()=>{o=au(t,np,{y:-5,duration:500}),o.start()}))},o:Ac,d(n){n&&id(t),sd(s,n),e[37](null)}}}function Gp(e){let t,n=e[46].label+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){8&o[0]&&n!==(n=e[46].label+"")&&hd(t,n)},d(e){e&&id(t)}}}function Hp(e){let t,n,o=Ci(e[46].label)+"";return{c(){t=new Ed(!1),n=dd(),t.a=n},m(e,i){t.m(o,e,i),od(e,n,i)},p(e,n){8&n[0]&&o!==(o=Ci(e[46].label)+"")&&t.p(o)},d(e){e&&(id(n),t.d())}}}function Bp(e){let t,n,o,i,s,r,a;function l(e,t){return e[13]?Hp:Gp}let c=l(e),d=c(e);function u(){return e[36](e[46])}return{c(){t=rd("li"),d.c(),n=cd(),gd(t,"role","option"),gd(t,"data-option-value",o=e[46].value),gd(t,"data-option-regionalvariant",i=e[46].regionalVariant),gd(t,"aria-selected",s=e[0]===e[46]),gd(t,"class","svelte-1tk603q"),bd(t,"selected",e[0]===e[46]),bd(t,"keyboardSelected",e[48]===e[19])},m(o,i){od(o,t,i),d.m(t,null),ed(t,n),r||(a=[ud(t,"click",u),ud(t,"mousedown",md(pd(e[33])))],r=!0)},p(r,a){c===(c=l(e=r))&&d?d.p(e,a):(d.d(1),d=c(e),d&&(d.c(),d.m(t,n))),8&a[0]&&o!==(o=e[46].value)&&gd(t,"data-option-value",o),8&a[0]&&i!==(i=e[46].regionalVariant)&&gd(t,"data-option-regionalvariant",i),9&a[0]&&s!==(s=e[0]===e[46])&&gd(t,"aria-selected",s),9&a[0]&&bd(t,"selected",e[0]===e[46]),524288&a[0]&&bd(t,"keyboardSelected",e[48]===e[19])},d(e){e&&id(t),d.d(),r=!1,Rc(a)}}}function zp(e){let t,n,o,i,s,r,a,l=e[1]&&Up(e);return{c(){t=rd("div"),n=rd("button"),o=ld(e[17]),i=cd(),l&&l.c(),gd(n,"aria-haspopup","listbox"),gd(n,"id","dropdown_button"),gd(n,"aria-labelledby","dropdown_option dropdown_button"),gd(n,"aria-expanded",e[1]),gd(n,"data-qa",e[5]),gd(n,"data-testid",e[5]),gd(n,"class","svelte-1tk603q"),bd(n,"dropdown-label","original"===e[7]),bd(n,"dropdown-label-alternate","alternate"===e[7]),bd(n,"dropdown-label-zendesk","zendesk"===e[7]),bd(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),bd(n,"dropdown-label-full-width",e[10]),bd(n,"dropdown-label-borderless",e[11]),bd(n,"dropup","up"===e[12]),bd(n,"extra-padding",e[14]),gd(t,"class",s=jc(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q"),gd(t,"style",e[21]),bd(t,"disabled",e[2])},m(s,c){od(s,t,c),ed(t,n),ed(n,o),e[35](n),ed(t,i),l&&l.m(t,null),e[39](t),r||(a=[ud(n,"click",e[23]),ud(n,"mousedown",md(pd(e[34]))),ud(n,"keydown",e[24]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[38])],r=!0)},p(e,i){131072&i[0]&&hd(o,e[17]),2&i[0]&&gd(n,"aria-expanded",e[1]),32&i[0]&&gd(n,"data-qa",e[5]),32&i[0]&&gd(n,"data-testid",e[5]),128&i[0]&&bd(n,"dropdown-label","original"===e[7]),128&i[0]&&bd(n,"dropdown-label-alternate","alternate"===e[7]),128&i[0]&&bd(n,"dropdown-label-zendesk","zendesk"===e[7]),128&i[0]&&bd(n,"dropdown-label-input-selection-result","input-selection-result"===e[7]),1024&i[0]&&bd(n,"dropdown-label-full-width",e[10]),2048&i[0]&&bd(n,"dropdown-label-borderless",e[11]),4096&i[0]&&bd(n,"dropup","up"===e[12]),16384&i[0]&&bd(n,"extra-padding",e[14]),e[1]?l?(l.p(e,i),2&i[0]&&iu(l,1)):(l=Up(e),l.c(),iu(l,1),l.m(t,null)):l&&(l.d(1),l=null),16&i[0]&&s!==(s=jc(`dropdown__wrapper ${e[4]}`)+" svelte-1tk603q")&&gd(t,"class",s),2097152&i[0]&&gd(t,"style",e[21]),20&i[0]&&bd(t,"disabled",e[2])},i(e){iu(l)},o:Ac,d(n){n&&id(t),e[35](null),l&&l.d(),e[39](null),r=!1,Rc(a)}}}function Wp(e,t,n){let{isOpen:o=!1}=t,{disabled:i=!1}=t,{items:s=[]}=t,{placeholder:r=""}=t,{customClass:a=""}=t,{selectedOption:l}=t,{defaultOption:c}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:u="dl-dropdown-list"}=t,{variant:p="original"}=t,{fontSize:m="default"}=t,{alignRight:g=!0}=t,{extraText:h=""}=t,{isFullWidth:f=!1}=t,{isBorderless:_=!1}=t,{direction:v="down"}=t,{allowLabelHtml:w=!1}=t,{showSortCode:T=!1}=t,{extraPadding:b=!1}=t,{dropdownMaxHeight:y=300}=t,{autoHeight:E=!1}=t;const $=Dd("deepl_settings");let x,S,C,L,k,A=0,I={},M={},O={},R=-1,N="visibility: hidden; opacity:0; height:0;";const D=Rd();function P(){I.spaceAbove=Math.abs(x.getBoundingClientRect().top),I.spaceBelow=Math.abs(window.innerHeight-x.getBoundingClientRect().bottom)}Md((()=>{setTimeout((()=>{n(21,N="")}),100),L=Dp(C,(({clientWidth:e})=>{n(31,A=e)}))})),Od((()=>{L&&L()}));return e.$$set=e=>{"isOpen"in e&&n(1,o=e.isOpen),"disabled"in e&&n(2,i=e.disabled),"items"in e&&n(3,s=e.items),"placeholder"in e&&n(25,r=e.placeholder),"customClass"in e&&n(4,a=e.customClass),"selectedOption"in e&&n(0,l=e.selectedOption),"defaultOption"in e&&n(26,c=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,u=e.dataQaList),"variant"in e&&n(7,p=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,g=e.alignRight),"extraText"in e&&n(27,h=e.extraText),"isFullWidth"in e&&n(10,f=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,v=e.direction),"allowLabelHtml"in e&&n(13,w=e.allowLabelHtml),"showSortCode"in e&&n(28,T=e.showSortCode),"extraPadding"in e&&n(14,b=e.extraPadding),"dropdownMaxHeight"in e&&n(29,y=e.dropdownMaxHeight),"autoHeight"in e&&n(30,E=e.autoHeight)},e.$$.update=()=>{67108864&e.$$.dirty[0]&&c&&n(0,l=c),1&e.$$.dirty[0]|3&e.$$.dirty[1]&&(l&&((null==O?void 0:O.value)===(null==l?void 0:l.value)&&(null==O?void 0:O.regionalVariant)===(null==l?void 0:l.regionalVariant)||(n(32,O=l),D("valueselected",{selectedOption:l}))),A&&P()),436207617&e.$$.dirty[0]&&n(17,S=l?`${T?l.value:l.selectedOptionLabel}${h?` ${h}`:""}`:`${r}${h?` ${h}`:""}`)},[l,o,i,s,a,d,u,p,m,g,f,_,v,w,b,x,M,S,C,R,k,N,$,function(){"down"===v&&function(){if(E)return;if(P(),n(16,M.top="auto",M),n(16,M.height=`${y}px`,M),I.spaceBelow>I.spaceAbove)I.spaceBelow<=y&&n(16,M.height=Math.ceil(.8*I.spaceBelow)+"px",M);else{let e=y;I.spaceAbove<=y&&(e=Math.ceil(.8*I.spaceAbove)),n(16,M.height=`${e}px`,M),n(16,M.top="-"+(e+2)+"px",M)}}(),n(1,o=!o),function(){let e=x.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{null==e||e.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!o)return;if("ArrowUp"===e.key&&R>0)n(19,R-=1);else if("ArrowDown"===e.key&&R<s.length-1)n(19,R+=1);else if("Enter"===e.key&&-1!==R){const t=s[R];n(1,o=!1),n(0,l=t),n(19,R=-1),$.set({regionalVariant:t.regionalVariant||""}),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(1,o=!1),n(19,R=-1)}const t=s[R];var i=k.querySelector(`[data-option-value="${t.value}"]`).offsetTop-k.offsetTop;k.scrollTo({top:i,behavior:"smooth"})},r,c,h,T,y,E,A,O,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(e){Gd[e?"unshift":"push"]((()=>{x=e,n(15,x)}))},e=>{n(1,o=!1),n(0,l=e),n(19,R=-1),$.set({regionalVariant:e.regionalVariant||""})},function(e){Gd[e?"unshift":"push"]((()=>{k=e,n(20,k)}))},()=>{n(1,o=!1)},function(e){Gd[e?"unshift":"push"]((()=>{C=e,n(18,C)}))}]}class jp extends fu{constructor(e){super(),hu(this,e,Wp,zp,Dc,{isOpen:1,disabled:2,items:3,placeholder:25,customClass:4,selectedOption:0,defaultOption:26,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:27,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:28,extraPadding:14,dropdownMaxHeight:29,autoHeight:30},null,[-1,-1])}}function Fp(e){let t,n,o,i,s;return n=new jp({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=rd("div"),pu(n.$$.fragment)},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=ud(t,"mousedown",md(pd(e[5]))),i=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,s()}}}function qp(e,t,n){let o,i;const s=Rd();let{value:r}=t,{isFullWidth:a=!1}=t;return e.$$set=e=>{"value"in e&&n(4,r=e.value),"isFullWidth"in e&&n(0,a=e.isFullWidth)},e.$$.update=()=>{18&e.$$.dirty&&n(2,i=r?o.find((e=>e.value===r)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[a,o,i,function(e){e.detail.selectedOption.value!==r&&s("selection",e.detail)},r,function(t){Pd.call(this,e,t)}]}class Vp extends fu{constructor(e){super(),hu(this,e,qp,Fp,Dc,{value:4,isFullWidth:0})}}const Zp="ACCESS_DENIED",Yp="INVALID_REQUEST",Xp="INVALID_GRANT",Kp="INVALID_NONCE",Qp="ITA_RATE_LIMITED",Jp="ITA_RATE_LIMITED_RESTRICTED",em="ITA_WRITE_LANGUAGE_NOT_SUPPORTED",tm="ITA_TRANSLATE_LANGUAGE_NOT_SUPPORTED",nm="ITA_WRITE_GENERIC_ERROR",om="ITA_TRANSLATE_GENERIC_ERROR",im="ITA_TOKEN_EXPIRED",sm="PROTOCOL_ERROR",rm="NETWORK_ERROR",am="FULL_PAGE_SERVER_ERROR",lm="-32003",cm="429",dm="403",um="401",pm="1045601",mm="1042902";function gm(){return!!chrome&&!!chrome.tabs}const hm=vu(!1);function fm(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',gd(t,"class","dl-close-icon svelte-nsrzuc")},m(i,s){od(i,t,s),n||(o=ud(t,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&id(t),n=!1,o()}}}function _m(e){let t,n,o,i,s,r;const a=e[2].default,l=Gc(a,e,e[1],null);let c=e[0]&&fm(e);return{c(){t=rd("div"),n=rd("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=cd(),i=rd("div"),l&&l.c(),s=cd(),c&&c.c(),gd(n,"class","icon-container svelte-nsrzuc"),gd(i,"class","message svelte-nsrzuc"),gd(t,"class","error-msg svelte-nsrzuc")},m(e,a){od(e,t,a),ed(t,n),ed(t,o),ed(t,i),l&&l.m(i,null),ed(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&zc(l,a,e,e[1],r?Bc(a,e[1],n,null):Wc(e[1]),null),e[0]?c?c.p(e,n):(c=fm(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(iu(l,e),r=!0)},o(e){su(l,e),r=!1},d(e){e&&id(t),l&&l.d(e),c&&c.d()}}}function vm(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class wm extends fu{constructor(e){super(),hu(this,e,vm,_m,Dc,{close:0})}}function Tm(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',gd(t,"class","dl-close-icon svelte-kyufep")},m(i,s){od(i,t,s),n||(o=ud(t,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&id(t),n=!1,o()}}}function bm(e){let t,n,o,i,s,r;const a=e[2].default,l=Gc(a,e,e[1],null);let c=e[0]&&Tm(e);return{c(){t=rd("div"),n=rd("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=cd(),i=rd("div"),l&&l.c(),s=cd(),c&&c.c(),gd(n,"class","icon-container svelte-kyufep"),gd(i,"class","message svelte-kyufep"),gd(t,"class","warn-msg svelte-kyufep")},m(e,a){od(e,t,a),ed(t,n),ed(t,o),ed(t,i),l&&l.m(i,null),ed(t,s),c&&c.m(t,null),r=!0},p(e,[n]){l&&l.p&&(!r||2&n)&&zc(l,a,e,e[1],r?Bc(a,e[1],n,null):Wc(e[1]),null),e[0]?c?c.p(e,n):(c=Tm(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){r||(iu(l,e),r=!0)},o(e){su(l,e),r=!1},d(e){e&&id(t),l&&l.d(e),c&&c.d()}}}function ym(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Em extends fu{constructor(e){super(),hu(this,e,ym,bm,Dc,{close:0})}}function $m(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,gd(t,"data-qa","error-message-generic")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class xm extends fu{constructor(e){super(),hu(this,e,null,$m,Dc,{})}}function Sm(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_write_error")}`,gd(t,"data-qa","error-message-generic")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class Cm extends fu{constructor(e){super(),hu(this,e,null,Sm,Dc,{})}}function Lm(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class km extends fu{constructor(e){super(),hu(this,e,null,Lm,Dc,{})}}function Am(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class Im extends fu{constructor(e){super(),hu(this,e,null,Am,Dc,{})}}const Mm="DOCS_GOOGLE_COM_FEEDBACK_FORM",Om="NEW_FEEDBACK_FORM",Rm="DEEPL_COM_PRO",Nm="DEEPL_COM_PRO_WRITE",Dm="DEEPL_COM_TRANSLATOR",Pm="DEEPL_COM_HOMEPAGE",Um="DEEPL_COM_WRITE",Gm="SHORTCUT_SETTINGS",Hm="CHROME_WRITE_A_REVIEW",Bm="EDGE_WRITE_A_REVIEW",zm="GMAIL_FEEDBACK_SURVEY",Wm="GSLIDES_FEEDBACK_SURVEY",jm="FIREFOX_WRITE_A_REVIEW",Fm="DEEPL_SUPPORT",qm="FIREFOX_FEEDBACK_SURVEY",Vm="CUSTOMER_SEGMENTATION_SURVEY_FREE",Zm="CUSTOMER_SEGMENTATION_SURVEY_PRO",Ym="ARABIC_SURVEY",Xm="ADDINS_ADS";function Km(e){let t,n,o,i,s,r;return{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=cd(),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,gd(i,"class","link svelte-1mpkjv7"),gd(t,"class","container svelte-1mpkjv7")},m(a,l){od(a,t,l),ed(t,n),ed(t,o),ed(t,i),s||(r=ud(i,"click",e[0]),s=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),s=!1,r()}}}function Qm(e){return[function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"warning_user_unauthorised"}})}]}class Jm extends fu{constructor(e){super(),hu(this,e,Qm,Km,Dc,{})}}function eg(e){let t,n,o,i,s,r;return{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=cd(),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,gd(i,"class","link svelte-1mpkjv7"),gd(t,"class","container svelte-1mpkjv7")},m(a,l){od(a,t,l),ed(t,n),ed(t,o),ed(t,i),s||(r=ud(i,"click",e[0]),s=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),s=!1,r()}}}function tg(e){return[function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"warning_user_blocked"}})}]}class ng extends fu{constructor(e){super(),hu(this,e,tg,eg,Dc,{})}}function og(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class ig extends fu{constructor(e){super(),hu(this,e,null,og,Dc,{})}}function sg(e,t,n){const o=e.slice();return o[1]=t[n],o}function rg(e){let t,n=e[1].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function ag(e){let t,n,o;return{c(){t=rd("span"),t.textContent=`${e[1].text} `,gd(t,"class","link svelte-1mpkjv7")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[0]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function lg(e){let t;let n=function(e){return"deeplSupportLink"===e[1].block?ag:rg}(e),o=n(e);return{c(){o.c(),t=dd()},m(e,n){o.m(e,n),od(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&id(t),o.d(e)}}}function cg(e){let t,n=du(sp(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=lg(sg(e,n,t));return{c(){t=rd("div");for(let e=0;e<o.length;e+=1)o[e].c();gd(t,"class","container svelte-1mpkjv7")},m(e,n){od(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,[i]){if(1&i){let s;for(n=du(sp(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"])),s=0;s<n.length;s+=1){const r=sg(e,n,s);o[s]?o[s].p(r,i):(o[s]=lg(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},i:Ac,o:Ac,d(e){e&&id(t),sd(o,e)}}}function dg(e){return[function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Fm}})}]}class ug extends fu{constructor(e){super(),hu(this,e,dg,cg,Dc,{})}}function pg(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class mg extends fu{constructor(e){super(),hu(this,e,null,pg,Dc,{})}}function gg(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class hg extends fu{constructor(e){super(),hu(this,e,null,gg,Dc,{})}}function fg(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class _g extends fu{constructor(e){super(),hu(this,e,null,fg,Dc,{})}}function vg(e,t,n){const o=e.slice();return o[5]=t[n],o}function wg(e){let t,n=e[5].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function Tg(e){let t,n,o=e[5].text+"";return{c(){t=rd("strong"),n=ld(o)},m(e,o){od(e,t,o),ed(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function bg(e){let t;function n(e,t){return"strong"===e[5].block?Tg:wg}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function yg(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1mvy8b2")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function Eg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g=du(sp(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),h=[];for(let t=0;t<g.length;t+=1)h[t]=bg(vg(e,g,t));let f=e[1]&&yg(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,i=cd(),s=rd("p");for(let e=0;e<h.length;e+=1)h[e].c();r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=cd(),d=rd("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=cd(),f&&f.c(),gd(o,"class","svelte-1mvy8b2"),gd(s,"class","description svelte-1mvy8b2"),gd(n,"class","messages svelte-1mvy8b2"),bd(n,"small",e[0].small),gd(l,"class","log-in svelte-1mvy8b2"),gd(d,"class","sign-up svelte-1mvy8b2"),gd(a,"class","actions svelte-1mvy8b2"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1mvy8b2"),gd(t,"data-testid","error-message-anonymous-limit-exceeded"),bd(t,"small",e[0].small)},m(g,_){od(g,t,_),ed(t,n),ed(n,o),ed(n,i),ed(n,s);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(s,null);ed(t,r),ed(t,a),ed(a,l),ed(a,c),ed(a,d),ed(t,u),f&&f.m(t,null),p||(m=[ud(l,"click",e[3]),ud(d,"click",e[4])],p=!0)},p(e,[o]){if(4&o){let t;for(g=du(sp(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"])),t=0;t<g.length;t+=1){const n=vg(e,g,t);h[t]?h[t].p(n,o):(h[t]=bg(n),h[t].c(),h[t].m(s,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=g.length}1&o&&bd(n,"small",e[0].small),1&o&&bd(a,"small",e[0].small),e[1]?f?f.p(e,o):(f=yg(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),sd(h,e),f&&f.d(),p=!1,Rc(m)}}}function $g(e,t,n){let{config:o}=t,{close:i}=t,s="";return Md((()=>{Qn({action:Hn.dlGetUsersCharacterLimit}).then((e=>n(2,s=e.toString()))),Qn({action:Zn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:fn}})})),Od((()=>{Qn({action:Zn.dlTrackUpgradeNotificationClosed,payload:{type:fn}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){Qn({action:Hn.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:fn,cta:bn}})},function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"notification_anonymous_user_limit_exceeded"}}),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:fn,cta:yn}})}]}class xg extends fu{constructor(e){super(),hu(this,e,$g,Eg,Dc,{config:0,close:1})}}function Sg(e,t,n){const o=e.slice();return o[4]=t[n],o}function Cg(e){let t,n=e[4].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function Lg(e){let t,n,o=e[4].text+"";return{c(){t=rd("strong"),n=ld(o)},m(e,o){od(e,t,o),ed(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function kg(e){let t;function n(e,t){return"strong"===e[4].block?Lg:Cg}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function Ag(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1i5r4eu")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function Ig(e){let t,n,o,i,s,r,a,l,c,d,u,p=du(sp(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),m=[];for(let t=0;t<p.length;t+=1)m[t]=kg(Sg(e,p,t));let g=e[1]&&Ag(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=cd(),s=rd("p");for(let e=0;e<m.length;e+=1)m[e].c();r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=cd(),g&&g.c(),gd(o,"class","svelte-1i5r4eu"),gd(s,"class","description svelte-1i5r4eu"),gd(n,"class","messages svelte-1i5r4eu"),bd(n,"small",e[0].small),gd(l,"class","sign-up svelte-1i5r4eu"),gd(a,"class","actions svelte-1i5r4eu"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1i5r4eu"),gd(t,"data-testid","error-message-limit-exceeded-free-account"),bd(t,"small",e[0].small)},m(p,h){od(p,t,h),ed(t,n),ed(n,o),ed(n,i),ed(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(s,null);ed(t,r),ed(t,a),ed(a,l),ed(t,c),g&&g.m(t,null),d||(u=ud(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(p=du(sp(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"])),t=0;t<p.length;t+=1){const n=Sg(e,p,t);m[t]?m[t].p(n,o):(m[t]=kg(n),m[t].c(),m[t].m(s,null))}for(;t<m.length;t+=1)m[t].d(1);m.length=p.length}1&o&&bd(n,"small",e[0].small),1&o&&bd(a,"small",e[0].small),e[1]?g?g.p(e,o):(g=Ag(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),sd(m,e),g&&g.d(),d=!1,u()}}}function Mg(e,t,n){let{config:o}=t,{close:i}=t,s="";return Md((()=>{Qn({action:Hn.dlGetUsersCharacterLimit}).then((e=>n(2,s=e.toString()))),Qn({action:Zn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:_n}})})),Od((()=>{Qn({action:Zn.dlTrackUpgradeNotificationClosed,payload:{type:_n}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"notification_free_account_limit_exceeded"}}),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:_n,cta:Tn}})}]}class Og extends fu{constructor(e){super(),hu(this,e,Mg,Ig,Dc,{config:0,close:1})}}function Rg(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1uko7yn")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function Ng(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_translator_subscribe_to_paid_body")+"",m=e[1]&&Rg(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_translator_free_title")}`,i=cd(),s=rd("p"),r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_translator_cta")}`,c=cd(),m&&m.c(),gd(o,"class","svelte-1uko7yn"),gd(s,"class","description svelte-1uko7yn"),gd(n,"class","messages small svelte-1uko7yn"),bd(n,"small",e[0].small),gd(l,"class","sign-up svelte-1uko7yn"),gd(a,"class","actions svelte-1uko7yn"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1uko7yn"),gd(t,"data-testid","error-message-limit-exceeded-translator-free-write-pro"),bd(t,"small",e[0].small)},m(g,h){od(g,t,h),ed(t,n),ed(n,o),ed(n,i),ed(n,s),s.innerHTML=p,ed(t,r),ed(t,a),ed(a,l),ed(t,c),m&&m.m(t,null),d||(u=ud(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&bd(n,"small",e[0].small),1&o&&bd(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Rg(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),m&&m.d(),d=!1,u()}}}function Dg(e,t,n){let{config:o}=t,{close:i}=t;return Md((()=>{Qn({action:Zn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:_n}})})),Od((()=>{Qn({action:Zn.dlTrackUpgradeNotificationClosed,payload:{type:_n}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"notification_translator_limit_exceeded_with_write_pro"}}),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:_n,cta:Tn}})}]}class Pg extends fu{constructor(e){super(),hu(this,e,Dg,Ng,Dc,{config:0,close:1})}}function Ug(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,gd(t,"class","log-in svelte-1tmoo4x")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[4]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function Gg(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1tmoo4x")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function Hg(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",g=!e[2]&&Ug(e),h=e[1]&&Gg(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=cd(),s=rd("p"),r=cd(),a=rd("div"),g&&g.c(),l=cd(),c=rd("button"),c.textContent=`${chrome.i18n.getMessage("limit_popup_try_for_free_cta")}`,d=cd(),h&&h.c(),gd(o,"class","svelte-1tmoo4x"),gd(s,"class","description svelte-1tmoo4x"),gd(n,"class","messages svelte-1tmoo4x"),bd(n,"small",e[0].small),gd(c,"class","sign-up svelte-1tmoo4x"),gd(a,"class","actions svelte-1tmoo4x"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1tmoo4x"),gd(t,"data-testid","error-message-limit-exceeded-translator-free-write-anon-or-free"),bd(t,"small",e[0].small)},m(f,_){od(f,t,_),ed(t,n),ed(n,o),ed(n,i),ed(n,s),s.innerHTML=m,ed(t,r),ed(t,a),g&&g.m(a,null),ed(a,l),ed(a,c),ed(t,d),h&&h.m(t,null),u||(p=ud(c,"click",e[3]),u=!0)},p(e,[o]){1&o&&bd(n,"small",e[0].small),e[2]?g&&(g.d(1),g=null):g?g.p(e,o):(g=Ug(e),g.c(),g.m(a,l)),1&o&&bd(a,"small",e[0].small),e[1]?h?h.p(e,o):(h=Gg(e),h.c(),h.m(t,null)):h&&(h.d(1),h=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),g&&g.d(),h&&h.d(),u=!1,p()}}}function Bg(e,t,n){let o,i;Uc(e,yu,(e=>n(5,i=e)));let{config:s}=t,{close:r}=t;return Md((()=>{Qn({action:Zn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?wn:vn}})})),Od((()=>{Qn({action:Zn.dlTrackUpgradeNotificationClosed,payload:{type:o?wn:vn}})})),e.$$set=e=>{"config"in e&&n(0,s=e.config),"close"in e&&n(1,r=e.close)},e.$$.update=()=>{32&e.$$.dirty&&n(2,o=ro(i))},[s,r,o,function(){let e="notification_free_account_limit_exceeded_write";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case It.gmail:e="gmail_customization_write";break;case It.gslides:e="gslides_customization_write"}Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Nm,utmContent:e}}),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:o?wn:vn,cta:Tn}})},function(){Qn({action:Hn.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)})),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:o?wn:vn,cta:bn}})},i]}class zg extends fu{constructor(e){super(),hu(this,e,Bg,Hg,Dc,{config:0,close:1})}}function Wg(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1i5r4eu")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function jg(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("limit_popup_write_anon_free_body")+"",m=e[1]&&Wg(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("limit_popup_write_title")}`,i=cd(),s=rd("p"),r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_upgrade_write_cta")}`,c=cd(),m&&m.c(),gd(o,"class","svelte-1i5r4eu"),gd(s,"class","description svelte-1i5r4eu"),gd(n,"class","messages svelte-1i5r4eu"),bd(n,"small",e[0].small),gd(l,"class","sign-up svelte-1i5r4eu"),gd(a,"class","actions svelte-1i5r4eu"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1i5r4eu"),gd(t,"data-testid","error-message-limit-exceeded-translator-pro-write-anon-or-free"),bd(t,"small",e[0].small)},m(g,h){od(g,t,h),ed(t,n),ed(n,o),ed(n,i),ed(n,s),s.innerHTML=p,ed(t,r),ed(t,a),ed(a,l),ed(t,c),m&&m.m(t,null),d||(u=ud(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&bd(n,"small",e[0].small),1&o&&bd(a,"small",e[0].small),e[1]?m?m.p(e,o):(m=Wg(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),m&&m.d(),d=!1,u()}}}function Fg(e,t,n){let o,i;Uc(e,yu,(e=>n(3,i=e)));let{config:s}=t,{close:r}=t;return Md((()=>{Qn({action:Zn.dlTrackUpgradeNotificationIsDisplayed,payload:{type:o?wn:vn}})})),Od((()=>{Qn({action:Zn.dlTrackUpgradeNotificationClosed,payload:{type:o?wn:vn}})})),e.$$set=e=>{"config"in e&&n(0,s=e.config),"close"in e&&n(1,r=e.close)},e.$$.update=()=>{8&e.$$.dirty&&(o=ro(i))},[s,r,function(){let e="notification_write_limit_exceeded_with_translator_pro";if(s&&s.nicheIntegration)switch(s.nicheIntegration){case It.gmail:e="gmail_customization_write";break;case It.gslides:e="gslides_customization_write"}Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Nm,utmContent:e}}),Qn({action:Zn.dlTrackUpgradeNotificationAction,payload:{type:o?wn:vn,cta:Tn}})},i]}class qg extends fu{constructor(e){super(),hu(this,e,Fg,jg,Dc,{config:0,close:1})}}function Vg(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("write_language_not_supported")}`,gd(t,"data-qa","error-message-write-language-not-supported")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class Zg extends fu{constructor(e){super(),hu(this,e,null,Vg,Dc,{})}}function Yg(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("translate_language_not_supported")}`,gd(t,"data-qa","error-message-translate-language-not-supported")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class Xg extends fu{constructor(e){super(),hu(this,e,null,Yg,Dc,{})}}function Kg(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M4 12L12 4M4 4L12 12"),gd(n,"stroke","white"),gd(n,"stroke-width","1.5"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(t,"width","16"),gd(t,"height","16"),gd(t,"viewBox","0 0 16 16"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"class","svelte-1mvy8b2")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function Qg(e){let t,n,o,i,s,r,a,l,c,d,u,p=e[1]&&Kg(e);return{c(){t=rd("div"),n=rd("div"),o=rd("h1"),o.textContent=`${chrome.i18n.getMessage("policy_login_prompt_title")}`,i=cd(),s=rd("p"),s.textContent=`${chrome.i18n.getMessage("policy_login_prompt_description")}`,r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("limit_popup_login_cta")}`,c=cd(),p&&p.c(),gd(o,"class","svelte-1mvy8b2"),gd(s,"class","description svelte-1mvy8b2"),gd(n,"class","messages svelte-1mvy8b2"),bd(n,"small",e[0].small),gd(l,"class","sign-up svelte-1mvy8b2"),gd(a,"class","actions svelte-1mvy8b2"),bd(a,"small",e[0].small),gd(t,"class","container svelte-1mvy8b2"),gd(t,"data-testid","error-message-policy-login-required"),bd(t,"small",e[0].small)},m(m,g){od(m,t,g),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(t,r),ed(t,a),ed(a,l),ed(t,c),p&&p.m(t,null),d||(u=ud(l,"click",e[2]),d=!0)},p(e,[o]){1&o&&bd(n,"small",e[0].small),1&o&&bd(a,"small",e[0].small),e[1]?p?p.p(e,o):(p=Kg(e),p.c(),p.m(t,null)):p&&(p.d(1),p=null),1&o&&bd(t,"small",e[0].small)},i:Ac,o:Ac,d(e){e&&id(t),p&&p.d(),d=!1,u()}}}function Jg(e,t,n){let{config:o}=t,{close:i}=t;return Md((()=>{Qn({action:Zn.dlTrackPolicyLoginRequiredNotification,payload:{notificationType:q}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,function(){Qn({action:Hn.dlRequestLogin}).then((()=>{})).catch((e=>{console.log(e)}))}]}class eh extends fu{constructor(e){super(),hu(this,e,Jg,Qg,Dc,{config:0,close:1})}}function th(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1],close:e[0]}}}return i&&(t=$d(i,s(e))),{c(){t&&pu(t.$$.fragment),n=dd()},m(e,i){t&&mu(t,e,i),od(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){nu();const e=t;su(e.$$.fragment,1,0,(()=>{gu(e,1)})),ou()}i?(t=$d(i,s(e)),pu(t.$$.fragment),iu(t.$$.fragment,1),mu(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),1&o&&(n.close=e[0]),t.$set(n)}},i(e){o||(t&&iu(t.$$.fragment,e),o=!0)},o(e){t&&su(t.$$.fragment,e),o=!1},d(e){e&&id(n),t&&gu(t,e)}}}function nh(e){let t,n;return t=new Em({props:{close:e[0],config:e[1],$$slots:{default:[ih]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function oh(e){let t,n;return t=new wm({props:{close:e[0],config:e[1],$$slots:{default:[sh]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),262&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function ih(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1]}}}return i&&(t=$d(i,s(e))),{c(){t&&pu(t.$$.fragment),n=dd()},m(e,i){t&&mu(t,e,i),od(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){nu();const e=t;su(e.$$.fragment,1,0,(()=>{gu(e,1)})),ou()}i?(t=$d(i,s(e)),pu(t.$$.fragment),iu(t.$$.fragment,1),mu(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&iu(t.$$.fragment,e),o=!0)},o(e){t&&su(t.$$.fragment,e),o=!1},d(e){e&&id(n),t&&gu(t,e)}}}function sh(e){let t,n,o;var i=e[2];function s(e,t){return{props:{config:e[1]}}}return i&&(t=$d(i,s(e))),{c(){t&&pu(t.$$.fragment),n=dd()},m(e,i){t&&mu(t,e,i),od(e,n,i),o=!0},p(e,o){if(4&o&&i!==(i=e[2])){if(t){nu();const e=t;su(e.$$.fragment,1,0,(()=>{gu(e,1)})),ou()}i?(t=$d(i,s(e)),pu(t.$$.fragment),iu(t.$$.fragment,1),mu(t,n.parentNode,n)):t=null}else if(i){const n={};2&o&&(n.config=e[1]),t.$set(n)}},i(e){o||(t&&iu(t.$$.fragment,e),o=!0)},o(e){t&&su(t.$$.fragment,e),o=!1},d(e){e&&id(n),t&&gu(t,e)}}}function rh(e){let t,n,o,i;const s=[oh,nh,th],r=[];function a(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=dd()},m(e,n){~t&&r[t].m(e,n),od(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),iu(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(iu(n),i=!0)},o(e){su(n),i=!1},d(e){e&&id(o),~t&&r[t].d(e)}}}function ah(e,t,n){let o,i,{error:s}=t,{close:r}=t,{config:a={}}=t;const l={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},c={[ku]:xm,[Au]:km,[Iu]:Im,[Ru]:ig,[Zp]:hg,[Xp]:hg,[Yp]:hg,[Kp]:hg,[Ou]:ng,[Du]:ng,[Gu]:_g,[Mu]:Jm,[Nu]:ug,[Uu]:mg,[Hu]:Og,[Bu]:xg,[zu]:Pg,[Wu]:zg,[ju]:qg,[sm]:xm,[rm]:km,[Lu]:km,[am]:Im,[dm]:Jm,[cm]:ng,[mm]:ng,[lm]:Jm,[pm]:ug,[um]:ig,[Qp]:ug,[Jp]:ug,[em]:Zg,[tm]:Xg,[om]:xm,[nm]:Cm,[im]:hg,[Fu]:eh};return Md((()=>{gm()?eo({action:"dlErrorVisibility",payload:{state:!0}}):hm.set(!0)})),Od((()=>{gm()?eo({action:"dlErrorVisibility",payload:{state:!1}}):hm.set(!1)})),e.$$set=e=>{"error"in e&&n(5,s=e.error),"close"in e&&n(0,r=e.close),"config"in e&&n(1,a=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,o=function(e){switch(e){case ku:case Au:case Iu:case Ru:case sm:case rm:case am:case dm:case Zp:case Xp:case Yp:case Kp:case Uu:case om:case nm:case Lu:return l.SERIOUS;case Ou:case Du:case cm:case mm:case Gu:case Mu:case Nu:case lm:case pm:case Qp:case Jp:case em:case tm:return l.WARNING;case Hu:case Bu:case Wu:case ju:case zu:case Fu:return l.CUSTOM;default:return l.UNKNOWN}}(s?s.error:"")),32&e.$$.dirty&&n(2,i=s&&c[s.error]||xm)},[r,a,i,o,l,s]}class lh extends fu{constructor(e){super(),hu(this,e,ah,rh,Dc,{error:5,close:0,config:1})}}function ch(e){let t,n,o,i,s,r,a,l,c;return i=new lh({props:{error:e[3]}}),{c(){t=rd("div"),n=rd("button"),o=cd(),pu(i.$$.fragment),gd(n,"class","close-button svelte-6y44uj"),gd(t,"class","dl-zendesk-error-message svelte-6y44uj"),gd(t,"dir",ns())},m(s,r){od(s,t,r),ed(t,n),ed(t,o),mu(i,t,null),a=!0,l||(c=[ud(n,"click",e[8]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[8])],l=!0)},p(e,t){const n={};8&t[0]&&(n.error=e[3]),i.$set(n)},i(e){a||(iu(i.$$.fragment,e),Fd((()=>{a&&(r&&r.end(1),s=au(t,np,{y:-5,duration:300}),s.start())})),a=!0)},o(e){su(i.$$.fragment,e),s&&s.invalidate(),r=lu(t,np,{y:-5,duration:300}),a=!1},d(e){e&&id(t),gu(i),e&&r&&r.end(),l=!1,Rc(c)}}}function dh(e){let t,n;return t=new Vp({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function uh(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<span class="svelte-6y44uj"></span>',gd(t,"class","dl-zendesk-input-icon svelte-6y44uj"),bd(t,"is-active",e[1]),bd(t,"is-loading",e[2]),bd(t,"is-language-mismatching",e[0])},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[7]),n=!0)},p(e,n){2&n[0]&&bd(t,"is-active",e[1]),4&n[0]&&bd(t,"is-loading",e[2]),1&n[0]&&bd(t,"is-language-mismatching",e[0])},d(e){e&&id(t),n=!1,o()}}}function ph(e){let t,n,o,i,s,r=e[3]&&ch(e),a=e[4]&&dh(e);return i=new Np({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[uh]},$$scope:{ctx:e}}}),{c(){r&&r.c(),t=cd(),n=rd("div"),a&&a.c(),o=cd(),pu(i.$$.fragment),gd(n,"class","dl-icons-holder svelte-6y44uj"),gd(n,"dir",ns()),bd(n,"has-formality",e[4])},m(e,l){r&&r.m(e,l),od(e,t,l),od(e,n,l),a&&a.m(n,null),ed(n,o),mu(i,n,null),s=!0},p(e,l){e[3]?r?(r.p(e,l),8&l[0]&&iu(r,1)):(r=ch(e),r.c(),iu(r,1),r.m(t.parentNode,t)):r&&(nu(),su(r,1,1,(()=>{r=null})),ou()),e[4]?a?(a.p(e,l),16&l[0]&&iu(a,1)):(a=dh(e),a.c(),iu(a,1),a.m(n,o)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou());const c={};32&l[0]&&(c.tooltip=e[5]),7&l[0]|4&l[1]&&(c.$$scope={dirty:l,ctx:e}),i.$set(c),(!s||16&l[0])&&bd(n,"has-formality",e[4])},i(e){s||(iu(r),iu(a),iu(i.$$.fragment,e),s=!0)},o(e){su(r),su(a),su(i.$$.fragment,e),s=!1},d(e){e&&(id(t),id(n)),r&&r.d(e),a&&a.d(),gu(i)}}}function mh(e,t,n){let o,s,r;Uc(e,yu,(e=>n(6,r=e))),Nd("text_direction",ns());let a,l,c,d,{controller:u}=t,{editable:p}=t,m=!1,g=!1,h=!1,f=!1,_="",v="",w=!1;const T=()=>{n(1,m=!0)},b=()=>{n(1,m=!1)};async function y(e,t,n){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==p)return;try{Qn({action:Zn.dlTrackUseOfShortcut,payload:{shortcutType:it,location:Q}})}catch(e){console.error(e)}await E(),n()}return!0}const E=async()=>{if(f)return;const e=To(),t=()=>{if(e){const e=window.getSelection().toString();navigator.clipboard.writeText(e).then((()=>{$(e)})).catch((e=>{console.error("Unable to copy text to clipboard",e)}))}else{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});g=!0,p.dispatchEvent(e)}},n=window.getSelection();let o;o=e?n&&n.anchorNode&&"#text"==n.anchorNode.nodeName&&"Range"==n.type&&p.contains(n.anchorNode):n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&p.contains(n.baseNode),0!==p.innerText.trim().length&&(o?t():(await fp(p),setTimeout(t,300)))},$=async e=>{g=!1,n(2,f=!0),n(0,w=!1);const t=u.getTicketLanguageInformation()?.language,i=u.getInputWorkingArea();i.innerHTML=Ci(e);const[s,a]=await CR({element:i,targetLang:t,content:e,...o&&["formal","informal"].includes(r.zendeskFormality)&&{formality:r.zendeskFormality}});a?(console.error({e:a}),n(3,c=a),GR({eventType:jt,controller:u,error:a.error||a.message})):s&&C(s,e),n(2,f=!1)},x=async e=>{if(!g)return;g=!1,n(2,f=!0),n(0,w=!1);const t=u.getTicketLanguageInformation()?.language,i=e.clipboardData.getData("text/html"),s=u.getInputWorkingArea(),[a,l]=await CR({element:s,targetLang:t,content:i,...o&&["formal","informal"].includes(r.zendeskFormality)&&{formality:r.zendeskFormality}});l?(console.error({e:l}),n(3,c=l),GR({eventType:jt,controller:u,error:l.error||l.message})):a&&C(a,i),n(2,f=!1)},S=()=>{if(!h)return;h=!1;window.getSelection().collapse(null)},C=(e,t)=>{const n=Ci(e);if(To())document.execCommand("insertText",!1,n),h=!0;else{const e=new DataTransfer;e.setData("text/html",n);const t=new ClipboardEvent("paste",{bubbles:!0,clipboardData:e});h=!0,p.dispatchEvent(t)}GR({eventType:Wt,controller:u,sourceTextLength:t.length,targetTextLength:n.length})},L=()=>{const e=p.innerText;e!==v&&(v=e,d&&(clearTimeout(d),d=void 0),d=setTimeout(k,400))},k=async()=>{const e=u.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=p.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let o=await Yi(t),i=e.language;o=Qi(o),i=Qi(i);let s=!1;o&&i&&o!==i&&(s=!0),w!==s&&n(0,w=s)}else console.log("There is no content"),n(0,w=!1),A()},A=()=>{a&&a.resetTooltip()};return Md((()=>{chrome.runtime.onMessage.addListener(y),Qn({action:Fn.dlCheckCommandShortcuts}).then((e=>{n(14,_=e?e.filter((e=>e.name==it))[0].shortcut:"")})),p.addEventListener("focus",T),p.addEventListener("blur",b),p.addEventListener("copy",x),p.addEventListener("paste",S),p.addEventListener("keydown",L),a=dv(u),document.activeElement===p&&T()})),Od((()=>{chrome.runtime.onMessage.removeListener(y),p&&(p.removeEventListener("focus",T),p.removeEventListener("blur",b),p.removeEventListener("copy",x),p.removeEventListener("paste",S),p.removeEventListener("keydown",L),a&&(a.cleanupDOM(),a.remove()))})),e.$$set=e=>{"controller"in e&&n(10,u=e.controller),"editable"in e&&n(11,p=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&n(4,o=ts(l)),49152&e.$$.dirty[0]&&n(5,s=i.find((e=>e.langCode===l))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(_?` (${_})`:""):""),1&e.$$.dirty[0]&&a&&a.setIsLanguageMismatching(w)},[w,m,f,c,o,s,r,E,()=>{n(3,c=void 0)},e=>{const t=e.detail.selectedOption.value;Fc(yu,r.zendeskFormality=t,r)},u,p,e=>{n(15,l=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&p.contains(e.baseNode)},_,l]}class gh extends fu{constructor(e){super(),hu(this,e,mh,ph,Dc,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class hh{static HTML_TAG_NAME="deepl-zendesk-input-icon";static createElement=(e=document)=>{const t=e.createElement(hh.HTML_TAG_NAME),n=new hh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getInputHasSelection=n.getInputHasSelection,t.updateTargetLanguage=n.updateTargetLanguage,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,editable:t})=>{this.domElement.mainComponent=new gh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})};getInputHasSelection=()=>this.domElement.mainComponent.getInputHasSelection();updateTargetLanguage=e=>{this.domElement.mainComponent?.updateTargetLanguage(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function fh(e,t,n){const o=e.slice();return o[16]=t[n],o[18]=n,o}function _h(e){let t,n,o=!e[0]&&wh(e),i=du(e[3]),s=[];for(let t=0;t<i.length;t+=1)s[t]=yh(fh(e,i,t));return{c(){t=rd("div"),o&&o.c(),n=cd();for(let e=0;e<s.length;e+=1)s[e].c();gd(t,"class","dl-zendesk-translation-placeholder svelte-1xx4hw"),gd(t,"dir",ns()),bd(t,"loading-skeleton",e[0])},m(e,i){od(e,t,i),o&&o.m(t,null),ed(t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,r):(o=wh(e),o.c(),o.m(t,n)),8&r){let n;for(i=du(e[3]),n=0;n<i.length;n+=1){const o=fh(e,i,n);s[n]?s[n].p(o,r):(s[n]=yh(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}1&r&&bd(t,"loading-skeleton",e[0])},i:Ac,o:Ac,d(e){e&&id(t),o&&o.d(),sd(s,e)}}}function vh(e){let t,n,o;return n=new lh({props:{error:e[2],close:e[6]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl-zendesk-translation-placeholder has-error svelte-1xx4hw")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};4&t&&(o.error=e[2]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function wh(e){let t,n,o;return{c(){t=rd("button"),gd(t,"class","close-button svelte-1xx4hw")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[5]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function Th(e){let t,n=Ci(e[16])+"";return{c(){t=rd("span"),gd(t,"class","svelte-1xx4hw")},m(e,o){od(e,t,o),t.innerHTML=n},p(e,o){8&o&&n!==(n=Ci(e[16])+"")&&(t.innerHTML=n)},d(e){e&&id(t)}}}function bh(e){let t;return{c(){t=rd("br")},m(e,n){od(e,t,n)},d(e){e&&id(t)}}}function yh(e){let t,n,o=e[16]&&Th(e),i=e[18]<e[3].length-1&&bh();return{c(){o&&o.c(),t=cd(),i&&i.c(),n=dd()},m(e,s){o&&o.m(e,s),od(e,t,s),i&&i.m(e,s),od(e,n,s)},p(e,s){e[16]?o?o.p(e,s):(o=Th(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[18]<e[3].length-1?i||(i=bh(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(id(t),id(n)),o&&o.d(e),i&&i.d(e)}}}function Eh(e){let t,n,o,i,s,r,a,l,c;const d=[vh,_h],u=[];function p(e,t){return e[2]?0:e[1]||e[0]?1:-1}return~(i=p(e))&&(s=u[i]=d[i](e)),{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=cd(),s&&s.c(),r=dd(),gd(n,"class","dl-zendesk-translate-this-ticket svelte-1xx4hw"),gd(t,"dir",ns())},m(s,d){od(s,t,d),ed(t,n),od(s,o,d),~i&&u[i].m(s,d),od(s,r,d),a=!0,l||(c=ud(n,"click",e[4]),l=!0)},p(e,[t]){let n=i;i=p(e),i===n?~i&&u[i].p(e,t):(s&&(nu(),su(u[n],1,1,(()=>{u[n]=null})),ou()),~i?(s=u[i],s?s.p(e,t):(s=u[i]=d[i](e),s.c()),iu(s,1),s.m(r.parentNode,r)):s=null)},i(e){a||(iu(s),a=!0)},o(e){su(s),a=!1},d(e){e&&(id(t),id(o),id(r)),~i&&u[i].d(e),l=!1,c()}}}function $h(e,t,n){let o,i;Uc(e,yu,(e=>n(14,i=e))),Nd("text_direction",ns());let s,{controller:r}=t,{message:a}=t,l=!1,c=!1,d=!1,u="",p=!1;const m=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,s=void 0);let t=K_(a).innerText;n(11,u=t);const[o,c]=await LR({targetLang:i.selectedTargetLanguage,sourceLang:r.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,s=c),p=!0,GR({eventType:jt,controller:r,error:c.error||c.message});else if(o){n(11,u=o),n(1,d=!0),GR({eventType:zt,controller:r,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,r=e.controller),"message"in e&&n(8,a=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,s,o,()=>{l||m({trigger:v})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),r.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,s=void 0)},r,a,()=>{!r.getIsAutoTranslatedEnabled()||d||l||c||p||m({trigger:_})},()=>{!d||l||c||m({trigger:v})},u]}class xh extends fu{constructor(e){super(),hu(this,e,$h,Eh,Dc,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class Sh{static HTML_TAG_NAME="deepl-zendesk-message-controller";static createElement=(e=document)=>{const t=e.createElement(Sh.HTML_TAG_NAME),n=new Sh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.processRefreshUI=n.processRefreshUI,t.triggerTranslateAgain=n.triggerTranslateAgain,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e,message:t})=>{this.domElement.mainComponent=new xh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})};processRefreshUI=()=>{this.domElement.mainComponent.processRefreshUI()};triggerTranslateAgain=()=>{this.domElement.mainComponent.triggerTranslateAgain()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Ch(e){let t,n,o,i,s,r,a,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=rd("div"),n=rd("button"),o=cd(),i=ld(d),gd(n,"class","dismiss-tooltip svelte-p7jbvt"),gd(t,"class","dl-zendesk-submit-button-tooltip svelte-p7jbvt"),_d(t,"max-width",(e[1].width||0)+"px"),_d(t,"bottom",e[0].height+12+"px"),gd(t,"dir",ns())},m(s,r){od(s,t,r),ed(t,n),ed(t,o),ed(t,i),a=!0,l||(c=ud(n,"click",e[4]),l=!0)},p(e,n){(!a||2&n)&&_d(t,"max-width",(e[1].width||0)+"px"),(!a||1&n)&&_d(t,"bottom",e[0].height+12+"px")},i(e){a||(Fd((()=>{a&&(r&&r.end(1),s=au(t,np,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=lu(t,np,{y:-5,duration:500}),a=!1},d(e){e&&id(t),e&&r&&r.end(),l=!1,c()}}}function Lh(e){let t,n,o=e[2]&&!e[3]&&Ch(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&iu(o,1)):(o=Ch(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function kh(e,t,n){Nd("text_direction",ns());let{coords:o}=t,{containerCoords:i}=t,s=!1,r=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,s,r,()=>{n(3,r=!0)},e=>{n(2,s=e)},()=>{console.log("Resetting tooltip..."),n(2,s=!1),n(3,r=!1)}]}class Ah extends fu{constructor(e){super(),hu(this,e,kh,Lh,Dc,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class Ih{static HTML_TAG_NAME="deepl-zendesk-submit-button-tooltip";static createElement=(e=document)=>{const t=e.createElement(Ih.HTML_TAG_NAME),n=new Ih(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setIsLanguageMismatching=n.setIsLanguageMismatching,t.resetTooltip=n.resetTooltip,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({coords:e,containerCoords:t})=>{this.domElement.mainComponent=new Ah({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})};setIsLanguageMismatching=e=>{this.domElement.mainComponent?.setIsLanguageMismatching(e)};resetTooltip=()=>{this.domElement.mainComponent?.resetTooltip()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Mh(e){let t,n,o;return{c(){t=rd("div"),n=cd(),o=rd("div"),gd(t,"class","dl-zendesk-icon svelte-i3vxpb"),gd(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){od(e,t,i),od(e,n,i),od(e,o,i)},p:Ac,i:Ac,o:Ac,d(e){e&&(id(t),id(n),id(o))}}}function Oh(e,t,n){let o;Uc(e,yu,(e=>n(17,o=e))),Nd("text_direction",ns());let s,{pane:r}=t,{ticketId:a}=t,{controller:l}=t,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1},d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},p=(e,t)=>{u[e]=t},m=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},g=async()=>{if(!s)return;let e;try{switch(s){case Ft:e=await Q_(r);break;case qt:e=await J_(r)}}catch(e){Ls()&&console.error({e:e})}e&&(e=Qi(e),n(13,c.hasAttemptedLanguageDetection=!0,c),n(13,c.language=e,c),n(13,c.isDetected=!0,c),n(13,c.isSupported=!!i.find((t=>t.langCode===e)),c),GR({eventType:Ut,controller:l}),uv(r))};return Md((()=>{GR({eventType:Pt,controller:l}),p("ticketTypeDetection",(()=>{const e=V_(r);return!!e&&(s=e,g(),!0)}))})),e.$$set=e=>{"pane"in e&&n(0,r=e.pane),"ticketId"in e&&n(1,a=e.ticketId),"controller"in e&&n(2,l=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&p("toolbarLanguageUpdate",(()=>ev(r,{language:c.language,isDetected:c.isDetected,isSupported:c.isSupported}))),8193&e.$$.dirty&&(p("inputIconLanguageUpdate",(()=>ov(r,c.language))),p("topIconLanguageUpdate",(()=>nv(r)))),16385&e.$$.dirty&&p("toolbarAutoTranslateStatus",(()=>{tv(r,{isEnabled:d})}))},[r,a,l,()=>r,()=>a,()=>c,()=>d,e=>{n(13,c.language=e.language,c),n(13,c.isDetected=e.isDetected,c),n(13,c.isSupported=e.isSupported,c)},e=>{n(14,d=e)},()=>s,e=>{s=e},async(e=!1)=>{if(e&&n(13,c={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1}),c.hasAttemptedLanguageDetection||await g(),H_(l,o.isZendeskEnabled),c.isSupported&&o.isZendeskEnabled){iv(l);for(const e of Z_(r)){const t=sv(e);t&&t.processRefreshUI()}}lv(r),m()},()=>{cv(r)},c,d]}class Rh extends fu{constructor(e){super(),hu(this,e,Oh,Mh,Dc,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class Nh{static HTML_TAG_NAME="deepl-zendesk-ticket-controller";static createElement=(e=document)=>{const t=e.createElement(Nh.HTML_TAG_NAME),n=new Nh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.getTicketId=n.getTicketId,t.getPane=n.getPane,t.getTicketLanguageInformation=n.getTicketLanguageInformation,t.getIsAutoTranslatedEnabled=n.getIsAutoTranslatedEnabled,t.setIsAutoTranslateEnabled=n.setIsAutoTranslateEnabled,t.getInputWorkingArea=n.getInputWorkingArea,t.setLanguageInformation=n.setLanguageInformation,t.getTicketType=n.getTicketType,t.setTicketType=n.setTicketType,t.processRefreshUI=n.processRefreshUI,t.getInputHasSelection=n.getInputHasSelection,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({ticketId:e,pane:t})=>{this.domElement.mainComponent=new Rh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:this.domElement,ticketId:e,pane:t}})};getTicketId=()=>this.domElement.mainComponent?.getTicketId();getPane=()=>this.domElement.mainComponent?.getPane();getTicketLanguageInformation=()=>this.domElement.mainComponent?.getTicketLanguageInformation();getIsAutoTranslatedEnabled=()=>this.domElement.mainComponent?.getIsAutoTranslatedEnabled();setIsAutoTranslateEnabled=e=>{this.domElement.mainComponent?.setIsAutoTranslateEnabled(e)};getInputWorkingArea=()=>this.domElement.shadowContainer.querySelector(".dl-zendesk-working-area");setLanguageInformation=e=>{this.domElement.mainComponent?.setLanguageInformation(e)};getTicketType=()=>this.domElement.mainComponent?.getTicketType();setTicketType=e=>{this.domElement.mainComponent?.setTicketType(e)};processRefreshUI=(e=!1)=>{this.domElement.mainComponent.processRefreshUI(e)};getInputHasSelection=()=>this.domElement.mainComponent?.getInputHasSelection();cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Dh(e){let t,n,o,i,s;return n=new jp({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=rd("div"),pu(n.$$.fragment)},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=ud(t,"mousedown",md(pd(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,s()}}}function Ph(e,t,n){let o,i;const s=Rd(),r=Xi();let{value:a}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,a=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...r]),96&e.$$.dirty&&n(2,i=c?a?r.find((e=>e.value===a)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==a&&s("selection",e.detail)},a,c,function(t){Pd.call(this,e,t)}]}class Uh extends fu{constructor(e){super(),hu(this,e,Ph,Dh,Dc,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function Gh(e){let t,n,o,i;function s(e,t){return e[1]?zh:Bh}let r=s(e),a=r(e);return{c(){t=rd("button"),a.c(),gd(t,"class","translate-all svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,s){od(n,t,s),a.m(t,null),o||(i=ud(t,"click",e[6]),o=!0)},p(e,o){r===(r=s(e))&&a?a.p(e,o):(a.d(1),a=r(e),a&&(a.c(),a.m(t,null))),1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},i:Ac,o:Ac,d(e){e&&id(t),a.d(),o=!1,i()}}}function Hh(e){let t,n;return t=new Np({props:{tooltip:chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[Wh]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.tooltip=chrome.i18n.getMessage(e[1]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),131073&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Bh(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function zh(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function Wh(e){let t,n,o,i;return{c(){t=rd("button"),gd(t,"class","translate-all btn-icon svelte-147seig"),t.disabled=n=!e[0].isSupported},m(n,s){od(n,t,s),o||(i=ud(t,"click",e[6]),o=!0)},p(e,o){1&o&&n!==(n=!e[0].isSupported)&&(t.disabled=n)},d(e){e&&id(t),o=!1,i()}}}function jh(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;c=new Uh({props:{value:e[0].language,isDetected:e[0].isDetected,isSupported:e[0].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const _=[Hh,Gh],v=[];function w(e,t){return"sm"===e[4]?0:1}return p=w(e),m=v[p]=_[p](e),{c(){t=rd("div"),n=rd("div"),o=rd("button"),i=cd(),s=rd("div"),r=rd("div"),r.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,a=cd(),l=rd("div"),pu(c.$$.fragment),d=cd(),u=rd("div"),m.c(),gd(o,"class","senders-language-toggle svelte-147seig"),gd(r,"class","label svelte-147seig"),gd(l,"class","dropdown-container svelte-147seig"),gd(s,"class","container svelte-147seig"),bd(s,"show",e[3]),gd(n,"class","senders-language svelte-147seig"),gd(u,"class","translate-all-container"),gd(t,"class","dl-zendesk-toolbar svelte-147seig"),gd(t,"dir",ns()),bd(t,"toolbar-sm","sm"===e[4]),bd(t,"toolbar-md","md"===e[4]),bd(t,"toolbar-lg","lg"===e[4])},m(m,_){od(m,t,_),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(s,r),ed(s,a),ed(s,l),mu(c,l,null),ed(t,d),ed(t,u),v[p].m(u,null),e[13](t),g=!0,h||(f=[ud(o,"click",e[7]),qc(kp.call(null,n,{isShadow:!0})),ud(n,"click_outside",e[12])],h=!0)},p(e,[n]){const o={};1&n&&(o.value=e[0].language),1&n&&(o.isDetected=e[0].isDetected),1&n&&(o.isSupported=e[0].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!g||8&n)&&bd(s,"show",e[3]);let i=p;p=w(e),p===i?v[p].p(e,n):(nu(),su(v[i],1,1,(()=>{v[i]=null})),ou(),m=v[p],m?m.p(e,n):(m=v[p]=_[p](e),m.c()),iu(m,1),m.m(u,null)),(!g||16&n)&&bd(t,"toolbar-sm","sm"===e[4]),(!g||16&n)&&bd(t,"toolbar-md","md"===e[4]),(!g||16&n)&&bd(t,"toolbar-lg","lg"===e[4])},i(e){g||(iu(c.$$.fragment,e),iu(m),g=!0)},o(e){su(c.$$.fragment,e),su(m),g=!1},d(n){n&&id(t),gu(c),v[p].d(),e[13](null),h=!1,Rc(f)}}}function Fh(e,t,n){let o;Nd("text_direction",ns());const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:s}=t;const r={language:"",isDetected:!1,isSupported:!1};let a,l,c,d=!1,u=!1;Md((()=>{c=Dp(a,(e=>{n(11,l=e.clientWidth)}))})),Od((()=>{c&&c()}));return e.$$set=e=>{"controller"in e&&n(8,s=e.controller)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(l))},[r,d,a,u,o,e=>{const t=e.detail.selectedOption.value;s.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),GR({eventType:Gt,controller:s,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!d;s.setIsAutoTranslateEnabled(e),GR({eventType:e?Ht:Bt,controller:s,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,u=!u)},s,({language:e,isDetected:t,isSupported:o})=>{n(0,r.language=e,r),n(0,r.isDetected=t,r),n(0,r.isSupported=o,r)},e=>{n(1,d=e)},l,()=>n(3,u=!1),function(e){Gd[e?"unshift":"push"]((()=>{a=e,n(2,a)}))}]}class qh extends fu{constructor(e){super(),hu(this,e,Fh,jh,Dc,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class Vh{static HTML_TAG_NAME="deepl-zendesk-toolbar";static createElement=(e=document)=>{const t=e.createElement(Vh.HTML_TAG_NAME),n=new Vh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.updateLanguageInformation=n.updateLanguageInformation,t.updateAutoTranslateStatus=n.updateAutoTranslateStatus,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new qh({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};updateLanguageInformation=e=>{this.domElement.mainComponent.updateLanguageInformation(e)};updateAutoTranslateStatus=e=>{this.domElement.mainComponent.updateAutoTranslateStatus(e)};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Zh(e){let t,n,o,i,s;return n=new lh({props:{error:e[1],close:e[2]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","container svelte-1wstx56"),gd(t,"dir",ns())},m(e,o){od(e,t,o),mu(n,t,null),s=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){s||(iu(n.$$.fragment,e),Fd((()=>{s&&(i&&i.end(1),o=au(t,np,{x:100,duration:1e3}),o.start())})),s=!0)},o(e){su(n.$$.fragment,e),o&&o.invalidate(),i=lu(t,np,{x:100,duration:1e3}),s=!1},d(e){e&&id(t),gu(n),e&&i&&i.end()}}}function Yh(e){let t,n,o=e[3]&&!1===e[0]&&Zh(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&iu(o,1)):(o=Zh(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function Xh(e,t,n){let o;Uc(e,hm,(e=>n(4,o=e))),Nd("text_direction",ns());let{error:i}=t,{close:s}=t,{errorAlreadyShown:r}=t,a=!1;return Md((()=>{setTimeout((()=>{n(3,a=!0),n(0,r=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,s=e.close),"errorAlreadyShown"in e&&n(0,r=e.errorAlreadyShown)},[r,i,s,a]}class Kh extends fu{constructor(e){super(),hu(this,e,Xh,Yh,Dc,{error:1,close:2,errorAlreadyShown:0})}}class Qh{constructor(e){this.createDOM=e=>{const t="rtl"===ns()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${t}: 20px; z-index: ${P.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new Kh({target:this.domElement.shadowContainer,props:{error:e,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=void 0;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function Jh(e){try{const t=Qh.createElement();document.documentElement.appendChild(t),t.createDOM(e),Ap((()=>t.cleanupDOM))}catch(e){Ls()&&console.log(e)}}Qh.HTML_TAG_NAME="deepl-alert",Qh.createElement=(e=document)=>{const t=e.createElement(Qh.HTML_TAG_NAME),n=new Qh(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const ef=function(){let e={isDarkMode:co()};const{subscribe:t,update:n}=vu(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>Object.assign(Object.assign({},e),{isDarkMode:co()})))})),{subscribe:t,update:e=>{if(Ls()&&!{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.DISABLE_DEBUG_LOGS){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>((null==e?void 0:e.error)?Jh(e.error):hm.set(!1),Object.assign(Object.assign(Object.assign({},t),e),{error:e.error?e.error:void 0}))))}}}();e.websiteData=void 0;const tf=ef.subscribe((t=>{e.websiteData=Object.assign({},t),t&&Object.keys(t).length>0&&Qn({action:Xn.newWebsiteState,payload:Object.assign({},t)})}));function nf(e,t,n){const o=e.slice();return o[27]=t[n],o}function of(e,t,n){const o=e.slice();return o[27]=t[n],o}function sf(e){let t,n,o,i,s;return n=new jp({props:{disabled:e[1],items:e[16],defaultOption:e[18],placeholder:e[17],dataQaButton:e[15],dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11],autoHeight:e[12]}}),n.$on("valueselected",e[20]),{c(){t=rd("div"),pu(n.$$.fragment)},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=ud(t,"mousedown",md(pd(e[25]))),i=!0)},p(e,t){const o={};2&t[0]&&(o.disabled=e[1]),65536&t[0]&&(o.items=e[16]),262144&t[0]&&(o.defaultOption=e[18]),131072&t[0]&&(o.placeholder=e[17]),32768&t[0]&&(o.dataQaButton=e[15]),8&t[0]&&(o.customClass=e[3]),32&t[0]&&(o.variant=e[5]),64&t[0]&&(o.fontSize=e[6]),128&t[0]&&(o.alignRight=e[7]),256&t[0]&&(o.isBorderless=e[8]),512&t[0]&&(o.showSortCode=e[9]),1024&t[0]&&(o.extraPadding=e[10]),2048&t[0]&&(o.dropdownMaxHeight=e[11]),4096&t[0]&&(o.autoHeight=e[12]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,s()}}}function rf(e){let t,n,o,i,s,r;function a(e,t){return e[0]?cf:e[14]?lf:void 0}let l=a(e),c=l&&l(e),d=du(e[16]),u=[];for(let t=0;t<d.length;t+=1)u[t]=df(nf(e,d,t));return{c(){t=rd("div"),n=rd("select"),c&&c.c(),o=dd();for(let e=0;e<u.length;e+=1)u[e].c();gd(n,"data-qa","deepl-language-selection"),gd(n,"data-testid",e[15]),gd(n,"aria-label","Select Language"),gd(n,"class","svelte-1gzvenb"),gd(t,"class",i=jc("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")},m(i,a){od(i,t,a),ed(t,n),c&&c.m(n,null),ed(n,o);for(let e=0;e<u.length;e+=1)u[e]&&u[e].m(n,null);vd(n,e[2]),s||(r=ud(n,"change",pd(e[26])),s=!0)},p(e,s){if(l===(l=a(e))&&c?c.p(e,s):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(n,o))),65536&s[0]){let t;for(d=du(e[16]),t=0;t<d.length;t+=1){const o=nf(e,d,t);u[t]?u[t].p(o,s):(u[t]=df(o),u[t].c(),u[t].m(n,null))}for(;t<u.length;t+=1)u[t].d(1);u.length=d.length}65540&s[0]&&vd(n,e[2]),32768&s[0]&&gd(n,"data-testid",e[15]),32&s[0]&&i!==(i=jc("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-1gzvenb")&&gd(t,"class",i)},i:Ac,o:Ac,d(e){e&&id(t),c&&c.d(),sd(u,e),s=!1,r()}}}function af(e){let t,n,o,i,s=du(e[16]),r=[];for(let t=0;t<s.length;t+=1)r[t]=uf(of(e,s,t));return{c(){t=rd("div"),n=rd("select");for(let e=0;e<r.length;e+=1)r[e].c();n.disabled=!0,gd(n,"data-qa","deepl-language-selection-readonly"),gd(n,"aria-label","Select Language - dropdown disabled"),gd(n,"class","svelte-1gzvenb"),gd(t,"class","language-selector read-only svelte-1gzvenb")},m(s,a){od(s,t,a),ed(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(n,null);vd(n,e[2]),o||(i=ud(n,"change",pd(mf)),o=!0)},p(e,t){if(65536&t[0]){let o;for(s=du(e[16]),o=0;o<s.length;o+=1){const i=of(e,s,o);r[o]?r[o].p(i,t):(r[o]=uf(i),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}65540&t[0]&&vd(n,e[2])},i:Ac,o:Ac,d(e){e&&id(t),sd(r,e),o=!1,i()}}}function lf(e){let t,n,o;return{c(){t=rd("option"),n=ld(e[14]),o=cd(),t.__value=void 0,fd(t,t.__value),gd(t,"data-option-regionalvariant",void 0)},m(e,i){od(e,t,i),ed(t,n),ed(t,o)},p(e,t){16384&t[0]&&hd(n,e[14])},d(e){e&&id(t)}}}function cf(e){let t,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=rd("option"),n=ld(i),o=cd(),t.__value=void 0,fd(t,t.__value),gd(t,"data-option-regionalvariant",void 0)},m(e,i){od(e,t,i),ed(t,n),ed(t,o)},p:Ac,d(e){e&&id(t)}}}function df(e){let t,n,o,i,s,r=e[27].label+"";return{c(){t=rd("option"),n=ld(r),o=cd(),t.__value=i=e[27].value,fd(t,t.__value),gd(t,"data-option-regionalvariant",s=e[27].regionalVariant)},m(e,i){od(e,t,i),ed(t,n),ed(t,o)},p(e,o){65536&o[0]&&r!==(r=e[27].label+"")&&hd(n,r),65536&o[0]&&i!==(i=e[27].value)&&(t.__value=i,fd(t,t.__value)),65536&o[0]&&s!==(s=e[27].regionalVariant)&&gd(t,"data-option-regionalvariant",s)},d(e){e&&id(t)}}}function uf(e){let t,n,o,i,s,r=e[27].label+"";return{c(){t=rd("option"),n=ld(r),o=cd(),t.__value=i=e[27].value,fd(t,t.__value),gd(t,"data-option-regionalvariant",s=e[27].regionalVariant)},m(e,i){od(e,t,i),ed(t,n),ed(t,o)},p(e,o){65536&o[0]&&r!==(r=e[27].label+"")&&hd(n,r),65536&o[0]&&i!==(i=e[27].value)&&(t.__value=i,fd(t,t.__value)),65536&o[0]&&s!==(s=e[27].regionalVariant)&&gd(t,"data-option-regionalvariant",s)},d(e){e&&id(t)}}}function pf(e){let t,n,o,i,s;const r=[af,rf,sf],a=[];function l(e,n){return e[13]?0:(null==t&&(t=!!gm()),t?1:2)}return n=l(e),o=a[n]=r[n](e),{c(){o.c(),i=dd()},m(e,t){a[n].m(e,t),od(e,i,t),s=!0},p(e,t){let s=n;n=l(e),n===s?a[n].p(e,t):(nu(),su(a[s],1,1,(()=>{a[s]=null})),ou(),o=a[n],o?o.p(e,t):(o=a[n]=r[n](e),o.c()),iu(o,1),o.m(i.parentNode,i))},i(e){s||(iu(o),s=!0)},o(e){su(o),s=!1},d(e){e&&id(i),a[n].d(e)}}}const mf=()=>{};function gf(e,t,n){let o,i,s=Ac,r=()=>(s(),s=Pc(p,(e=>n(24,i=e))),p);e.$$.on_destroy.push((()=>s()));const a=Rd();let{value:l}=t,{showChooseLanguageOption:c=!1}=t,{customClass:d=""}=t,{websiteSettings:p}=t;r();let m,g,{disabled:h=!1}=t,{variant:f="original"}=t,{fontSize:_="default"}=t,{alignRight:v=!1}=t,{isBorderless:w=!1}=t,{showSortCode:T=!1}=t,{extraPadding:b=!1}=t,{showRegionalVariants:y=!0}=t,{dropdownMaxHeight:E=300}=t,{onlyShowWriteEnabledLanguages:$=!1}=t,{autoHeight:x}=t,{readOnly:S=!1}=t,{placeholderText:C}=t,{dataQaButton:L="deepl-language-selection-button"}=t,{languages:k}=t;m=c?chrome.i18n.getMessage("supported_languages_undefined"):void 0,C&&(c=!1,m=C);return e.$$set=e=>{"value"in e&&n(2,l=e.value),"showChooseLanguageOption"in e&&n(0,c=e.showChooseLanguageOption),"customClass"in e&&n(3,d=e.customClass),"websiteSettings"in e&&r(n(4,p=e.websiteSettings)),"disabled"in e&&n(1,h=e.disabled),"variant"in e&&n(5,f=e.variant),"fontSize"in e&&n(6,_=e.fontSize),"alignRight"in e&&n(7,v=e.alignRight),"isBorderless"in e&&n(8,w=e.isBorderless),"showSortCode"in e&&n(9,T=e.showSortCode),"extraPadding"in e&&n(10,b=e.extraPadding),"showRegionalVariants"in e&&n(21,y=e.showRegionalVariants),"dropdownMaxHeight"in e&&n(11,E=e.dropdownMaxHeight),"onlyShowWriteEnabledLanguages"in e&&n(22,$=e.onlyShowWriteEnabledLanguages),"autoHeight"in e&&n(12,x=e.autoHeight),"readOnly"in e&&n(13,S=e.readOnly),"placeholderText"in e&&n(14,C=e.placeholderText),"dataQaButton"in e&&n(15,L=e.dataQaButton),"languages"in e&&n(23,k=e.languages)},e.$$.update=()=>{14745600&e.$$.dirty[0]&&(k?n(16,g=k):(n(16,g=y?Xi():Ki()),$&&n(16,g=g.filter((e=>es(e.value)))))),65540&e.$$.dirty[0]&&n(18,o=l?g.find((e=>e.value===l)):void 0),16777216&e.$$.dirty[0]&&(i&&i.translationState===u.ongoingTranslation?n(1,h=!0):i&&[u.none,u.isTranslationComplete].includes(i.translationState)&&n(1,h=!1))},[c,h,l,d,p,f,_,v,w,T,b,E,x,S,C,L,g,m,o,a,function(e){h||a("selection",e.detail)},y,$,k,i,function(t){Pd.call(this,e,t)},e=>{if(h)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;a("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class hf extends fu{constructor(e){super(),hu(this,e,gf,pf,Dc,{value:2,showChooseLanguageOption:0,customClass:3,websiteSettings:4,disabled:1,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:21,dropdownMaxHeight:11,onlyShowWriteEnabledLanguages:22,autoHeight:12,readOnly:13,placeholderText:14,dataQaButton:15,languages:23},null,[-1,-1])}}function ff(e){let t,n,o,i;return{c(){t=ad("svg"),n=ad("path"),gd(n,"d","M1 7L5 11L15 1"),gd(n,"stroke",o=e[0]?e[3]:e[4]),gd(n,"stroke-width","2"),gd(n,"stroke-linecap","round"),gd(n,"stroke-linejoin","round"),gd(n,"class","svelte-mrm8jk"),gd(t,"width",e[2]),gd(t,"height",e[1]),gd(t,"class","checkmark svelte-mrm8jk"),gd(t,"viewBox","0 0 16 12"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg"),gd(t,"style",i=`padding: ${e[6]};`),bd(t,"enableHover",e[5])},m(e,o){od(e,t,o),ed(t,n)},p(e,[s]){25&s&&o!==(o=e[0]?e[3]:e[4])&&gd(n,"stroke",o),4&s&&gd(t,"width",e[2]),2&s&&gd(t,"height",e[1]),64&s&&i!==(i=`padding: ${e[6]};`)&&gd(t,"style",i),32&s&&bd(t,"enableHover",e[5])},i:Ac,o:Ac,d(e){e&&id(t)}}}function _f(e,t,n){let{disabled:o=!1}=t,{height:i="16px"}=t,{width:s="16px"}=t,{disabledColor:r="#727A83"}=t,{enabledColor:a="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,i=e.height),"width"in e&&n(2,s=e.width),"disabledColor"in e&&n(3,r=e.disabledColor),"enabledColor"in e&&n(4,a=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,i,s,r,a,l,c]}class vf extends fu{constructor(e){super(),hu(this,e,_f,ff,Dc,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function wf(e,t,n){const o=e.slice();return o[19]=t[n],o[21]=n,o}function Tf(e,t,n){const o=e.slice();return o[22]=t[n],o}function bf(e,t,n){const o=e.slice();return o[25]=t[n],o}function yf(e){let t,n,o,i,s,r,a,l,c,d,u=e[5].name+"",p=du(e[5].termDictionaries),m=[];for(let t=0;t<p.length;t+=1)m[t]=Ef(bf(e,p,t));let g=e[5].hasAdditionalPairs&&$f(e);return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=ld(u),s=cd();for(let e=0;e<m.length;e+=1)m[e].c();r=cd(),g&&g.c(),a=cd(),l=rd("div"),l.textContent="Remove",gd(o,"class","title"),gd(l,"class","remove-button svelte-1ium3jp"),gd(n,"class","glossary-menu-active-glossary-display svelte-1ium3jp"),gd(t,"class","glossary-menu-active-glossary-display-container svelte-1ium3jp")},m(u,p){od(u,t,p),ed(t,n),ed(n,o),ed(o,i),ed(n,s);for(let e=0;e<m.length;e+=1)m[e]&&m[e].m(n,null);ed(n,r),g&&g.m(n,null),ed(n,a),ed(n,l),c||(d=ud(l,"click",e[9]),c=!0)},p(e,t){if(32&t&&u!==(u=e[5].name+"")&&hd(i,u),2080&t){let o;for(p=du(e[5].termDictionaries),o=0;o<p.length;o+=1){const i=bf(e,p,o);m[o]?m[o].p(i,t):(m[o]=Ef(i),m[o].c(),m[o].m(n,r))}for(;o<m.length;o+=1)m[o].d(1);m.length=p.length}e[5].hasAdditionalPairs?g?g.p(e,t):(g=$f(e),g.c(),g.m(n,a)):g&&(g.d(1),g=null)},d(e){e&&id(t),sd(m,e),g&&g.d(),c=!1,d()}}}function Ef(e){let t,n=e[11](e[25].languagePair)+"";return{c(){t=rd("div"),gd(t,"class","lang-pair svelte-1ium3jp")},m(e,o){od(e,t,o),t.innerHTML=n},p(e,o){32&o&&n!==(n=e[11](e[25].languagePair)+"")&&(t.innerHTML=n)},d(e){e&&id(t)}}}function $f(e){let t,n,o;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,gd(t,"class","show-more svelte-1ium3jp")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[13]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function xf(e){let t;function n(e,t){return e[0]?e[3]||0!==e[1].length?Sf:Cf:Lf}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function Sf(e){let t,n=du(e[6]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Mf(wf(e,n,t));return{c(){t=rd("div");for(let e=0;e<o.length;e+=1)o[e].c();gd(t,"class","glossary-list svelte-1ium3jp")},m(e,n){od(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(3270&i){let s;for(n=du(e[6]),s=0;s<n.length;s+=1){const r=wf(e,n,s);o[s]?o[s].p(r,i):(o[s]=Mf(r),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&id(t),sd(o,e)}}}function Cf(e){let t,n,o,i,s;return{c(){t=rd("div"),n=rd("div"),o=rd("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=cd(),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_no_glossaries_found")}`,gd(o,"class","icon-container svelte-1ium3jp"),gd(s,"class","content svelte-1ium3jp"),gd(n,"class","container svelte-1ium3jp"),gd(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){od(e,t,r),ed(t,n),ed(n,o),ed(n,i),ed(n,s)},p:Ac,d(e){e&&id(t)}}}function Lf(e){let t,n,o,i,s;return{c(){t=rd("div"),n=rd("div"),o=rd("div"),o.innerHTML='<div class="icon svelte-1ium3jp"></div>',i=cd(),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_not_pro_user_body")}`,gd(o,"class","icon-container svelte-1ium3jp"),gd(s,"class","content svelte-1ium3jp"),gd(n,"class","container svelte-1ium3jp"),gd(t,"class","glossary-not-found svelte-1ium3jp")},m(e,r){od(e,t,r),ed(t,n),ed(n,o),ed(n,i),ed(n,s)},p:Ac,d(e){e&&id(t)}}}function kf(e){let t,n,o=e[11](e[22].languagePair)+"";return{c(){t=rd("div"),n=ld(o),gd(t,"class","lang-pair svelte-1ium3jp")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){64&t&&o!==(o=e[11](e[22].languagePair)+"")&&hd(n,o)},d(e){e&&id(t)}}}function Af(e){let t,n,o;function i(){return e[14](e[19])}return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("glossary_settings_show_more_lang_pairs")}...`,gd(t,"class","show-more svelte-1ium3jp")},m(e,s){od(e,t,s),n||(o=ud(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&id(t),n=!1,o()}}}function If(e){let t;return{c(){t=rd("div"),gd(t,"class","divider svelte-1ium3jp")},m(e,n){od(e,t,n)},d(e){e&&id(t)}}}function Mf(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=e[19].name+"",f=du(e[19].termDictionaries),_=[];for(let t=0;t<f.length;t+=1)_[t]=kf(Tf(e,f,t));let v=e[19].hasAdditionalPairs&&Af(e);function w(){return e[15](e[19])}let T=e[21]<e[1].length-1&&If();return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=ld(h),s=cd();for(let e=0;e<_.length;e+=1)_[e].c();r=cd(),v&&v.c(),a=cd(),l=rd("div"),c=rd("input"),u=cd(),T&&T.c(),p=dd(),gd(o,"class","name"),gd(n,"class","info svelte-1ium3jp"),gd(c,"type","radio"),c.checked=d=e[2]?.zendeskActiveTermbase?.id===e[19].id,gd(c,"class","svelte-1ium3jp"),gd(l,"class","radio-container svelte-1ium3jp"),gd(t,"class","glossary-item svelte-1ium3jp")},m(e,d){od(e,t,d),ed(t,n),ed(n,o),ed(o,i),ed(n,s);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(n,null);ed(n,r),v&&v.m(n,null),ed(t,a),ed(t,l),ed(l,c),od(e,u,d),T&&T.m(e,d),od(e,p,d),m||(g=ud(c,"click",w),m=!0)},p(t,o){if(e=t,64&o&&h!==(h=e[19].name+"")&&hd(i,h),2112&o){let t;for(f=du(e[19].termDictionaries),t=0;t<f.length;t+=1){const i=Tf(e,f,t);_[t]?_[t].p(i,o):(_[t]=kf(i),_[t].c(),_[t].m(n,r))}for(;t<_.length;t+=1)_[t].d(1);_.length=f.length}e[19].hasAdditionalPairs?v?v.p(e,o):(v=Af(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),68&o&&d!==(d=e[2]?.zendeskActiveTermbase?.id===e[19].id)&&(c.checked=d),e[21]<e[1].length-1?T||(T=If(),T.c(),T.m(p.parentNode,p)):T&&(T.d(1),T=null)},d(e){e&&(id(t),id(u),id(p)),sd(_,e),v&&v.d(),T&&T.d(e),m=!1,g()}}}function Of(e){let t,n,o,i,s,r,a,l,c,d,u,p=e[5]&&yf(e),m=e[4]&&xf(e);return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=rd("div"),i.textContent="Glossary",s=cd(),r=rd("div"),a=cd(),p&&p.c(),l=cd(),m&&m.c(),c=dd(),gd(i,"class","glossary-menu-text"),gd(r,"class","glossary-menu-toggle svelte-1ium3jp"),bd(r,"isGlossaryListExpanded",e[4]),gd(o,"class","glossary-menu-toggle-container svelte-1ium3jp"),gd(n,"class","glossary-menu"),gd(t,"class","glossary-menu-container svelte-1ium3jp"),bd(t,"isGlossaryListExpanded",e[4])},m(g,h){od(g,t,h),ed(t,n),ed(n,o),ed(o,i),ed(o,s),ed(o,r),ed(n,a),p&&p.m(n,null),od(g,l,h),m&&m.m(g,h),od(g,c,h),d||(u=ud(o,"click",e[8]),d=!0)},p(e,[o]){16&o&&bd(r,"isGlossaryListExpanded",e[4]),e[5]?p?p.p(e,o):(p=yf(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),16&o&&bd(t,"isGlossaryListExpanded",e[4]),e[4]?m?m.p(e,o):(m=xf(e),m.c(),m.m(c.parentNode,c)):m&&(m.d(1),m=null)},i:Ac,o:Ac,d(e){e&&(id(t),id(l),id(c)),p&&p.d(),m&&m.d(e),d=!1,u()}}}function Rf(e,t,n){let o;Uc(e,yu,(e=>n(2,o=e)));let{userHasZendeskPermissions:i}=t,s=[],r=!0,a=!1,l=[],c=null,d=[];const u=e=>{n(12,l=[...l,e])},p=e=>{const t=s.find((t=>t.id===e));t&&(Fc(yu,o.zendeskActiveTermbase=t,o),Qn({action:Zn.dlTrackGlossaryEnabled,payload:{nicheIntegration:It.zendesk}}))},m=async()=>{n(3,r=!0);try{const[e]=await kR();n(1,s=e)}catch(e){Ls()&&console.error(e)}finally{(()=>{if(!o.zendeskActiveTermbase)return;if(!s||0===s.length)return void Fc(yu,o.zendeskActiveTermbase=null,o);const e=s.map((e=>e.id));if(o.zendeskActiveTermbase&&e.includes(o.zendeskActiveTermbase.id)){const e=s.find((e=>e.id===o.zendeskActiveTermbase.id));Fc(yu,o.zendeskActiveTermbase=e,o)}else Fc(yu,o.zendeskActiveTermbase=null,o)})(),n(3,r=!1)}},g=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive&&m();return!0};Md((()=>{m(),chrome.runtime.onMessage.addListener(g)})),Od((()=>{chrome.runtime.onMessage.removeListener(g)}));return e.$$set=e=>{"userHasZendeskPermissions"in e&&n(0,i=e.userHasZendeskPermissions)},e.$$.update=()=>{4098&e.$$.dirty&&n(6,d=s.map((e=>l.includes(e.id)||e.termDictionaries.length<=3?e:{...e,termDictionaries:e.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))),4&e.$$.dirty&&(o.zendeskActiveTermbase||n(5,c=null)),4100&e.$$.dirty&&o.zendeskActiveTermbase&&(l.includes(o.zendeskActiveTermbase.id)||o.zendeskActiveTermbase.termDictionaries.length<=3?n(5,c=o.zendeskActiveTermbase):n(5,c={...o.zendeskActiveTermbase,termDictionaries:o.zendeskActiveTermbase.termDictionaries.slice(0,3),hasAdditionalPairs:!0}))},[i,s,o,r,a,c,d,u,()=>{n(4,a=!a),a&&(i||Qn({action:Zn.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithoutGlossaryPermissions:!0}}),i&&!r&&0==s.length&&Qn({action:Zn.dlTrackZendeskGlossaryOpened,payload:{glossaryConfigOpenedWithNoGlossariesFound:!0}}))},()=>{Fc(yu,o.zendeskActiveTermbase=null,o),Qn({action:Zn.dlTrackGlossaryDisabled,payload:{nicheIntegration:It.zendesk}})},p,e=>{if(!e||!e.includes(">"))return chrome.i18n.getMessage("supported_languages_undefined");const[t,n]=e.split(">");return`${chrome.i18n.getMessage(`supported_languages_${t.toUpperCase()}`)} ‚Üí ${chrome.i18n.getMessage(`supported_languages_${n.toUpperCase()}`)}`},l,()=>{u(c.id)},e=>{u(e.id)},e=>p(e.id)]}class Nf extends fu{constructor(e){super(),hu(this,e,Rf,Of,Dc,{userHasZendeskPermissions:0})}}function Df(e){let t,n,o,i,s,r;const a=e[1].default,l=Gc(a,e,e[0],null);return{c(){t=rd("div"),n=rd("div"),o=ad("svg"),i=ad("path"),s=cd(),l&&l.c(),gd(i,"d","M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z"),gd(i,"stroke","#D6A300"),gd(i,"stroke-width","1.5"),gd(i,"stroke-linecap","round"),gd(i,"stroke-linejoin","round"),gd(o,"width","24"),gd(o,"height","24"),gd(o,"viewBox","0 0 24 24"),gd(o,"fill","none"),gd(o,"xmlns","http://www.w3.org/2000/svg"),gd(n,"class","content svelte-hf4zwi"),gd(t,"class","container svelte-hf4zwi")},m(e,a){od(e,t,a),ed(t,n),ed(n,o),ed(o,i),ed(n,s),l&&l.m(n,null),r=!0},p(e,[t]){l&&l.p&&(!r||1&t)&&zc(l,a,e,e[0],r?Bc(a,e[0],t,null):Wc(e[0]),null)},i(e){r||(iu(l,e),r=!0)},o(e){su(l,e),r=!1},d(e){e&&id(t),l&&l.d(e)}}}function Pf(e,t,n){let{$$slots:o={},$$scope:i}=t;return e.$$set=e=>{"$$scope"in e&&n(0,i=e.$$scope)},[i,o]}class Uf extends fu{constructor(e){super(),hu(this,e,Pf,Df,Dc,{})}}function Gf(e){let t,n,o,i,s,r=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"";return{c(){t=rd("div"),n=rd("div"),o=ld(e[0]),i=cd(),s=rd("div"),gd(n,"class","info-text svelte-62gn63"),gd(s,"class","translation-info svelte-62gn63"),gd(t,"class","container svelte-62gn63")},m(e,a){od(e,t,a),ed(t,n),ed(n,o),ed(t,i),ed(t,s),s.innerHTML=r},p(e,[t]){1&t&&hd(o,e[0]),2&t&&r!==(r=chrome.i18n.getMessage("zendesk_translations_left_info",[`${e[1]}/50`])+"")&&(s.innerHTML=r)},i:Ac,o:Ac,d(e){e&&id(t)}}}function Hf(e,t,n){let{infoText:o}=t,{translationCount:i}=t;return e.$$set=e=>{"infoText"in e&&n(0,o=e.infoText),"translationCount"in e&&n(1,i=e.translationCount)},[o,i]}class Bf extends fu{constructor(e){super(),hu(this,e,Hf,Gf,Dc,{infoText:0,translationCount:1})}}function zf(e){let t,n,o,i,s=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"",r=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=rd("div"),n=ld(s),o=cd(),i=ld(r),gd(t,"class","translation-count svelte-6kl6z0")},m(e,s){od(e,t,s),ed(t,n),od(e,o,s),od(e,i,s)},p(e,t){4&t&&s!==(s=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[2]])+"")&&hd(n,s)},i:Ac,o:Ac,d(e){e&&(id(t),id(o),id(i))}}}function Wf(e){let t,n;return t=new Uf({props:{$$slots:{default:[qf]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function jf(e){let t,n;return t=new Uf({props:{$$slots:{default:[Vf]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Ff(e){let t,n,o,i,s,r;const a=[Xf,Yf,Zf],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),null==t&&(t=!!oo(e[1],Zt.TRANSLATOR)),t?0:(null==n&&(n=!!ao(e[1],Zt.TRANSLATOR)),n?1:2)}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),s=dd()},m(e,t){l[o].m(e,t),od(e,s,t),r=!0},p(e,t){let n=o;o=c(e,t),o===n?l[o].p(e,t):(nu(),su(l[n],1,1,(()=>{l[n]=null})),ou(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),iu(i,1),i.m(s.parentNode,s))},i(e){r||(iu(i),r=!0)},o(e){su(i),r=!1},d(e){e&&id(s),l[o].d(e)}}}function qf(e){let t,n;return t=new Bf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_infobox"),translationCount:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Vf(e){let t,n;return t=new Bf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Zf(e){let t,n,o,i;return{c(){t=rd("div"),n=rd("div"),o=cd(),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,gd(n,"class","icon svelte-6kl6z0"),gd(i,"class","text svelte-6kl6z0"),gd(t,"class","upgrade-infobox svelte-6kl6z0")},m(e,s){od(e,t,s),ed(t,n),ed(t,o),ed(t,i)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}function Yf(e){let t,n;return t=new Uf({props:{$$slots:{default:[Kf]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Xf(e){let t,n;return t=new Uf({props:{$$slots:{default:[Qf]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};12&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Kf(e){let t,n;return t=new Bf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_free_account_infobox"),translationCount:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Qf(e){let t,n;return t=new Bf({props:{infoText:chrome.i18n.getMessage("zendesk_limit_reached_pro_user_infobox"),translationCount:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.translationCount=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Jf(e){let t,n,o,i,s,r;const a=[Ff,jf,Wf,zf],l=[];function c(e,o){return 2&o&&(t=null),2&o&&(n=null),e[0]?0:(null==t&&(t=!!oo(e[1],Zt.TRANSLATOR)),t?1:(null==n&&(n=!!ao(e[1],Zt.TRANSLATOR)),n?2:3))}return o=c(e,-1),i=l[o]=a[o](e),{c(){i.c(),s=dd()},m(e,t){l[o].m(e,t),od(e,s,t),r=!0},p(e,[t]){let n=o;o=c(e,t),o===n?l[o].p(e,t):(nu(),su(l[n],1,1,(()=>{l[n]=null})),ou(),i=l[o],i?i.p(e,t):(i=l[o]=a[o](e),i.c()),iu(i,1),i.m(s.parentNode,s))},i(e){r||(iu(i),r=!0)},o(e){su(i),r=!1},d(e){e&&id(s),l[o].d(e)}}}function e_(e,t,n){let{limitReached:o}=t,{settings:i}=t,{remainingTranslations:s}=t;return e.$$set=e=>{"limitReached"in e&&n(0,o=e.limitReached),"settings"in e&&n(1,i=e.settings),"remainingTranslations"in e&&n(2,s=e.remainingTranslations)},[o,i,s]}class t_ extends fu{constructor(e){super(),hu(this,e,e_,Jf,Dc,{limitReached:0,settings:1,remainingTranslations:2})}}function n_(e){let t,n=chrome.i18n.getMessage("contact_admin_info_write_disabled")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function o_(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("contact_admin_info_translate_disabled")}`},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function i_(e){let t,n,o,i;function s(e,t){return e[0]===Zt.TRANSLATOR?o_:e[0]===Zt.WRITE?n_:void 0}let r=s(e),a=r&&r(e);return{c(){t=rd("div"),n=rd("div"),n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M11.25 11.25L11.2915 11.2293C11.8646 10.9427 12.5099 11.4603 12.3545 12.082L11.6455 14.918C11.4901 15.5397 12.1354 16.0573 12.7085 15.7707L12.75 15.75M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM12 8.25H12.0075V8.2575H12V8.25Z" stroke="#0177A9" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=cd(),i=rd("div"),a&&a.c(),gd(n,"class","icon svelte-16jsbww"),gd(i,"class","text svelte-16jsbww"),gd(t,"class","container svelte-16jsbww")},m(e,s){od(e,t,s),ed(t,n),ed(t,o),ed(t,i),a&&a.m(i,null)},p(e,[t]){r===(r=s(e))&&a?a.p(e,t):(a&&a.d(1),a=r&&r(e),a&&(a.c(),a.m(i,null)))},i:Ac,o:Ac,d(e){e&&id(t),a&&a.d()}}}function s_(e,t,n){let{serviceName:o}=t;return e.$$set=e=>{"serviceName"in e&&n(0,o=e.serviceName)},[o]}class r_ extends fu{constructor(e){super(),hu(this,e,s_,i_,Dc,{serviceName:0})}}function a_(e,t,n){const o=e.slice();return o[18]=t[n],o}function l_(e){let t,n,o,i,s,r;const a=[p_,u_,d_,c_],l=[];function c(e,t){return"onboarding"===e[5]?0:"user_has_reached_limit"===e[5]?1:"language_not_supported"===e[5]?2:3}n=c(e),o=l[n]=a[n](e);let d=!e[1]&&"onboarding"!==e[5]&&g_(e),u=(!e[3].isZendeskEnabled||"default"===e[5]||"onboarding"===e[5])&&!e[6]&&$_(e);return{c(){t=rd("div"),o.c(),i=cd(),d&&d.c(),s=cd(),u&&u.c(),gd(t,"class","dl-zendesk-modal svelte-1fd792j"),bd(t,"onboarding","onboarding"===e[5])},m(e,o){od(e,t,o),l[n].m(t,null),ed(t,i),d&&d.m(t,null),ed(t,s),u&&u.m(t,null),r=!0},p(e,p){let m=n;n=c(e),n===m?l[n].p(e,p):(nu(),su(l[m],1,1,(()=>{l[m]=null})),ou(),o=l[n],o?o.p(e,p):(o=l[n]=a[n](e),o.c()),iu(o,1),o.m(t,i)),e[1]||"onboarding"===e[5]?d&&(d.d(1),d=null):d?d.p(e,p):(d=g_(e),d.c(),d.m(t,s)),e[3].isZendeskEnabled&&"default"!==e[5]&&"onboarding"!==e[5]||e[6]?u&&(nu(),su(u,1,1,(()=>{u=null})),ou()):u?(u.p(e,p),104&p&&iu(u,1)):(u=$_(e),u.c(),iu(u,1),u.m(t,null)),(!r||32&p)&&bd(t,"onboarding","onboarding"===e[5])},i(e){r||(iu(o),iu(u),r=!0)},o(e){su(o),su(u),r=!1},d(e){e&&id(t),l[n].d(),d&&d.d(),u&&u.d()}}}function c_(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",T=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"";n=new Nf({props:{userHasZendeskPermissions:e[1]}});let b=!e[1]&&m_(e);return d=new hf({props:{value:e[3].selectedTargetLanguage,websiteSettings:ef,disabled:!e[3].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),d.$on("selection",e[14]),{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),b&&b.c(),i=cd(),s=rd("div"),r=ld(w),a=cd(),l=rd("div"),c=rd("div"),pu(d.$$.fragment),u=cd(),p=rd("div"),m=rd("button"),g=ld(T),gd(t,"class","modal-section glossary svelte-1fd792j"),gd(c,"class","dropdown svelte-1fd792j"),gd(m,"class","btn-primary svelte-1fd792j"),m.disabled=h=!e[3].isZendeskEnabled,gd(p,"class","right svelte-1fd792j"),gd(l,"class","dropdown-container svelte-1fd792j"),gd(s,"class","modal-section language-selector svelte-1fd792j")},m(h,w){od(h,t,w),mu(n,t,null),od(h,o,w),b&&b.m(h,w),od(h,i,w),od(h,s,w),ed(s,r),ed(s,a),ed(s,l),ed(l,c),mu(d,c,null),ed(l,u),ed(l,p),ed(p,m),ed(m,g),f=!0,_||(v=ud(m,"click",e[15]),_=!0)},p(e,t){const o={};2&t&&(o.userHasZendeskPermissions=e[1]),n.$set(o),e[1]?b&&(nu(),su(b,1,1,(()=>{b=null})),ou()):b?(b.p(e,t),2&t&&iu(b,1)):(b=m_(e),b.c(),iu(b,1),b.m(i.parentNode,i));const s={};8&t&&(s.value=e[3].selectedTargetLanguage),8&t&&(s.disabled=!e[3].isZendeskEnabled),d.$set(s),(!f||8&t&&h!==(h=!e[3].isZendeskEnabled))&&(m.disabled=h)},i(e){f||(iu(n.$$.fragment,e),iu(b),iu(d.$$.fragment,e),f=!0)},o(e){su(n.$$.fragment,e),su(b),su(d.$$.fragment,e),f=!1},d(e){e&&(id(t),id(o),id(i),id(s)),gu(n),b&&b.d(e),gu(d),_=!1,v()}}}function d_(e){let t,n,o;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=cd(),o=rd("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,gd(t,"class","modal-section language-not-supported svelte-1fd792j"),gd(o,"class","modal-section secondary-text svelte-1fd792j")},m(e,i){od(e,t,i),od(e,n,i),od(e,o,i)},p:Ac,i:Ac,o:Ac,d(e){e&&(id(t),id(n),id(o))}}}function u_(e){let t,n,o;return n=new t_({props:{limitReached:!0,remainingTranslations:e[7],settings:e[3]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","modal-section reached-limit svelte-1fd792j")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function p_(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T=chrome.i18n.getMessage("zendesk_onboarding_content_one",[Vt])+"",b=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",y=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return r=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=cd(),i=rd("div"),s=rd("div"),pu(r.$$.fragment),a=cd(),l=rd("div"),c=cd(),d=rd("div"),pu(u.$$.fragment),p=cd(),m=rd("div"),g=cd(),h=rd("div"),pu(f.$$.fragment),_=cd(),v=rd("div"),gd(n,"class","welcome svelte-1fd792j"),gd(l,"class","copy-text svelte-1fd792j"),gd(s,"class","copy svelte-1fd792j"),gd(m,"class","copy-text svelte-1fd792j"),gd(d,"class","copy svelte-1fd792j"),gd(v,"class","copy-text svelte-1fd792j"),gd(h,"class","copy svelte-1fd792j"),gd(i,"class","body svelte-1fd792j"),gd(t,"class","modal-section onboarding svelte-1fd792j")},m(e,E){od(e,t,E),ed(t,n),ed(t,o),ed(t,i),ed(i,s),mu(r,s,null),ed(s,a),ed(s,l),l.innerHTML=T,ed(i,c),ed(i,d),mu(u,d,null),ed(d,p),ed(d,m),m.innerHTML=b,ed(i,g),ed(i,h),mu(f,h,null),ed(h,_),ed(h,v),v.innerHTML=y,w=!0},p:Ac,i(e){w||(iu(r.$$.fragment,e),iu(u.$$.fragment,e),iu(f.$$.fragment,e),w=!0)},o(e){su(r.$$.fragment,e),su(u.$$.fragment,e),su(f.$$.fragment,e),w=!1},d(e){e&&id(t),gu(r),gu(u),gu(f)}}}function m_(e){let t,n,o;return n=new t_({props:{limitReached:!1,remainingTranslations:e[7],settings:e[3]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","modal-section svelte-1fd792j")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};128&t&&(o.remainingTranslations=e[7]),8&t&&(o.settings=e[3]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function g_(e){let t,n,o,i,s,r,a,l,c,d,u;function p(e,t){return 72&t&&(n=null),72&t&&(o=null),72&t&&(i=null),null==n&&(n=!(!oo(e[3],Zt.TRANSLATOR)||e[6])),n?v_:(null==o&&(o=!(!oo(e[3],Zt.TRANSLATOR)||!e[6])),o?__:(null==i&&(i=!(!ao(e[3],Zt.TRANSLATOR)||e[6])),i?f_:e[6]?h_:void 0))}let m=p(e,-1),g=m&&m(e);function h(e,t){return 8&t&&(a=null),null==a&&(a=!!oo(e[3],Zt.TRANSLATOR)),a?T_:w_}let f=h(e,-1),_=f(e),v=du(sp(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),w=[];for(let t=0;t<v.length;t+=1)w[t]=E_(a_(e,v,t));return{c(){t=rd("div"),g&&g.c(),s=cd(),r=rd("button"),_.c(),l=cd(),c=rd("div");for(let e=0;e<w.length;e+=1)w[e].c();gd(r,"class","upgrade-button svelte-1fd792j"),gd(c,"class","login-text svelte-1fd792j"),gd(t,"class","modal-section upgrade-button-container svelte-1fd792j")},m(n,o){od(n,t,o),g&&g.m(t,null),ed(t,s),ed(t,r),_.m(r,null),ed(t,l),ed(t,c);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(c,null);d||(u=ud(r,"click",e[11]),d=!0)},p(e,n){if(m===(m=p(e,n))&&g?g.p(e,n):(g&&g.d(1),g=m&&m(e),g&&(g.c(),g.m(t,s))),f===(f=h(e,n))&&_?_.p(e,n):(_.d(1),_=f(e),_&&(_.c(),_.m(r,null))),1024&n){let t;for(v=du(sp(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"])),t=0;t<v.length;t+=1){const o=a_(e,v,t);w[t]?w[t].p(o,n):(w[t]=E_(o),w[t].c(),w[t].m(c,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=v.length}},d(e){e&&id(t),g&&g.d(),_.d(),sd(w,e),d=!1,u()}}}function h_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=rd("span"),gd(t,"class","svelte-1fd792j")},m(e,o){od(e,t,o),t.innerHTML=n},p:Ac,d(e){e&&id(t)}}}function f_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_free_account_content")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function __(e){let t,n,o=chrome.i18n.getMessage("zendesk_limit_reached_pro_user_content")+"";return{c(){t=new Ed(!1),n=dd(),t.a=n},m(e,i){t.m(o,e,i),od(e,n,i)},p:Ac,d(e){e&&(id(n),t.d())}}}function v_(e){let t,n=chrome.i18n.getMessage("zendesk_limit_not_reached_pro_user_content")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function w_(e){let t,n=chrome.i18n.getMessage("zendesk_try_pro_advanced_button")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function T_(e){let t,n=chrome.i18n.getMessage("zendesk_upgrade_cta")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function b_(e){let t,n,o=e[18].text+"";return{c(){t=new Ed(!1),n=dd(),t.a=n},m(e,i){t.m(o,e,i),od(e,n,i)},p:Ac,d(e){e&&(id(n),t.d())}}}function y_(e){let t,n,o,i=e[18].text+"";return{c(){t=rd("span"),gd(t,"class","upgrade-link svelte-1fd792j")},m(s,r){od(s,t,r),t.innerHTML=i,n||(o=ud(t,"click",e[10]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function E_(e){let t;let n=function(e){return"loginLink"===e[18].block?y_:b_}(e),o=n(e);return{c(){o.c(),t=dd()},m(e,n){o.m(e,n),od(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&id(t),o.d(e)}}}function $_(e){let t,n,o,i,s,r,a,l,c,d,u=e[2]&&x_();return{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=cd(),i=rd("div"),s=rd("span"),s.innerHTML='<span class="svelte-1fd792j"></span>',r=cd(),u&&u.c(),a=dd(),gd(n,"class","text svelte-1fd792j"),gd(s,"class","on-off-switch svelte-1fd792j"),bd(s,"on",e[3].isZendeskEnabled),gd(i,"class","switch"),gd(t,"class","modal-section switch-container svelte-1fd792j")},m(p,m){od(p,t,m),ed(t,n),ed(t,o),ed(t,i),ed(i,s),od(p,r,m),u&&u.m(p,m),od(p,a,m),l=!0,c||(d=ud(s,"click",e[9]),c=!0)},p(e,t){(!l||8&t)&&bd(s,"on",e[3].isZendeskEnabled),e[2]?u?4&t&&iu(u,1):(u=x_(),u.c(),iu(u,1),u.m(a.parentNode,a)):u&&(nu(),su(u,1,1,(()=>{u=null})),ou())},i(e){l||(iu(u),l=!0)},o(e){su(u),l=!1},d(e){e&&(id(t),id(r),id(a)),u&&u.d(e),c=!1,d()}}}function x_(e){let t,n,o;return n=new r_({props:{serviceName:Zt.TRANSLATOR}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","admin-info svelte-1fd792j")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function S_(e){let t,n,o,i,s,r,a=e[4]&&l_(e);return{c(){t=rd("div"),n=rd("button"),o=cd(),a&&a.c(),gd(n,"class","dl-zendesk-top-icon svelte-1fd792j"),gd(t,"dir",ns())},m(l,c){od(l,t,c),ed(t,n),ed(t,o),a&&a.m(t,null),i=!0,s||(r=[ud(n,"click",e[13]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[8])],s=!0)},p(e,[n]){e[4]?a?(a.p(e,n),16&n&&iu(a,1)):(a=l_(e),a.c(),iu(a,1),a.m(t,null)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&id(t),a&&a.d(),s=!1,Rc(r)}}}function C_(e,t,n){let o;Uc(e,yu,(e=>n(3,o=e))),Nd("text_direction",ns());let i,s,{controller:r}=t,a=!1,l="default",c=!1,d=!1;const u=()=>{c?n(5,l="user_has_reached_limit"):o.isZendeskOnboarded?(n(4,a=!1),n(5,l="default")):(n(5,l="onboarding"),Fc(yu,o.isZendeskOnboarded=!0,o),Qn({action:Zn.dlTrackOnboardingModalShown,payload:{nicheIntegration:It.zendesk}}),n(4,a=!0))},p=()=>{"onboarding"===l&&(Fc(yu,o.isZendeskOnboarded=!0,o),n(5,l="default")),"welcome"===l&&n(5,l="default"),n(4,a=!1)};Md((()=>{u(),o.isZendeskEnabled&&(!o.zendeskActiveTermbase&&o.activeTermbaseId&&Fc(yu,o.zendeskActiveTermbase={id:o.activeTermbaseId},o),o.zendeskActiveTermbase&&(async()=>{if(!o.zendeskActiveTermbase)return;let e=[];try{const[t]=await kR();e=t}catch(e){Ls()&&console.error(e)}if(!e||0===e.length)return void Fc(yu,o.zendeskActiveTermbase=null,o);const t=e.map((e=>e.id));if(o.zendeskActiveTermbase&&t.includes(o.zendeskActiveTermbase.id)){const t=e.find((e=>e.id===o.zendeskActiveTermbase.id));Fc(yu,o.zendeskActiveTermbase=t,o)}else Fc(yu,o.zendeskActiveTermbase=null,o)})())}));return e.$$set=e=>{"controller"in e&&n(0,r=e.controller)},e.$$.update=()=>{12&e.$$.dirty&&(n(2,s=so(o,Zt.TRANSLATOR)),s&&Fc(yu,o.isZendeskEnabled=!1,o)),8&e.$$.dirty&&n(1,d=o?.featureSet?.customizations?.includes("zendesk")),8&e.$$.dirty&&n(7,i=Vt-o.zendeskSuccessfulTranslations),10&e.$$.dirty&&(o.zendeskSuccessfulTranslations>=Vt&&!d?(n(6,c=!0),u()):(n(6,c=!1),u())),2&e.$$.dirty&&d&&(n(6,c=!1),n(5,l="default"))},[r,d,s,o,a,l,c,i,p,()=>{Fc(yu,o.isZendeskEnabled=!s&&!o.isZendeskEnabled,o)},()=>{Qn({action:Hn.dlRequestLogin})},function(){Qn({action:Zn.dlTrackUILocationClicked,payload:Ce}),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"zendesk_customization"}})},u,()=>{a?p():n(4,a=!0)},e=>{Fc(yu,o.selectedTargetLanguage=e.detail.selectedOption.value,o),av(r)},()=>{o.isZendeskEnabled&&p()}]}class L_ extends fu{constructor(e){super(),hu(this,e,C_,S_,Dc,{controller:0,updateIconSettings:12})}get updateIconSettings(){return this.$$.ctx[12]}}class k_{static HTML_TAG_NAME="deepl-zendesk-top-icon";static createElement=(e=document)=>{const t=e.createElement(k_.HTML_TAG_NAME),n=new k_(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerUpdateIconSettings=n.triggerUpdateIconSettings,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}createDOM=({controller:e})=>{this.domElement.mainComponent=new L_({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})};triggerUpdateIconSettings=()=>{this.domElement.mainComponent.updateIconSettings()};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const A_=[...kc].filter((e=>!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(e.name))),I_=()=>{const e=new jl(Object.assign(Object.assign({},Su),{transport:ql,stackParser:nc,integrations:A_})),t=new Qa;return t.setClient(e),t.setContext("appContext",{location:"content"}),(e=>{chrome.storage.sync.get(["installationId","session",wu.isLoggedIn,wu.translatorServiceType,wu.writeServiceType],(function(t){e.setTag("internal_session_id",t?.session?.id),e.setTag("is_translator_pro",oo(t,Zt.TRANSLATOR)),e.setTag("is_write_pro",oo(t,Zt.WRITE)),e.setTag("is_logged_in",t.isLoggedIn)})),chrome.storage.local.get("browserInstanceId",(function(t){e.setTag("browser_instance_id",t.browserInstanceId)})),chrome.storage.onChanged.addListener((t=>(t?.session?.newValue&&e.setTag("internal_session_id",t.session.newValue.id),t?.installationId&&e.setUser({id:t.installationId}),t?.browser_instance_id&&e.setTag("browser_instance_id",yu.browserInstanceId.newValue),!0!==t.isLoggedIn?.newValue&&!1!==t.isLoggedIn?.newValue||e.setTag("is_logged_in",t.isLoggedIn.newValue),t.translatorServiceType&&chrome.storage.sync.get([wu.isLoggedIn],e.setTag("is_translator_pro",oo({...yu,translatorServiceType:t.translatorServiceType.newValue},Zt.TRANSLATOR))),t.writeServiceType&&chrome.storage.sync.get([wu.isLoggedIn],e.setTag("is_write_pro",oo({...yu,writeServiceType:t.writeServiceType.newValue},Zt.WRITE))),!0)))})(t),{client:e,scope:t}},{scope:M_}=I_(),O_=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},R_=()=>document.querySelector("deepl-zendesk-controller"),N_=()=>Ju.createElement(),D_=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},P_=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},U_=e=>e.querySelector("deepl-zendesk-ticket-controller"),G_=(e,t)=>{const n=Nh.createElement();return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},H_=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||j_(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||F_(n,e),n.querySelector("deepl-zendesk-input-icon")||q_(n,e)):n.querySelector("deepl-zendesk-toolbar")||F_(n,e)}catch(e){Ls()&&console.error(e),Cu(e,M_)}},B_=()=>{W_(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},z_=()=>{W_(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},W_=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){Ls()&&console.error(e),Cu(e,M_)}},j_=(e,t)=>{const n=k_.createElement(),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},F_=(e,t)=>{const n=Vh.createElement(),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},q_=(e,t)=>{const n=hh.createElement(),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]'),i=o?o.querySelector('div[role="toolbar"]'):null,s=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(s&&i)return i.append(n),n.createDOM({controller:t,editable:s}),n},V_=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] div[data-test-id="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"]');return t?Ft:n?qt:void 0},Z_=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),Y_=e=>{const t=Z_(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},X_=(e,t)=>{const n=Z_(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime"),o=t?.querySelector('time[data-test-id="timestamp-relative"]')?.getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},K_=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),Q_=async e=>{const t=Y_(e);if(t){const e=t?K_(t).innerText:"";return await Yi(e)}},J_=async e=>{const t=X_(e,12),n=[];for(const e in t)try{const o=t[e],i=o?K_(o).innerText:"",s=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),r=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let a=n.find((e=>e.id===s));const l=i.includes(`: ${r}`)&&i.indexOf(`: ${r}`)+`: ${r}`.length===i.length,c=0===Number(e);a||(a={id:s,name:r,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(a)),l&&(a.isLikelyCustomer=!0),c&&(a.isFirstMessage=!0),a.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}catch(e){Ls()&&console.log("Dev debug: unable to read message content in detectTicketLanguageInLiveChat",e)}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await Yi(i)},ev=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},tv=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},nv=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},ov=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},iv=e=>{try{const t=e.getPane(),n=Z_(t);for(const t of n)sv(t)||rv(t,e)}catch(e){Ls()&&console.error(e),Cu(e,M_)}},sv=e=>e.querySelector("deepl-zendesk-message-controller"),rv=(e,t)=>{const n=Sh.createElement(),o=K_(e);if(o)return o.after(n),n.createDOM({controller:t,message:e}),n},av=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},lv=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},cv=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},dv=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=Ih.createElement();return s.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(s),s},uv=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},pv=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"mail.google.com"===e.hostname},mv=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),gv=e=>e.selectionStart<e.selectionEnd,hv=async(e,t,n)=>{if(!mv(e))return n||(e=>{Lp("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),Lp("mouseup",e)})(e),await xp(e,t,!0);if(gv(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function fv(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(mv(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=_v(n,t)}catch(e){}return n.remove(),o}(e,n);{const t=dp(e).getSelection(),o=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(t.rangeCount)return _v(pp(e),n,o)}return!1}function _v(e,t,n={top:0,left:0}){const o=dp(e).getSelection();for(const r of e.childNodes)if("#text"===r.nodeName.toLowerCase()){const e=o.getRangeAt(0).cloneRange();e.setStart(r,0),e.setEnd(r,r.textContent.length);const a=e.getClientRects();if(!a.length)continue;for(const e of a){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(s=t,(i=o).left<=s.right&&i.right>=s.left&&i.top<=s.bottom&&i.bottom>=s.top)return!0}}else if(e.childNodes.length&&_v(r,t,n))return!0;var i,s;return!1}const vv=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],wv=[/docs.google\.com\/spreadsheets/g],Tv=[/[^.]+\.deepl\.com/g];function bv(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function yv(e,t){return bv(e,vv)||bv(t,wv)}function Ev(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function $v(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function xv(e){try{return new URL(e),!0}catch(e){return!1}}const Sv=e=>{const t={"&":".","<":".",">":".",'"':".","'":".","#":".",";":".","%":".","\\":".","/":"."};return e.replace(/[&<>"'#;%\\/]/g,(function(e){return t[e]}))};function Cv(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:s,right:r,bottom:a,height:l,width:c}=n,d={x:s-o.left,y:a-o.top,selectedTop:i,selectedBottom:a,selectedRight:o.width-r,selectedLeft:s+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}const Lv=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},kv=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)};function Av(e){const t=(e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=Lv(n,e);if(i)n=i;else if(kv(t))return o}return n=Lv(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o})(e),n=e.selectionStart,o=e.selectionEnd,i=document.createElement("div");i.id="mirror",document.body.appendChild(i);const s=window.getComputedStyle(e);i.style.fontFamily=s.fontFamily,i.style.fontSize=s.fontSize,i.style.padding=s.padding,i.style.border=s.border,i.style.lineHeight=s.lineHeight,i.style.whiteSpace="pre-wrap",i.style.wordWrap="break-word",i.style.visibility="hidden",i.style.top=`${t.top+window.scrollY}px`,i.style.bottom=`${t.bottom+window.scrollY}px`,i.style.left=`${t.left}px`,i.style.height=s.height,i.style.width=`${t.width}px`,i.style.position="absolute";const r=Sv(e.value.substring(0,n)),a=Sv(e.value.substring(n,o)),l=Sv(e.value.substring(o)),c=Ci(r+'<span id="marker-start" style="position: absolute;">|</span>'+a+'<span id="marker-end" style="position: absolute;">|</span>'+l);i.innerHTML=c;const d=document.getElementById("marker-start"),u=document.getElementById("marker-end"),p=d.getBoundingClientRect(),m=u.getBoundingClientRect(),g=document.body.parentNode.getBoundingClientRect(),h=e.getBoundingClientRect(),f={x:p.left-g.left,y:h.top>0?m.bottom-g.top:m.bottom-g.top+h.top,selectedTop:p.top,selectedBottom:m.bottom,selectedRight:g.width-m.right,selectedLeft:p.left+window.pageXOffset,selectedWidth:m.right-p.right,height:m.bottom-p.top};return document.body.removeChild(i),f}function Iv(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes)){const e=n;if(t.getBoundingClientRect||(t=e),e.getBoundingClientRect&&(e.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=e),e.hasChildNodes())){const n=Iv(e);if(null==n?void 0:n.getBoundingClientRect){const o=e.getBoundingClientRect(),i=n.getBoundingClientRect();o.right<i.right&&(t=n)}}}return t}const Mv=e=>{const t=[],n=[];return Nv({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function Ov(e){for(const t of e.childNodes)if("#text"!=t.nodeName&&"#comment"!=t.nodeName){if("block"==window.getComputedStyle(t).display)return!0;if(Ov(t))return!0}return!1}const Rv=({strings:e,domElements:t})=>{for(const n in t)Array.isArray(e[n])?t[n].innerHTML=Ci(e[n].join("")):t[n].innerHTML=Ci(e[n])},Nv=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(function(e){if(e instanceof HTMLFormElement&&Hv(e))return!1;if(Dv(e)||Uv(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!Dv(t)&&(!Pv(t)||Uv(t)||"inline"!=window.getComputedStyle(t).display||Ov(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return Dv(t)}return!0}(n))e.push(n),t.push(Ci(n.innerHTML));else for(const o of n.childNodes)Nv({domElements:e,strings:t,element:o})};const Dv=e=>"#text"==e.nodeName||"#comment"==e.nodeName,Pv=e=>Dt.includes(e.nodeName.toLowerCase()),Uv=e=>Nt.includes(e.nodeName.toLowerCase());function Gv(e){const t=[];for(;null!=e.parentNode;){let n=0,o=0;for(const t of e.parentNode.childNodes)t.nodeName===e.nodeName&&(t===e&&(o=n),n++);e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}function Hv(e){return"string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof NamedNodeMap)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes}function Bv(e){let t;return{c(){t=rd("div"),gd(t,"class","loader svelte-i1g3gv"),bd(t,"small",e[0])},m(e,n){od(e,t,n)},p(e,[n]){1&n&&bd(t,"small",e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function zv(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class Wv extends fu{constructor(e){super(),hu(this,e,zv,Bv,Dc,{small:0})}}const jv={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",settings_glossary:"SETTINGS_GLOSSARY",onboarding:"ONBOARDING",onboarding_after_successful_login:"ONBOARDING_AFTER_SUCCESSFUL_LOGIN",firefox_first_run:"FIREFOX_FIRST_RUN",privacy_policy:"PRIVACY_POLICY",create_account:"CREATE_ACCOUNT"};function Fv(e){let t,n,o,i,s,r;return{c(){t=rd("div"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=cd(),i=rd("span"),gd(i,"class","icon icon-external-link svelte-1yv621f"),gd(t,"class","settings-link svelte-1yv621f")},m(a,l){od(a,t,l),ed(t,n),ed(t,o),ed(t,i),s||(r=ud(t,"click",md(pd(e[0]))),s=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),s=!1,r()}}}function qv(e,t,n){let{page:o=jv.settings_page}=t;return e.$$set=e=>{"page"in e&&n(1,o=e.page)},[function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:o}})},o]}class Vv extends fu{constructor(e){super(),hu(this,e,qv,Fv,Dc,{page:1})}}function Zv(e){let t,n,o;return{c(){t=rd("button"),gd(t,"type","button"),gd(t,"class","close-icon svelte-nskp1z")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[0]),n=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function Yv(e){return[function(t){Pd.call(this,e,t)}]}class Xv extends fu{constructor(e){super(),hu(this,e,Yv,Zv,Dc,{})}}function Kv(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;return i=new Xv({}),i.$on("click",e[2]),c=new hf({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new Vv({}),{c(){t=rd("div"),n=rd("div"),o=rd("div"),pu(i.$$.fragment),s=cd(),r=rd("div"),a=rd("p"),a.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=cd(),pu(c.$$.fragment),d=cd(),u=rd("div"),pu(p.$$.fragment),gd(o,"class","close-icon-container svelte-8cr9h0"),gd(n,"class","header"),gd(a,"class","label-language-switch svelte-8cr9h0"),gd(r,"class","body svelte-8cr9h0"),gd(u,"class","footer svelte-8cr9h0"),gd(t,"class","container svelte-8cr9h0")},m(e,g){od(e,t,g),ed(t,n),ed(n,o),mu(i,o,null),ed(t,s),ed(t,r),ed(r,a),ed(r,l),mu(c,r,null),ed(t,d),ed(t,u),mu(p,u,null),m=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){m||(iu(i.$$.fragment,e),iu(c.$$.fragment,e),iu(p.$$.fragment,e),m=!0)},o(e){su(i.$$.fragment,e),su(c.$$.fragment,e),su(p.$$.fragment,e),m=!1},d(e){e&&id(t),gu(i),gu(c),gu(p)}}}function Qv(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(0,o=e)));const s=Rd();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class Jv extends fu{constructor(e){super(),hu(this,e,Qv,Kv,Dc,{})}}function ew(e){return/\bdark\b/gm.test(e)}const tw=function(){let e={isDarkMode:ew(document.body.className)};const{subscribe:t,update:n}=vu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:ew(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{Ap((()=>{o.disconnect()}))})),{subscribe:t}}();function nw(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;const h=[iw,ow],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=rd("div"),o.c(),i=cd(),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,r=cd(),a=rd("button"),l=ad("svg"),c=ad("path"),gd(s,"class","show-alternatives svelte-3k7vbu"),bd(s,"dark",e[6]),gd(c,"d","M3 9L9 3M3 3L9 9"),gd(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),gd(c,"stroke-width","1.5"),gd(c,"stroke-linecap","round"),gd(c,"stroke-linejoin","round"),gd(l,"width","12"),gd(l,"height","12"),gd(l,"viewBox","0 0 12 12"),gd(l,"fill","none"),gd(l,"xmlns","http://www.w3.org/2000/svg"),gd(a,"class","svelte-3k7vbu"),gd(t,"class","container svelte-3k7vbu"),gd(t,"dir",ns()),bd(t,"dark",e[6])},m(o,d){od(o,t,d),f[n].m(t,null),ed(t,i),ed(t,s),ed(t,r),ed(t,a),ed(a,l),ed(l,c),p=!0,m||(g=[ud(s,"click",e[7]),ud(a,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(r,a){let l=n;n=_(e=r),n===l?f[n].p(e,a):(nu(),su(f[l],1,1,(()=>{f[l]=null})),ou(),o=f[n],o?o.p(e,a):(o=f[n]=h[n](e),o.c()),iu(o,1),o.m(t,i)),(!p||64&a)&&bd(s,"dark",e[6]),(!p||8&a&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&gd(c,"stroke",d),(!p||64&a)&&bd(t,"dark",e[6])},i(e){p||(iu(o),u||Fd((()=>{u=au(t,np,{y:-10,duration:200}),u.start()})),p=!0)},o(e){su(o),p=!1},d(e){e&&id(t),f[n].d(),m=!1,Rc(g)}}}function ow(e){let t,n,o,i;return{c(){t=rd("div"),n=rd("span"),o=ld(e[0]),gd(n,"class","translatedText svelte-3k7vbu"),gd(t,"dir",i=ns(e[5]))},m(e,i){od(e,t,i),ed(t,n),ed(n,o)},p(e,n){1&n&&hd(o,e[0]),32&n&&i!==(i=ns(e[5]))&&gd(t,"dir",i)},i:Ac,o:Ac,d(e){e&&id(t)}}}function iw(e){let t,n;return t=new lh({props:{error:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function sw(e){let t,n,o=e[4]&&nw(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&iu(o,1)):(o=nw(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function rw(e,t,n){let o,i,s;Uc(e,yu,(e=>n(9,i=e))),Uc(e,tw,(e=>n(3,s=e))),Nd("text_direction",ns());let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t,p=!1;return setTimeout((()=>n(4,p=!0)),50),e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(8,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{8&e.$$.dirty&&n(6,o=s&&s.isDarkMode),256&e.$$.dirty&&Yi(c).then((e=>{r=e})),512&e.$$.dirty&&n(5,a=i.selectedTargetLanguage)},[l,d,u,s,p,a,o,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Dm,sourceLang:r,targetLang:a,textToShare:c}})},c,i]}class aw extends fu{constructor(e){super(),hu(this,e,rw,sw,Dc,{translatedText:0,sourceText:8,onClose:1,error:2})}}class lw{static HTML_TAG_NAME="deepl-whatsapp-translated-message";static createElement=(e=document)=>{const t=e.createElement(lw.HTML_TAG_NAME),n=new lw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new aw({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function cw(e){let t,n,o,i,s,r,a,l;const c=[uw,dw],d=[];function u(e,t){return e[6]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[8]&&hw(e);return{c(){t=rd("div"),o.c(),i=cd(),p&&p.c(),gd(t,"class","container svelte-tz0fan"),gd(t,"style",s=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`),gd(t,"dir",ns()),bd(t,"isTranslated",e[5]),bd(t,"isHidden",e[1]),bd(t,"messageHasReactionIcon",e[9]),bd(t,"isExpanded",e[2]),bd(t,"isParentRTL",e[0])},m(o,s){od(o,t,s),d[n].m(t,null),ed(t,i),p&&p.m(t,null),e[28](t),r=!0,a||(l=[ud(t,"mouseleave",e[29]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[17]),ud(t,"mousedown",md(pd(e[22])))],a=!0)},p(e,a){let l=n;n=u(e),n===l?d[n].p(e,a):(nu(),su(d[l],1,1,(()=>{d[l]=null})),ou(),o=d[n],o?o.p(e,a):(o=d[n]=c[n](e),o.c()),iu(o,1),o.m(t,i)),e[8]?p?(p.p(e,a),256&a[0]&&iu(p,1)):(p=hw(e),p.c(),iu(p,1),p.m(t,null)):p&&(nu(),su(p,1,1,(()=>{p=null})),ou()),(!r||12416&a[0]&&s!==(s=`\n    top: ${e[7]}px; \n    left: ${e[13]}px; \n    z-index: ${e[15]}; \n    opacity: ${e[12]};`))&&gd(t,"style",s),(!r||32&a[0])&&bd(t,"isTranslated",e[5]),(!r||2&a[0])&&bd(t,"isHidden",e[1]),(!r||512&a[0])&&bd(t,"messageHasReactionIcon",e[9]),(!r||4&a[0])&&bd(t,"isExpanded",e[2]),(!r||1&a[0])&&bd(t,"isParentRTL",e[0])},i(e){r||(iu(o),iu(p),r=!0)},o(e){su(o),su(p),r=!1},d(o){o&&id(t),d[n].d(),p&&p.d(),e[28](null),a=!1,Rc(l)}}}function dw(e){let t,n,o,i;t=new Np({props:{tooltip:e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",parentIsRTL:e[0],ignoreTextDirection:!0,$$slots:{default:[pw]},$$scope:{ctx:e}}});let s=e[2]&&mw(e);return{c(){pu(t.$$.fragment),n=cd(),s&&s.c(),o=dd()},m(e,r){mu(t,e,r),od(e,n,r),s&&s.m(e,r),od(e,o,r),i=!0},p(e,n){const i={};16384&n[0]&&(i.tooltip=e[14]?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button")),1&n[0]&&(i.parentIsRTL=e[0]),16388&n[0]|2&n[1]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[2]?s?(s.p(e,n),4&n[0]&&iu(s,1)):(s=mw(e),s.c(),iu(s,1),s.m(o.parentNode,o)):s&&(nu(),su(s,1,1,(()=>{s=null})),ou())},i(e){i||(iu(t.$$.fragment,e),iu(s),i=!0)},o(e){su(t.$$.fragment,e),su(s),i=!1},d(e){e&&(id(n),id(o)),gu(t,e),s&&s.d(e)}}}function uw(e){let t,n;return t=new Wv({props:{small:!0}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function pw(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;return{c(){t=rd("div"),n=ad("svg"),o=ad("g"),i=ad("path"),r=ad("path"),a=ad("path"),l=ad("defs"),c=ad("clipPath"),d=ad("rect"),gd(i,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),gd(i,"fill",s=e[14]?"#848F9B":"#0F2B46"),gd(r,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),gd(r,"fill","white"),gd(a,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),gd(a,"fill","white"),gd(o,"clip-path","url(#clip0)"),gd(d,"width","18.5294"),gd(d,"height","19"),gd(d,"fill",u=e[14]?"#2C2C2C":"white"),gd(d,"transform","matrix(-1 0 0 1 18.5294 0)"),gd(c,"id","clip0"),gd(n,"width","15"),gd(n,"height","15"),gd(n,"viewBox","0 0 19 19"),gd(n,"fill","none"),gd(n,"xmlns","http://www.w3.org/2000/svg"),gd(n,"class","svelte-tz0fan"),gd(t,"class","translateTrigger svelte-tz0fan")},m(s,u){od(s,t,u),ed(t,n),ed(n,o),ed(o,i),ed(o,r),ed(o,a),ed(n,l),ed(l,c),ed(c,d),p||(m=[ud(t,"mouseover",e[24]),ud(t,"click",e[25])],p=!0)},p(e,t){16384&t[0]&&s!==(s=e[14]?"#848F9B":"#0F2B46")&&gd(i,"fill",s),16384&t[0]&&u!==(u=e[14]?"#2C2C2C":"white")&&gd(d,"fill",u)},d(e){e&&id(t),p=!1,Rc(m)}}}function mw(e){let t,n;return t=new Np({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[gw]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};256&n[0]|2&n[1]&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function gw(e){let t,n,o,i;return{c(){t=rd("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-tz0fan"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',gd(t,"class","settingsTrigger svelte-tz0fan")},m(n,s){od(n,t,s),o||(i=[ud(t,"click",e[26]),ud(t,"mousedown",md(pd(e[23])))],o=!0)},p:Ac,i(e){n||Fd((()=>{n=au(t,np,{x:-8,duration:600}),n.start()}))},o:Ac,d(e){e&&id(t),o=!1,Rc(i)}}}function hw(e){let t,n,o,i,s;return n=new Jv({}),n.$on("close",e[27]),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","settingsContainer svelte-tz0fan"),bd(t,"isTop",!e[10]),bd(t,"isLeft",!e[11])},m(e,o){od(e,t,o),mu(n,t,null),s=!0},p(e,n){(!s||1024&n[0])&&bd(t,"isTop",!e[10]),(!s||2048&n[0])&&bd(t,"isLeft",!e[11])},i(e){s||(iu(n.$$.fragment,e),Fd((()=>{s&&(i&&i.end(1),o=au(t,np,{y:-10,duration:600}),o.start())})),s=!0)},o(e){su(n.$$.fragment,e),o&&o.invalidate(),i=lu(t,np,{y:-10,duration:600}),s=!1},d(e){e&&id(t),gu(n),e&&i&&i.end()}}}function fw(e){let t,n,o=e[3]&&e[3].isWhatsAppWebEnabled&&cw(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,n){e[3]&&e[3].isWhatsAppWebEnabled?o?(o.p(e,n),8&n[0]&&iu(o,1)):(o=cw(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function _w(e,t,n){let o,i;Uc(e,yu,(e=>n(3,i=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let{textElement:s}=t,{messageContainer:r}=t,a=!1;const l=265,c=150,d=220;let u,p,m,g,h=!1,f=!0,_=0,v=0,w=!1,T=!1,b=!1,y=P.deepl_inline_ui.z_index,E=!0,$=!0,x=0;function S(){const e=u.parentNode.getBoundingClientRect(),t=Iv(r);n(7,v=r.getBoundingClientRect().height/2),n(20,_=t.getBoundingClientRect().right-e.left);setTimeout((()=>{const t=r.querySelector('[data-icon="react"]');t&&(n(20,_=t.getBoundingClientRect().right-e.left),n(21,m=!0)),n(12,x=1),a&&n(20,_=_+-42)}),c);const o=r.querySelector('[data-a8n="reaction-bubble"]'),i=r.querySelector('[data-testid="reaction-bubble"]');n(9,b=!(!o&&!i)),window.innerHeight-e.bottom<d+v?n(10,E=!1):n(10,E=!0),r.getBoundingClientRect().right-t.getBoundingClientRect().right<l?n(11,$=!1):n(11,$=!0)}async function C(){if(p)return;n(6,h=!0),n(8,w=!1);let e,t,o="";try{o=await Yi(s.innerText)}catch(e){console.log(e)}try{t=await Qn({action:qn.dlRequestWhatsAppMessageTranslation,payload:{message:s.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(5,p=e?"":t[0].text),n(6,h=!1);const i=lw.createElement();i.createDOM(p,s.innerText,(()=>{n(18,r.dataset.dlIsTranslated="false",r),setTimeout((()=>n(5,p="")),600),i.cleanupDOM(),i.remove()}),e),s.appendChild(i),n(18,r.dataset.dlIsTranslated="true",r)}r.addEventListener("mouseover",(()=>{n(1,f=!1)}),!1),r.addEventListener("mouseout",(()=>{w||n(1,f=!0)}),!1);return e.$$set=e=>{"textElement"in e&&n(19,s=e.textElement),"messageContainer"in e&&n(18,r=e.messageContainer)},e.$$.update=()=>{8&e.$$.dirty[0]&&n(14,o=so(i,Zt.TRANSLATOR)),2621442&e.$$.dirty[0]&&(n(0,a=os(s.parentNode)),f||m||S()),1048581&e.$$.dirty[0]&&(console.log("isParentRTL",a),console.log("shdfL",T),n(13,g=a&&T?_-20:_))},[a,f,T,i,u,p,h,v,w,b,E,$,x,g,o,y,C,function(){n(8,w=!1)},r,s,_,m,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},()=>{o||n(2,T=!0)},()=>{o||C()},()=>n(8,w=!w),()=>n(8,w=!1),function(e){Gd[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},()=>{w||n(2,T=!1)}]}class vw extends fu{constructor(e){super(),hu(this,e,_w,fw,Dc,{textElement:19,messageContainer:18},null,[-1,-1])}}class ww{static HTML_TAG_NAME="deepl-whatsapp-message-in-translator";static createElement=(e=document)=>{const t=e.createElement(ww.HTML_TAG_NAME),n=new ww(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t)=>{this.domElement.mainComponent=new vw({target:this.domElement.shadowContainer,props:{textElement:e,messageContainer:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Tw(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function bw(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!xv(e.innerText)){const n=ww.createElement();n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",Tw),Ap((()=>{window.removeEventListener("resize",Tw),e.disconnect()}))}class yw{constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{throw new Error("createDOM must be defined in the child component")};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()};bindChildFunctions=(e=[])=>{["createDOM","cleanupDOM",...e].forEach((e=>{this.domElement[e]=this[e]}))}}function Ew(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const $w=function(){let e={isDarkMode:Ew(document.body.style.backgroundColor)};const{subscribe:t,update:n}=vu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:Ew(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),setTimeout((()=>{Ap((()=>{o.disconnect()}))})),{subscribe:t}}();function xw(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;const _=[Cw,Sw],v=[];function w(e,t){return e[2]?0:1}return o=w(e),i=v[o]=_[o](e),{c(){t=rd("div"),n=rd("div"),i.c(),s=cd(),r=rd("div"),r.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,l=cd(),c=rd("button"),d=ad("svg"),u=ad("path"),gd(r,"class","show-alternatives svelte-t50unb"),bd(r,"dark",e[4]),gd(n,"dir",a=ns(e[3].selectedTargetLanguage)),gd(u,"d","M3 9L9 3M3 3L9 9"),gd(u,"stroke",p=e[4]?"white":"#037171"),gd(u,"stroke-width","1.5"),gd(u,"stroke-linecap","round"),gd(u,"stroke-linejoin","round"),gd(d,"width","12"),gd(d,"height","12"),gd(d,"viewBox","0 0 12 12"),gd(d,"fill","none"),gd(d,"xmlns","http://www.w3.org/2000/svg"),gd(c,"class","svelte-t50unb"),gd(t,"class","container svelte-t50unb"),gd(t,"dir",ns()),bd(t,"dark",e[4])},m(i,a){od(i,t,a),ed(t,n),v[o].m(n,null),ed(n,s),ed(n,r),ed(t,l),ed(t,c),ed(c,d),ed(d,u),g=!0,h||(f=[ud(r,"click",e[5]),ud(c,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?v[o].p(e,c):(nu(),su(v[d],1,1,(()=>{v[d]=null})),ou(),i=v[o],i?i.p(e,c):(i=v[o]=_[o](e),i.c()),iu(i,1),i.m(n,s)),(!g||16&c)&&bd(r,"dark",e[4]),(!g||8&c&&a!==(a=ns(e[3].selectedTargetLanguage)))&&gd(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&gd(u,"stroke",p),(!g||16&c)&&bd(t,"dark",e[4])},i(e){g||(iu(i),m||Fd((()=>{m=au(t,np,{y:-10,duration:200}),m.start()})),g=!0)},o(e){su(i),g=!1},d(e){e&&id(t),v[o].d(),h=!1,Rc(f)}}}(e);return{c(){o.c(),t=dd()},m(e,i){o.m(e,i),od(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o.d(e)}}}function Sw(e){let t,n;return{c(){t=rd("span"),n=ld(e[0]),gd(t,"class","translatedText svelte-t50unb")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){1&t&&hd(n,e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function Cw(e){let t,n;return t=new lh({props:{error:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Lw(e){let t,n,o=e[3]&&e[3].isTwitterEnabled&&xw(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isTwitterEnabled?o?(o.p(e,n),8&n&&iu(o,1)):(o=xw(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function kw(e,t,n){let o,i,s;Uc(e,yu,(e=>n(3,i=e))),Uc(e,$w,(e=>n(7,s=e))),Nd("text_direction",ns());let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=s&&s.isDarkMode),64&e.$$.dirty&&Yi(c).then((e=>{r=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Dm,sourceLang:r,targetLang:a,textToShare:c}})},c,s]}class Aw extends fu{constructor(e){super(),hu(this,e,kw,Lw,Dc,{translatedText:0,sourceText:6,onClose:1,error:2})}}class Iw extends yw{static HTML_TAG_NAME="deepl-twitter-translated-tweet";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(Iw.HTML_TAG_NAME);return new Iw(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Aw({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function Mw(e){let t,n,o,i;const s=[Rw,Ow],r=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=rd("div"),o&&o.c(),gd(t,"dir",ns())},m(e,o){od(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)):o=null)},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),~n&&r[n].d()}}}function Ow(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;return n=new Np({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),multiline:!0,$$slots:{default:[Nw]},$$scope:{ctx:e}}}),{c(){t=rd("button"),pu(n.$$.fragment),o=cd(),i=ad("svg"),s=ad("g"),r=ad("path"),a=ad("path"),l=ad("path"),c=ad("defs"),d=ad("clipPath"),u=ad("rect"),gd(r,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),gd(r,"class","deepl-icon svelte-qovtib"),gd(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),gd(a,"fill","white"),gd(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),gd(l,"fill","white"),gd(s,"clip-path","url(#clip0)"),gd(u,"width","18.5294"),gd(u,"height","19"),gd(u,"fill","white"),gd(u,"transform","matrix(-1 0 0 1 18.5294 0)"),gd(d,"id","clip0"),gd(i,"width","15"),gd(i,"height","15"),gd(i,"viewBox","0 0 19 19"),gd(i,"fill","none"),gd(i,"xmlns","http://www.w3.org/2000/svg"),gd(i,"class","svelte-qovtib"),gd(t,"class","tweetLink svelte-qovtib"),t.disabled=p=!!e[1]||e[4],bd(t,"dark",e[5])},m(p,f){od(p,t,f),mu(n,t,null),ed(t,o),ed(t,i),ed(i,s),ed(s,r),ed(s,a),ed(s,l),ed(i,c),ed(c,d),ed(d,u),m=!0,g||(h=[ud(t,"keydown",e[6]),ud(t,"click",e[6])],g=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),1024&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!m||18&o&&p!==(p=!!e[1]||e[4]))&&(t.disabled=p),(!m||32&o)&&bd(t,"dark",e[5])},i(e){m||(iu(n.$$.fragment,e),m=!0)},o(e){su(n.$$.fragment,e),m=!1},d(e){e&&id(t),gu(n),g=!1,Rc(h)}}}function Rw(e){let t,n;return t=new Wv({props:{small:!0}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Nw(e){let t;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,gd(t,"class","copy svelte-qovtib")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function Dw(e){let t,n,o=e[0]&&e[0].isTwitterEnabled&&Mw(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isTwitterEnabled?o?(o.p(e,n),1&n&&iu(o,1)):(o=Mw(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function Pw(e,t,n){let o,i,s,r;Uc(e,yu,(e=>n(0,s=e))),Uc(e,$w,(e=>n(8,r=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let a,l,{tweetTextNode:c}=t,d=!1;return e.$$set=e=>{"tweetTextNode"in e&&n(7,c=e.tweetTextNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=r&&r.isDarkMode),1&e.$$.dirty&&n(4,i=so(s,Zt.TRANSLATOR)),1&e.$$.dirty){s.blacklistDomainsForReading.includes(window.location.hostname)?n(3,l=!1):s.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<20)return!1;const t=await Yi(e);return Zi(chrome.i18n.getUILanguage())!==t&&Zi(s.selectedTargetLanguage)!==t}().then((e=>n(3,l=e))).catch((()=>n(3,l=!1)))}},[s,a,d,l,i,o,async function(){if(a)return;n(2,d=!0);let e,t,o="";try{o=await Yi(c.innerText),o=Qi(o)}catch(e){console.log(e)}try{t=await Qn({action:qn.dlRequestTwitterTweetTranslation,payload:{message:c.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(1,a=e?"":Ci(t)),n(2,d=!1);const i=Iw.createElement();i.createDOM(a,c.innerText,(()=>{n(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,r]}class Uw extends fu{constructor(e){super(),hu(this,e,Pw,Dw,Dc,{tweetTextNode:7})}}class Gw extends yw{static HTML_TAG_NAME="deepl-twitter-tweet-link";static createElement=(e=document)=>{const t=e.createElement(Gw.HTML_TAG_NAME);return new Gw(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new Uw({target:this.domElement.shadowContainer,props:{tweetTextNode:e}})}}function Hw(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=Gw.createElement();return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),Ap((()=>e.disconnect()))}function Bw(e){let t,n;return{c(){t=rd("span"),n=ld(e[0]),gd(t,"class","translatedText svelte-jkt5fr")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){1&t&&hd(n,e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function zw(e){let t,n;return t=new lh({props:{error:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Ww(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[zw,Bw],g=[];function h(e,t){return e[2]?0:1}return o=h(e),i=g[o]=m[o](e),{c(){t=rd("div"),n=rd("div"),i.c(),s=cd(),r=rd("div"),r.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,a=cd(),l=rd("button"),l.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 9L9 3M3 3L9 9" stroke="#363F4A" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',gd(r,"class","show-alternatives svelte-jkt5fr"),gd(l,"class","svelte-jkt5fr"),gd(t,"class","container svelte-jkt5fr"),gd(t,"dir",ns())},m(i,c){od(i,t,c),ed(t,n),g[o].m(n,null),ed(n,s),ed(n,r),ed(t,a),ed(t,l),d=!0,u||(p=[ud(r,"click",e[3]),ud(l,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)}))],u=!0)},p(t,r){let a=o;o=h(e=t),o===a?g[o].p(e,r):(nu(),su(g[a],1,1,(()=>{g[a]=null})),ou(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),iu(i,1),i.m(n,s))},i(e){d||(iu(i),c||Fd((()=>{c=au(t,np,{y:-10,duration:200}),c.start()})),d=!0)},o(e){su(i),d=!1},d(e){e&&id(t),g[o].d(),u=!1,Rc(p)}}}(e);return{c(){o.c(),t=dd()},m(e,i){o.m(e,i),od(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o.d(e)}}}function jw(e,t,n){let o;Uc(e,yu,(e=>n(5,o=e))),Nd("text_direction",ns());let i,s,{translatedText:r}=t,{sourceText:a}=t,{onClose:l}=t,{error:c}=t;return e.$$set=e=>{"translatedText"in e&&n(0,r=e.translatedText),"sourceText"in e&&n(4,a=e.sourceText),"onClose"in e&&n(1,l=e.onClose),"error"in e&&n(2,c=e.error)},e.$$.update=()=>{16&e.$$.dirty&&Yi(a).then((e=>{i=e})),32&e.$$.dirty&&(s=o.selectedTargetLanguage)},[r,l,c,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Dm,sourceLang:i,targetLang:s,textToShare:a}});try{Qn({action:Zn.dlTrackUiAction,payload:{uiAction:rt,nicheIntegration:It.linkedIn}})}catch(e){console.error(e)}},a,o]}class Fw extends fu{constructor(e){super(),hu(this,e,jw,Ww,Dc,{translatedText:0,sourceText:4,onClose:1,error:2})}}class qw{static HTML_TAG_NAME="deepl-linkedin-translated-post";static createElement=(e=document)=>{const t=e.createElement(qw.HTML_TAG_NAME),n=new qw(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new Fw({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function Vw(e){let t,n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:Jw,then:Yw,catch:Zw,value:12,blocks:[,,,]};return function(e,t){const n=t.token={};function o(e,o,i,s){if(t.token!==n)return;t.resolved=s;let r=t.ctx;void 0!==i&&(r=r.slice(),r[i]=s);const a=e&&(t.current=e)(r);let l=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==o&&e&&(nu(),su(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),ou())})):t.block.d(1),a.c(),iu(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[o]=a),l&&Xd()}if(!(i=e)||"object"!=typeof i&&"function"!=typeof i||"function"!=typeof i.then){if(t.current!==t.then)return o(t.then,1,t.value,e),!0;t.resolved=e}else{const n=Id();if(e.then((e=>{Ad(n),o(t.then,1,t.value,e),Ad(null)}),(e=>{if(Ad(n),o(t.catch,2,t.error,e),Ad(null),!t.hasCatch)throw e})),t.current!==t.pending)return o(t.pending,0),!0}var i}(e[4](),o),{c(){t=dd(),o.block.c()},m(e,i){od(e,t,i),o.block.m(e,o.anchor=i),o.mount=()=>t.parentNode,o.anchor=t,n=!0},p(t,n){!function(e,t,n){const o=t.slice(),{resolved:i}=e;e.current===e.then&&(o[e.value]=i),e.current===e.catch&&(o[e.error]=i),e.block.p(o,n)}(o,e=t,n)},i(e){n||(iu(o.block),n=!0)},o(e){for(let e=0;e<3;e+=1){su(o.blocks[e])}n=!1},d(e){e&&id(t),o.block.d(e),o.token=null,o=null}}}function Zw(e){return{c:Ac,m:Ac,p:Ac,i:Ac,o:Ac,d:Ac}}function Yw(e){let t,n,o=e[12]&&function(e){let t,n,o,i;const s=[Kw,Xw],r=[];function a(e,t){return e[0]?0:1}return n=a(e),o=r[n]=s[n](e),{c(){t=rd("div"),o.c(),gd(t,"class","linkedin-link-container svelte-11s4dqh"),gd(t,"dir",ns())},m(e,o){od(e,t,o),r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?r[n].p(e,i):(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou(),o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null))},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),r[n].d()}}}(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,t){e[12]&&o.p(e,t)},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function Xw(e){let t,n,o,i,s;return n=new Np({props:{isEnabled:e[2],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[Qw]},$$scope:{ctx:e}}}),{c(){t=rd("button"),pu(n.$$.fragment),gd(t,"class","linkedin-link svelte-11s4dqh"),t.disabled=e[2]},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=[ud(t,"keydown",e[5]),ud(t,"click",e[5])],i=!0)},p(e,i){const s={};4&i&&(s.isEnabled=e[2]),8194&i&&(s.$$scope={dirty:i,ctx:e}),n.$set(s),(!o||4&i)&&(t.disabled=e[2])},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,Rc(s)}}}function Kw(e){let t,n,o;return n=new Wv({props:{small:!0}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","spinner svelte-11s4dqh")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function Qw(e){let t;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("linkedin_web_translate_post_link")}`,gd(t,"class","copy svelte-11s4dqh"),bd(t,"active",e[1])},m(e,n){od(e,t,n)},p(e,n){2&n&&bd(t,"active",e[1])},d(e){e&&id(t)}}}function Jw(e){return{c:Ac,m:Ac,p:Ac,i:Ac,o:Ac,d:Ac}}function eT(e){let t,n,o=e[3]&&e[3][It.linkedIn]&&Vw(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[3]&&e[3][It.linkedIn]?o?(o.p(e,n),8&n&&iu(o,1)):(o=Vw(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function tT(e,t,n){let o,i,s,r;Uc(e,yu,(e=>n(7,r=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let a,{linkedInPostNode:l}=t,c=!1,d=l.querySelector(".update-components-text").innerText;return e.$$set=e=>{"linkedInPostNode"in e&&n(6,l=e.linkedInPostNode)},e.$$.update=()=>{128&e.$$.dirty&&n(3,i=r.customizationsActiveStates),128&e.$$.dirty&&n(2,s=so(r,Zt.TRANSLATOR))},n(1,o=!0),[c,o,s,i,async function(){if(d.length<20)return!1;const e=await Yi(d);return t=e,Zi(chrome.i18n.getUILanguage())!==t&&(e=>Zi(r.selectedTargetLanguage)!==e)(e);var t},async function(){if(a)return;n(0,c=!0);let e,t,i="";try{i=await Yi(d),i=Qi(i)}catch(e){console.log(e)}try{t=await Qn({action:qn.dlRequestLinkedInPostTranslation,payload:{message:d,messageLang:i,domainName:window.location.hostname,trigger:v}})}catch(t){e=t,console.error(e)}a=e?"":t[0].text,n(0,c=!1);const s=qw.createElement();s.createDOM(a,d,(()=>{a="",n(1,o=!0),s.cleanupDOM(),s.remove()}),e),l.appendChild(s),n(1,o=!1)},l,r]}class nT extends fu{constructor(e){super(),hu(this,e,tT,eT,Dc,{linkedInPostNode:6})}}class oT{static HTML_TAG_NAME="deepl-linkedin-post-link";static createElement=(e=document)=>{const t=e.createElement(oT.HTML_TAG_NAME),n=new oT(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=e=>{this.domElement.mainComponent=new nT({target:this.domElement.shadowContainer,props:{linkedInPostNode:e}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}const iT=e=>{const t=oT.createElement();t.createDOM(e),e.appendChild(t)};function sT(){const e=document.body.querySelectorAll(".feed-shared-update-v2__description");for(let t of e){const e=t.parentNode;if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e?.innerText))return void iT(e)}}function rT(){return!!document.documentElement.hasAttribute("dark")}const aT=function(){let e={isDarkMode:rT()};const{subscribe:t,update:n}=vu(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:rT(document.body.style.backgroundColor)})))}))}));return o.observe(document,{attributes:!0}),setTimeout((()=>{Ap((()=>{o.disconnect()}))})),{subscribe:t}}();function lT(e){let t,n,o=function(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;const _=[dT,cT],v=[];function w(e,t){return e[2]?0:1}return o=w(e),i=v[o]=_[o](e),{c(){t=rd("div"),n=rd("div"),i.c(),s=cd(),r=rd("div"),r.textContent=`${chrome.i18n.getMessage("youtube_alternatives_link")}`,l=cd(),c=rd("button"),d=ad("svg"),u=ad("path"),gd(r,"class","show-alternatives svelte-t50unb"),bd(r,"dark",e[4]),gd(n,"dir",a=ns(e[3].selectedTargetLanguage)),gd(u,"d","M3 9L9 3M3 3L9 9"),gd(u,"stroke",p=e[4]?"white":"#037171"),gd(u,"stroke-width","1.5"),gd(u,"stroke-linecap","round"),gd(u,"stroke-linejoin","round"),gd(d,"width","12"),gd(d,"height","12"),gd(d,"viewBox","0 0 12 12"),gd(d,"fill","none"),gd(d,"xmlns","http://www.w3.org/2000/svg"),gd(c,"class","svelte-t50unb"),gd(t,"class","container svelte-t50unb"),gd(t,"dir",ns()),bd(t,"dark",e[4])},m(i,a){od(i,t,a),ed(t,n),v[o].m(n,null),ed(n,s),ed(n,r),ed(t,l),ed(t,c),ed(c,d),ed(d,u),g=!0,h||(f=[ud(r,"click",e[5]),ud(c,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)}))],h=!0)},p(l,c){let d=o;o=w(e=l),o===d?v[o].p(e,c):(nu(),su(v[d],1,1,(()=>{v[d]=null})),ou(),i=v[o],i?i.p(e,c):(i=v[o]=_[o](e),i.c()),iu(i,1),i.m(n,s)),(!g||16&c)&&bd(r,"dark",e[4]),(!g||8&c&&a!==(a=ns(e[3].selectedTargetLanguage)))&&gd(n,"dir",a),(!g||16&c&&p!==(p=e[4]?"white":"#037171"))&&gd(u,"stroke",p),(!g||16&c)&&bd(t,"dark",e[4])},i(e){g||(iu(i),m||Fd((()=>{m=au(t,np,{y:-10,duration:200}),m.start()})),g=!0)},o(e){su(i),g=!1},d(e){e&&id(t),v[o].d(),h=!1,Rc(f)}}}(e);return{c(){o.c(),t=dd()},m(e,i){o.m(e,i),od(e,t,i),n=!0},p(e,t){o.p(e,t)},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o.d(e)}}}function cT(e){let t,n;return{c(){t=rd("span"),n=ld(e[0]),gd(t,"class","translatedText svelte-t50unb")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){1&t&&hd(n,e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function dT(e){let t,n;return t=new lh({props:{error:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function uT(e){let t,n,o=e[3]&&e[3].isYoutubeEnabled&&lT(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[3]&&e[3].isYoutubeEnabled?o?(o.p(e,n),8&n&&iu(o,1)):(o=lT(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function pT(e,t,n){let o,i,s;Uc(e,yu,(e=>n(3,i=e))),Uc(e,aT,(e=>n(7,s=e)));let r,a,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(6,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(4,o=s&&s.isDarkMode),64&e.$$.dirty&&Yi(c).then((e=>{r=e})),8&e.$$.dirty&&(a=i.selectedTargetLanguage)},[l,d,u,i,o,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Dm,sourceLang:r,targetLang:a,textToShare:c}})},c,s]}class mT extends fu{constructor(e){super(),hu(this,e,pT,uT,Dc,{translatedText:0,sourceText:6,onClose:1,error:2})}}class gT extends yw{static HTML_TAG_NAME="deepl-youtube-translated-translated";constructor(e){super(e),this.bindChildFunctions()}static createElement=(e=document)=>{const t=e.createElement(gT.HTML_TAG_NAME);return new gT(t),t};createDOM=(e,t,n,o)=>{this.domElement.mainComponent=new mT({target:this.domElement.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}}function hT(e){let t,n,o,i;const s=[_T,fT],r=[];function a(e,t){return e[2]?0:e[3]?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=rd("div"),o&&o.c(),gd(t,"dir",ns())},m(e,o){od(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,i){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)):o=null)},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),~n&&r[n].d()}}}function fT(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;return n=new Np({props:{isEnabled:e[4],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),$$slots:{default:[vT]},$$scope:{ctx:e}}}),{c(){t=rd("button"),pu(n.$$.fragment),o=cd(),i=ad("svg"),s=ad("g"),r=ad("path"),a=ad("path"),l=ad("path"),c=ad("defs"),d=ad("clipPath"),u=ad("rect"),gd(r,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),gd(r,"class","deepl-icon svelte-mtyjwe"),gd(a,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),gd(a,"fill","white"),gd(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),gd(l,"fill","white"),gd(s,"clip-path","url(#clip0)"),gd(u,"width","18.5294"),gd(u,"height","19"),gd(u,"fill","white"),gd(u,"transform","matrix(-1 0 0 1 18.5294 0)"),gd(d,"id","clip0"),gd(i,"width","15"),gd(i,"height","15"),gd(i,"viewBox","0 0 19 19"),gd(i,"fill","none"),gd(i,"xmlns","http://www.w3.org/2000/svg"),gd(i,"class","svelte-mtyjwe"),gd(t,"class","commentLink svelte-mtyjwe"),t.disabled=p=e[4]||!!e[1],bd(t,"dark",e[5])},m(p,f){od(p,t,f),mu(n,t,null),ed(t,o),ed(t,i),ed(i,s),ed(s,r),ed(s,a),ed(s,l),ed(i,c),ed(c,d),ed(d,u),m=!0,g||(h=[ud(t,"keydown",e[6]),ud(t,"click",e[6])],g=!0)},p(e,o){const i={};16&o&&(i.isEnabled=e[4]),1024&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),(!m||18&o&&p!==(p=e[4]||!!e[1]))&&(t.disabled=p),(!m||32&o)&&bd(t,"dark",e[5])},i(e){m||(iu(n.$$.fragment,e),m=!0)},o(e){su(n.$$.fragment,e),m=!1},d(e){e&&id(t),gu(n),g=!1,Rc(h)}}}function _T(e){let t,n;return t=new Wv({props:{small:!0}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function vT(e){let t;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("youtube_translate_comment_link")}`,gd(t,"class","copy svelte-mtyjwe")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function wT(e){let t,n,o=e[0]&&e[0].isYoutubeEnabled&&hT(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[0]&&e[0].isYoutubeEnabled?o?(o.p(e,n),1&n&&iu(o,1)):(o=hT(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function TT(e,t,n){let o,i,s,r;Uc(e,yu,(e=>n(0,s=e))),Uc(e,aT,(e=>n(8,r=e)));let a,l,{commentNode:c}=t,d=!1;return e.$$set=e=>{"commentNode"in e&&n(7,c=e.commentNode)},e.$$.update=()=>{if(256&e.$$.dirty&&n(5,o=r&&r.isDarkMode),1&e.$$.dirty&&n(4,i=so(s,Zt.TRANSLATOR)),1&e.$$.dirty){s.blacklistDomainsForReading.includes(window.location.hostname)?n(3,l=!1):s.selectedTargetLanguage&&async function(){const e=c.innerText;if(e.length<10)return!1;const t=await Yi(e);return Zi(chrome.i18n.getUILanguage())!==t&&Zi(s.selectedTargetLanguage)!==t}().then((e=>n(3,l=e))).catch((()=>n(3,l=!1)))}},[s,a,d,l,i,o,async function(){if(a)return;n(2,d=!0);let e,t,o="";try{o=await Yi(c.innerText),o=Qi(o)}catch(e){console.log(e)}try{t=await Qn({action:qn.dlRequestYouTubeTranslation,payload:{message:c.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(1,a=e?"":t[0].text),n(2,d=!1);const i=gT.createElement();i.createDOM(a,c.innerText,(()=>{n(1,a=""),i.cleanupDOM()}),e),c.appendChild(i)},c,r]}class bT extends fu{constructor(e){super(),hu(this,e,TT,wT,Dc,{commentNode:7})}}class yT extends yw{static HTML_TAG_NAME="deepl-youtube-comment-link";static createElement=(e=document)=>{const t=e.createElement(yT.HTML_TAG_NAME);return new yT(t),t};constructor(e){super(e),this.bindChildFunctions()}createDOM=e=>{this.domElement.mainComponent=new bT({target:this.domElement.shadowContainer,props:{commentNode:e}})}}function ET(){let e=document.body.querySelector("ytd-comments");return e||(e=document.body.querySelector("#comments")),e}function $T(){setTimeout((()=>{const e=ET();if(e){let t=new MutationObserver((()=>{!function(){let e=ET();if(!e)return;const t=e.querySelectorAll("#content-text");for(let e of t)if("true"!==e.dataset.dlHasMessageTranslator&&(e.dataset.dlHasMessageTranslator="true",e&&e.innerText)){const t=yT.createElement();return t.createDOM(e),void e.appendChild(t)}}()}));t.observe(e,{attributes:!1,childList:!0,subtree:!0}),Ap((()=>t.disconnect()))}}),1e3)}function xT(e){if(void 0!==e)try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}const ST=60067;function CT(e){switch(e){case Q:return 1;case Z:return 2;case X:return 3;case te:return 4;case ne:return 5;case oe:return 6;case ie:return 7;case re:return 8;case ee:return 9;case Y:return 10;case ae:return 11;case le:return 12;case ce:return 13;case de:return 14;case ue:return 15;case pe:return 16;case me:return 17;case ge:return 18;case he:return 19;case fe:return 20;case _e:return 21;case ve:return 22;case Ee:return 23;case $e:return 24;case we:return 25;case Te:return 26;case be:return 27;case ye:return 28;case xe:return 29;case Se:return 30;case Ce:return 31;case se:return 32;case Le:return 33;case ke:return 34;case Ae:return 35;case Ie:return 36;case J:return 37;case Me:return 38;case Oe:return 39;case Re:return 40;case Ne:return 41;case De:return 42;case Pe:return 43;case Ue:return 44;case Ge:return 45;case He:return 46;case Be:return 47;case ze:return 48;case We:return 49;case je:return 50;case Fe:return 51;case qe:return 52;case Ve:return 53;case Ze:return 54;case Ye:return 55;case Xe:return 56;case Ke:return 57;case Qe:return 58;case Je:return 59;case et:return 60;case K:return 61;case tt:return 62;case nt:return 63;case ot:return 64;default:return 0}}function LT(e){switch(e){case Tt:return ft;case bt:return _t;case Et:return wt;case yt:return vt;default:return ht}}function kT(e){switch(e){case Yt:return 1;case Xt:return 2;case Kt:return 3;default:return 0}}function AT(e){switch(e){case mn:return 1;case gn:return 2;case hn:return 3;default:return 0}}function IT(e){switch(e){case Cn:return 1;case Ln:return 2;case kn:return 3;default:return 0}}const MT=["accountData","domainName"],OT=[60067,60068,60069],RT=(e,t)=>e&&"object"==typeof e?Array.isArray(e)?e.map((e=>RT(e,t))):Object.keys(e).reduce(((n,o)=>(t.includes(o)||(n[o]=RT(e[o],t)),n)),{}):e;function NT(e){return t(this,void 0,void 0,(function*(){let n,o,i,s,r,a,l,c,d,u,p,m=!1;try{const e=yield BT(["session","installationId","firefoxAnonPermissionGranted","firefoxPersonalPermissionGranted"]);o=e.session.id,n=e.installationId,u=e.firefoxAnonPermissionGranted,p=e.firefoxPersonalPermissionGranted}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=yield function(){return t(this,void 0,void 0,(function*(){return yield chrome.storage.local.get([wu.isLoggedIn,"isProUser","sessionType",wu.translatorServiceType,wu.writeServiceType,wu.apiServiceType,wu.docTranslatorServiceType,wu.accountId,Tu.hasTermbaseService])}))}();m=!!e.accountId,i=kT(e.translatorServiceType),s=kT(e.apiServiceType),r=kT(e.docTranslatorServiceType),d=kT(e.writeServiceType),l=m?2===i||2===s||2===d||2===r?b:y:T,c=e.sessionType?IT(e.sessionType):IT(Cn)}catch(e){e instanceof Error&&console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=yield function(){return t(this,void 0,void 0,(function*(){return(yield chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}))}()}catch(e){console.error(e)}const g=vo(),h=yield function(){return t(this,void 0,void 0,(function*(){let e=[];try{e=yield function(){return t(this,void 0,void 0,(function*(){const e=yield function(e,n){return t(this,void 0,void 0,(function*(){return PT||(yield new Promise(((e,t)=>{let n=indexedDB.open(UT,1);n.onerror=function(){t(n.error)},n.onsuccess=function(t){PT=t.target.result,e()},n.onupgradeneeded=function(t){PT=t.target.result,PT.objectStoreNames.contains(GT)||PT.createObjectStore(GT,{keyPath:"id"}),e()}}))),new Promise(((t,o)=>{let i=PT.transaction(n,"readonly").objectStore(n).get(e);i.onerror=function(e){o(e)},i.onsuccess=function(){i.result?t(i.result):t(null)}}))}))}(HT,GT);if(!e||!e.meta)return[];return(Date.now()-e.meta.createdAt)/6e4>9?[]:e.data&&0!==e.data.length?e.data:[]}))}()}catch(e){}if(!e||0===e.length)return[];return e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})))}))}();let f,_;try{f=yield zT()}catch(e){console.error(e)}try{_=yield function(){return t(this,void 0,void 0,(function*(){if(To())return;const e=yield chrome.cookies.get({name:"dapUid",url:"https://www.deepl.com"});return e?e.value:void 0}))}()}catch(e){console.error(e)}const v=Object.assign({eventId:void 0,extensionVersion:"1.44.0",sessionId:o,sessionType:c,installationId:n,browserInstanceId:a,originStore:LT(chrome.runtime.id),userInfos:Object.assign(Object.assign({},f&&{accountData:{accountId:f}}),{userType:l,translatorServiceType:i,apiServiceType:s,docTranslatorServiceType:r,writeServiceType:d}),userAgent:g.userAgent,platform:g.platform,browser:g.browser,browserVersion:g.browserVersion,browserLang:g.browserLang,clientExperiments:h},_&&{webInstanceId:_});let w=e(v);if(To()){if(!((e=!1,t=!1)=>!(!e&&!t)&&!(!e&&t)&&(!(!e||t)||!(!e||!t)||void 0))(u,p))return;if(w=((e,t=!1,n=!1)=>e?n&&t?e:!n&&OT.includes(e?.eventId)?null:RT(e,MT):null)(w,u,p),!w)return}return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(w),credentials:"omit"}).then((e=>{e.ok||console.log(`DAP ${w.eventId} request failed: ${e}`)}))}))}function DT(){return t(this,void 0,void 0,(function*(){if(!(yield function(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([wu.isLoggedIn]);return!(!e||!e.isLoggedIn)}))}()))return;const e=yield zT();return NT((t=>Object.assign(Object.assign({},t),{eventId:ST,accountData:{accountUuid:e}})))}))}let PT;const UT="dlBrowserExtension",GT="dlCache",HT="dlexperiments";function BT(e){return t(this,void 0,void 0,(function*(){if(e.includes("session")){const e=yield chrome.storage.sync.get(["session"]);e&&!e.session&&(yield function(){return t(this,void 0,void 0,(function*(){const e=$s();yield chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{yield DT()}catch(e){console.error(e)}}))}())}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}))}function zT(){return t(this,void 0,void 0,(function*(){const e=yield chrome.storage.local.get([wu.accountId,wu.accessToken,wu.idToken]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=xT(e.a_t),n=xT(e[wu.idToken]);return t.sub||n.sub}}))}function WT(){return!0}function jT(){return!0}function FT(e){var t;const n=e.getSelection();if(null==n?void 0:n.toString())return n.toString();if(n){const e=n.anchorNode;if(e){const n=e.selectionStart,o=e.selectionEnd;if(null!==n&&null!==o)return null===(t=e.value)||void 0===t?void 0:t.substring(n,o)}}}function qT(e){let t,n=Ls(),o=n&&function(e){let t,n,o,i;return{c(){t=rd("div"),n=ld(e[1]),gd(t,"class","dev-label svelte-19c1aay"),bd(t,"isInline",e[0])},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[2]),o=!0)},p(e,o){2&o&&hd(n,e[1]),1&o&&bd(t,"isInline",e[0])},d(e){e&&id(t),o=!1,i()}}}(e);return{c(){o&&o.c(),t=dd()},m(e,n){o&&o.m(e,n),od(e,t,n)},p(e,[t]){n&&o.p(e,t)},i:Ac,o:Ac,d(e){e&&id(t),o&&o.d(e)}}}function VT(e,t,n){let{isInline:o=!1}=t,{text:i="DEV"}=t;return e.$$set=e=>{"isInline"in e&&n(0,o=e.isInline),"text"in e&&n(1,i=e.text)},[o,i,function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.developer_tools}})}]}class ZT extends fu{constructor(e){super(),hu(this,e,VT,qT,Dc,{isInline:0,text:1})}}function YT(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("login_widget_login_link")}`,gd(t,"class","user-action-button svelte-9xsres")},m(i,s){od(i,t,s),n||(o=[ud(t,"mousedown",pd(e[17])),ud(t,"click",e[18])],n=!0)},p:Ac,d(e){e&&id(t),n=!1,Rc(o)}}}function XT(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("toolbar_upgrade_to_pro_button")}`,gd(t,"class","user-action-button svelte-9xsres")},m(i,s){od(i,t,s),n||(o=[ud(t,"mousedown",pd(e[16])),ud(t,"click",e[19])],n=!0)},p:Ac,d(e){e&&id(t),n=!1,Rc(o)}}}function KT(e){let t,n,o;return{c(){t=rd("div"),gd(t,"type","button"),gd(t,"class","dl-menu-icon dl-menu-icon--user svelte-9xsres")},m(i,s){od(i,t,s),n||(o=ud(t,"mousedown",pd(e[15])),n=!0)},d(e){e&&id(t),n=!1,o()}}}function QT(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=Ls();function f(e,t){return!0===e[0].isLoggedIn?eb:JT}let _=f(e),v=_&&_(e),w=h&&function(){let e,t,n;return t=new ZT({props:{isInline:!0,text:"DEV TOOLS"}}),{c(){e=rd("div"),pu(t.$$.fragment),gd(e,"class","dl-menu-item svelte-9xsres")},m(o,i){od(o,e,i),mu(t,e,null),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(n){n&&id(e),gu(t)}}}();return{c(){t=rd("div"),n=rd("button"),o=rd("span"),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("menu_share_feedback_link")}`,s=cd(),r=rd("div"),a=cd(),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,c=cd(),v&&v.c(),d=cd(),w&&w.c(),gd(r,"class","dl-feedback-icon svelte-9xsres"),gd(o,"class","dl-menu-link dl-feedback-link svelte-9xsres"),gd(n,"class","dl-menu-item svelte-9xsres"),gd(l,"class","dl-menu-item svelte-9xsres"),gd(t,"class","dl-menu-list svelte-9xsres")},m(u,h){od(u,t,h),ed(t,n),ed(n,o),ed(o,i),ed(o,s),ed(o,r),ed(t,a),ed(t,l),ed(t,c),v&&v.m(t,null),ed(t,d),w&&w.m(t,null),p=!0,m||(g=[ud(n,"click",e[7]),ud(l,"click",e[9])],m=!0)},p(e,n){_===(_=f(e))&&v?v.p(e,n):(v&&v.d(1),v=_&&_(e),v&&(v.c(),v.m(t,d)))},i(e){p||(iu(w),u||Fd((()=>{u=au(t,np,{y:-5,duration:500}),u.start()})),p=!0)},o(e){su(w),p=!1},d(e){e&&id(t),v&&v.d(),w&&w.d(),m=!1,Rc(g)}}}function JT(e){let t,n,o,i,s,r,a,l,c;return{c(){t=rd("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=cd(),o=rd("button"),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,s=cd(),r=rd("button"),a=rd("span"),a.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,gd(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),gd(o,"class","dl-menu-item svelte-9xsres"),gd(a,"class","dl-menu-link link svelte-9xsres"),gd(r,"class","dl-menu-item svelte-9xsres")},m(d,u){od(d,t,u),od(d,n,u),od(d,o,u),ed(o,i),od(d,s,u),od(d,r,u),ed(r,a),l||(c=[ud(o,"click",e[5]),ud(r,"click",e[6])],l=!0)},p:Ac,d(e){e&&(id(t),id(n),id(o),id(s),id(r)),l=!1,Rc(c)}}}function eb(e){let t,n,o,i,s,r;return{c(){t=rd("div"),t.innerHTML='<div class="divider svelte-9xsres"></div>',n=cd(),o=rd("button"),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,gd(t,"class","dl-menu-item dl-menu-item--divider svelte-9xsres"),gd(o,"class","dl-menu-item svelte-9xsres")},m(a,l){od(a,t,l),od(a,n,l),od(a,o,l),ed(o,i),s||(r=ud(o,"click",e[4]),s=!0)},p:Ac,d(e){e&&(id(t),id(n),id(o)),s=!1,r()}}}function tb(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=!e[0].isLoggedIn&&YT(e),g=e[2]&&XT(e),h=!0===e[0].isLoggedIn&&KT(e),f=e[1]&&QT(e);return{c(){t=rd("div"),n=rd("div"),m&&m.c(),o=cd(),g&&g.c(),i=cd(),h&&h.c(),s=cd(),r=rd("button"),a=cd(),l=rd("button"),c=cd(),f&&f.c(),gd(r,"type","button"),gd(r,"class","dl-menu-icon dl-menu-icon--settings svelte-9xsres"),gd(r,"aria-label",chrome.i18n.getMessage("menu_open_settings")),gd(l,"type","button"),gd(l,"class","dl-menu-icon dl-menu-icon--hamburger svelte-9xsres"),gd(l,"aria-label",chrome.i18n.getMessage("menu_open_menu")),bd(l,"isOpen",e[1]),gd(n,"class","dl-menu-icon-wrapper svelte-9xsres"),gd(t,"class","dl-container-menu svelte-9xsres")},m(_,v){od(_,t,v),ed(t,n),m&&m.m(n,null),ed(n,o),g&&g.m(n,null),ed(n,i),h&&h.m(n,null),ed(n,s),ed(n,r),ed(n,a),ed(n,l),ed(t,c),f&&f.m(t,null),d=!0,u||(p=[ud(r,"mousedown",pd(e[14])),ud(r,"click",e[20]),ud(l,"mousedown",pd(e[13])),ud(l,"click",e[21]),ud(n,"mousedown",md(pd(e[12]))),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[8]),ud(t,"mousedown",md(pd(e[11])))],u=!0)},p(e,[r]){e[0].isLoggedIn?m&&(m.d(1),m=null):m?m.p(e,r):(m=YT(e),m.c(),m.m(n,o)),e[2]?g?g.p(e,r):(g=XT(e),g.c(),g.m(n,i)):g&&(g.d(1),g=null),!0===e[0].isLoggedIn?h||(h=KT(e),h.c(),h.m(n,s)):h&&(h.d(1),h=null),(!d||2&r)&&bd(l,"isOpen",e[1]),e[1]?f?(f.p(e,r),2&r&&iu(f,1)):(f=QT(e),f.c(),iu(f,1),f.m(t,null)):f&&(nu(),su(f,1,1,(()=>{f=null})),ou())},i(e){d||(iu(f),d=!0)},o(e){su(f),d=!1},d(e){e&&id(t),m&&m.d(),g&&g.d(),h&&h.d(),f&&f.d(),u=!1,Rc(p)}}}function nb(e,t,n){let o,i;const s=Dd("deepl_settings");Uc(e,s,(e=>n(0,i=e)));let r=!1;function a(){Qn({action:Hn.dlRequestLogin}),l()}function l(){n(1,r=!1)}function c(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.settings_page}}),l()}function d(){const e=oo(i,Zt.TRANSLATOR)?Nm:Rm;Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e,utmContent:"menu"}}),l()}return e.$$.update=()=>{1&e.$$.dirty&&n(2,o=i.isLoggedIn&&(!oo(i,Zt.TRANSLATOR)||!oo(i,Zt.WRITE)))},[i,r,o,s,function(){Qn({action:Hn.dlRequestLogout}),Qn({action:Zn.dlTrackUiAction,payload:{uiAction:lt}}),l()},a,function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"menu"}}),l()},function(){const e=To()?qm:Om;Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e}}),l()},l,c,d,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},()=>{a()},()=>{d()},()=>{c()},()=>{n(1,r=!r)}]}class ob extends fu{constructor(e){super(),hu(this,e,nb,tb,Dc,{})}}function ib(e){let t,n;return{c(){t=rd("div"),gd(t,"class",n=jc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),gd(t,"style",e[3])},m(e,n){od(e,t,n)},p(e,o){1&o&&n!==(n=jc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&gd(t,"class",n)},i:Ac,o:Ac,d(e){e&&id(t)}}}function sb(e){let t,n;return t=new Np({props:{tooltip:e[2],zIndex:"5",$$slots:{default:[rb]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.tooltip=e[2]),515&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function rb(e){let t,n;return{c(){t=rd("div"),gd(t,"class",n=jc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq"),gd(t,"style",e[3]),gd(t,"data-testid",e[1])},m(e,n){od(e,t,n)},p(e,o){1&o&&n!==(n=jc(`deepl-shield-icon ${e[0]}`)+" svelte-16nk5mq")&&gd(t,"class",n),2&o&&gd(t,"data-testid",e[1])},d(e){e&&id(t)}}}function ab(e){let t,n,o,i;const s=[sb,ib],r=[];function a(e,t){return e[2]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=dd()},m(e,n){r[t].m(e,n),od(e,o,n),i=!0},p(e,[i]){let l=t;t=a(e),t===l?r[t].p(e,i):(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),iu(n,1),n.m(o.parentNode,o))},i(e){i||(iu(n),i=!0)},o(e){su(n),i=!1},d(e){e&&id(o),r[t].d(e)}}}function lb(e,t,n){let o,{write:i=!1}=t,{translator:s=!1}=t,{size:r=20}=t,{marginStart:a=0}=t,{marginEnd:l=0}=t,{alternateColor:c=""}=t,{dataTestId:d=""}=t;const u=`height: ${r}px; width: ${r}px; margin-inline-start: ${a}px; margin-inline-end: ${l}px;`;return i?o=chrome.i18n.getMessage("tooltip_write_fully_encrypted"):s&&(o=chrome.i18n.getMessage("tooltip_translator_fully_encrypted")),e.$$set=e=>{"write"in e&&n(4,i=e.write),"translator"in e&&n(5,s=e.translator),"size"in e&&n(6,r=e.size),"marginStart"in e&&n(7,a=e.marginStart),"marginEnd"in e&&n(8,l=e.marginEnd),"alternateColor"in e&&n(0,c=e.alternateColor),"dataTestId"in e&&n(1,d=e.dataTestId)},[c,d,o,u,i,s,r,a,l]}class cb extends fu{constructor(e){super(),hu(this,e,lb,ab,Dc,{write:4,translator:5,size:6,marginStart:7,marginEnd:8,alternateColor:0,dataTestId:1})}}function db(e){let t;return{c(){t=rd("div"),gd(t,"class","dl-logo svelte-1tthjxl")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function ub(e){let t,n,o;return{c(){t=rd("button"),gd(t,"class","dl-logo dl-logo--clickable svelte-1tthjxl"),gd(t,"aria-label",chrome.i18n.getMessage("deepl_logo"))},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[13]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function pb(e){let t,n,o=e[6]===Rt.translate&&mb(),i=e[6]===Rt.write&&gb();return{c(){o&&o.c(),t=cd(),i&&i.c(),n=dd()},m(e,s){o&&o.m(e,s),od(e,t,s),i&&i.m(e,s),od(e,n,s)},p(e,s){e[6]===Rt.translate?o?o.p(e,s):(o=mb(),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[6]===Rt.write?i?i.p(e,s):(i=gb(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){e&&(id(t),id(n)),o&&o.d(e),i&&i.d(e)}}}function mb(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,gd(t,"class","translator-name svelte-1tthjxl")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function gb(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,gd(t,"class","translator-name svelte-1tthjxl")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function hb(e){let t,n;return t=new cb({props:{size:24,write:e[6]===Rt.write,translator:e[6]===Rt.translate}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.write=e[6]===Rt.write),64&n&&(o.translator=e[6]===Rt.translate),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function fb(e){let t,n,o,i;return o=new hf({props:{value:e[10].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),o.$on("selection",e[17]),{c(){t=rd("div"),n=rd("div"),pu(o.$$.fragment),gd(n,"class","dl-actions-language-selector__dropdown svelte-1tthjxl"),gd(t,"class","dl-actions-language-selector svelte-1tthjxl")},m(e,s){od(e,t,s),ed(t,n),mu(o,n,null),i=!0},p(e,t){const n={};1024&t&&(n.value=e[10].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),o.$set(n)},i(e){i||(iu(o.$$.fragment,e),i=!0)},o(e){su(o.$$.fragment,e),i=!1},d(e){e&&id(t),gu(o)}}}function _b(e){let t,n,o;return{c(){t=rd("button"),gd(t,"class","dl-settings-icon svelte-1tthjxl"),gd(t,"data-qa","deepl-layour-header-settings-link")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[14]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function vb(e){let t,n;return t=new ob({}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function wb(e){let t,n,o;return{c(){t=rd("button"),gd(t,"type","button"),gd(t,"class","dl-close-icon svelte-1tthjxl")},m(i,s){od(i,t,s),n||(o=ud(t,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&id(t),n=!1,o()}}}function Tb(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h;let f=function(e){return e[13]?ub:db}(e),_=f(e),v=e[9]&&pb(e),w=e[8]&&hb(e);r=new ZT({});let T=e[6]===Rt.translate&&e[2]&&e[10]&&e[4]&&fb(e),b=e[7]&&_b(e),y=e[1]&&vb(),E=e[0]&&wb(e);return{c(){t=rd("div"),n=rd("div"),_.c(),o=cd(),v&&v.c(),i=cd(),w&&w.c(),s=cd(),pu(r.$$.fragment),a=cd(),l=rd("div"),T&&T.c(),c=cd(),b&&b.c(),d=cd(),y&&y.c(),u=cd(),E&&E.c(),gd(n,"class","logo-translator-name-container svelte-1tthjxl"),gd(l,"class","dl-actions svelte-1tthjxl"),gd(t,"class",p=jc("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl")},m(p,f){od(p,t,f),ed(t,n),_.m(n,null),ed(n,o),v&&v.m(n,null),ed(n,i),w&&w.m(n,null),ed(n,s),mu(r,n,null),ed(t,a),ed(t,l),T&&T.m(l,null),ed(l,c),b&&b.m(l,null),ed(l,d),y&&y.m(l,null),ed(l,u),E&&E.m(l,null),m=!0,g||(h=ud(t,"mousedown",md(pd(e[16]))),g=!0)},p(e,[o]){_.p(e,o),e[9]?v?v.p(e,o):(v=pb(e),v.c(),v.m(n,i)):v&&(v.d(1),v=null),e[8]?w?(w.p(e,o),256&o&&iu(w,1)):(w=hb(e),w.c(),iu(w,1),w.m(n,s)):w&&(nu(),su(w,1,1,(()=>{w=null})),ou()),e[6]===Rt.translate&&e[2]&&e[10]&&e[4]?T?(T.p(e,o),1108&o&&iu(T,1)):(T=fb(e),T.c(),iu(T,1),T.m(l,c)):T&&(nu(),su(T,1,1,(()=>{T=null})),ou()),e[7]?b?b.p(e,o):(b=_b(e),b.c(),b.m(l,d)):b&&(b.d(1),b=null),e[1]?y?2&o&&iu(y,1):(y=vb(),y.c(),iu(y,1),y.m(l,u)):y&&(nu(),su(y,1,1,(()=>{y=null})),ou()),e[0]?E?E.p(e,o):(E=wb(e),E.c(),E.m(l,null)):E&&(E.d(1),E=null),(!m||4&o&&p!==(p=jc("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1tthjxl"))&&gd(t,"class",p)},i(e){m||(iu(w),iu(r.$$.fragment,e),iu(T),iu(y),m=!0)},o(e){su(w),su(r.$$.fragment,e),su(T),su(y),m=!1},d(e){e&&id(t),_.d(),v&&v.d(),w&&w.d(),gu(r),T&&T.d(),b&&b.d(),y&&y.d(),E&&E.d(),g=!1,h()}}}function bb(e,t,n){let o,i,s=Ac,r=()=>(s(),s=Pc(g,(e=>n(18,o=e))),g),a=Ac,l=()=>(a(),a=Pc(m,(e=>n(10,i=e))),m);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>a()));let{closeWindow:c}=t,{showMenu:d=!1}=t,{showLangSelect:p=!1}=t,{settings:m}=t;l();let{websiteSettings:g}=t;r();let{extensionContext:h=0}=t,{platformBehaviour:_=It.default}=t,{textProcessingMode:v=Rt.translate}=t,{showSettingsIcon:w=!0}=t,{showProStatus:T=!1}=t,{showServiceName:b=!1}=t;async function y(e){await m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),g.update({translationState:u.ongoingTranslation}),Qn({action:qn.dlRequestInlineTranslation,payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:f,sourceLang:"auto",websiteLanguage:o.websiteLanguage}}).then((e=>{g.update({translationState:u.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{g.update({translationState:u.none,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function E(e){await m.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}return e.$$set=e=>{"closeWindow"in e&&n(0,c=e.closeWindow),"showMenu"in e&&n(1,d=e.showMenu),"showLangSelect"in e&&n(2,p=e.showLangSelect),"settings"in e&&l(n(3,m=e.settings)),"websiteSettings"in e&&r(n(4,g=e.websiteSettings)),"extensionContext"in e&&n(15,h=e.extensionContext),"platformBehaviour"in e&&n(5,_=e.platformBehaviour),"textProcessingMode"in e&&n(6,v=e.textProcessingMode),"showSettingsIcon"in e&&n(7,w=e.showSettingsIcon),"showProStatus"in e&&n(8,T=e.showProStatus),"showServiceName"in e&&n(9,b=e.showServiceName)},[c,d,p,m,g,_,v,w,T,b,i,y,E,function(){let e=Pm;Qn({action:Zn.dlTrackLogoClickedEvent,payload:{extensionContext:h}}),v===Rt.write&&(e=Um),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e,utmContent:"gdocs_logo"}})},function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.settings_page}})},h,function(t){Pd.call(this,e,t)},e=>{switch(_){case It.gdocs:E(e.detail.selectedOption);break;case It.default:default:y(e.detail.selectedOption)}}]}let yb=class extends fu{constructor(e){super(),hu(this,e,bb,Tb,Dc,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:15,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7,showProStatus:8,showServiceName:9})}};function Eb(e){let t,n;return t=new yb({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9],showProStatus:e[10],showServiceName:e[11]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),1024&n&&(o.showProStatus=e[10]),2048&n&&(o.showServiceName=e[11]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function $b(e){let t,n,o,i,s,r=e[3]&&Eb(e);const a=e[14].default,l=Gc(a,e,e[13],null);return{c(){t=rd("div"),r&&r.c(),n=cd(),o=rd("div"),l&&l.c(),gd(o,"class","dl-content svelte-jwy61a"),gd(t,"class",i=jc(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"),gd(t,"translate","no"),gd(t,"dir",e[12])},m(e,i){od(e,t,i),r&&r.m(t,null),ed(t,n),ed(t,o),l&&l.m(o,null),s=!0},p(e,[o]){e[3]?r?(r.p(e,o),8&o&&iu(r,1)):(r=Eb(e),r.c(),iu(r,1),r.m(t,n)):r&&(nu(),su(r,1,1,(()=>{r=null})),ou()),l&&l.p&&(!s||8192&o)&&zc(l,a,e,e[13],s?Bc(a,e[13],o,null):Wc(e[13]),null),(!s||4&o&&i!==(i=jc(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-jwy61a"))&&gd(t,"class",i)},i(e){s||(iu(r),iu(l,e),s=!0)},o(e){su(r),su(l,e),s=!1},d(e){e&&id(t),r&&r.d(),l&&l.d(e)}}}function xb(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=Dd("text_direction");let{closeWindow:r}=t,{showMenu:a=!1}=t,{showLangSelect:l=!1}=t,{withHeader:c=!0}=t,{settings:d}=t,{websiteSettings:u}=t,{extensionContext:p}=t,{platformBehaviour:m=It.default}=t,{textProcessingMode:g=Rt.translate}=t,{showSettingsIcon:h=!0}=t,{showProStatus:f=!1}=t,{showServiceName:_=!1}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,r=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,l=e.showLangSelect),"withHeader"in e&&n(3,c=e.withHeader),"settings"in e&&n(4,d=e.settings),"websiteSettings"in e&&n(5,u=e.websiteSettings),"extensionContext"in e&&n(6,p=e.extensionContext),"platformBehaviour"in e&&n(7,m=e.platformBehaviour),"textProcessingMode"in e&&n(8,g=e.textProcessingMode),"showSettingsIcon"in e&&n(9,h=e.showSettingsIcon),"showProStatus"in e&&n(10,f=e.showProStatus),"showServiceName"in e&&n(11,_=e.showServiceName),"$$scope"in e&&n(13,i=e.$$scope)},[r,a,l,c,d,u,p,m,g,h,f,_,s,i,o]}let Sb=class extends fu{constructor(e){super(),hu(this,e,xb,$b,Dc,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9,showProStatus:10,showServiceName:11})}};function Cb(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=rd("div"),n=rd("input"),o=cd(),i=rd("div"),s=cd(),r=rd("label"),a=ld(e[3]),gd(n,"id",e[1]),gd(n,"name",e[4]),gd(n,"type","radio"),n.checked=e[2],gd(n,"data-qa",e[6]),gd(n,"class","svelte-1n1hwks"),gd(i,"class","radio-icon svelte-1n1hwks"),gd(r,"for",e[1]),gd(r,"class","svelte-1n1hwks"),gd(t,"class",l=jc(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")},m(l,u){od(l,t,u),ed(t,n),fd(n,e[0]),ed(t,o),ed(t,i),ed(t,s),ed(t,r),ed(r,a),c||(d=[ud(n,"change",e[10]),ud(n,"change",e[8]),ud(n,"mousedown",md(pd(e[9]))),ud(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&gd(n,"id",e[1]),16&o&&gd(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&gd(n,"data-qa",e[6]),1&o&&fd(n,e[0]),8&o&&hd(a,e[3]),2&o&&gd(r,"for",e[1]),36&o&&l!==(l=jc(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-1n1hwks")&&gd(t,"class",l)},i:Ac,o:Ac,d(e){e&&id(t),c=!1,Rc(d)}}}function Lb(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:s=""}=t,{value:r=""}=t,{name:a=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,s=e.label),"value"in e&&n(0,r=e.value),"name"in e&&n(4,a=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[r,o,i,s,a,l,c,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(){r=this.value,n(0,r)}]}class kb extends fu{constructor(e){super(),hu(this,e,Lb,Cb,Dc,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function Ab(e){let t,n,o;return n=new Sb({props:{withHeader:!1,$$slots:{default:[Ib]},$$scope:{ctx:e}}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"data-testid","dl-inline-translate-turnoff-settings")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};524297&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function Ib(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new kb({props:{name:"disable_inline_translation",id:ct,value:ct,cssClassName:"radio--with-border",checked:e[3]===ct,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[12]),d=new kb({props:{name:"disable_inline_translation",id:dt,value:dt,cssClassName:"radio--with-border",checked:e[3]===dt,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[13]),{c(){t=rd("div"),n=rd("button"),o=cd(),i=rd("div"),s=rd("p"),s.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,r=cd(),a=rd("div"),pu(l.$$.fragment),c=cd(),pu(d.$$.fragment),u=cd(),p=rd("div"),m=rd("span"),m.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,g=cd(),h=rd("button"),f=ld(b),gd(n,"type","button"),gd(n,"class","close-icon svelte-kj6lw"),gd(t,"class","header svelte-kj6lw"),gd(s,"class","font-bold svelte-kj6lw"),gd(a,"class","option-container svelte-kj6lw"),gd(m,"class","link svelte-kj6lw"),gd(m,"data-qa","close-settings-popup-link"),gd(h,"class",_=jc("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"),gd(h,"data-qa","save-settings-change-button"),gd(p,"class","action-container svelte-kj6lw"),gd(i,"class","dl-widget svelte-kj6lw")},m(_,b){od(_,t,b),ed(t,n),od(_,o,b),od(_,i,b),ed(i,s),ed(i,r),ed(i,a),mu(l,a,null),ed(a,c),mu(d,a,null),ed(i,u),ed(i,p),ed(p,m),ed(p,g),ed(p,h),ed(h,f),v=!0,w||(T=[ud(n,"click",md(pd((function(){Nc(e[0])&&e[0].apply(this,arguments)})))),ud(t,"mousedown",md(pd(e[11]))),ud(m,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),ud(h,"click",md(pd(e[6]))),ud(i,"mousedown",md(pd(e[10])))],w=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===ct),l.$set(o);const i={};8&n&&(i.checked=e[3]===dt),d.$set(i),(!v||8&n&&_!==(_=jc("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-kj6lw"))&&gd(h,"class",_)},i(e){v||(iu(l.$$.fragment,e),iu(d.$$.fragment,e),v=!0)},o(e){su(l.$$.fragment,e),su(d.$$.fragment,e),v=!1},d(e){e&&(id(t),id(o),id(i)),gu(l),gu(d),w=!1,Rc(T)}}}function Mb(e){let t,n,o,i,s=e[4].enableInlineTranslation&&Ab(e);return{c(){t=rd("div"),s&&s.c(),gd(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-kj6lw"),gd(t,"data-qa","deepl-inline-settings-tooltip"),gd(t,"style",e[2]),gd(t,"dir",ns())},m(r,a){od(r,t,a),s&&s.m(t,null),e[14](t),n=!0,o||(i=[qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[15])],o=!0)},p(e,[o]){e[4].enableInlineTranslation?s?(s.p(e,o),16&o&&iu(s,1)):(s=Ab(e),s.c(),iu(s,1),s.m(t,null)):s&&(nu(),su(s,1,1,(()=>{s=null})),ou()),(!n||4&o)&&gd(t,"style",e[2])},i(e){n||(iu(s),n=!0)},o(e){su(s),n=!1},d(n){n&&id(t),s&&s.d(),e[14](null),o=!1,Rc(i)}}}function Ob(e,t,n){let o;Uc(e,yu,(e=>n(4,o=e))),Nd("text_direction",ns());let i,s,r,{closeTooltip:a}=t,{replaceElement:l}=t,c="visibility: hidden; opacity:0; height:0;",d="";function u(e){n(3,d=e)}Md((()=>{setTimeout((()=>{n(2,c="")}),100),r=Dp(i,(({clientHeight:e})=>{n(9,s=e)}))})),Od((()=>{r&&r()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"replaceElement"in e&&n(8,l=e.replaceElement)},e.$$.update=()=>{768&e.$$.dirty&&l(s)},[a,i,c,d,o,u,function(){if(!d)return;switch(d){case dt:yu.set({enableInlineTranslation:!1}),Qn({action:Zn.dlTrackSettingChanged,payload:{settingType:dt,domainName:window.location.hostname,uiFunction:pt,uiLocation:X}});break;case ct:!function(){let e=o.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),yu.set({blacklistDomainsForReading:e}),Qn({action:Zn.dlTrackSettingChanged,payload:{settingType:ct,domainName:window.location.hostname,uiFunction:pt,uiLocation:X}}))}()}let e=$v(window.location.hostname,["www."]);a(),Qn({action:zn.dlSendNotification,payload:{type:H,options:{theme:V.green_theme,currentDomain:e,saveAction:d,settingsPageURL:jv.settings_reading}}})},function(e){n(3,d=e.currentTarget.value)},l,s,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},()=>u(ct),()=>u(dt),function(e){Gd[e?"unshift":"push"]((()=>{i=e,n(1,i)}))},()=>a()]}class Rb extends fu{constructor(e){super(),hu(this,e,Ob,Mb,Dc,{closeTooltip:0,replaceElement:8})}}class Nb{constructor(e){this.createDOM=(e,t)=>{const{deepl_inline_ui:n}=P;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.domElement.shadowContainer.appendChild(this.domElement.container);const i=null==e?void 0:e.top,s=window.innerHeight-((null==e?void 0:e.bottom)||0);let r="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),a=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new Rb({target:this.domElement.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;s>o?l=e.y+8:d&&(l=e.y-30-t-4),s<o&&i<o&&(r=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,a=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.domElement.container.style.top=`${parseInt(l)}px`,this.domElement.container.style.left=`${parseInt(c)}px`}}})},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}Nb.HTML_TAG_NAME="deepl-inline-translate-settings-tooltip",Nb.createElement=(e=document)=>{const t=e.createElement(Nb.HTML_TAG_NAME),n=new Nb(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};const Db=e=>({top:null==e?void 0:e.selectedTop,bottom:window.innerHeight-(null==e?void 0:e.selectedBottom),right:null==e?void 0:e.selectedRight,left:null==e?void 0:e.selectedLeft}),Pb=e=>{const{coords:t,clientHeight:n}=e,o=Db(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},Ub=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},Gb=(e,t,n)=>{const{coords:o,clientHeight:i,style:s,TOOLTIP_WIDTH:r,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":s.top=o.y-o.height-i-2-a-n.y+"px",s.left=Ub(t)-n.x+"px";break;case"bottom":s.top=o.y+2+a-n.y+"px",s.left=Ub(t)-n.x+"px";break;case"left":s.top=Pb(t)-n.y+"px",s.left=o.x-r-2-n.x+"px";break;case"right":s.top=Pb(t)-n.y+"px",s.left=o.x+o.selectedWidth+2-n.x+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px",s.left=window.innerWidth/2-r/2-n.x+"px"}},Hb=(e,t,n)=>{const{coords:o,clientHeight:i,TOOLTIP_WIDTH:s,style:r}=t;switch(r.left=o.x-s-10-n.x+"px",e){case"top":r.top=o.y-i-n.y+"px";break;case"bottom":r.top=o.y-o.height-n.y+"px";break;default:r.top=window.pageYOffset+window.innerHeight/2-i/2-n.y+"px"}},Bb=(e,t)=>{const n=zb(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},zb=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=Db(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}},Wb=e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]};function jb(e){return e.preventDefault(),!1}function Fb(e,t){e.dataTransfer.setData("text/html","");let n=e.target.getBoundingClientRect(),o={x:0,y:0};const i=e.clientX-n.left,s=e.clientY-n.top;return i>0&&(o.x=i),s>0&&(o.y=s),function(e){try{Qn({action:Zn.dlTrackInlineDragStart,payload:{nicheIntegration:e}})}catch(e){console.error(e)}}(t),{dragElementRect:n,dragOffset:o}}function qb({dropEvent:e,document:t,dragConfig:n}){if(e.preventDefault(),0===e.y||0===e.x)return null;const{dragOffset:o,dragElementRect:i,dragBarWidth:s}=n,r=t.body.getBoundingClientRect();let a;return a=e.pageX-o.x>r.width-i.width?r.width-i.width-s>0?r.width-i.width-s:0:e.pageX-o.x,{x:a,y:e.pageY-o.y}}function Vb(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}function Zb(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-sfmd6f"></span>',gd(t,"type","button"),gd(t,"class","dl-btn svelte-sfmd6f"),gd(t,"data-qa","dl-toolbar-copy-button"),bd(t,"dl-btn-active",e[0])},m(i,s){od(i,t,s),n||(o=[ud(t,"click",e[1]),ud(t,"mouseleave",e[2])],n=!0)},p(e,n){1&n&&bd(t,"dl-btn-active",e[0])},d(e){e&&id(t),n=!1,Rc(o)}}}function Yb(e){let t,n;return t=new Np({props:{zIndex:300,tooltip:chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[Zb]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.tooltip=chrome.i18n.getMessage(e[0]?"ui_inline_translation_copied":"ui_inline_translation_copy")),129&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Xb(e,t,n){let{text:o}=t,{targetLang:i}=t,{platformBehaviour:s=It.default}=t,r=!1;return e.$$set=e=>{"text"in e&&n(3,o=e.text),"targetLang"in e&&n(4,i=e.targetLang),"platformBehaviour"in e&&n(5,s=e.platformBehaviour)},[r,function(){navigator.clipboard.writeText(o).then((function(){n(0,r=!0)}),(function(e){console.error(e)})),function(e){try{Qn({action:Zn.dlTrackInlineCopy,payload:e})}catch(e){console.error(e)}}({targetLang:i,targetLength:o.length,nicheIntegration:s})},function(){setTimeout((()=>{n(0,r=!1)}),300)},o,i,s]}class Kb extends fu{constructor(e){super(),hu(this,e,Xb,Yb,Dc,{text:3,targetLang:4,platformBehaviour:5})}}function Qb(e){let t,n,o,i,s,r,a,l,c;return{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=cd(),i=rd("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,gd(n,"class","list-entry svelte-o3etn3"),gd(n,"data-qa","dl-toolbar-listener-button-target-lang"),bd(n,"dl-entry-notAvailable",!e[0]),gd(i,"class","list-entry svelte-o3etn3"),gd(i,"data-qa","dl-toolbar-listener-button-source-lang"),bd(i,"dl-entry-notAvailable",!e[1]),gd(t,"class","listen-list svelte-o3etn3"),gd(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,r){od(s,t,r),ed(t,n),ed(t,o),ed(t,i),a=!0,l||(c=[ud(n,"click",(function(){Nc(e[2])&&e[2].apply(this,arguments)})),ud(i,"click",(function(){Nc(e[3])&&e[3].apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!a||1&o)&&bd(n,"dl-entry-notAvailable",!e[0]),(!a||2&o)&&bd(i,"dl-entry-notAvailable",!e[1])},i(e){a||(Fd((()=>{a&&(r&&r.end(1),s=au(t,np,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=lu(t,np,{y:-5,duration:500}),a=!1},d(e){e&&id(t),e&&r&&r.end(),l=!1,Rc(c)}}}function Jb(e,t,n){let{isAvailableSelectedTargetLang:o}=t,{isAvailableSourceLang:i}=t,{onTargetListen:s=()=>{}}=t,{onSourceListen:r=()=>{}}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,o=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,i=e.isAvailableSourceLang),"onTargetListen"in e&&n(2,s=e.onTargetListen),"onSourceListen"in e&&n(3,r=e.onSourceListen)},[o,i,s,r]}class ey extends fu{constructor(e){super(),hu(this,e,Jb,Qb,Dc,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,onTargetListen:2,onSourceListen:3})}}function ty(e){let t,n,o,i,s;return n=new Np({props:{tooltip:e[8],zIndex:300,$$slots:{default:[oy]},$$scope:{ctx:e}}}),{c(){t=rd("fragment"),pu(n.$$.fragment),gd(t,"role","navigation")},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=[ud(t,"mouseover",e[11]),ud(t,"focus",e[11]),ud(t,"mouseleave",e[15])],i=!0)},p(e,t){const o={};256&t&&(o.tooltip=e[8]),1048831&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,Rc(s)}}}function ny(e){let t,n;return t=new ey({props:{isAvailableSelectedTargetLang:e[6],isAvailableSourceLang:e[7],onTargetListen:e[13],onSourceListen:e[14]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};64&n&&(o.isAvailableSelectedTargetLang=e[6]),128&n&&(o.isAvailableSourceLang=e[7]),10&n&&(o.onTargetListen=e[13]),5&n&&(o.onSourceListen=e[14]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function oy(e){let t,n,o,i,s,r,a=e[5]&&ny(e);return{c(){t=rd("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=cd(),a&&a.c(),o=dd(),gd(t,"type","button"),gd(t,"class","dl-btn svelte-17suwwx"),gd(t,"data-qa","dl-toolbar-listener-button"),bd(t,"dl-btn-active",e[4]),bd(t,"dl-btn-hovered",e[5])},m(l,c){od(l,t,c),od(l,n,c),a&&a.m(l,c),od(l,o,c),i=!0,s||(r=ud(t,"click",e[10]),s=!0)},p(e,n){(!i||16&n)&&bd(t,"dl-btn-active",e[4]),(!i||32&n)&&bd(t,"dl-btn-hovered",e[5]),e[5]?a?(a.p(e,n),32&n&&iu(a,1)):(a=ny(e),a.c(),iu(a,1),a.m(o.parentNode,o)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&(id(t),id(n),id(o)),a&&a.d(e),s=!1,r()}}}function iy(e){let t,n,o=(e[6]||e[7])&&ty(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[6]||e[7]?o?(o.p(e,n),192&n&&iu(o,1)):(o=ty(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function sy(e,t,n){let o,{platformBehaviour:i=It.default}=t,{sourceLang:s=""}=t,{targetLang:r=""}=t,{sourceText:a=""}=t,{targetText:l=""}=t,c=!1,d=!1,u=!1,p=!1;function m(){Qn({action:Bn.dlStopSpeech}),n(4,o=void 0)}function g(e,t){const n=t===Ot,o={targetLang:n?r:s,targetLength:n?l.length:a.length,actionType:e,nicheIntegration:i,textKind:t,context:Rt.translate};try{Qn({action:Zn.dlTrackInlineListen,payload:o})}catch(e){console.error(e)}}async function h(e,t,i){o||(Qn({action:Bn.dlTextToSpeech,payload:{text:e,lang:t}}),n(4,o=i),g(mt,i),n(5,u=!1))}async function f(e,t,i){if("dlVoiceOverStopped"===e.action)n(4,o=void 0),i();return!0}function _(e){try{Qn({action:Zn.dlTrackVoiceOverStops,payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(f),Od((()=>{if(o){const e=o===Ot;_({targetLang:e?r:s,targetLength:e?l.length:a.length,triggerType:R,nicheIntegration:i,textKind:o,context:Rt.translate})}m(),chrome.runtime.onMessage.removeListener(f)}));return e.$$set=e=>{"platformBehaviour"in e&&n(12,i=e.platformBehaviour),"sourceLang"in e&&n(0,s=e.sourceLang),"targetLang"in e&&n(1,r=e.targetLang),"sourceText"in e&&n(2,a=e.sourceText),"targetText"in e&&n(3,l=e.targetText)},e.$$.update=()=>{51&e.$$.dirty&&(r&&Qn({action:Bn.dlGetSupportedVoices}).then((e=>{n(6,c=e.includes(["EN-US","EN-GB"].includes(r)?"EN":["PT-PT","PT-BR"].includes(r)?"PT":["ZH-CN","ZH-HANT"].includes(r)?"ZH":r)),n(7,d=e.includes(s))})),!u&&o?setTimeout((()=>{n(8,p=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(8,p=!1))},[s,r,a,l,o,u,c,d,p,h,function(){if(o){const e=o;m();const t=e===Ot;n(4,o=void 0),_({targetLang:t?r:s,targetLength:t?l.length:a.length,triggerType:O,nicheIntegration:i,textKind:e,context:Rt.translate}),g(gt,e)}else n(5,u=!0)},function(){o||n(5,u=!0)},i,()=>h(l,r,Ot),()=>h(a,s,Mt),()=>n(5,u=!1)]}class ry extends fu{constructor(e){super(),hu(this,e,sy,iy,Dc,{platformBehaviour:12,sourceLang:0,targetLang:1,sourceText:2,targetText:3})}}function ay(e){let t,n,o,i;return{c(){t=rd("button"),gd(t,"type","button"),gd(t,"class","dl-replace-button svelte-9vlams"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,s){od(n,t,s),o||(i=ud(t,"click",md(pd(e[5]))),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&id(t),o=!1,i()}}}function ly(e){let t,n;return t=new Np({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[ay]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),524&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function cy(e,t,n){let o,i,s=Ac,r=()=>(s(),s=Pc(c,(e=>n(7,o=e))),c),a=Ac,l=()=>(a(),a=Pc(d,(e=>n(8,i=e))),d);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>a()));let{websiteSettings:c}=t;r();let{settings:d}=t;l();let p,{onClose:m}=t,g=!1,h=o.translationState===u.anonymousUserMaxCharExceeded;return Md((()=>{n(2,p=Ri())})),e.$$set=e=>{"websiteSettings"in e&&r(n(0,c=e.websiteSettings)),"settings"in e&&l(n(1,d=e.settings)),"onClose"in e&&n(6,m=e.onClose)},[c,d,p,g,h,function(){const e=Ii().text;n(3,g=!0);const t=document.querySelector("deepl-gdocs-icon");t&&(t.applyReplacement(),m(),Qn({action:Zn.dlTrackGDocsReplaceText,payload:{sourceLang:o.websiteLanguage,targetLang:i.selectedTargetLanguage,sourceLength:e.length,targetLength:o.translatedSnippet.length}}))},m]}class dy extends fu{constructor(e){super(),hu(this,e,cy,ly,Dc,{websiteSettings:0,settings:1,onClose:6})}}function uy(e){let t,n,o=Ci(e[4])+"";return{c(){t=rd("div"),n=rd("div"),gd(t,"class","tooltip-linguee svelte-166oozy")},m(e,i){od(e,t,i),ed(t,n),n.innerHTML=o},p(e,t){16&t&&o!==(o=Ci(e[4])+"")&&(n.innerHTML=o)},d(e){e&&id(t)}}}function py(e){let t,n;return t=new dy({props:{websiteSettings:e[0],settings:yu,onClose:e[5]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.websiteSettings=e[0]),32&n&&(o.onClose=e[5]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function my(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y,E,$,x,S=e[4]&&uy(e);w=new ry({props:{sourceLang:e[7].websiteLanguage,targetLang:e[8].selectedTargetLanguage,sourceText:e[7].originalSnippet,targetText:e[7].translatedSnippet,platformBehaviour:e[6]}}),b=new Kb({props:{targetLang:e[8].selectedTargetLanguage,text:e[7].translatedSnippet,platformBehaviour:e[6]}});let C=e[6]===It.gdocs&&py(e);return{c(){t=rd("div"),n=rd("div"),o=rd("button"),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,s=cd(),r=rd("span"),a=cd(),l=rd("fragment"),c=rd("div"),d=rd("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=cd(),p=rd("div"),m=cd(),g=rd("div"),f=cd(),S&&S.c(),_=cd(),v=rd("div"),pu(w.$$.fragment),T=cd(),pu(b.$$.fragment),y=cd(),C&&C.c(),gd(r,"class","icon icon-external-link svelte-166oozy"),gd(o,"type","button"),gd(o,"class","link svelte-166oozy"),gd(n,"class","dl-link-container"),gd(d,"class","dict-text svelte-166oozy"),gd(p,"class","img_book svelte-166oozy"),bd(p,"shown-dict",e[2]),gd(g,"class","img_arrow svelte-166oozy"),bd(g,"shown-dict",e[2]),gd(c,"class",h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"),gd(c,"data-qa","dl-toolbar-dictionary-button"),_d(l,"position","relative"),gd(v,"class","dl-btn-group svelte-166oozy"),gd(t,"class","dl-toolbar svelte-166oozy")},m(h,L){od(h,t,L),ed(t,n),ed(n,o),ed(o,i),ed(o,s),ed(o,r),ed(t,a),ed(t,l),ed(l,c),ed(c,d),ed(c,u),ed(c,p),ed(c,m),ed(c,g),ed(l,f),S&&S.m(l,null),ed(t,_),ed(t,v),mu(w,v,null),ed(v,T),mu(b,v,null),ed(v,y),C&&C.m(v,null),E=!0,$||(x=[ud(o,"click",e[9]),ud(c,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),ud(c,"mouseenter",e[10])],$=!0)},p(t,[n]){e=t,(!E||4&n)&&bd(p,"shown-dict",e[2]),(!E||4&n)&&bd(g,"shown-dict",e[2]),(!E||12&n&&h!==(h="dl-dictionary "+(e[3]?"":"disable")+" "+(e[2]?"shown-dict":"")+" svelte-166oozy"))&&gd(c,"class",h),e[4]?S?S.p(e,n):(S=uy(e),S.c(),S.m(l,null)):S&&(S.d(1),S=null);const o={};128&n&&(o.sourceLang=e[7].websiteLanguage),256&n&&(o.targetLang=e[8].selectedTargetLanguage),128&n&&(o.sourceText=e[7].originalSnippet),128&n&&(o.targetText=e[7].translatedSnippet),64&n&&(o.platformBehaviour=e[6]),w.$set(o);const i={};256&n&&(i.targetLang=e[8].selectedTargetLanguage),128&n&&(i.text=e[7].translatedSnippet),64&n&&(i.platformBehaviour=e[6]),b.$set(i),e[6]===It.gdocs?C?(C.p(e,n),64&n&&iu(C,1)):(C=py(e),C.c(),iu(C,1),C.m(v,null)):C&&(nu(),su(C,1,1,(()=>{C=null})),ou())},i(e){E||(iu(w.$$.fragment,e),iu(b.$$.fragment,e),iu(C),E=!0)},o(e){su(w.$$.fragment,e),su(b.$$.fragment,e),su(C),E=!1},d(e){e&&id(t),S&&S.d(),gu(w),gu(b),C&&C.d(),$=!1,Rc(x)}}}function gy(e,t,n){let o,i,s=Ac,r=()=>(s(),s=Pc(a,(e=>n(7,o=e))),a);Uc(e,yu,(e=>n(8,i=e))),e.$$.on_destroy.push((()=>s()));let{websiteSettings:a}=t;r();let{switchVisibilityDictionary:l}=t,{showDictionary:c=!1}=t,{enableDictionaryButton:d}=t,{dictionaryButtonError:u}=t,{onClose:p}=t,{platformBehaviour:m=It.default}=t;return e.$$set=e=>{"websiteSettings"in e&&r(n(0,a=e.websiteSettings)),"switchVisibilityDictionary"in e&&n(1,l=e.switchVisibilityDictionary),"showDictionary"in e&&n(2,c=e.showDictionary),"enableDictionaryButton"in e&&n(3,d=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(4,u=e.dictionaryButtonError),"onClose"in e&&n(5,p=e.onClose),"platformBehaviour"in e&&n(6,m=e.platformBehaviour)},[a,l,c,d,u,p,m,o,i,function(){const e={};o&&i&&(e.sourceLang=o.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=o.originalSnippet),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Dm,...e}});try{Qn({action:Zn.dlTrackUiAction,payload:{uiAction:rt,nicheIntegration:m}})}catch(e){console.error(e)}},function(){if(!d)try{Qn({action:Zn.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){console.log(e)}}]}class hy extends fu{constructor(e){super(),hu(this,e,gy,my,Dc,{websiteSettings:0,switchVisibilityDictionary:1,showDictionary:2,enableDictionaryButton:3,dictionaryButtonError:4,onClose:5,platformBehaviour:6})}}function fy(e){let t,n,o,i,s,r;return{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=cd(),i=rd("button"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,gd(n,"class","btn-primary svelte-1ou9pye"),gd(i,"class","btn-secondary svelte-1ou9pye"),gd(t,"class","dl-toolbar svelte-1ou9pye")},m(a,l){od(a,t,l),ed(t,n),ed(t,o),ed(t,i),s||(r=[ud(n,"click",e[0]),ud(i,"click",e[1])],s=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),s=!1,Rc(r)}}}function _y(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class vy extends fu{constructor(e){super(),hu(this,e,_y,fy,Dc,{onClose:2})}}function wy(e){let t,n,o,i,s,r=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=rd("p"),n=ld(e[0]),o=cd(),i=rd("pre"),s=ld(r),gd(i,"class","debug-settings svelte-mu7va1")},m(e,r){od(e,t,r),ed(t,n),od(e,o,r),od(e,i,r),ed(i,s)},p(e,[t]){1&t&&hd(n,e[0]),2&t&&r!==(r=JSON.stringify(e[1](),void 0,2)+"")&&hd(s,r)},i:Ac,o:Ac,d(e){e&&(id(t),id(o),id(i))}}}function Ty(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=()=>{}}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class by extends fu{constructor(e){super(),hu(this,e,Ty,wy,Dc,{headline:0,jsonData:1})}}const yy=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),Ey=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function $y(e,t){return["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),["ZH-CN","ZH-HANT"].includes(e)&&(e="ZH"),["ZH-CN","ZH-HANT"].includes(t)&&(t="ZH"),function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return Ey.get(n)}(e,t)}async function xy(e){let{interfaceLang:t,sourceLang:n,targetLang:o,text:i}=e;var s;t&&(s=t,yy.has(s.toUpperCase()))||(t="EN"),t=t.substring(0,2).toUpperCase(),await(jd(),zd);try{return await Qn({action:Vn.dlGetDictionary,payload:{interfaceLang:t,sourceLang:n,targetLang:o,text:i}})}catch(e){throw Qn({action:Zn.dlTrackLingueeErrorData,payload:{lingueeError:e.error}}),e}}function Sy(e){let t,n,o,i,s=Ci(e[0])+"";return{c(){t=rd("div"),n=rd("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: start;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-inline-start: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-inline-start: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-inline-start: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-inline-start: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-inline-end: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-inline-start: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-inline-start: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-inline-end: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-inline-start: 5px;\n  padding-inline-end: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-inline-start: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-inline-end: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-inline-start: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-inline-start: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-inline-start: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-inline-start: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-inline-end: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-inline-start: 7px;\n  padding-inline-end: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-inline-end: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-inline-start: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-inline-start: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-inline-start: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-inline-start: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-inline-start: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-inline-end: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-inline-start: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-inline-start: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-inline-start: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: inline-start;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: inline-end;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-inline-end: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-inline-start: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-inline-start: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-inline-start: 0;\n}\n.lmt__dict .example {\n  padding-inline-start: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-inline-start: 20px;\n  padding-inline-end: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-inline-start: 0px;\n  margin-inline-end: -19px;\n}\n\n#LMT__dict_right {\n  margin-inline-start: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=cd(),i=new Ed(!1),gd(n,"lang","scss"),i.a=null},m(e,r){od(e,t,r),ed(t,n),ed(t,o),i.m(s,t)},p(e,[t]){1&t&&s!==(s=Ci(e[0])+"")&&i.p(s)},i:Ac,o:Ac,d(e){e&&id(t)}}}function Cy(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class Ly extends fu{constructor(e){super(),hu(this,e,Cy,Sy,Dc,{html:0})}}function ky(e){let t,n,o,i;return n=new Ly({props:{html:e[1]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl__dictionary svelte-1n7xyu1")},m(e,o){od(e,t,o),mu(n,t,null),i=!0},p(e,t){const o={};2&t&&(o.html=e[1]),n.$set(o)},i(e){i||(iu(n.$$.fragment,e),o||Fd((()=>{o=au(t,np,{y:-50,duration:700}),o.start()})),i=!0)},o(e){su(n.$$.fragment,e),i=!1},d(e){e&&id(t),gu(n)}}}function Ay(e){let t,n,o=e[0]&&e[1]&&e[2]&&ky(e);return{c(){t=rd("div"),o&&o.c()},m(e,i){od(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[0]&&e[1]&&e[2]?o?(o.p(e,n),7&n&&iu(o,1)):(o=ky(e),o.c(),iu(o,1),o.m(t,null)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d()}}}function Iy(e,t,n){let o,i,s,r,a,{originalSnippet:l}=t,{sourceLanguage:c}=t,{targetLanguage:d}=t,{websiteLanguage:u}=t,{showDictionary:p=!1}=t,{setDictionaryLauncherState:m}=t,{resetDictionary:g=()=>{}}=t,h="",f="",_="";function v(){if(l&&l!==_){_=l;!async function(e){const t=e.enabled?N:D,n=e.langPair;try{await Qn({action:Zn.dlTrackDictionaryStatus,payload:{status:t,langPair:n}})}catch(e){console.log(e)}}({enabled:!!h&&!!i&&r&&a,langPair:i})}}async function w(){n(10,f="");const e={interfaceLang:chrome.i18n.getUILanguage(),sourceLang:u,targetLang:d,text:s};try{n(1,h=await xy(e))}catch(e){n(10,f=function(e,t){let n=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary");return e==Pu&&(n=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",t)),n}(e.error,s))}finally{v(),g()}}return e.$$set=e=>{"originalSnippet"in e&&n(3,l=e.originalSnippet),"sourceLanguage"in e&&n(4,c=e.sourceLanguage),"targetLanguage"in e&&n(5,d=e.targetLanguage),"websiteLanguage"in e&&n(6,u=e.websiteLanguage),"showDictionary"in e&&n(0,p=e.showDictionary),"setDictionaryLauncherState"in e&&n(7,m=e.setDictionaryLauncherState),"resetDictionary"in e&&n(8,g=e.resetDictionary)},e.$$.update=()=>{var t;if(8&e.$$.dirty&&(n(12,r=!!(t=l)&&1===t.trim().split(" ").length),n(13,a=function(e){return!!e&&e.trim().length<200}(l))),48&e.$$.dirty&&(d!==c&&c?n(2,i=$y(c,d)):(n(2,i=""),n(9,o=""))),14604&e.$$.dirty&&(l&&l.trim()!==s?(n(11,s=l.trim()),n(10,f=""),i&&r&&a?(n(9,o=i),w()):(n(1,h=""),v(),g())):g()),12804&e.$$.dirty&&i!=o&&i&&r&&a&&(n(10,f=""),w()),5254&e.$$.dirty){let e="";f?e=f:r?i?h||(e=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary")):e=chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair"):e=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word");m({enableDictionaryButton:!!h&&r&&!!i&&!f,dictionaryButtonError:e})}if(1&e.$$.dirty&&p)try{Qn({action:Zn.dlTrackOpenDictionarySection,payload:{}})}catch(e){console.log(e)}},[p,h,i,l,c,d,u,m,g,o,f,s,r,a]}class My extends fu{constructor(e){super(),hu(this,e,Iy,Ay,Dc,{originalSnippet:3,sourceLanguage:4,targetLanguage:5,websiteLanguage:6,showDictionary:0,setDictionaryLauncherState:7,resetDictionary:8})}}function Oy(e,t,n){const o=e.slice();return o[32]=t[n],o}function Ry(e,t,n){const o=e.slice();return o[35]=t[n],o}function Ny(e,t,n){const o=e.slice();return o[38]=t[n],o}function Dy(e){let t,n,o,i,s,r=!Sn.includes(e[5].selectedTargetLanguage),a=e[7]&&Uy(e),l=r&&Gy(e),c=e[0]===xn.SENTENCE&&Hy(e),d=e[0]===xn.WORD&&Wy(e);return{c(){t=rd("div"),n=rd("div"),a&&a.c(),o=cd(),l&&l.c(),i=cd(),c&&c.c(),s=cd(),d&&d.c(),gd(n,"class","dl-segmentation-selector svelte-fxpmgu")},m(e,r){od(e,t,r),ed(t,n),a&&a.m(n,null),ed(n,o),l&&l.m(n,null),ed(t,i),c&&c.m(t,null),ed(t,s),d&&d.m(t,null)},p(e,i){e[7]?a?a.p(e,i):(a=Uy(e),a.c(),a.m(n,o)):a&&(a.d(1),a=null),32&i[0]&&(r=!Sn.includes(e[5].selectedTargetLanguage)),r?l?l.p(e,i):(l=Gy(e),l.c(),l.m(n,null)):l&&(l.d(1),l=null),e[0]===xn.SENTENCE?c?c.p(e,i):(c=Hy(e),c.c(),c.m(t,s)):c&&(c.d(1),c=null),e[0]===xn.WORD?d?d.p(e,i):(d=Wy(e),d.c(),d.m(t,null)):d&&(d.d(1),d=null)},d(e){e&&id(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function Py(e){let t;return{c(){t=rd("div"),t.innerHTML='<div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div></div> <div class="skeleton-item svelte-fxpmgu"><div class="skeleton-subitem svelte-fxpmgu"></div> <div class="skeleton-subitem is-short-line svelte-fxpmgu"></div></div>',gd(t,"class","dl-alternatives-loading-skeleton svelte-fxpmgu")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function Uy(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,gd(t,"class","segmentation-button sentence svelte-fxpmgu"),bd(t,"active",e[0]===xn.SENTENCE)},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[23]),n=!0)},p(e,n){1&n[0]&&bd(t,"active",e[0]===xn.SENTENCE)},d(e){e&&id(t),n=!1,o()}}}function Gy(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,gd(t,"class","segmentation-button word svelte-fxpmgu"),bd(t,"active",e[0]===xn.WORD)},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[24]),n=!0)},p(e,n){1&n[0]&&bd(t,"active",e[0]===xn.WORD)},d(e){e&&id(t),n=!1,o()}}}function Hy(e){let t,n,o=du(e[3]),i=[];for(let t=0;t<o.length;t+=1)i[t]=zy(Ry(e,o,t));return{c(){t=rd("div");for(let e=0;e<i.length;e+=1)i[e].c();gd(t,"class","alternatives svelte-fxpmgu"),gd(t,"dir",n=ns(e[1].targetLang))},m(e,n){od(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(1032&s[0]){let n;for(o=du(e[3]),n=0;n<o.length;n+=1){const r=Ry(e,o,n);i[n]?i[n].p(r,s):(i[n]=zy(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}2&s[0]&&n!==(n=ns(e[1].targetLang))&&gd(t,"dir",n)},d(e){e&&id(t),sd(i,e)}}}function By(e){let t,n,o=Bi(e[38].text)+"";return{c(){t=rd("span"),n=ld(o),gd(t,"class","svelte-fxpmgu"),bd(t,"highlighted-text-chunk",e[38].isHighlighted)},m(e,o){od(e,t,o),ed(t,n)},p(e,i){8&i[0]&&o!==(o=Bi(e[38].text)+"")&&hd(n,o),8&i[0]&&bd(t,"highlighted-text-chunk",e[38].isHighlighted)},d(e){e&&id(t)}}}function zy(e){let t,n,o,i,s=du(e[35].textChunks),r=[];for(let t=0;t<s.length;t+=1)r[t]=By(Ny(e,s,t));function a(){return e[25](e[35])}return{c(){t=rd("div");for(let e=0;e<r.length;e+=1)r[e].c();n=cd(),gd(t,"class","sentence-alternatives alternative svelte-fxpmgu"),gd(t,"tabindex","-1"),gd(t,"aria-hidden","true")},m(e,s){od(e,t,s);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null);ed(t,n),o||(i=ud(t,"click",a),o=!0)},p(o,i){if(e=o,8&i[0]){let o;for(s=du(e[35].textChunks),o=0;o<s.length;o+=1){const a=Ny(e,s,o);r[o]?r[o].p(a,i):(r[o]=By(a),r[o].c(),r[o].m(t,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}},d(e){e&&id(t),sd(r,e),o=!1,i()}}}function Wy(e){let t,n,o=du(e[4]),i=[];for(let t=0;t<o.length;t+=1)i[t]=jy(Oy(e,o,t));return{c(){t=rd("div");for(let e=0;e<i.length;e+=1)i[e].c();gd(t,"class","alternatives svelte-fxpmgu"),gd(t,"dir",n=ns(e[1].targetLang))},m(e,n){od(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(2064&s[0]){let n;for(o=du(e[4]),n=0;n<o.length;n+=1){const r=Oy(e,o,n);i[n]?i[n].p(r,s):(i[n]=jy(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}2&s[0]&&n!==(n=ns(e[1].targetLang))&&gd(t,"dir",n)},d(e){e&&id(t),sd(i,e)}}}function jy(e){let t,n,o,i,s,r=Bi(e[32].text)+"";function a(){return e[26](e[32])}return{c(){t=rd("div"),n=ld(r),o=cd(),gd(t,"role","button"),gd(t,"class","word-alternative alternative svelte-fxpmgu"),gd(t,"tabindex","-1"),gd(t,"aria-hidden","true")},m(e,r){od(e,t,r),ed(t,n),ed(t,o),i||(s=ud(t,"click",a),i=!0)},p(t,o){e=t,16&o[0]&&r!==(r=Bi(e[32].text)+"")&&hd(n,r)},d(e){e&&id(t),i=!1,s()}}}function Fy(e){let t,n,o,i,s;function r(e,t){return e[6]?Py:e[2]?Dy:void 0}let a=r(e),l=a&&a(e);return{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,o=cd(),l&&l.c(),gd(n,"class","dl-toggle-show-alternatives svelte-fxpmgu"),bd(n,"is-showing",e[2]),gd(t,"class","dl-alternatives-container svelte-fxpmgu")},m(r,a){od(r,t,a),ed(t,n),ed(t,o),l&&l.m(t,null),i||(s=ud(n,"click",e[22]),i=!0)},p(e,o){4&o[0]&&bd(n,"is-showing",e[2]),a===(a=r(e))&&l?l.p(e,o):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(t,null)))},i:Ac,o:Ac,d(e){e&&id(t),l&&l.d(),i=!1,s()}}}function qy(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(5,o=e)));let{textProcessingMode:s=Rt.translate}=t,{contentProcessBuildingBlocks:r}=t,{buildAndSetReplaceData:a}=t,{activeSentence:c}=t,{activeWord:d}=t,{shouldMarkWordOrSentenceAsActive:u}=t,{registerAlternativesCallbacks:p}=t,{clearAlternativesCallbacks:m}=t,{gDocsSegmentation:g=xn.SENTENCE}=t,h=!1,f=!1,_=[],v=[],w=!0;const T=()=>{if(h)if(g===xn.SENTENCE&&w)c||(n(15,c=0),n(16,d=0)),b(c);else if(g===xn.WORD){d||n(16,d=0),c||n(15,c=0);const e=r.processedSentences[c].text.split(/\s+/)[d],t=zi(r.processedSentences[c].text).find((t=>t.text===e));y(c,d,t)}},b=async e=>{if(g===xn.SENTENCE){n(15,c=e),n(2,h=!0),n(3,_=[]),n(6,f=!0);try{const t=await Qn({action:Wn.dlRequestGDocsSentenceAlternatives,payload:{mode:s,sourceLang:r.detectedSourceLanguage,targetLang:r.targetLang,sentence:r.sentences[e],contextBefore:e>0&&r.sentences[e-1].text,contextAfter:e<r.sentences.length-1&&r.sentences[e+1].text}});for(const o of t.result.translations[0].beams)o.sentences[0].text!==r.processedSentences[e].text&&_.length<4&&n(3,_=[..._,{text:o.sentences[0].text,textChunks:lp(o.sentences[0].text,r.processedSentences[e].text)}]);k(xn.SENTENCE)}catch(e){console.error(e)}n(6,f=!1)}},y=async(e,t,o)=>{if(g===xn.WORD){n(15,c=e),n(16,d=t),n(2,h=!0),n(4,v=[]),n(6,f=!0);try{const t=await Qn({action:Wn.dlRequestGDocsWordAlternatives,payload:{mode:s,sourceLang:r.detectedSourceLanguage,targetLang:r.targetLang,sentence:r.sentences[e],contextBefore:e>0&&r.sentences[e-1].text,contextAfter:e<r.sentences.length-1&&r.sentences[e+1].text,partialTranslation:r.processedSentences[e].text.substring(0,o.offsetStartRaw)}});for(const i of t.result.translations[0].beams)if(i.sentences[0].text!==r.processedSentences[e].text.substring(0,o.offsetStartRaw+o.offsetLengthRaw)&&v.length<4){const e=i.sentences[0].text.substring(o.offsetStartRaw);e.trim().length>0&&n(4,v=[...v,{text:`${e}...`,partialTranslation:i.sentences[0].text}])}k(xn.WORD)}catch(e){console.error(e)}n(6,f=!1)}},E=e=>{n(1,r.processedSentences[c].text=e,r),n(3,_=[]),a(),L(xn.SENTENCE)},$=async e=>{n(1,r.processedSentences[c].text=e,r),n(4,v=[]);try{const t=await Qn({action:Wn.dlRequestGDocsSentenceFromPartialTranslation,payload:{mode:s,sourceLang:r.detectedSourceLanguage,targetLang:r.targetLang,sentence:r.sentences[c],contextBefore:c>0&&r.sentences[c-1].text,contextAfter:c<r.sentences.length-1&&r.sentences[c+1].text,partialTranslation:e}});n(1,r.processedSentences[c].text=t.result.translations[0].beams[0].sentences[0].text,r),a(),L(xn.WORD)}catch(e){console.error(e)}},x=()=>{n(0,g=xn.SENTENCE),c||(n(15,c=0),n(16,d=0)),C(xn.SENTENCE)},S=()=>{let e;n(0,g=xn.WORD),d||n(16,d=0),e=r.processedSentences[c].text.split(/\s+/)[d];const t=zi(r.processedSentences[c].text).find((t=>t.text===e));y(c,d,t),C(xn.WORD)},C=async e=>await A({eventType:cn,alternativesSegmentation:e}),L=async e=>await A({eventType:dn,alternativesSegmentation:e}),k=async e=>await A({eventType:ln,alternativesSegmentation:e}),A=async({eventType:e,alternativesSegmentation:t})=>await Qn({action:Zn.dlTrackAlternativesEvent,payload:{eventType:e,alternativesMetaData:{sourceLang:r.detectedSourceLanguage,targetLang:r.targetLang,nicheIntegration:It.gdocs,contentProcessingMode:s,alternativesSegmentation:t}}});Md((()=>{p({showSentenceAlternatives:b,showWordAlternatives:y})})),Od((()=>{m()}));return e.$$set=e=>{"textProcessingMode"in e&&n(18,s=e.textProcessingMode),"contentProcessBuildingBlocks"in e&&n(1,r=e.contentProcessBuildingBlocks),"buildAndSetReplaceData"in e&&n(19,a=e.buildAndSetReplaceData),"activeSentence"in e&&n(15,c=e.activeSentence),"activeWord"in e&&n(16,d=e.activeWord),"shouldMarkWordOrSentenceAsActive"in e&&n(17,u=e.shouldMarkWordOrSentenceAsActive),"registerAlternativesCallbacks"in e&&n(20,p=e.registerAlternativesCallbacks),"clearAlternativesCallbacks"in e&&n(21,m=e.clearAlternativesCallbacks),"gDocsSegmentation"in e&&n(0,g=e.gDocsSegmentation)},e.$$.update=()=>{32&e.$$.dirty[0]&&l.includes(o.gdocsWriteLang)&&(n(7,w=!1),n(0,g=xn.WORD)),29&e.$$.dirty[0]&&n(17,u=h&&(g===xn.WORD&&v||g===xn.SENTENCE&&_))},[g,r,h,_,v,o,f,w,i,T,E,$,x,S,k,c,d,u,s,a,p,m,()=>{n(2,h=!h),k(),T()},()=>x(),()=>S(),e=>E(e.text),e=>$(e.partialTranslation)]}class Vy extends fu{constructor(e){super(),hu(this,e,qy,Fy,Dc,{textProcessingMode:18,contentProcessBuildingBlocks:1,buildAndSetReplaceData:19,activeSentence:15,activeWord:16,shouldMarkWordOrSentenceAsActive:17,registerAlternativesCallbacks:20,clearAlternativesCallbacks:21,gDocsSegmentation:0},null,[-1,-1])}}function Zy(e,t,n){const o=e.slice();return o[27]=t[n],o}function Yy(e,t,n){const o=e.slice();return o[30]=t[n],o}function Xy(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function Ky(e){let t,n,o=du(e[8].contentReference),i=[];for(let t=0;t<o.length;t+=1)i[t]=rE(Zy(e,o,t));return{c(){t=rd("div");for(let e=0;e<i.length;e+=1)i[e].c();gd(t,"class","preview-text-scroller svelte-t9u7lm"),gd(t,"dir",n=ns(e[0]===Rt.translate?e[7].selectedTargetLanguage:e[7].gdocsWriteLang))},m(e,n){od(e,t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(32512&s[0]){let n;for(o=du(e[8].contentReference),n=0;n<o.length;n+=1){const r=Zy(e,o,n);i[n]?i[n].p(r,s):(i[n]=rE(r),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}129&s[0]&&n!==(n=ns(e[0]===Rt.translate?e[7].selectedTargetLanguage:e[7].gdocsWriteLang))&&gd(t,"dir",n)},d(e){e&&id(t),sd(i,e)}}}function Qy(e){let t;return{c(){t=rd("div"),gd(t,"class","dl-untranslatable-line svelte-t9u7lm")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function Jy(e){let t,n,o=du(e[8].textLinesComponents[e[27].index]),i=[];for(let t=0;t<o.length;t+=1)i[t]=sE(Yy(e,o,t));return{c(){t=rd("div");for(let e=0;e<i.length;e+=1)i[e].c();n=cd(),gd(t,"class","dl-translatable-line svelte-t9u7lm"),bd(t,"is-sentence-segmentation",e[14]===xn.SENTENCE),bd(t,"is-word-segmentation",e[14]===xn.WORD)},m(e,o){od(e,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);ed(t,n)},p(e,s){if(32512&s[0]){let r;for(o=du(e[8].textLinesComponents[e[27].index]),r=0;r<o.length;r+=1){const a=Yy(e,o,r);i[r]?i[r].p(a,s):(i[r]=sE(a),i[r].c(),i[r].m(t,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}16384&s[0]&&bd(t,"is-sentence-segmentation",e[14]===xn.SENTENCE),16384&s[0]&&bd(t,"is-word-segmentation",e[14]===xn.WORD)},d(e){e&&id(t),sd(i,e)}}}function eE(e){let t,n=Bi(e[8].processedSentences[e[30]].text)+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){256&o[0]&&n!==(n=Bi(e[8].processedSentences[e[30]].text)+"")&&hd(t,n)},d(e){e&&id(t)}}}function tE(e){let t,n=du(zi(e[8].processedSentences[e[30]].text)),o=[];for(let t=0;t<n.length;t+=1)o[t]=iE(Xy(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dd()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);od(e,t,n)},p(e,i){if(12032&i[0]){let s;for(n=du(zi(e[8].processedSentences[e[30]].text)),s=0;s<n.length;s+=1){const r=Xy(e,n,s);o[s]?o[s].p(r,i):(o[s]=iE(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&id(t),sd(o,e)}}}function nE(e){let t,n,o=e[33].text+"";return{c(){t=rd("span"),n=ld(o)},m(e,o){od(e,t,o),ed(t,n)},p(e,t){256&t[0]&&o!==(o=e[33].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function oE(e){let t,n,o,i,s=e[33].text+"";function r(){return e[19](e[30],e[35],e[33])}return{c(){t=rd("span"),n=ld(s),gd(t,"class","word-text svelte-t9u7lm"),gd(t,"tabindex","-1"),gd(t,"aria-hidden","true"),bd(t,"active-word",e[30]===e[9]&&e[10]===e[35]&&e[11])},m(e,s){od(e,t,s),ed(t,n),o||(i=ud(t,"click",r),o=!0)},p(o,i){e=o,256&i[0]&&s!==(s=e[33].text+"")&&hd(n,s),3840&i[0]&&bd(t,"active-word",e[30]===e[9]&&e[10]===e[35]&&e[11])},d(e){e&&id(t),o=!1,i()}}}function iE(e){let t;function n(e,t){return e[33].isWord?oE:nE}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function sE(e){let t,n,o,i,s,r,a,l=e[8].processedSentences[e[30]].prefix+"",c=e[14]===xn.SENTENCE&&eE(e),d=e[14]===xn.WORD&&tE(e);function u(){return e[20](e[30])}return{c(){t=rd("span"),n=ld(l),o=cd(),i=rd("span"),c&&c.c(),s=cd(),d&&d.c(),gd(t,"class","sentence-prefix"),gd(i,"class","sentence-text svelte-t9u7lm"),gd(i,"tabindex","-1"),gd(i,"aria-hidden","true"),bd(i,"active-sentence",e[9]===e[30]&&e[11])},m(e,l){od(e,t,l),ed(t,n),od(e,o,l),od(e,i,l),c&&c.m(i,null),ed(i,s),d&&d.m(i,null),r||(a=ud(i,"click",u),r=!0)},p(t,o){e=t,256&o[0]&&l!==(l=e[8].processedSentences[e[30]].prefix+"")&&hd(n,l),e[14]===xn.SENTENCE?c?c.p(e,o):(c=eE(e),c.c(),c.m(i,s)):c&&(c.d(1),c=null),e[14]===xn.WORD?d?d.p(e,o):(d=tE(e),d.c(),d.m(i,null)):d&&(d.d(1),d=null),2816&o[0]&&bd(i,"active-sentence",e[9]===e[30]&&e[11])},d(e){e&&(id(t),id(o),id(i)),c&&c.d(),d&&d.d(),r=!1,a()}}}function rE(e){let t;function n(e,t){return e[27].isTranslatable?Jy:Qy}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function aE(e){let t,n,o;return n=new hy({props:{platformBehaviour:It.gdocs,websiteSettings:e[1],showDictionary:e[2],switchVisibilityDictionary:e[3],enableDictionaryButton:e[4],dictionaryButtonError:e[5],onClose:e[6]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl-inline-translate-toolbar-frame svelte-t9u7lm")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};2&t[0]&&(o.websiteSettings=e[1]),4&t[0]&&(o.showDictionary=e[2]),8&t[0]&&(o.switchVisibilityDictionary=e[3]),16&t[0]&&(o.enableDictionaryButton=e[4]),32&t[0]&&(o.dictionaryButtonError=e[5]),64&t[0]&&(o.onClose=e[6]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function lE(e){let t,n;return t=new vy({props:{onClose:e[6]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.onClose=e[6]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function cE(e){let t,n,o,i,s,r,a;function l(t){e[21](t)}function c(t){e[22](t)}function d(t){e[23](t)}function u(t){e[24](t)}function p(t){e[25](t)}let m={textProcessingMode:e[0],buildAndSetReplaceData:e[16],registerAlternativesCallbacks:e[17],clearAlternativesCallbacks:e[18]};return void 0!==e[14]&&(m.gDocsSegmentation=e[14]),void 0!==e[8]&&(m.contentProcessBuildingBlocks=e[8]),void 0!==e[9]&&(m.activeSentence=e[9]),void 0!==e[10]&&(m.activeWord=e[10]),void 0!==e[11]&&(m.shouldMarkWordOrSentenceAsActive=e[11]),t=new Vy({props:m}),Gd.push((()=>uu(t,"gDocsSegmentation",l))),Gd.push((()=>uu(t,"contentProcessBuildingBlocks",c))),Gd.push((()=>uu(t,"activeSentence",d))),Gd.push((()=>uu(t,"activeWord",u))),Gd.push((()=>uu(t,"shouldMarkWordOrSentenceAsActive",p))),{c(){pu(t.$$.fragment)},m(e,n){mu(t,e,n),a=!0},p(e,a){const l={};1&a[0]&&(l.textProcessingMode=e[0]),!n&&16384&a[0]&&(n=!0,l.gDocsSegmentation=e[14],qd((()=>n=!1))),!o&&256&a[0]&&(o=!0,l.contentProcessBuildingBlocks=e[8],qd((()=>o=!1))),!i&&512&a[0]&&(i=!0,l.activeSentence=e[9],qd((()=>i=!1))),!s&&1024&a[0]&&(s=!0,l.activeWord=e[10],qd((()=>s=!1))),!r&&2048&a[0]&&(r=!0,l.shouldMarkWordOrSentenceAsActive=e[11],qd((()=>r=!1))),t.$set(l)},i(e){a||(iu(t.$$.fragment,e),a=!0)},o(e){su(t.$$.fragment,e),a=!1},d(e){gu(t,e)}}}function dE(e){let t,n,o,i,s,r,a=e[8]&&e[8].contentReference&&Ky(e),l=e[0]===Rt.translate&&aE(e),c=e[0]===Rt.write&&lE(e),d=e[8]&&cE(e);return{c(){t=rd("div"),a&&a.c(),n=cd(),l&&l.c(),o=cd(),c&&c.c(),i=cd(),s=rd("div"),d&&d.c(),gd(s,"class","dl-alternatives-frame svelte-t9u7lm")},m(e,u){od(e,t,u),a&&a.m(t,null),ed(t,n),l&&l.m(t,null),ed(t,o),c&&c.m(t,null),ed(t,i),ed(t,s),d&&d.m(s,null),r=!0},p(e,r){e[8]&&e[8].contentReference?a?a.p(e,r):(a=Ky(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),e[0]===Rt.translate?l?(l.p(e,r),1&r[0]&&iu(l,1)):(l=aE(e),l.c(),iu(l,1),l.m(t,o)):l&&(nu(),su(l,1,1,(()=>{l=null})),ou()),e[0]===Rt.write?c?(c.p(e,r),1&r[0]&&iu(c,1)):(c=lE(e),c.c(),iu(c,1),c.m(t,i)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou()),e[8]?d?(d.p(e,r),256&r[0]&&iu(d,1)):(d=cE(e),d.c(),iu(d,1),d.m(s,null)):d&&(nu(),su(d,1,1,(()=>{d=null})),ou())},i(e){r||(iu(l),iu(c),iu(d),r=!0)},o(e){su(l),su(c),su(d),r=!1},d(e){e&&id(t),a&&a.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function uE(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(7,o=e)));let s,r,a,l,{textProcessingMode:c=Rt.translate}=t,{websiteSettings:d}=t,{showDictionary:u}=t,{switchVisibilityDictionary:p}=t,{enableDictionaryButton:m}=t,{dictionaryButtonError:g}=t,{onClose:h}=t,f=!1,_=()=>{},v=()=>{},w=xn.SENTENCE;const T=()=>{if(r)try{const{processedText:e,processedEntities:t}=Hi({textLines:r.textLinesComponents.map((e=>e.map((e=>r.processedSentences[e].prefix+r.processedSentences[e].text)))),entities:r.entities,contentReference:r.contentReference});d.update({translatedSnippet:e}),s&&s.setReplaceData({entities:t,text:e,originalObject:r.originalObject})}catch(e){console.error(e)}};Md((()=>{s=document.querySelector("deepl-gdocs-icon"),n(8,r=s.getContentProcessBuildingBlocks()),T()}));return e.$$set=e=>{"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"websiteSettings"in e&&n(1,d=e.websiteSettings),"showDictionary"in e&&n(2,u=e.showDictionary),"switchVisibilityDictionary"in e&&n(3,p=e.switchVisibilityDictionary),"enableDictionaryButton"in e&&n(4,m=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(5,g=e.dictionaryButtonError),"onClose"in e&&n(6,h=e.onClose)},e.$$.update=()=>{128&e.$$.dirty[0]&&Sn.includes(o.selectedTargetLanguage)&&n(14,w=xn.SENTENCE)},[c,d,u,p,m,g,h,o,r,a,l,f,_,v,w,i,T,e=>{n(12,_=e.showSentenceAlternatives),n(13,v=e.showWordAlternatives)},()=>{n(12,_=()=>{}),n(13,v=()=>{})},(e,t,n)=>v(e,t,n),e=>_(e),function(e){w=e,n(14,w),n(7,o)},function(e){r=e,n(8,r)},function(e){a=e,n(9,a)},function(e){l=e,n(10,l)},function(e){f=e,n(11,f)}]}class pE extends fu{constructor(e){super(),hu(this,e,uE,dE,Dc,{textProcessingMode:0,websiteSettings:1,showDictionary:2,switchVisibilityDictionary:3,enableDictionaryButton:4,dictionaryButtonError:5,onClose:6},null,[-1,-1])}}function mE(e){let t,n,o,i;return t=new by({props:{headline:"Response - Translated DOM",jsonData:e[18]}}),o=new by({props:{headline:"Request - Original DOM",jsonData:e[19]}}),{c(){pu(t.$$.fragment),n=cd(),pu(o.$$.fragment)},m(e,s){mu(t,e,s),od(e,n,s),mu(o,e,s),i=!0},p(e,n){const i={};16&n&&(i.jsonData=e[18]),t.$set(i);const s={};16&n&&(s.jsonData=e[19]),o.$set(s)},i(e){i||(iu(t.$$.fragment,e),iu(o.$$.fragment,e),i=!0)},o(e){su(t.$$.fragment,e),su(o.$$.fragment,e),i=!1},d(e){e&&id(n),gu(t,e),gu(o,e)}}}function gE(e){let t,n,o,i,s,r,a=Ci(Vb(e[4].translatedSnippet))+"",l=e[3]===Rt.translate&&wE(e),c=e[3]===Rt.write&&TE(e);return{c(){t=rd("div"),o=cd(),l&&l.c(),i=cd(),c&&c.c(),s=dd(),gd(t,"class","result-frame svelte-1qr4p6b"),gd(t,"dir",n=ns(e[5].selectedTargetLanguage))},m(e,n){od(e,t,n),t.innerHTML=a,od(e,o,n),l&&l.m(e,n),od(e,i,n),c&&c.m(e,n),od(e,s,n),r=!0},p(e,o){(!r||16&o)&&a!==(a=Ci(Vb(e[4].translatedSnippet))+"")&&(t.innerHTML=a),(!r||32&o&&n!==(n=ns(e[5].selectedTargetLanguage)))&&gd(t,"dir",n),e[3]===Rt.translate?l?(l.p(e,o),8&o&&iu(l,1)):(l=wE(e),l.c(),iu(l,1),l.m(i.parentNode,i)):l&&(nu(),su(l,1,1,(()=>{l=null})),ou()),e[3]===Rt.write?c?(c.p(e,o),8&o&&iu(c,1)):(c=TE(e),c.c(),iu(c,1),c.m(s.parentNode,s)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou())},i(e){r||(iu(l),iu(c),r=!0)},o(e){su(l),su(c),r=!1},d(e){e&&(id(t),id(o),id(i),id(s)),l&&l.d(e),c&&c.d(e)}}}function hE(e){let t,n;return t=new pE({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function fE(e){let t,n;return t=new lh({props:{error:e[4].error}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function _E(e){let t,n,o,i,s,r,a,l,c,d,u;function p(e,t){return e[3]===Rt.translate?yE:bE}let m=p(e),g=m(e);function h(e,t){return e[3]===Rt.translate?$E:EE}let f=h(e),_=f(e);function v(e,t){return e[3]===Rt.translate?SE:xE}let w=v(e),T=w(e);return{c(){t=rd("div"),n=rd("p"),g.c(),o=cd(),i=rd("div"),s=rd("h2"),_.c(),r=cd(),T.c(),a=cd(),l=rd("div"),c=rd("button"),c.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,gd(n,"class","counter svelte-1qr4p6b"),gd(s,"class","svelte-1qr4p6b"),gd(c,"class","svelte-1qr4p6b"),gd(l,"class","button-row svelte-1qr4p6b"),gd(i,"class","box svelte-1qr4p6b"),gd(t,"class","anonymous-user-max-char-exceeded svelte-1qr4p6b")},m(p,m){od(p,t,m),ed(t,n),g.m(n,null),ed(t,o),ed(t,i),ed(i,s),_.m(s,null),ed(i,r),T.m(i,null),ed(i,a),ed(i,l),ed(l,c),d||(u=ud(c,"click",e[15]),d=!0)},p(e,t){m===(m=p(e))&&g?g.p(e,t):(g.d(1),g=m(e),g&&(g.c(),g.m(n,null))),f===(f=h(e))&&_?_.p(e,t):(_.d(1),_=f(e),_&&(_.c(),_.m(s,null))),w===(w=v(e))&&T?T.p(e,t):(T.d(1),T=w(e),T&&(T.c(),T.m(i,a)))},i:Ac,o:Ac,d(e){e&&id(t),g.d(),_.d(),T.d(),d=!1,u()}}}function vE(e){let t,n,o;return n=new Wv({}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","loading-spinner-container svelte-1qr4p6b")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function wE(e){let t,n;return t=new hy({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[7],switchVisibilityDictionary:e[13],enableDictionaryButton:e[9],dictionaryButtonError:e[8],onClose:e[0]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),128&n&&(o.showDictionary=e[7]),512&n&&(o.enableDictionaryButton=e[9]),256&n&&(o.dictionaryButtonError=e[8]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function TE(e){let t,n;return t=new vy({props:{onClose:e[0]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function bE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=ld(o),n=ld("/2000")},m(e,o){od(e,t,o),od(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&hd(t,o)},d(e){e&&(id(t),id(n))}}}function yE(e){let t,n,o=e[4].originalSnippet.length+"";return{c(){t=ld(o),n=ld("/5000")},m(e,o){od(e,t,o),od(e,n,o)},p(e,n){16&n&&o!==(o=e[4].originalSnippet.length+"")&&hd(t,o)},d(e){e&&(id(t),id(n))}}}function EE(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_improvement_title")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function $E(e){let t,n=chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function xE(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body_write")}`},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function SE(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function CE(e){let t,n,o,i,s,r,a,l,c,d=!!bo();const p=[vE,_E,fE,hE,gE,mE],m=[];function g(e,t){return 16&t&&(n=null),null==e[4]||e[4].translationState===u.ongoingTranslation?0:e[4].translationState===u.anonymousUserMaxCharExceeded?1:e[4].error?2:e[2]===It.gdocs?3:e[4].translatedSnippet?4:(null==n&&(n=!(!Ls()||!e[4].translatedDOMSnippet)),n?5:-1)}~(o=g(e,-1))&&(i=m[o]=p[o](e)),r=new My({props:{originalSnippet:e[4].originalSnippet,sourceLanguage:e[4].snippetDetectedSourceLang,targetLanguage:e[5].selectedTargetLanguage,websiteLanguage:e[4].websiteLanguage,showDictionary:e[7],setDictionaryLauncherState:e[12],resetDictionary:e[14]}});let h=d&&function(e){let t,n,o,i,s,r,a,l,c=chrome.i18n.getMessage("inline_translation_ads_ms_office")+"";return{c(){t=rd("div"),n=rd("div"),o=cd(),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("inline_translation_ads_ms_office_discover")}`,s=cd(),r=rd("div"),gd(n,"class","text-banner svelte-1qr4p6b"),gd(i,"class","button-banner svelte-1qr4p6b"),gd(r,"class","icon svelte-1qr4p6b"),gd(t,"class","dl-ms-addin-banner svelte-1qr4p6b")},m(d,u){od(d,t,u),ed(t,n),n.innerHTML=c,ed(t,o),ed(t,i),ed(t,s),ed(t,r),a||(l=ud(i,"click",e[16]),a=!0)},p:Ac,d(e){e&&id(t),a=!1,l()}}}(e);return{c(){t=rd("div"),i&&i.c(),s=cd(),pu(r.$$.fragment),a=cd(),h&&h.c(),l=dd(),gd(t,"class","tooltip-container svelte-1qr4p6b"),gd(t,"data-qa","deepl-inline-translation-result-container"),bd(t,"error",e[4].error)},m(e,n){od(e,t,n),~o&&m[o].m(t,null),od(e,s,n),mu(r,e,n),od(e,a,n),h&&h.m(e,n),od(e,l,n),c=!0},p(e,n){let s=o;o=g(e,n),o===s?~o&&m[o].p(e,n):(i&&(nu(),su(m[s],1,1,(()=>{m[s]=null})),ou()),~o?(i=m[o],i?i.p(e,n):(i=m[o]=p[o](e),i.c()),iu(i,1),i.m(t,null)):i=null),(!c||16&n)&&bd(t,"error",e[4].error);const a={};16&n&&(a.originalSnippet=e[4].originalSnippet),16&n&&(a.sourceLanguage=e[4].snippetDetectedSourceLang),32&n&&(a.targetLanguage=e[5].selectedTargetLanguage),16&n&&(a.websiteLanguage=e[4].websiteLanguage),128&n&&(a.showDictionary=e[7]),r.$set(a),d&&h.p(e,n)},i(e){c||(iu(i),iu(r.$$.fragment,e),c=!0)},o(e){su(i),su(r.$$.fragment,e),c=!1},d(e){e&&(id(t),id(s),id(a),id(l)),~o&&m[o].d(),gu(r,e),h&&h.d(e)}}}function LE(e){let t,n,o;return n=new Sb({props:{closeWindow:e[11],showLangSelect:!e[4].error,settings:yu,websiteSettings:e[1],extensionContext:e[10],platformBehaviour:e[2],textProcessingMode:e[3],showProStatus:e[6],showServiceName:!0,showSettingsIcon:!0,$$slots:{default:[CE]},$$scope:{ctx:e}}}),{c(){t=rd("div"),pu(n.$$.fragment)},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,[t]){const o={};16&t&&(o.showLangSelect=!e[4].error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),64&t&&(o.showProStatus=e[6]),2098111&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function kE(e,t,n){let o,i,s=Ac,r=()=>(s(),s=Pc(l,(e=>n(4,o=e))),l);Uc(e,yu,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>s()));let{closeTooltip:a}=t,{websiteSettings:l}=t;r();let c,{platformBehaviour:d=It.default}=t,{textProcessingMode:p=Rt.translate}=t,{setPositioningStatus:m}=t,g=!1,h="",f=!1,_=L;async function v(e){switch(p){case Rt.translate:{const t=await Yi(o.originalSnippet);let n;e===un&&(n=Zn.dlTrackGdocsMaxCharExceededShown),e===pn&&(n=Zn.dlTrackGDocsMaxCharExceededTryProClicked),Qn({action:n,payload:{sourceLang:t,targetLang:i.selectedTargetLanguage,sourceLength:o.originalSnippet.length}})}break;case Rt.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"websiteSettings"in e&&r(n(1,l=e.websiteSettings)),"platformBehaviour"in e&&n(2,d=e.platformBehaviour),"textProcessingMode"in e&&n(3,p=e.textProcessingMode),"setPositioningStatus"in e&&n(17,m=e.setPositioningStatus)},e.$$.update=()=>{20&e.$$.dirty&&d===It.gdocs&&o.translationState===u.anonymousUserMaxCharExceeded&&o.originalSnippet.length>0&&v(un),17&e.$$.dirty&&o&&(!o.isTranslationTooltipInjected||o.translationState!==u.none||o.translatedSnippet||o.error||o.translatedDOMSnippet||a()),131092&e.$$.dirty&&!o.translationState&&d===It.default&&m&&(m(!0),setTimeout((()=>{m(!1)}),600)),40&e.$$.dirty&&n(6,c=oo(i,Zt.TRANSLATOR)&&p===Rt.translate||oo(i,Zt.WRITE)&&p===Rt.write)},[a,l,d,p,o,i,c,g,h,f,_,function(){Qn({action:Zn.dlTrackUiAction,payload:{uiAction:at,nicheIntegration:d}}),a()},function(e){n(8,h=e.dictionaryButtonError),n(9,f=e.enableDictionaryButton)},function(){f&&n(7,g=!g)},function(){n(7,g=!1)},function(){v(pn),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:p===Rt.translate?Rm:Nm,utmContent:p===Rt.translate?"gdocs_customization":"gdocs_customization_write"}})},()=>{Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Xm,utmContent:"msaddin_ads_banner"}});try{Qn({action:Zn.dlTrackClicksOnAdsButton})}catch(e){console.error(e)}},m,()=>o.translatedDOMSnippet,()=>o.originalSnippet]}class AE extends fu{constructor(e){super(),hu(this,e,kE,LE,Dc,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:17})}}function IE(e){let t,n,o,i,s,r,a,l;return s=new AE({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=rd("div"),n=rd("div"),o=cd(),i=rd("div"),pu(s.$$.fragment),gd(n,"class","tooltip-drag-handle svelte-un7ezn"),gd(i,"class","tooltip-body svelte-un7ezn"),gd(t,"data-qa","inline-translate-tooltip"),gd(t,"class","tooltip-wrapper svelte-un7ezn"),gd(t,"role","dialog"),gd(t,"style",e[6]),gd(t,"draggable",e[5]),gd(t,"dir",ns())},m(c,d){od(c,t,d),ed(t,n),ed(t,o),ed(t,i),mu(s,i,null),e[18](t),r=!0,a||(l=[ud(n,"mouseover",e[8]),ud(n,"mouseout",e[9]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[17]),ud(t,"dragstart",e[10])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),8&n&&(o.textProcessingMode=e[3]),s.$set(o),(!r||64&n)&&gd(t,"style",e[6]),(!r||32&n)&&gd(t,"draggable",e[5])},i(e){r||(iu(s.$$.fragment,e),r=!0)},o(e){su(s.$$.fragment,e),r=!1},d(n){n&&id(t),gu(s),e[18](null),a=!1,Rc(l)}}}function ME(e,t,n){let o;Uc(e,yu,(e=>n(16,o=e))),Nd("deepl_settings",yu),Nd("text_direction",ns());let i,s,r,a,l,{closeTooltip:c}=t,{websiteSettings:d}=t,{replaceElement:u}=t,{actualPosition:p}=t,{dragContainerTo:m}=t,{platformBehaviour:g=It.default}=t,{textProcessingMode:h=Rt.translate}=t,f=!1,_=!1,v="visibility: hidden; opacity:0; height:0;";let w={x:0,y:0};function T(e){let t=qb({dropEvent:e,document:document,dragConfig:{dragOffset:w,dragElementRect:a,dragBarWidth:16}});t&&m(t)}Md((()=>{n(15,l=o.isLoggedIn),setTimeout((()=>{n(6,v="")}),100),document.addEventListener("dragover",jb),document.addEventListener("drop",T),r=Dp(i,(({clientHeight:e})=>{n(14,s=e)}))})),Od((()=>{document.removeEventListener("dragover",jb),document.removeEventListener("drop",T),r&&r()}));return e.$$set=e=>{"closeTooltip"in e&&n(0,c=e.closeTooltip),"websiteSettings"in e&&n(1,d=e.websiteSettings),"replaceElement"in e&&n(12,u=e.replaceElement),"actualPosition"in e&&n(11,p=e.actualPosition),"dragContainerTo"in e&&n(13,m=e.dragContainerTo),"platformBehaviour"in e&&n(2,g=e.platformBehaviour),"textProcessingMode"in e&&n(3,h=e.textProcessingMode)},e.$$.update=()=>{var t,i;98305&e.$$.dirty&&!1===l&&!0===o.isLoggedIn&&c(),65536&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,p=u(s,t))),16384&e.$$.dirty&&n(11,(i=s,p=_||g===It.gdocs?u(i,o.inlineTranslateTooltipPosition):p))},[c,d,g,h,i,f,v,e=>{_=e},function(){n(5,f=!0)},function(){n(5,f=!1)},function(e){const t=Fb(e,g);w=t.dragOffset,a=t.dragElementRect},p,u,m,s,l,o,()=>c(),function(e){Gd[e?"unshift":"push"]((()=>{i=e,n(4,i)}))}]}class OE extends fu{constructor(e){super(),hu(this,e,ME,IE,Dc,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2,textProcessingMode:3})}}var RE;class NE{constructor(e){RE.set(this,void 0),this.createDOM=(e,t,o)=>{const{deepl_inline_ui:i}=P;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===It.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let s=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let r="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(i.z_index-100),a=`position: absolute; top: ${s.y}px; left: ${s.x-200}px; z-index: ${i.z_index-100};`;switch(this.domElement.platformBehaviour){case It.gdocs:a+="top: 600px; left: 10px;";break;case It.default:default:a+=""}this.domElement.shadowContainer.style.cssText=r,this.domElement.container.style.cssText=a,this.domElement.mainComponent=new OE({target:this.domElement.container,props:{closeTooltip:t,websiteSettings:o,replaceElement:(t,o)=>{var i;s=e(this.domElement.selectionRange);const r={coords:s,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let a=o;const l=zb(r),[c,d]=Wb(o),u=null!==(i=n(this,RE,"f"))&&void 0!==i?i:{x:0,y:0};if(this.domElement.platformBehaviour===It.gdocs){for(const e of d)if(Bb(e,r)){Hb(e,r,u);break}}else for(const e of c)if(Bb(e,r)){a="middle"!==e?e:void 0,Gb(e,r,u);break}return Object.assign(Object.assign({},l),{current:a})},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo}})},this.dragContainerTo=e=>{var t,i,s,r;o(this,RE,{y:parseInt(this.domElement.container.style.top)-e.y+(null!==(i=null===(t=n(this,RE,"f"))||void 0===t?void 0:t.y)&&void 0!==i?i:0),x:parseInt(this.domElement.container.style.left)-e.x+(null!==(r=null===(s=n(this,RE,"f"))||void 0===s?void 0:s.x)&&void 0!==r?r:0)},"f"),this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.platformBehaviour=It.default,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}function DE(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=rd("div"),n=rd("span"),o=ld(e[1]),i=cd(),s=rd("div"),r=cd(),a=rd("span"),l=ld(e[2]),gd(n,"class","headsup svelte-1yp9nwa"),gd(s,"class","close-button svelte-1yp9nwa"),gd(s,"data-testid","popup-notification-bubble"),gd(a,"class","information svelte-1yp9nwa"),gd(t,"class","container svelte-1yp9nwa"),bd(t,"position-top","TOP"===e[0]),bd(t,"position-bottom","BOTTOM"===e[0]),bd(t,"position-top-left","TOP_LEFT"===e[0]),bd(t,"position-top-right","TOP_RIGHT"===e[0]),bd(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),bd(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},m(u,p){od(u,t,p),ed(t,n),ed(n,o),ed(t,i),ed(t,s),ed(t,r),ed(t,a),ed(a,l),c||(d=[ud(s,"click",(function(){Nc(e[3])&&e[3].apply(this,arguments)})),ud(t,"mouseup",md(pd(e[4]))),ud(t,"mousedown",md(pd(e[5])))],c=!0)},p(n,[i]){e=n,2&i&&hd(o,e[1]),4&i&&hd(l,e[2]),1&i&&bd(t,"position-top","TOP"===e[0]),1&i&&bd(t,"position-bottom","BOTTOM"===e[0]),1&i&&bd(t,"position-top-left","TOP_LEFT"===e[0]),1&i&&bd(t,"position-top-right","TOP_RIGHT"===e[0]),1&i&&bd(t,"position-bottom-left","BOTTOM_LEFT"===e[0]),1&i&&bd(t,"position-bottom-right","BOTTOM_RIGHT"===e[0])},i:Ac,o:Ac,d(e){e&&id(t),c=!1,Rc(d)}}}function PE(e,t,n){let{position:o}=t,{headsupText:i}=t,{informationText:s}=t,{onClose:r=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"headsupText"in e&&n(1,i=e.headsupText),"informationText"in e&&n(2,s=e.informationText),"onClose"in e&&n(3,r=e.onClose)},[o,i,s,r,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)}]}RE=new WeakMap,NE.HTML_TAG_NAME="deepl-inline-translate-tooltip",NE.createElement=(e=document)=>{const t=e.createElement(NE.HTML_TAG_NAME),n=new NE(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};class UE extends fu{constructor(e){super(),hu(this,e,PE,DE,Dc,{position:0,headsupText:1,informationText:2,onClose:3})}}function GE(e){let t,n;return t=new UE({props:{headsupText:chrome.i18n.getMessage("input_advanced_icons_onboarding_title"),informationText:chrome.i18n.getMessage("input_advanced_icons_onboarding_description"),position:e[0],onClose:e[1]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function HE(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}class BE extends fu{constructor(e){super(),hu(this,e,HE,GE,Dc,{position:0,onClose:1})}}function zE(e){let t,n,o;return{c(){t=rd("div"),gd(t,"class","dl-inline-icon dl-write-icon svelte-15hlb3a"),gd(t,"data-testid","deepl-advanced-trigger-write-icon"),gd(t,"data-qa","deepl-inline-translate-menu-icon"),bd(t,"disabled",e[2])},m(i,s){od(i,t,s),n||(o=[ud(t,"click",md(pd(e[5]))),ud(t,"mouseup",md(pd(e[10]))),ud(t,"mousedown",md(pd(e[11]))),ud(t,"mouseenter",e[12])],n=!0)},p(e,n){4&n&&bd(t,"disabled",e[2])},d(e){e&&id(t),n=!1,Rc(o)}}}function WE(e){let t,n;return t=new Np({props:{tooltip:e[4],showProShield:e[3],$$slots:{default:[zE]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,[n]){const o={};16&n&&(o.tooltip=e[4]),8&n&&(o.showProShield=e[3]),32775&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function jE(e,t,n){let o,i,s,r,a;Uc(e,yu,(e=>n(9,a=e)));var l=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))};let{isInput:c=!1}=t,{langCode:d}=t,{onMouseHover:u}=t,{sendImproveRequest:p}=t;return e.$$set=e=>{"isInput"in e&&n(0,c=e.isInput),"langCode"in e&&n(6,d=e.langCode),"onMouseHover"in e&&n(1,u=e.onMouseHover),"sendImproveRequest"in e&&n(7,p=e.sendImproveRequest)},e.$$.update=()=>{64&e.$$.dirty&&n(8,o=void 0===d||es(d)),768&e.$$.dirty&&n(2,i=so(a,Zt.WRITE)||!o),260&e.$$.dirty&&n(4,s=chrome.i18n.getMessage(i?o?"contact_admin_info_write_disabled":"write_language_not_supported":"review_ui_improve_selection")),512&e.$$.dirty&&n(3,r=oo(a,Zt.WRITE))},[c,u,i,r,s,function(){return l(this,void 0,void 0,(function*(){i||(yield p(),Qn({action:Zn.dlTrackUILocationClicked,payload:c?ze:He}))}))},d,p,o,a,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},()=>u(c?ze:He)]}class FE extends fu{constructor(e){super(),hu(this,e,jE,WE,Dc,{isInput:0,langCode:6,onMouseHover:1,sendImproveRequest:7})}}const qE="TOP",VE="BOTTOM",ZE="TOP_LEFT",YE="TOP_RIGHT",XE="BOTTOM_LEFT",KE="BOTTOM_RIGHT",QE=e=>{switch(!0){case e.left<0&&e.top>0&&e.top<window.innerHeight:return YE;case e.right>window.innerWidth&&e.top>0&&e.top<window.innerHeight:return ZE;case e.right>window.innerWidth&&e.top<0:return XE;case e.left<0&&e.top<0:return KE;case e.top<0:return VE;case e.top>window.innerHeight:default:return qE}};function JE(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=rd("div"),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,r=cd(),a=rd("div"),a.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,l=cd(),c=rd("button"),gd(s,"class","headline svelte-150jdi1"),gd(a,"class","text svelte-150jdi1"),gd(i,"class","text-wrapper svelte-150jdi1"),gd(o,"class","content svelte-150jdi1"),gd(c,"class","close-icon svelte-150jdi1"),gd(c,"aria-label","Close"),gd(n,"class",d=jc(`body body__${e[1]}`)+" svelte-150jdi1"),gd(t,"class",u=jc(`container container__${e[1]}`)+" svelte-150jdi1"),gd(t,"data-testid","inline-translate-onboarding-highlighter")},m(d,u){od(d,t,u),ed(t,n),ed(n,o),ed(o,i),ed(i,s),ed(i,r),ed(i,a),ed(n,l),ed(n,c),g=!0,h||(f=ud(c,"click",e[3]),h=!0)},p(e,[o]){(!g||2&o&&d!==(d=jc(`body body__${e[1]}`)+" svelte-150jdi1"))&&gd(n,"class",d),(!g||2&o&&u!==(u=jc(`container container__${e[1]}`)+" svelte-150jdi1"))&&gd(t,"class",u)},i(e){g||(Fd((()=>{g&&(m&&m.end(1),p=au(t,np,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=lu(t,np,{x:100,duration:1e3}),g=!1},d(e){e&&id(t),e&&m&&m.end(),h=!1,f()}}}function e$(t,n,o){var i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))};let{closeInlineHighlighter:s=e=>{}}=n,{el:r}=n,a="topLeft";Md((()=>i(void 0,void 0,void 0,(function*(){try{Qn({action:Zn.dlTrackOpenInlineHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}))));return t.$$set=e=>{"closeInlineHighlighter"in e&&o(0,s=e.closeInlineHighlighter),"el"in e&&o(2,r=e.el)},t.$$.update=()=>{if(4&t.$$.dirty&&r){const e=r.getBoundingClientRect();let t=e.x>305,n=window.innerWidth-e.right>305,i=window.innerHeight-e.bottom>190,s=e.y>190;s&&t?o(1,a="topLeft"):s&&n?o(1,a="topRight"):i&&t?o(1,a="bottomLeft"):i&&n&&o(1,a="bottomRight")}},[s,a,r,()=>s(Lt)]}class t$ extends fu{constructor(e){super(),hu(this,e,e$,JE,Dc,{closeInlineHighlighter:0,el:2})}}function n$(e){let t,n,o,i,s;return i=new hf({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),i.$on("selection",e[5]),{c(){t=rd("p"),n=ld(e[0]),o=cd(),pu(i.$$.fragment),gd(t,"class","font-bold svelte-1bwyi2r")},m(e,r){od(e,t,r),ed(t,n),od(e,o,r),mu(i,e,r),s=!0},p(e,t){(!s||1&t)&&hd(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){s||(iu(i.$$.fragment,e),s=!0)},o(e){su(i.$$.fragment,e),s=!1},d(e){e&&(id(t),id(o)),gu(i,e)}}}function o$(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&n$(e);return{c(){t=rd("div"),o&&o.c()},m(e,i){od(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&iu(o,1)):(o=n$(e),o.c(),iu(o,1),o.m(t,null)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d()}}}function i$(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(2,o=e)));const s=Rd();let{subHeaderText:r=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:a}=t;function l(e){s("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,r=e.subHeaderText),"fromShortcut"in e&&n(1,a=e.fromShortcut)},[r,a,o,i,l,e=>l(e.detail.selectedOption)]}class s$ extends fu{constructor(e){super(),hu(this,e,i$,o$,Dc,{subHeaderText:0,fromShortcut:1})}}function r$(e){let t,n,o,i,s,r,a,l;const c=e[3].default,d=Gc(c,e,e[2],null);return{c(){t=rd("div"),n=rd("div"),o=rd("button"),i=cd(),s=rd("div"),d&&d.c(),gd(o,"type","button"),gd(o,"class","close-icon svelte-1l51lop"),gd(n,"class","header svelte-1l51lop"),gd(s,"class","content"),gd(t,"class","container svelte-1l51lop")},m(c,u){od(c,t,u),ed(t,n),ed(n,o),ed(t,i),ed(t,s),d&&d.m(s,null),e[5](t),r=!0,a||(l=ud(o,"click",e[4]),a=!0)},p(e,[t]){d&&d.p&&(!r||4&t)&&zc(d,c,e,e[2],r?Bc(c,e[2],t,null):Wc(e[2]),null)},i(e){r||(iu(d,e),r=!0)},o(e){su(d,e),r=!1},d(n){n&&id(t),d&&d.d(n),e[5](null),a=!1,l()}}}function a$(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=Rd();let r,a,l,c;Md((()=>{c=Dp(l,(e=>{e.offsetHeight=r,e.offsetWidth=a}))})),Od((()=>{c&&c()}));return e.$$set=e=>{"$$scope"in e&&n(2,i=e.$$scope)},s("resize",{offsetHeight:r,offsetWidth:a}),[l,s,i,o,()=>s("close"),function(e){Gd[e?"unshift":"push"]((()=>{l=e,n(0,l)}))}]}class l$ extends fu{constructor(e){super(),hu(this,e,a$,r$,Dc,{})}}const c$="GENERAL_SETTINGS",d$="INPUT_SETTINGS";function u$(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return s=new kb({props:{name:"disable_input_translation",id:ct,value:ct,cssClassName:"radio--with-border",checked:e[5]===ct,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),s.$on("change",e[12]),a=new kb({props:{name:"disable_input_translation",id:dt,value:dt,cssClassName:"radio--with-border",checked:e[5]===dt,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),a.$on("change",e[12]),{c(){t=rd("div"),n=rd("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=cd(),i=rd("div"),pu(s.$$.fragment),r=cd(),pu(a.$$.fragment),l=cd(),c=rd("div"),d=rd("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=cd(),p=rd("button"),m=ld(v),gd(n,"class","font-bold svelte-o4sfla"),gd(i,"class","option-container svelte-o4sfla"),gd(d,"class","link svelte-o4sfla"),gd(p,"class",g=jc("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-o4sfla"),gd(p,"data-qa","input-translation_hide-icon_accept"),gd(c,"class","action-container svelte-o4sfla"),gd(t,"class","dl-widget svelte-o4sfla"),gd(t,"data-testid","dl-input-translate-turnoff-settings")},m(g,v){od(g,t,v),ed(t,n),ed(t,o),ed(t,i),mu(s,i,null),ed(i,r),mu(a,i,null),ed(t,l),ed(t,c),ed(c,d),ed(c,u),ed(c,p),ed(p,m),h=!0,f||(_=[ud(d,"click",(function(){Nc(e[1]===d$?e[8]:e[9])&&(e[1]===d$?e[8]:e[9]).apply(this,arguments)})),ud(p,"click",e[11])],f=!0)},p(t,n){e=t;const o={};32&n[0]&&(o.checked=e[5]===ct),s.$set(o);const i={};32&n[0]&&(i.checked=e[5]===dt),a.$set(i),(!h||32&n[0]&&g!==(g=jc("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-o4sfla"))&&gd(p,"class",g)},i(e){h||(iu(s.$$.fragment,e),iu(a.$$.fragment,e),h=!0)},o(e){su(s.$$.fragment,e),su(a.$$.fragment,e),h=!1},d(e){e&&id(t),gu(s),gu(a),f=!1,Rc(_)}}}function p$(e){let t,n,o,i,s;n=new s$({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let r=e[6]&&e[6].targetLanguageUserInput&&m$(e);return{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),r&&r.c(),i=dd(),gd(t,"class","dl-widget svelte-o4sfla"),gd(t,"data-testid","dl-input-settings-language-selector")},m(e,a){od(e,t,a),mu(n,t,null),od(e,o,a),r&&r.m(e,a),od(e,i,a),s=!0},p(e,t){const o={};4&t[0]&&(o.fromShortcut=e[2]),n.$set(o),e[6]&&e[6].targetLanguageUserInput?r?r.p(e,t):(r=m$(e),r.c(),r.m(i.parentNode,i)):r&&(r.d(1),r=null)},i(e){s||(iu(n.$$.fragment,e),s=!0)},o(e){su(n.$$.fragment,e),s=!1},d(e){e&&(id(t),id(o),id(i)),gu(n),r&&r.d(e)}}}function m$(e){let t,n,o,i,s,r,a,l;return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,s=cd(),r=rd("span"),gd(r,"class","icon icon-external-link svelte-o4sfla"),gd(o,"class","link link-settings svelte-o4sfla"),gd(o,"data-qa","dl-input-translate-open-settings-page"),gd(n,"class","action-container svelte-o4sfla"),gd(t,"class","dl-widget svelte-o4sfla")},m(c,d){od(c,t,d),ed(t,n),ed(n,o),ed(o,i),ed(o,s),ed(o,r),a||(l=ud(o,"click",e[10]),a=!0)},p:Ac,d(e){e&&id(t),a=!1,l()}}}function g$(e){let t,n,o,i;const s=[p$,u$],r=[];function a(e,t){return e[3]===c$?0:e[3]===d$?1:-1}return~(t=a(e))&&(n=r[t]=s[t](e)),{c(){n&&n.c(),o=dd()},m(e,n){~t&&r[t].m(e,n),od(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?~t&&r[t].p(e,i):(n&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~t?(n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),iu(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(iu(n),i=!0)},o(e){su(n),i=!1},d(e){e&&id(o),~t&&r[t].d(e)}}}function h$(e){let t,n,o,i;return n=new l$({props:{$$slots:{default:[g$]},$$scope:{ctx:e}}}),n.$on("close",e[23]),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class",o="settings-container settings-container__"+e[0]+" svelte-o4sfla")},m(o,s){od(o,t,s),mu(n,t,null),e[24](t),i=!0},p(e,s){const r={};110&s[0]|1&s[1]&&(r.$$scope={dirty:s,ctx:e}),n.$set(r),(!i||1&s[0]&&o!==(o="settings-container settings-container__"+e[0]+" svelte-o4sfla"))&&gd(t,"class",o)},i(e){i||(iu(n.$$.fragment,e),i=!0)},o(e){su(n.$$.fragment,e),i=!1},d(o){o&&id(t),gu(n),e[24](null)}}}function f$(e,t,n){let o;const i=Rd();let s=c$;const r=Dd("deepl_settings");Uc(e,r,(e=>n(6,o=e)));let a,l,{startPage:c}=t,{fromShortcut:d=!1}=t,{icon:u}=t,{position:p="top"}=t,{registerSettingsCallbacks:m=()=>{}}=t,{unregisterSettingsCallbacks:g=()=>{}}=t,{closeSettings:h}=t,f={top:0,bottom:0,left:0,right:0},_={height:0,width:0},v=140,w=387,T="";const b=()=>{if(u){const e=u.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==f[n]&&(t[n]=e[n]);Object.keys(t).length&&n(18,f={...f,...t});let o={};window.innerHeight!==_.height&&(o.height=window.innerHeight),window.innerWidth!==_.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(19,_={..._,...o})}else n(18,f={top:0,bottom:0,left:0,right:0})};return Md((()=>{b(),m({recalculateSettingsCoords:b}),l=Dp(a,(({clientHeight:e,clientWidth:t})=>{n(20,v=e),n(21,w=t)}))})),Od((()=>{g(),l&&l()})),e.$$set=e=>{"startPage"in e&&n(1,c=e.startPage),"fromShortcut"in e&&n(2,d=e.fromShortcut),"icon"in e&&n(13,u=e.icon),"position"in e&&n(0,p=e.position),"registerSettingsCallbacks"in e&&n(14,m=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&n(15,g=e.unregisterSettingsCallbacks),"closeSettings"in e&&n(16,h=e.closeSettings)},e.$$.update=()=>{3932160&e.$$.dirty[0]&&n(0,p=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!u)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};if(i.top&&!i.left)return"top_right";if(i.top&&!i.right)return"top_left";if(i.bottom&&!i.left)return"bottom_right";if(i.bottom&&!i.right)return"bottom_left";for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:f,viewportSize:_,popupHeight:v,popupWidth:w})),2&e.$$.dirty[0]&&c&&n(3,s=c)},[p,c,d,s,a,T,o,r,function(){i("close")},function(){n(5,T=""),n(3,s=c$)},function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.settings_writing}})},function(){if(!T)return;switch(T){case dt:r.set({enableInputTranslation:!1}),Qn({action:Zn.dlTrackSettingChanged,payload:{settingType:dt,domainName:window.location.hostname,uiFunction:ut,uiLocation:te}}),h();break;case ct:!function(){let e=o.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),r.set({blacklistDomainsForWriting:e}),Qn({action:Zn.dlTrackSettingChanged,payload:{settingType:ct,domainName:window.location.hostname,uiFunction:ut,uiLocation:te}}));h()}()}let e=$v(window.location.hostname,["www."]);Qn({action:zn.dlSendNotification,payload:{type:G,options:{theme:V.green_theme,currentDomain:e,saveAction:T,settingsPageURL:jv.settings_writing}}})},function(e){n(5,T=e.currentTarget.value)},u,m,g,h,b,f,_,v,w,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(e){Gd[e?"unshift":"push"]((()=>{a=e,n(4,a)}))}]}class _$ extends fu{constructor(e){super(),hu(this,e,f$,h$,Dc,{startPage:1,fromShortcut:2,icon:13,position:0,registerSettingsCallbacks:14,unregisterSettingsCallbacks:15,closeSettings:16,recalculateSettingsCoords:17},null,[-1,-1])}get recalculateSettingsCoords(){return this.$$.ctx[17]}}function v$(e){let t,n,o,i,s,r,a,l,c,d,u=e[6]&&!e[1]&&!e[3].isInlineHighlighterShown&&w$(e),p=void 0!==e[13]&&T$(e);const m=[y$,b$],g=[];function h(e,t){return e[1]?0:1}return r=h(e),a=g[r]=m[r](e),{c(){t=rd("div"),u&&u.c(),n=cd(),o=rd("div"),p&&p.c(),i=cd(),s=rd("div"),a.c(),gd(s,"class","icon-container svelte-186so6b"),gd(s,"data-testid","deepl-inline-translate-icon-container"),gd(s,"role","group"),gd(o,"class","layout-container svelte-186so6b"),gd(t,"dir",ns())},m(a,m){od(a,t,m),u&&u.m(t,null),ed(t,n),ed(t,o),p&&p.m(o,null),ed(o,i),ed(o,s),g[r].m(s,null),e[54](s),l=!0,c||(d=[ud(s,"mouseenter",e[21]),ud(s,"mouseleave",e[22])],c=!0)},p(e,l){!e[6]||e[1]||e[3].isInlineHighlighterShown?u&&(nu(),su(u,1,1,(()=>{u=null})),ou()):u?(u.p(e,l),74&l[0]&&iu(u,1)):(u=w$(e),u.c(),iu(u,1),u.m(t,n)),void 0!==e[13]?p?(p.p(e,l),8192&l[0]&&iu(p,1)):(p=T$(e),p.c(),iu(p,1),p.m(o,i)):p&&(nu(),su(p,1,1,(()=>{p=null})),ou());let c=r;r=h(e),r===c?g[r].p(e,l):(nu(),su(g[c],1,1,(()=>{g[c]=null})),ou(),a=g[r],a?a.p(e,l):(a=g[r]=m[r](e),a.c()),iu(a,1),a.m(s,null))},i(e){l||(iu(u),iu(p),iu(a),l=!0)},o(e){su(u),su(p),su(a),l=!1},d(n){n&&id(t),u&&u.d(),p&&p.d(),g[r].d(),e[54](null),c=!1,Rc(d)}}}function w$(e){let t,n;return t=new t$({props:{closeInlineHighlighter:e[25],el:e[6]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.el=e[6]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function T$(e){let t,n,o,i;return n=new BE({props:{position:e[13],onClose:e[17]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"data-testid","onboarding-popup-notification"),gd(t,"class","onboarding-container svelte-186so6b"),bd(t,"top","TOP"===e[13]),bd(t,"bottom","BOTTOM"===e[13]),bd(t,"top-left","TOP_LEFT"===e[13]),bd(t,"top-right","TOP_RIGHT"===e[13]),bd(t,"bottom-left","BOTTOM_LEFT"===e[13]),bd(t,"bottom-right","BOTTOM_RIGHT"===e[13])},m(o,s){od(o,t,s),mu(n,t,null),e[46](t),i=!0},p(e,o){const s={};8192&o[0]&&(s.position=e[13]),n.$set(s),(!i||8192&o[0])&&bd(t,"top","TOP"===e[13]),(!i||8192&o[0])&&bd(t,"bottom","BOTTOM"===e[13]),(!i||8192&o[0])&&bd(t,"top-left","TOP_LEFT"===e[13]),(!i||8192&o[0])&&bd(t,"top-right","TOP_RIGHT"===e[13]),(!i||8192&o[0])&&bd(t,"bottom-left","BOTTOM_LEFT"===e[13]),(!i||8192&o[0])&&bd(t,"bottom-right","BOTTOM_RIGHT"===e[13])},i(e){i||(iu(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){su(n.$$.fragment,e),e&&(o=lu(t,np,{x:100,duration:1e3})),i=!1},d(i){i&&id(t),gu(n),e[46](null),i&&o&&o.end()}}}function b$(e){let t,n,o,i;return t=new Np({props:{tooltip:e[5],showProShield:e[10],$$slots:{default:[E$]},$$scope:{ctx:e}}}),o=new Np({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[$$]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment),n=cd(),pu(o.$$.fragment)},m(e,s){mu(t,e,s),od(e,n,s),mu(o,e,s),i=!0},p(e,n){const i={};32&n[0]&&(i.tooltip=e[5]),1024&n[0]&&(i.showProShield=e[10]),4&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const s={};128&n[0]|1&n[2]&&(s.$$scope={dirty:n,ctx:e}),o.$set(s)},i(e){i||(iu(t.$$.fragment,e),iu(o.$$.fragment,e),i=!0)},o(e){su(t.$$.fragment,e),su(o.$$.fragment,e),i=!1},d(e){e&&id(n),gu(t,e),gu(o,e)}}}function y$(e){let t,n,o,i,s;const r=[S$,x$],a=[];function l(e,t){return e[4]?0:1}t=l(e),n=a[t]=r[t](e);let c=e[0]&&(e[9]||e[11])&&k$(e);return{c(){n.c(),o=cd(),c&&c.c(),i=dd()},m(e,n){a[t].m(e,n),od(e,o,n),c&&c.m(e,n),od(e,i,n),s=!0},p(e,s){let d=t;t=l(e),t===d?a[t].p(e,s):(nu(),su(a[d],1,1,(()=>{a[d]=null})),ou(),n=a[t],n?n.p(e,s):(n=a[t]=r[t](e),n.c()),iu(n,1),n.m(o.parentNode,o)),e[0]&&(e[9]||e[11])?c?(c.p(e,s),2561&s[0]&&iu(c,1)):(c=k$(e),c.c(),iu(c,1),c.m(i.parentNode,i)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou())},i(e){s||(iu(n),iu(c),s=!0)},o(e){su(n),su(c),s=!1},d(e){e&&(id(o),id(i)),a[t].d(e),c&&c.d(e)}}}function E$(e){let t,n,o;return{c(){t=rd("div"),gd(t,"class","dl-logo svelte-186so6b"),gd(t,"data-qa","deepl-inline-translate-menu-icon"),bd(t,"disabled",e[2])},m(i,s){od(i,t,s),n||(o=[ud(t,"click",md(pd(e[19]))),ud(t,"focus",e[43]),ud(t,"mouseup",md(pd(e[44]))),ud(t,"mousedown",md(pd(e[45]))),ud(t,"mouseenter",e[52])],n=!0)},p(e,n){4&n[0]&&bd(t,"disabled",e[2])},d(e){e&&id(t),n=!1,Rc(o)}}}function $$(e){let t,n,o,i;return{c(){t=rd("div"),gd(t,"data-qa","deepl-inline-translate-turnoff-icon"),gd(t,"class","dl-turnoff-inline-icon svelte-186so6b"),bd(t,"advanced",!1),bd(t,"hidden",!e[7]),bd(t,"left",!1)},m(n,s){od(n,t,s),o||(i=[ud(t,"click",md(pd(e[23]))),ud(t,"focus",e[40]),ud(t,"mousedown",md(pd(e[41]))),ud(t,"mouseup",md(pd(e[42]))),ud(t,"mouseenter",e[53])],o=!0)},p(e,n){128&n[0]&&bd(t,"hidden",!e[7])},i(e){n||Fd((()=>{n=au(t,np,{x:-5,duration:300}),n.start()}))},o:Ac,d(e){e&&id(t),o=!1,Rc(i)}}}function x$(e){let t,n,o,i,s,r;return t=new Np({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[C$]},$$scope:{ctx:e}}}),o=new FE({props:{isInput:e[0],sendImproveRequest:e[20],onMouseHover:e[24],langCode:e[14]}}),s=new Np({props:{tooltip:e[5],showProShield:e[10],$$slots:{default:[L$]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment),n=cd(),pu(o.$$.fragment),i=cd(),pu(s.$$.fragment)},m(e,a){mu(t,e,a),od(e,n,a),mu(o,e,a),od(e,i,a),mu(s,e,a),r=!0},p(e,n){const i={};899&n[0]|1&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i);const r={};1&n[0]&&(r.isInput=e[0]),16384&n[0]&&(r.langCode=e[14]),o.$set(r);const a={};32&n[0]&&(a.tooltip=e[5]),1024&n[0]&&(a.showProShield=e[10]),5&n[0]|1&n[2]&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){r||(iu(t.$$.fragment,e),iu(o.$$.fragment,e),iu(s.$$.fragment,e),r=!0)},o(e){su(t.$$.fragment,e),su(o.$$.fragment,e),su(s.$$.fragment,e),r=!1},d(e){e&&(id(n),id(i)),gu(t,e),gu(o,e),gu(s,e)}}}function S$(e){let t,n,o;return t=new Wv({}),{c(){n=rd("div"),pu(t.$$.fragment),_d(n,"display","contents"),_d(n,"--size","16px")},m(e,i){od(e,n,i),mu(t,n,null),o=!0},p:Ac,i(e){o||(iu(t.$$.fragment,e),o=!0)},o(e){su(t.$$.fragment,e),o=!1},d(e){e&&t&&id(n),gu(t,e)}}}function C$(e){let t,n,o,i;return{c(){t=rd("div"),gd(t,"data-testid","deepl-advanced-trigger-turnoff-icon"),gd(t,"class","dl-turnoff-inline-icon svelte-186so6b"),bd(t,"advanced",e[1]),bd(t,"hidden",!e[7]),bd(t,"left",!0)},m(n,s){od(n,t,s),e[49](t),o||(i=[ud(t,"click",md(pd(e[47]))),ud(t,"focus",e[37]),ud(t,"mousedown",md(pd(e[38]))),ud(t,"mouseup",md(pd(e[39]))),ud(t,"mouseenter",e[48])],o=!0)},p(e,n){2&n[0]&&bd(t,"advanced",e[1]),128&n[0]&&bd(t,"hidden",!e[7])},i(e){n||Fd((()=>{n=au(t,np,{x:-5,duration:300}),n.start()}))},o:Ac,d(n){n&&id(t),e[49](null),o=!1,Rc(i)}}}function L$(e){let t,n,o;return{c(){t=rd("div"),gd(t,"class","dl-inline-icon dl-translate-icon svelte-186so6b"),gd(t,"data-testid","dl-advanced-trigger-translate-icon"),gd(t,"data-qa","deepl-inline-translate-menu-icon"),bd(t,"disabled",e[2])},m(i,s){od(i,t,s),n||(o=[ud(t,"click",md(pd(e[18]))),ud(t,"mouseup",md(pd(e[35]))),ud(t,"mousedown",md(pd(e[36]))),ud(t,"mouseenter",e[50])],n=!0)},p(e,n){4&n[0]&&bd(t,"disabled",e[2])},d(e){e&&id(t),n=!1,Rc(o)}}}function k$(e){let t,n,o;return n=new _$({props:{icon:e[8],closeSettings:e[26],startPage:e[9]?d$:c$}}),n.$on("close",e[26]),n.$on("languageChanged",e[51]),{c(){t=rd("div"),pu(n.$$.fragment),_d(t,"z-index",e[16])},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};256&t[0]&&(o.icon=e[8]),512&t[0]&&(o.startPage=e[9]?d$:c$),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function A$(e){let t,n,o=!e[15]&&v$(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,n){e[15]?o&&(nu(),su(o,1,1,(()=>{o=null})),ou()):o?(o.p(e,n),32768&n[0]&&iu(o,1)):(o=v$(e),o.c(),iu(o,1),o.m(t.parentNode,t))},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function I$(e,t,n){let o,i,s,r,a,l;Uc(e,yu,(e=>n(3,a=e))),Uc(e,ef,(e=>n(34,l=e)));var c,d,u=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{l(o.next(e))}catch(e){s(e)}}function a(e){try{l(o.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}l((o=o.apply(e,t||[])).next())}))};Nd("deepl_settings",yu),Nd("text_direction",ns());let p,m,{platformBehaviour:g=It.default}=t,{isInput:h=!1}=t,{enableAdvancedTriggerIcon:f}=t,_=!1,v="",w="",T=[],b=!1,y=!1,E=!1,$=!1,x=P.deepl_inline_ui.z_index+10;const S=chrome.i18n.getMessage("context_menus_translate_section"),C=()=>{if(a.hasITAInlineOnboardingBeenShown||!f)return;if(!k)return qE;const e=k.getBoundingClientRect();return QE(e)},L=()=>{!a.hasITAInlineOnboardingBeenShown&&f&&yu.set({hasITAInlineOnboardingBeenShown:!0}),n(13,A=void 0)};let k,A=f?C():void 0;Md((()=>{k&&n(13,A=C())})),Qn({action:Fn.dlCheckCommandShortcuts}).then((e=>n(31,v=e?e.filter((e=>e.name==it))[0].shortcut:"")));const I=()=>u(void 0,void 0,void 0,(function*(){n(4,_=h&&!(yield BT(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality)}));function M(){return u(this,void 0,void 0,(function*(){r||(fM(),R(),L(),f&&(kM(),AM()),h?(Qn({action:qn.dlTriggerTranslateInput}),yield I()):Qn({action:qn.dlTriggerTranslateInline}),v||Jn(U),G(kt))}))}function O(e,t,n){return u(this,void 0,void 0,(function*(){if("dlTriggerTranslationShortcut"===e.action){if(r)return;if(h)return;M(),Qn({action:Zn.dlTrackUseOfShortcut,payload:{shortcutType:it,location:Z,nicheIntegration:g}}),n()}return!0}))}function R(){l&&l.isInlineTranslateSettingsTooltipInjected||y||n(7,b=!1)}function N(){l&&!l.isInlineTranslateSettingsTooltipInjected&&(n(7,b=!0),hM(g),Qn({action:Zn.dlTrackInlineSettingOpened,payload:{uiFunction:pt,uiLocation:Z,nicheIntegration:g}})),G(kt)}function D(e){T.includes(e)||(Qn({action:Zn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:g}}),T.push(e))}function G(e){if(!a.isInlineHighlighterShown){yu.set({isInlineHighlighterShown:!0});try{Qn({action:Zn.dlTrackCloseInlineHighlighter,payload:{trigger:e}})}catch(e){console.error(e)}}}chrome.runtime.onMessage.addListener(O),Od((()=>{L(),chrome.runtime.onMessage.removeListener(O)}));const H=e=>u(void 0,void 0,void 0,(function*(){yield yu.set({targetLanguageUserInput:e.value}),n(11,$=!1),M()}));let B;Md((()=>{if(FT(window)){const e=FT(window);if(!e)return void n(14,B=void 0);Yi(e,!0).then((e=>{n(14,B=e.langCode)}))}else n(14,B=void 0)}));return e.$$set=e=>{"platformBehaviour"in e&&n(28,g=e.platformBehaviour),"isInput"in e&&n(0,h=e.isInput),"enableAdvancedTriggerIcon"in e&&n(1,f=e.enableAdvancedTriggerIcon)},e.$$.update=()=>{536870920&e.$$.dirty[0]&&n(32,o=!a.enableInlineTranslation||(null===n(29,c=a.blacklistDomainsForReading)||void 0===c?void 0:c.includes(window.location.hostname))||a.isGmailEnabled&&pv()),1073741832&e.$$.dirty[0]&&n(33,i=!a.enableInputTranslation||yv(window.location.host,window.location.href)||(null===n(30,d=a.blacklistDomainsForWriting)||void 0===d?void 0:d.includes(window.location.hostname))||a.isGmailEnabled&&pv()),1&e.$$.dirty[0]|6&e.$$.dirty[1]&&n(15,s=h&&i||!h&&o),8&e.$$.dirty[0]&&n(2,r=so(a,Zt.TRANSLATOR)),4&e.$$.dirty[0]|1&e.$$.dirty[1]&&n(5,w=r?chrome.i18n.getMessage("contact_admin_info_translate_disabled"):v?`${S} (${v})`:S),8&e.$$.dirty[0]&&n(10,E=oo(a,Zt.TRANSLATOR)),8&e.$$.dirty[1]&&!1===l.isInlineTranslateSettingsTooltipInjected&&n(7,b=!1)},[h,f,r,a,_,w,p,b,m,y,E,$,k,A,B,s,x,L,function(){L(),function(){let e;if(!0===f)e=h?Be:Ge;else e=Z;Qn({action:Zn.dlTrackUILocationClicked,payload:e})}(),!h||a.targetLanguageUserInput?M():n(11,$=!0)},M,function(){return u(this,void 0,void 0,(function*(){fM(),R(),L(),f&&(kM(),AM()),h?(Qn({action:Wn.dlTriggerImproveInput}),yield I()):Qn({action:Wn.dlTriggerImproveInline}),G(kt)}))},function(){_||n(7,b=!0)},R,N,D,G,()=>{n(9,y=!1)},H,g,c,d,v,o,i,l,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(e){Gd[e?"unshift":"push"]((()=>{k=e,n(12,k)}))},()=>{h?n(9,y=!0):N()},()=>D(h?je:We),function(e){Gd[e?"unshift":"push"]((()=>{m=e,n(8,m)}))},()=>D(h?Be:Ge),e=>H(e.detail.lang),()=>D(Z),()=>D(Y),function(e){Gd[e?"unshift":"push"]((()=>{p=e,n(6,p)}))}]}class M$ extends fu{constructor(e){super(),hu(this,e,I$,A$,Dc,{platformBehaviour:28,isInput:0,enableAdvancedTriggerIcon:1},null,[-1,-1,-1])}}const O$={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};function R$(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:i,TRIGGER_HEIGHT:s}=O$,r=e?.detail;if(1===r){if(e.isOutsideOfView)return n;let r=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const a=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*r,c=t.selectedTop+t.height-r-a.y;const d=()=>{const e=window.getSelection();if(!e.rangeCount)return;const t=e.getRangeAt(0).getClientRects();if(!t.length)return;return{firstRect:t[0],lastRect:t[t.length-1]}};if(t.height<1.5*r){n.containerStyleLeft=e.clientX;const s=t.x+t.selectedWidth;e.clientX>s?n.containerStyleLeft=t.selectedRight>o?s:s-o:e.clientX-t.x<i&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else if(l>c){const t=d();t&&t.lastRect?n.containerStyleLeft=t.lastRect.right:n.containerStyleLeft=e.clientX}else if(l<c){n.containerStyleTop=t.y-t.height-s-5;const o=d();o&&o.firstRect?n.containerStyleLeft=o.firstRect.x:n.containerStyleLeft=e.clientX}}else if(2===r){n.containerStyleLeft=t.x+t.selectedWidth-i;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const a=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>a&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+s>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-s),n}class N${constructor(e){this.createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.repositionContainer(t),this.domElement.shadowContainer.appendChild(this.domElement.container);this.domElement.mainComponent=new M$({target:this.domElement.container,props:{websiteSettings:e,enableAdvancedTriggerIcon:true}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t},this.repositionContainer=e=>{if(window.getSelection()&&!window.getSelection().toString())return void this.domElement.cleanupDOM();const{deepl_inline_ui:t}=P,n=t.z_index-500,o=Cv();let i=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${n}; visibility: initial !important;`,s=`position: absolute; z-index: ${n};`;this.domElement.shadowContainer.style.cssText=i,this.domElement.container.style.cssText=s;const r=R$(e,o);this.domElement.container.style.top=`${parseInt(r.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(r.containerStyleLeft)}px`},this.cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent),this.addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)},this.removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}N$.HTML_TAG_NAME="deepl-inline-trigger",N$.createElement=(e=document)=>{const t=e.createElement(N$.HTML_TAG_NAME),n=new N$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};class D${constructor(e){this.createDOM=(e,t)=>{this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.domElement.cleanupDOM(),this.domElement.cachedElement=e,this.domElement.repositionContainer(t,e);this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadowContainer.appendChild(this.domElement.container),ef.update({inputElement:e}),this.domElement.mainComponent=new M$({target:this.domElement.container,props:{isInput:!0,enableAdvancedTriggerIcon:!0}}),this.domElement.addChangeEvents(),this.domElement.cachedMouseEvent=t},this.repositionContainer=(e,t)=>{if(!FT(window))return void this.domElement.cleanupDOM();const{deepl_inline_ui:n}=P,o=n.z_index+500;let i;i="TEXTAREA"===t.tagName?Av(t):Cv();let s=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${o}`,r=`position: absolute; z-index: ${o};`;this.domElement.shadowContainer.style.cssText=s,this.domElement.container.style.cssText=r;const a=R$(e,i);this.domElement.container.style.top=`${parseInt(a.containerStyleTop)}px`,this.domElement.container.style.left=`${parseInt(a.containerStyleLeft)}px`},this.cachedReposition=()=>this.domElement.repositionContainer(this.domElement.cachedMouseEvent,this.domElement.cachedElement),this.addChangeEvents=()=>{window.addEventListener("scroll",this.domElement.cachedReposition),window.addEventListener("resize",this.domElement.cachedReposition)},this.removeChangeEvents=()=>{window.removeEventListener("scroll",this.domElement.cachedReposition),window.removeEventListener("resize",this.domElement.cachedReposition)},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.removeChangeEvents()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.cachedMouseEvent,this.domElement.cachedElement=null;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function P$(e){let t,n,o,i=Ci(e[1])+"";return{c(){t=rd("div"),gd(t,"class","container svelte-1dicgbw")},m(s,r){od(s,t,r),t.innerHTML=i,n||(o=ud(t,"click",e[0]),n=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function U$(e){return[function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Gm}}),Qn({action:Zn.dlTrackUiAction,payload:{uiAction:st}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}D$.HTML_TAG_NAME="deepl-input-selection-trigger",D$.createElement=(e=document)=>{const t=e.createElement(D$.HTML_TAG_NAME),n=new D$(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.addChangeEvents=n.addChangeEvents,t.removeChangeEvents=n.removeChangeEvents,t.repositionContainer=n.repositionContainer,t.cachedReposition=n.cachedReposition,t};class G$ extends fu{constructor(e){super(),hu(this,e,U$,P$,Dc,{})}}function H$(e){let t,n,o,i=Ci(e[0])+"";return{c(){t=rd("div"),gd(t,"class","container svelte-1dicgbw"),gd(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(s,r){od(s,t,r),t.innerHTML=i,n||(o=ud(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=Ci(e[0])+"")&&(t.innerHTML=i)},i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function B$(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:jv.settings_page;let s="",r=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case dt:s=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case ct:s=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[r,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:i}})},o]}class z$ extends fu{constructor(e){super(),hu(this,e,B$,H$,Dc,{options:2})}}function W$(e){let t,n,o,i=Ci(e[0])+"";return{c(){t=rd("div"),gd(t,"class","container svelte-1dicgbw"),gd(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(s,r){od(s,t,r),t.innerHTML=i,n||(o=ud(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&i!==(i=Ci(e[0])+"")&&(t.innerHTML=i)},i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function j$(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:jv.settings_page;let s="",r=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case dt:s=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case ct:s=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[r,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:i}})},o]}class F$ extends fu{constructor(e){super(),hu(this,e,j$,W$,Dc,{options:2})}}function q$(e){let t,n,o;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,gd(t,"class","container svelte-1dicgbw"),gd(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[0]),n=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function V$(e){return[function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.settings_page}})}]}class Z$ extends fu{constructor(e){super(),hu(this,e,V$,q$,Dc,{})}}function Y$(e){let t;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_account_successfully_created")}`,gd(t,"class","dl-account-created svelte-nuwktw")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class X$ extends fu{constructor(e){super(),hu(this,e,null,Y$,Dc,{})}}function K$(e){let t;return{c(){t=rd("div"),t.textContent=`${chrome.i18n.getMessage("onboarding_successful_login_notification")}`,gd(t,"class","dl-account-created svelte-nuwktw")},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class Q$ extends fu{constructor(e){super(),hu(this,e,null,K$,Dc,{})}}function J$(e){let t,n,o,i;return{c(){t=rd("div"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_main")}`,o=cd(),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_unsaved_asset_warning_explanation")}`,gd(n,"class","main-text svelte-18of7gm"),gd(t,"class","dl-notification-gslides-prevent-asset-loss")},m(e,s){od(e,t,s),ed(t,n),ed(t,o),ed(t,i)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}class ex extends fu{constructor(e){super(),hu(this,e,null,J$,Dc,{})}}function tx(e){let t,n,o,i,s,r,a,l,c;return{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_headline")}`,o=cd(),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_text")}`,s=cd(),r=rd("div"),a=rd("div"),a.textContent=`${chrome.i18n.getMessage("notification_ads_ms_office_learn_more")}`,gd(n,"class","dl-ads-for-addins_headline svelte-drhmpk"),gd(i,"class","dl-ads-for-addins_text"),gd(a,"class","dl-ads-for-addins_button svelte-drhmpk"),gd(r,"class","dl-ads-for-addins_wrapper svelte-drhmpk"),gd(t,"class","dl-ads-for-addins svelte-drhmpk")},m(d,u){od(d,t,u),ed(t,n),ed(t,o),ed(t,i),ed(t,s),ed(t,r),ed(r,a),l||(c=ud(r,"click",e[0]),l=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),l=!1,c()}}}function nx(e){return[()=>{Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Xm,utmContent:"msaddin_ads_notification"}}),Qn({action:Zn.dlTrackClicksOnAdsButton})}]}class ox extends fu{constructor(e){super(),hu(this,e,nx,tx,Dc,{})}}function ix(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f=e[4]==V.warning_theme&&sx();var _=e[5];function v(e,t){return{props:{options:e[1]}}}return _&&(l=$d(_,v(e))),{c(){t=rd("div"),n=rd("div"),o=rd("button"),s=cd(),r=rd("div"),f&&f.c(),a=cd(),l&&pu(l.$$.fragment),gd(o,"class",i="dl-close-icon "+e[4]+" svelte-np3z9s"),gd(n,"class","header"),gd(n,"notificationtheme",e[4]),gd(r,"class",c="body "+e[4]+" svelte-np3z9s"),gd(t,"class",d="container "+e[4]+" svelte-np3z9s"),gd(t,"dir",ns()),bd(t,"success",e[0]===z||e[0]===W)},m(i,c){od(i,t,c),ed(t,n),ed(n,o),ed(t,s),ed(t,r),f&&f.m(r,null),ed(r,a),l&&mu(l,r,null),m=!0,g||(h=ud(o,"click",(function(){Nc(e[2])&&e[2].apply(this,arguments)})),g=!0)},p(s,u){if(e=s,(!m||16&u&&i!==(i="dl-close-icon "+e[4]+" svelte-np3z9s"))&&gd(o,"class",i),(!m||16&u)&&gd(n,"notificationtheme",e[4]),e[4]==V.warning_theme?f||(f=sx(),f.c(),f.m(r,a)):f&&(f.d(1),f=null),32&u&&_!==(_=e[5])){if(l){nu();const e=l;su(e.$$.fragment,1,0,(()=>{gu(e,1)})),ou()}_?(l=$d(_,v(e)),pu(l.$$.fragment),iu(l.$$.fragment,1),mu(l,r,null)):l=null}else if(_){const t={};2&u&&(t.options=e[1]),l.$set(t)}(!m||16&u&&c!==(c="body "+e[4]+" svelte-np3z9s"))&&gd(r,"class",c),(!m||16&u&&d!==(d="container "+e[4]+" svelte-np3z9s"))&&gd(t,"class",d),(!m||17&u)&&bd(t,"success",e[0]===z||e[0]===W)},i(e){m||(l&&iu(l.$$.fragment,e),Fd((()=>{m&&(p&&p.end(1),u=au(t,np,{x:100,duration:1e3}),u.start())})),m=!0)},o(e){l&&su(l.$$.fragment,e),u&&u.invalidate(),p=lu(t,np,{x:100,duration:1e3}),m=!1},d(e){e&&id(t),f&&f.d(),l&&gu(l),e&&p&&p.end(),g=!1,h()}}}function sx(e){let t;return{c(){t=rd("div"),t.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',gd(t,"class","icon-container")},m(e,n){od(e,t,n)},d(e){e&&id(t)}}}function rx(e){let t,n,o=e[3]&&ix(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&iu(o,1)):(o=ix(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function ax(e,t,n){let o,i;Nd("text_direction",ns());let{type:s}=t,{options:r}=t,{close:a}=t,l=!1;const c={[U]:G$,[G]:z$,[H]:F$,[B]:Z$,[z]:X$,[W]:Q$,[j]:ex,[F]:ox};return Md((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>a()),11100)})),e.$$set=e=>{"type"in e&&n(0,s=e.type),"options"in e&&n(1,r=e.options),"close"in e&&n(2,a=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[s]),2&e.$$.dirty&&n(4,i=V[r?.theme]?V[r?.theme]:"")},[s,r,a,l,i,o]}class lx extends fu{constructor(e){super(),hu(this,e,ax,rx,Dc,{type:0,options:1,close:2})}}class cx{constructor(e){this.createDOM=(e,t)=>{const n="rtl"===ns()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; top: 20px; ${n}: 20px; z-index: ${P.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new lx({target:this.domElement.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy(),this.domElement.remove()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function dx(e){let t,n,o,i;return{c(){t=rd("div"),n=rd("div"),gd(n,"class","close-button svelte-2cst7"),gd(t,"class","close-button-container svelte-2cst7")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(n,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&id(t),o=!1,i()}}}function ux(e){let t,n,o,i,s,r=e[0]&&dx(e);const a=e[2].default,l=Gc(a,e,e[1],null);return{c(){r&&r.c(),t=cd(),n=rd("div"),o=rd("div"),i=cd(),l&&l.c(),gd(o,"class","logo svelte-2cst7"),gd(n,"class","body svelte-2cst7")},m(e,a){r&&r.m(e,a),od(e,t,a),od(e,n,a),ed(n,o),ed(n,i),l&&l.m(n,null),s=!0},p(e,[n]){e[0]?r?r.p(e,n):(r=dx(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null),l&&l.p&&(!s||2&n)&&zc(l,a,e,e[1],s?Bc(a,e[1],n,null):Wc(e[1]),null)},i(e){s||(iu(l,e),s=!0)},o(e){su(l,e),s=!1},d(e){e&&(id(t),id(n)),r&&r.d(e),l&&l.d(e)}}}function px(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}cx.HTML_TAG_NAME="deepl-notification",cx.createElement=(e=document)=>{const t=e.createElement(cx.HTML_TAG_NAME),n=new cx(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class mx extends fu{constructor(e){super(),hu(this,e,px,ux,Dc,{onClose:0})}}function gx(e){let t,n;return{c(){t=rd("div"),n=ld(e[0]),gd(t,"class","info-msg svelte-17qaccl")},m(e,o){od(e,t,o),ed(t,n)},p(e,[t]){1&t&&hd(n,e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function hx(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class fx extends fu{constructor(e){super(),hu(this,e,hx,gx,Dc,{message:0})}}function _x(e){let t,n,o,i,s;const r=e[7].default,a=Gc(r,e,e[6],null);return{c(){t=rd("button"),a&&a.c(),gd(t,"type","button"),gd(t,"class",n=jc(e[0])+" svelte-zka2e2"),t.disabled=e[1],gd(t,"id",e[5]),gd(t,"data-qa",e[4]),bd(t,"disabled",e[1]),bd(t,"font-size-sm","sm"===e[2]),bd(t,"padding-x-md","md"===e[3]),bd(t,"padding-x-none","none"===e[3])},m(n,r){od(n,t,r),a&&a.m(t,null),o=!0,i||(s=[ud(t,"click",e[8]),ud(t,"mousedown",md(pd(e[9])))],i=!0)},p(e,[i]){a&&a.p&&(!o||64&i)&&zc(a,r,e,e[6],o?Bc(r,e[6],i,null):Wc(e[6]),null),(!o||1&i&&n!==(n=jc(e[0])+" svelte-zka2e2"))&&gd(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&gd(t,"id",e[5]),(!o||16&i)&&gd(t,"data-qa",e[4]),(!o||3&i)&&bd(t,"disabled",e[1]),(!o||5&i)&&bd(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&bd(t,"padding-x-md","md"===e[3]),(!o||9&i)&&bd(t,"padding-x-none","none"===e[3])},i(e){o||(iu(a,e),o=!0)},o(e){su(a,e),o=!1},d(e){e&&id(t),a&&a.d(e),i=!1,Rc(s)}}}function vx(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:s="button-primary"}=t,{disabled:r=!1}=t,{fontSize:a="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,r=e.disabled),"fontSize"in e&&n(2,a=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[s,r,a,l,c,d,i,o,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)}]}class wx extends fu{constructor(e){super(),hu(this,e,vx,_x,Dc,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function Tx(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function bx(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function yx(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y,E,$,x,S,C,L,k,A,I,M,O;return C=new wx({props:{className:"button-link",paddingX:"none",$$slots:{default:[Tx]},$$scope:{ctx:e}}}),C.$on("click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),k=new wx({props:{className:"button-primary",$$slots:{default:[bx]},$$scope:{ctx:e}}}),k.$on("click",e[4]),I=function(e){let t;return{p(...n){t=n,t.forEach((t=>e.push(t)))},r(){t.forEach((t=>e.splice(e.indexOf(t),1)))}}}(e[7][0]),{c(){t=rd("div"),n=rd("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=cd(),i=rd("div"),s=rd("div"),r=rd("label"),a=rd("span"),l=rd("input"),c=cd(),d=rd("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=cd(),p=rd("div"),m=rd("label"),g=rd("span"),h=rd("input"),f=cd(),_=rd("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,v=cd(),w=rd("div"),T=rd("label"),b=rd("span"),y=rd("input"),E=cd(),$=rd("span"),$.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,x=cd(),S=rd("div"),pu(C.$$.fragment),L=cd(),pu(k.$$.fragment),gd(n,"class","font-bold svelte-1vpv55x"),gd(l,"id","option-website"),gd(l,"name","option"),gd(l,"type","radio"),l.__value="website",fd(l,l.__value),gd(l,"class","svelte-1vpv55x"),gd(d,"class","label svelte-1vpv55x"),gd(r,"for","option-website"),gd(r,"class","svelte-1vpv55x"),gd(s,"class","option svelte-1vpv55x"),gd(h,"id","option-lang"),gd(h,"type","radio"),gd(h,"name","option"),h.__value="lang",fd(h,h.__value),gd(h,"class","svelte-1vpv55x"),gd(_,"class","label svelte-1vpv55x"),gd(m,"for","option-lang"),gd(m,"class","svelte-1vpv55x"),gd(p,"class","option svelte-1vpv55x"),gd(y,"id","option-fpt"),gd(y,"type","radio"),gd(y,"name","option"),y.__value="fpt",fd(y,y.__value),gd(y,"class","svelte-1vpv55x"),gd($,"class","label svelte-1vpv55x"),gd(T,"for","option-fpt"),gd(T,"class","svelte-1vpv55x"),gd(w,"class","option svelte-1vpv55x"),gd(i,"class","cancel-container svelte-1vpv55x"),gd(t,"class","cancel-translation-body svelte-1vpv55x"),gd(S,"class","cancel-translation-footer svelte-1vpv55x"),I.p(l,h,y)},m(I,R){od(I,t,R),ed(t,n),ed(t,o),ed(t,i),ed(i,s),ed(s,r),ed(r,a),ed(a,l),l.checked=l.__value===e[1],ed(r,c),ed(r,d),ed(i,u),ed(i,p),ed(p,m),ed(m,g),ed(g,h),h.checked=h.__value===e[1],ed(m,f),ed(m,_),ed(i,v),ed(i,w),ed(w,T),ed(T,b),ed(b,y),y.checked=y.__value===e[1],ed(T,E),ed(T,$),od(I,x,R),od(I,S,R),mu(C,S,null),ed(S,L),mu(k,S,null),A=!0,M||(O=[ud(l,"change",e[6]),ud(h,"change",e[8]),ud(y,"change",e[9])],M=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(y.checked=y.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),C.$set(o);const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),k.$set(i)},i(e){A||(iu(C.$$.fragment,e),iu(k.$$.fragment,e),A=!0)},o(e){su(C.$$.fragment,e),su(k.$$.fragment,e),A=!1},d(e){e&&(id(t),id(x),id(S)),gu(C),gu(k),I.r(),M=!1,Rc(O)}}}function Ex(e,t,n){let o,i;const s=Dd("deepl_settings");Uc(e,s,(e=>n(11,i=e)));const r=Dd("deepl_website_settings");Uc(e,r,(e=>n(10,o=e)));let{onClose:a}=t,{onCancel:l}=t,c="fpt";return e.$$set=e=>{"onClose"in e&&n(5,a=e.onClose),"onCancel"in e&&n(0,l=e.onCancel)},[l,c,s,r,()=>{const e={hideOption:void 0,sourceLang:o.websiteLanguage,domainName:o.hostname,uiLocation:CT(re)};switch(c){case"website":Fc(s,i.blacklistDomains=[...i.blacklistDomains,o.hostname],i),e.hideOption=A;break;case"lang":t=o.websiteLanguage,n=d,"EN"===t?(Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-GB":n},i),Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"EN-US":n},i)):"PT"===t?(Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-PT":n},i),Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"PT-BR":n},i)):"ZH"===t?(Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-CN":n},i),Fc(s,i.languagesForTranslation={...i.languagesForTranslation,"ZH-HANT":n},i)):Fc(s,i.languagesForTranslation={...i.languagesForTranslation,[t]:n},i),e.hideOption=I;break;default:e.hideOption=M,s.set({enableFullPageTranslation:!1})}var t,n;Qn({action:zn.dlSendNotification,payload:{type:B,options:{theme:V.green_theme}}}),Qn({action:Zn.dlTrackFptHide,payload:e}),a()},a,function(){c=this.__value,n(1,c)},[[]],function(){c=this.__value,n(1,c)},function(){c=this.__value,n(1,c)}]}class $x extends fu{constructor(e){super(),hu(this,e,Ex,yx,Dc,{onClose:5,onCancel:0})}}function xx(e,t,n){const o=e.slice();return o[17]=t[n],o}function Sx(e,t,n){const o=e.slice();return o[17]=t[n],o}function Cx(e,t,n){const o=e.slice();return o[17]=t[n],o}function Lx(e,t,n){const o=e.slice();return o[17]=t[n],o}function kx(e,t,n){const o=e.slice();return o[17]=t[n],o}function Ax(e){let t,n,o,i,s,r,a,l,c,d,u,p=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new mx({props:{onClose:e[0],$$slots:{default:[Hx]},$$scope:{ctx:e}}});let m=e[6]&&Bx(e);return{c(){pu(t.$$.fragment),n=cd(),m&&m.c(),o=cd(),i=rd("div"),s=rd("label"),r=rd("input"),a=cd(),l=ld(p),gd(r,"type","checkbox"),r.disabled=e[6],gd(r,"class","svelte-6tzge"),gd(s,"class","svelte-6tzge"),gd(i,"class","footer svelte-6tzge"),bd(i,"hasError",e[6])},m(p,g){mu(t,p,g),od(p,n,g),m&&m.m(p,g),od(p,o,g),od(p,i,g),ed(i,s),ed(s,r),ed(s,a),ed(s,l),c=!0,d||(u=ud(s,"click",e[15]),d=!0)},p(e,n){const s={};1&n&&(s.onClose=e[0]),268435476&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[6]?m?(m.p(e,n),64&n&&iu(m,1)):(m=Bx(e),m.c(),iu(m,1),m.m(o.parentNode,o)):m&&(nu(),su(m,1,1,(()=>{m=null})),ou()),(!c||64&n)&&(r.disabled=e[6]),(!c||64&n)&&bd(i,"hasError",e[6])},i(e){c||(iu(t.$$.fragment,e),iu(m),c=!0)},o(e){su(t.$$.fragment,e),su(m),c=!1},d(e){e&&(id(n),id(o),id(i)),gu(t,e),m&&m.d(e),d=!1,u()}}}function Ix(e){let t,n,o,i;return t=new mx({props:{onClose:e[0]}}),o=new $x({props:{onClose:e[0],onCancel:e[13]}}),{c(){pu(t.$$.fragment),n=cd(),pu(o.$$.fragment)},m(e,s){mu(t,e,s),od(e,n,s),mu(o,e,s),i=!0},p(e,n){const i={};1&n&&(i.onClose=e[0]),t.$set(i);const s={};1&n&&(s.onClose=e[0]),8&n&&(s.onCancel=e[13]),o.$set(s)},i(e){i||(iu(t.$$.fragment,e),iu(o.$$.fragment,e),i=!0)},o(e){su(t.$$.fragment,e),su(o.$$.fragment,e),i=!1},d(e){e&&id(n),gu(t,e),gu(o,e)}}}function Mx(e){let t,n;return t=new mx({props:{$$slots:{default:[iS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435510&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Ox(e){let t,n;return t=new mx({props:{$$slots:{default:[cS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435472&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Rx(e){let t,n;return t=new mx({props:{$$slots:{default:[dS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Nx(e){let t,n;return t=new mx({props:{$$slots:{default:[uS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Dx(e){let t,n;return t=new mx({props:{$$slots:{default:[pS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Px(e){let t,n;return t=new mx({props:{$$slots:{default:[mS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Ux(e){let t,n;return t=new mx({props:{$$slots:{default:[gS]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};268435456&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Gx(e){let t;return{c(){t=rd("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,gd(t,"class","svelte-6tzge")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function Hx(e){let t,n,o,i,s,r,a,l,c,d,u,p;return l=new hf({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new wx({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[Gx]},$$scope:{ctx:e}}}),u.$on("click",e[10]),{c(){t=rd("div"),n=rd("div"),o=ld(e[4]),i=cd(),s=rd("div"),r=cd(),a=rd("div"),pu(l.$$.fragment),c=cd(),d=rd("div"),pu(u.$$.fragment),gd(n,"class","website-lang svelte-6tzge"),gd(s,"class","translate-to-arrow svelte-6tzge"),gd(a,"class","language-switch svelte-6tzge"),gd(t,"class","language-selection svelte-6tzge"),gd(t,"dir",ns()),gd(d,"class","translate-button svelte-6tzge")},m(e,m){od(e,t,m),ed(t,n),ed(n,o),ed(t,i),ed(t,s),ed(t,r),ed(t,a),mu(l,a,null),od(e,c,m),od(e,d,m),mu(u,d,null),p=!0},p(e,t){(!p||16&t)&&hd(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const i={};268435456&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i(e){p||(iu(l.$$.fragment,e),iu(u.$$.fragment,e),p=!0)},o(e){su(l.$$.fragment,e),su(u.$$.fragment,e),p=!1},d(e){e&&(id(t),id(c),id(d)),gu(l),gu(u)}}}function Bx(e){let t,n,o;return n=new lh({props:{error:e[1].error}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","error-container svelte-6tzge")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function zx(e){let t,n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=qx(Sx(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dd()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);od(e,t,n)},p(e,i){if(16&i){let s;for(n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"])),s=0;s<n.length;s+=1){const r=Sx(e,n,s);o[s]?o[s].p(r,i):(o[s]=qx(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&id(t),sd(o,e)}}}function Wx(e){let t;function n(e,t){return e[5]?Zx:Vx}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function jx(e){let t,n=e[17].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function Fx(e){let t,n,o=e[17].text+"";return{c(){t=rd("strong"),n=ld(o),gd(t,"class","svelte-6tzge")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function qx(e){let t;function n(e,t){return"strong"===e[17].block?Fx:jx}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function Vx(e){let t,n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=Kx(Cx(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dd()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);od(e,t,n)},p(e,i){if(2&i){let s;for(n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"])),s=0;s<n.length;s+=1){const r=Cx(e,n,s);o[s]?o[s].p(r,i):(o[s]=Kx(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&id(t),sd(o,e)}}}function Zx(e){let t,n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),o=[];for(let t=0;t<n.length;t+=1)o[t]=eS(Lx(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=dd()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);od(e,t,n)},p(e,i){if(18&i){let s;for(n=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"])),s=0;s<n.length;s+=1){const r=Lx(e,n,s);o[s]?o[s].p(r,i):(o[s]=eS(r),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&id(t),sd(o,e)}}}function Yx(e){let t,n=e[17].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){2&o&&n!==(n=e[17].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function Xx(e){let t,n,o=e[17].text+"";return{c(){t=rd("strong"),n=ld(o),gd(t,"class","svelte-6tzge")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){2&t&&o!==(o=e[17].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function Kx(e){let t;function n(e,t){return"strong"===e[17].block?Xx:Yx}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function Qx(e){let t,n=e[17].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){18&o&&n!==(n=e[17].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function Jx(e){let t,n,o=e[17].text+"";return{c(){t=rd("strong"),n=ld(o),gd(t,"class","svelte-6tzge")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){18&t&&o!==(o=e[17].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function eS(e){let t;function n(e,t){return"strong"===e[17].block?Jx:Qx}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function tS(e){let t,n=e[17].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function nS(e){let t,n,o;return{c(){t=rd("span"),t.textContent=`${e[17].text}`,gd(t,"class","link svelte-6tzge")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[9]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function oS(e){let t;let n=function(e){return"settingsLink"===e[17].block?nS:tS}(e),o=n(e);return{c(){o.c(),t=dd()},m(e,n){o.m(e,n),od(e,t,n)},p(e,t){o.p(e,t)},d(e){e&&id(t),o.d(e)}}}function iS(e){let t,n,o,i,s;function r(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?Wx:e[5]?zx:void 0}let a=r(e,-1),l=a&&a(e),c=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),d=[];for(let t=0;t<c.length;t+=1)d[t]=oS(xx(e,c,t));return{c(){t=rd("div"),n=rd("p"),l&&l.c(),i=cd(),s=rd("p");for(let e=0;e<d.length;e+=1)d[e].c();gd(n,"class","svelte-6tzge"),gd(s,"class","svelte-6tzge")},m(e,o){od(e,t,o),ed(t,n),l&&l.m(n,null),ed(t,i),ed(t,s);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(s,null)},p(e,t){if(a===(a=r(e,t))&&l?l.p(e,t):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(n,null))),512&t){let n;for(c=du(sp(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"])),n=0;n<c.length;n+=1){const o=xx(e,c,n);d[n]?d[n].p(o,t):(d[n]=oS(o),d[n].c(),d[n].m(s,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=c.length}},d(e){e&&id(t),l&&l.d(),sd(d,e)}}}function sS(e){let t,n=e[17].text+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p(e,o){16&o&&n!==(n=e[17].text+"")&&hd(t,n)},d(e){e&&id(t)}}}function rS(e){let t,n,o=e[17].text+"";return{c(){t=rd("strong"),n=ld(o),gd(t,"class","svelte-6tzge")},m(e,o){od(e,t,o),ed(t,n)},p(e,t){16&t&&o!==(o=e[17].text+"")&&hd(n,o)},d(e){e&&id(t)}}}function aS(e){let t;function n(e,t){return"strong"===e[17].block?rS:sS}let o=n(e),i=o(e);return{c(){i.c(),t=dd()},m(e,n){i.m(e,n),od(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){e&&id(t),i.d(e)}}}function lS(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=ld(n)},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function cS(e){let t,n,o,i,s,r,a=du(sp(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),l=[];for(let t=0;t<a.length;t+=1)l[t]=aS(kx(e,a,t));return s=new wx({props:{className:"button-reload",$$slots:{default:[lS]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){t=rd("div"),n=rd("p");for(let e=0;e<l.length;e+=1)l[e].c();o=cd(),i=rd("p"),pu(s.$$.fragment),gd(n,"class","mb-none svelte-6tzge"),gd(i,"class","svelte-6tzge")},m(e,a){od(e,t,a),ed(t,n);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(n,null);ed(t,o),ed(t,i),mu(s,i,null),r=!0},p(e,t){if(16&t){let o;for(a=du(sp(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"])),o=0;o<a.length;o+=1){const i=kx(e,a,o);l[o]?l[o].p(i,t):(l[o]=aS(i),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=a.length}const o={};268435456&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){r||(iu(s.$$.fragment,e),r=!0)},o(e){su(s.$$.fragment,e),r=!1},d(e){e&&id(t),sd(l,e),gu(s)}}}function dS(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,gd(t,"class","translation-in-progress svelte-6tzge")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function uS(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,gd(t,"class","translation-in-progress svelte-6tzge")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function pS(e){let t,n;return t=new fx({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function mS(e){let t,n;return t=new fx({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function gS(e){let t,n,o;return n=new Wv({}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","translation-in-progress svelte-6tzge")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function hS(e){let t,n,o,i,s,r;const a=[Ux,Px,Dx,Nx,Rx,Ox,Mx,Ix,Ax],l=[];function c(e,t){return 2&t&&(n=null),38&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===u.ongoingAutoDetection?3:e[1].translationState===u.ongoingTranslation?4:e[1].translationState===u.isTranslationComplete?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[5])),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(i=c(e,-1))&&(s=l[i]=a[i](e)),{c(){t=rd("div"),s&&s.c(),gd(t,"class","full-page-translation svelte-6tzge")},m(e,n){od(e,t,n),~i&&l[i].m(t,null),r=!0},p(e,[n]){let o=i;i=c(e,n),i===o?~i&&l[i].p(e,n):(s&&(nu(),su(l[o],1,1,(()=>{l[o]=null})),ou()),~i?(s=l[i],s?s.p(e,n):(s=l[i]=a[i](e),s.c()),iu(s,1),s.m(t,null)):s=null)},i(e){r||(iu(s),r=!0)},o(e){su(s),r=!1},d(e){e&&id(t),~i&&l[i].d()}}}function fS(e,t,n){let o,i,s,r;const a=Dd("deepl_settings");Uc(e,a,(e=>n(2,r=e)));const l=Dd("deepl_website_settings");Uc(e,l,(e=>n(1,s=e)));let c=C,{onClose:p}=t;let m,g,h=!1;return e.$$set=e=>{"onClose"in e&&n(0,p=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&n(6,o=s&&s.error),6&e.$$.dirty&&n(5,i=Ji(s.websiteLanguage,r.languagesForTranslation,d)),2&e.$$.dirty&&s&&(s.isSupportedLanguage?n(4,m=chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)):n(4,m=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&s&&s.hostname&&s.hostname!==g&&(n(12,g=s.hostname),Qn({action:Zn.dlTrackExtensionOpenedEvent,payload:{domainName:g,extensionContext:c}}))},[p,s,r,h,m,i,o,a,l,function(){Qn({action:Xn.dlOpenInternalPage,payload:{destination:jv.settings_page}})},function(){0==r.isTargetLanguageConfirmed&&a.set({isTargetLanguageConfirmed:!0}),TR(s.websiteLanguage,v)},()=>{l.update({translationState:u.showOriginal})},g,()=>{n(3,h=!1)},e=>a.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{o||n(3,h=!h)}]}class _S extends fu{constructor(e){super(),hu(this,e,fS,hS,Dc,{onClose:0})}}function vS(e){let t,n,o;return n=new _S({props:{onClose:e[0]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","app-popup svelte-1x9ra34"),gd(t,"style",`z-index: ${e[2].z_index}`),gd(t,"dir",ns())},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function wS(e){let t,n,o=e[3]()&&e[1]&&e[1].isValidUrlForPopup,i=o&&vS(e);return{c(){i&&i.c(),t=dd()},m(e,o){i&&i.m(e,o),od(e,t,o),n=!0},p(e,[n]){2&n&&(o=e[3]()&&e[1]&&e[1].isValidUrlForPopup),o?i?(i.p(e,n),2&n&&iu(i,1)):(i=vS(e),i.c(),iu(i,1),i.m(t.parentNode,t)):i&&(nu(),su(i,1,1,(()=>{i=null})),ou())},i(e){n||(iu(i),n=!0)},o(e){su(i),n=!1},d(e){e&&id(t),i&&i.d(e)}}}function TS(e,t,n){let o,i;Uc(e,yu,(e=>n(4,o=e))),Uc(e,ef,(e=>n(1,i=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let{onClose:s}=t;const{deepl_inline_ui:r}=P;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose)},[s,i,r,function(){return oo(o,Zt.TRANSLATOR)}]}class bS extends fu{constructor(e){super(),hu(this,e,TS,wS,Dc,{onClose:0})}}class yS{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new bS({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function ES(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("span"),gd(n,"class","svelte-19tdlik"),gd(t,"aria-label",e[4]?chrome.i18n.getMessage("toggle_off"):chrome.i18n.getMessage("toggle_on")),gd(t,"class","switch svelte-19tdlik"),gd(t,"data-testid",e[3]),gd(t,"data-qa",e[2]),bd(t,"checked",e[0]),bd(t,"disabled",e[1])},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[4]),o=!0)},p(e,[n]){8&n&&gd(t,"data-testid",e[3]),4&n&&gd(t,"data-qa",e[2]),1&n&&bd(t,"checked",e[0]),2&n&&bd(t,"disabled",e[1])},i:Ac,o:Ac,d(e){e&&id(t),o=!1,i()}}}function $S(e,t,n){let{checked:o=!1}=t,{disabled:i=!1}=t,{qaRoot:s="dl-switch"}=t,{dataTestId:r="deepl-switch"}=t;const a=Rd();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"disabled"in e&&n(1,i=e.disabled),"qaRoot"in e&&n(2,s=e.qaRoot),"dataTestId"in e&&n(3,r=e.dataTestId)},[o,i,s,r,function(){i||a("change",{checked:!o})}]}yS.HTML_TAG_NAME="deepl-page-load-popup",yS.createElement=(e=document)=>{const t=e.createElement(yS.HTML_TAG_NAME),n=new yS(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class xS extends fu{constructor(e){super(),hu(this,e,$S,ES,Dc,{checked:0,disabled:1,qaRoot:2,dataTestId:3})}}function SS(e){let t,n,o,i,s,r,a,l,c,d,u=e[1]&&CS();return a=new xS({props:{checked:e[3].isGDocsEnabled}}),a.$on("change",e[8]),{c(){t=rd("div"),u&&u.c(),n=cd(),o=rd("div"),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_setting_switch")}`,s=cd(),r=rd("div"),pu(a.$$.fragment),gd(i,"class","legend"),gd(r,"class","switch svelte-8jz3zx"),gd(o,"class","turn-on-off-panel svelte-8jz3zx"),gd(t,"class","dl-gdocs-top-icon-modal svelte-8jz3zx"),_d(t,"left",e[2]+"px"),gd(t,"dir",ns())},m(p,m){od(p,t,m),u&&u.m(t,null),ed(t,n),ed(t,o),ed(o,i),ed(o,s),ed(o,r),mu(a,r,null),l=!0,c||(d=[qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=CS(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGDocsEnabled),a.$set(i),(!l||4&o)&&_d(t,"left",e[2]+"px")},i(e){l||(iu(a.$$.fragment,e),l=!0)},o(e){su(a.$$.fragment,e),l=!1},d(e){e&&id(t),u&&u.d(),gu(a),c=!1,Rc(d)}}}function CS(e){let t,n,o,i,s,r,a,l,c,d,u=chrome.i18n.getMessage("ui_gdocs_welcome_usp1")+"",p=chrome.i18n.getMessage("ui_gdocs_welcome_usp2")+"",m=chrome.i18n.getMessage("ui_gdocs_welcome_usp3")+"";return{c(){t=rd("div"),n=rd("div"),o=rd("p"),o.textContent=`${chrome.i18n.getMessage("ui_gdocs_welcome_title")}`,i=cd(),s=rd("div"),r=rd("div"),a=cd(),l=rd("div"),c=cd(),d=rd("div"),gd(o,"class","svelte-8jz3zx"),gd(n,"class","header svelte-8jz3zx"),gd(r,"class","ups-item svelte-8jz3zx"),gd(l,"class","ups-item svelte-8jz3zx"),gd(d,"class","ups-item svelte-8jz3zx"),gd(s,"class","ups-list"),gd(t,"class","onboarding svelte-8jz3zx")},m(e,g){od(e,t,g),ed(t,n),ed(n,o),ed(t,i),ed(t,s),ed(s,r),r.innerHTML=u,ed(s,a),ed(s,l),l.innerHTML=p,ed(s,c),ed(s,d),d.innerHTML=m},p:Ac,d(e){e&&id(t)}}}function LS(e){let t,n,o,i,s,r,a=e[0]&&SS(e);return{c(){t=rd("button"),n=cd(),a&&a.c(),o=dd(),gd(t,"class","dl-gdocs-top-icon svelte-8jz3zx"),_d(t,"left",e[2]+"px"),bd(t,"onboarding-pending",!e[3].isGDocsOnboardingShown)},m(l,c){od(l,t,c),od(l,n,c),a&&a.m(l,c),od(l,o,c),i=!0,s||(r=ud(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&_d(t,"left",e[2]+"px"),(!i||8&n)&&bd(t,"onboarding-pending",!e[3].isGDocsOnboardingShown),e[0]?a?(a.p(e,n),1&n&&iu(a,1)):(a=SS(e),a.c(),iu(a,1),a.m(o.parentNode,o)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&(id(t),id(n),id(o)),a&&a.d(e),s=!1,r()}}}function kS(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(3,o=e)));let s,{registerTopToolbarIconCallbacks:r}=t,{clearTopToolbarIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector("#titlebar-mode-indicator-container"),t=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),o=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const t=e.getBoundingClientRect();n(2,s=o?n(2,s=t.left+40-32):t.left-40)}else if(t){const e=t.getBoundingClientRect();n(2,s=o?n(2,s=e.left+40-32):e.left-40)}};Md((()=>{d(),r({repositionTopToolbarIcon:d})})),Od((()=>{a()}));return e.$$set=e=>{"registerTopToolbarIconCallbacks"in e&&n(5,r=e.registerTopToolbarIconCallbacks),"clearTopToolbarIconCallbacks"in e&&n(6,a=e.clearTopToolbarIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Qn({action:Zn.dlTrackOnboardingModalShown,payload:{nicheIntegration:It.gdocs}})},[l,c,s,o,i,r,a,()=>{n(0,l=!0),o.isGDocsOnboardingShown||(Fc(i,o.isGDocsOnboardingShown=!0,o),n(1,c=!0))},e=>Fc(i,o.isGDocsEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class AS extends fu{constructor(e){super(),hu(this,e,kS,LS,Dc,{registerTopToolbarIconCallbacks:5,clearTopToolbarIconCallbacks:6})}}function IS(e){let t,n,o,i,s,r,a,l,c,d,u;o=new Np({props:{tooltip:e[5],showProShield:oo(e[1],Zt.TRANSLATOR),zIndex:"10000000000",$$slots:{default:[MS]},$$scope:{ctx:e}}});let p=e[4]&&OS(e);return a=new Np({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[NS]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("button"),pu(o.$$.fragment),i=cd(),p&&p.c(),s=cd(),r=rd("button"),pu(a.$$.fragment),gd(n,"class","dl-icon-circle dl-icon svelte-1e1g158"),bd(n,"isTranslateDisabled",e[0]),gd(r,"class","dl-icon-circle dl-on-off-icon svelte-1e1g158"),gd(r,"data-qa","deepl-inline-translate-menu-icon"),gd(t,"class","dl-gdocs-icon svelte-1e1g158"),_d(t,"top",e[6].top),_d(t,"left",e[6].left),gd(t,"dir",ns()),bd(t,"has-deepl-write",e[4])},m(l,m){od(l,t,m),ed(t,n),mu(o,n,null),ed(t,i),p&&p.m(t,null),ed(t,s),ed(t,r),mu(a,r,null),c=!0,d||(u=[ud(n,"click",e[26]),ud(n,"mouseenter",e[27]),ud(r,"click",e[11]),ud(r,"mouseenter",e[30])],d=!0)},p(e,i){const r={};32&i[0]&&(r.tooltip=e[5]),2&i[0]&&(r.showProShield=oo(e[1],Zt.TRANSLATOR)),4&i[2]&&(r.$$scope={dirty:i,ctx:e}),o.$set(r),(!c||1&i[0])&&bd(n,"isTranslateDisabled",e[0]),e[4]?p?(p.p(e,i),16&i[0]&&iu(p,1)):(p=OS(e),p.c(),iu(p,1),p.m(t,s)):p&&(nu(),su(p,1,1,(()=>{p=null})),ou());const l={};4&i[2]&&(l.$$scope={dirty:i,ctx:e}),a.$set(l),(!c||64&i[0])&&_d(t,"top",e[6].top),(!c||64&i[0])&&_d(t,"left",e[6].left),(!c||16&i[0])&&bd(t,"has-deepl-write",e[4])},i(e){c||(iu(o.$$.fragment,e),iu(p),iu(a.$$.fragment,e),l||Fd((()=>{l=au(t,tp,{x:-5,duration:300}),l.start()})),c=!0)},o(e){su(o.$$.fragment,e),su(p),su(a.$$.fragment,e),c=!1},d(e){e&&id(t),gu(o),p&&p.d(),gu(a),d=!1,Rc(u)}}}function MS(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1e1g158")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function OS(e){let t,n,o,i,s;return n=new Np({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),showProShield:oo(e[1],Zt.WRITE),zIndex:"10000000000",$$slots:{default:[RS]},$$scope:{ctx:e}}}),{c(){t=rd("button"),pu(n.$$.fragment),gd(t,"class","dl-icon-circle dl-write-icon svelte-1e1g158")},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=[ud(t,"click",e[28]),ud(t,"mouseenter",e[29])],i=!0)},p(e,t){const o={};2&t[0]&&(o.showProShield=oo(e[1],Zt.WRITE)),4&t[2]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,Rc(s)}}}function RS(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1e1g158")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function NS(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1e1g158")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function DS(e){let t,n,o,i;t=new AS({props:{registerTopToolbarIconCallbacks:e[12],clearTopToolbarIconCallbacks:e[13]}});let s=e[7]&&!e[2]&&!e[3]&&IS(e);return{c(){pu(t.$$.fragment),n=cd(),s&&s.c(),o=dd()},m(e,r){mu(t,e,r),od(e,n,r),s&&s.m(e,r),od(e,o,r),i=!0},p(e,t){!e[7]||e[2]||e[3]?s&&(nu(),su(s,1,1,(()=>{s=null})),ou()):s?(s.p(e,t),140&t[0]&&iu(s,1)):(s=IS(e),s.c(),iu(s,1),s.m(o.parentNode,o))},i(e){i||(iu(t.$$.fragment,e),iu(s),i=!0)},o(e){su(t.$$.fragment,e),su(s),i=!1},d(e){e&&(id(n),id(o)),gu(t,e),s&&s.d(e)}}}function PS(e,t,n){let o,i,s;Uc(e,yu,(e=>n(1,s=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let r,a,l,c,d,u,p,m,g,{replaceData:h}=t,{contentProcessBuildingBlocks:f}=t,{deeplWriteTrackingData:_={lang:"",sourceLength:0,targetLength:0,nicheIntegration:It.gdocs,error:"",trigger:""}}=t,v=!0,w=!1,T="",b="",y=!1,E="",$={top:0,left:0};async function x(e,t,n){if("dlTriggerTranslationShortcut"===e.action)C(),Qn({action:Zn.dlTrackUseOfShortcut,payload:{shortcutType:it,location:Z,nicheIntegration:It.gdocs}}),n();return!0}const S=e=>{u=Rt.translate,e&&(p=e),Ai()},C=()=>{i||S(s.selectedTargetLanguage)},L=()=>{u=Rt.write,Ai()},k=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:o}}=Oi();e!==w&&n(3,w=e),n(6,$.left=`${Math.round(t)}px`,$),n(6,$.top=`${Math.round(o)}px`,$)};function A(e){Qn({action:Zn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:It.gdocs}})}const I=()=>{r=setInterval((()=>{const e=Ii(),t=!e.text;!t&&v&&k(),t&&!v&&(()=>{if(!s.isInlineHighlighterShown){yu.set({isInlineHighlighterShown:!0});try{Qn({action:Zn.dlTrackCloseInlineHighlighter,payload:{trigger:At}})}catch(e){console.error(e)}}})(),n(2,v=t),T!==e.text&&n(24,T=e.text)}),300)},M=()=>{const e=document.querySelector("#docs-instant-bubble");l=new MutationObserver((()=>{k()}));return l.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>l.unobserve()},O=async e=>{if(u&&("ClipboardEvent"===e.constructor.name||e.constructor.toString().includes("ClipboardEvent"))){switch(u){case Rt.translate:ER({event:e,targetLang:p});break;case Rt.write:$R({event:e,lang:b})}u=void 0}},R=()=>{I(),(()=>{const e=document.querySelector("#kix-appview");a=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(k(),M())})),a.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{k(),m&&m()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",k),(()=>{const{editable:e}=ki();e.addEventListener("copy",O)})(),(()=>{const e=document.querySelector("#docs-presence-container");c=new ResizeObserver((()=>{m&&m()})),c.observe(e)})(),(()=>{const e=document.querySelector("#docs-titlebar");d=new ResizeObserver((()=>{m&&m()})),d.observe(e)})()},N=()=>{a&&a.disconnect(),l&&l.disconnect(),r&&clearInterval(r),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",k),(()=>{const{editable:e}=ki();e.removeEventListener("copy",O)})(),c&&c.disconnect(),d&&d.disconnect()};Md((()=>{R(),chrome.runtime.onMessage.addListener(x),Qn({action:Fn.dlCheckCommandShortcuts}).then((e=>n(25,E=e?e.filter((e=>e.name==it))[0].shortcut:"")))})),Od((()=>{N()}));return e.$$set=e=>{"replaceData"in e&&n(15,h=e.replaceData),"contentProcessBuildingBlocks"in e&&n(14,f=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&n(16,_=e.deeplWriteTrackingData)},e.$$.update=()=>{if(2&e.$$.dirty[0]&&n(7,o=s&&s.isGDocsEnabled),2&e.$$.dirty[0]&&n(0,i=so(s,Zt.TRANSLATOR)),16777216&e.$$.dirty[0]&&(async e=>{const t=await Yi(e);b=t,n(4,y=es(b)&&!so(s,Zt.WRITE))})(T),33554433&e.$$.dirty[0])if(i)n(5,g=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else{let e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");n(5,g=E?`${e} (${E})`:e)}},[i,s,v,w,y,g,$,o,C,L,A,()=>{yu.set({isGDocsEnabled:!1}),Qn({action:Zn.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:It.gdocs,uiLocation:Z,customizationEnabled:!1}})},e=>{m=e.repositionTopToolbarIcon},()=>{m=void 0},f,h,_,e=>{n(14,f=e)},()=>f,()=>{h&&Wi(h)},S,()=>{HR({eventType:Jt,..._})},()=>{HR({eventType:en,..._})},e=>{switch(e){case un:HR({eventType:tn,..._});break;case pn:Qn({action:Zn.dlTrackGDocsMaxCharExceededTryProClicked,payload:{sourceLang:_.lang,targetLang:_.lang,sourceLength:_.sourceLength}})}},T,E,()=>i?null:C(),()=>A(Z),()=>L(),()=>A(ve),()=>A(Y)]}class US extends fu{constructor(e){super(),hu(this,e,PS,DS,Dc,{replaceData:15,contentProcessBuildingBlocks:14,deeplWriteTrackingData:16,setContentProcessBuildingBlocks:17,getContentProcessBuildingBlocks:18,applyReplacement:19,requestTranslation:20,trackDeeplWriteInsertCopy:21,trackDeeplWriteDiscardCopy:22,trackMaxCharExceeded:23},null,[-1,-1,-1])}get setContentProcessBuildingBlocks(){return this.$$.ctx[17]}get getContentProcessBuildingBlocks(){return this.$$.ctx[18]}get applyReplacement(){return this.$$.ctx[19]}get requestTranslation(){return this.$$.ctx[20]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[21]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[22]}get trackMaxCharExceeded(){return this.$$.ctx[23]}}class GS{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new US({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})},this.setReplaceData=e=>{this.domElement.mainComponent.$$set({replaceData:e})},this.setDeeplWriteTrackingData=e=>{this.domElement.mainComponent.$$set({deeplWriteTrackingData:e})},this.trackDeeplWriteInsertCopy=()=>this.domElement.mainComponent.trackDeeplWriteInsertCopy(),this.trackDeeplWriteDiscardCopy=()=>this.domElement.mainComponent.trackDeeplWriteDiscardCopy(),this.trackMaxCharExceeded=e=>this.domElement.mainComponent.trackMaxCharExceeded(e),this.applyReplacement=()=>{this.domElement.mainComponent.applyReplacement()},this.requestNewTranslation=e=>{this.domElement.mainComponent.requestTranslation(e)},this.setContentProcessBuildingBlocks=e=>this.domElement.mainComponent.setContentProcessBuildingBlocks(e),this.getContentProcessBuildingBlocks=()=>this.domElement.mainComponent.getContentProcessBuildingBlocks(),this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function HS(e){let t,n;return t=new cb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function BS(e){let t,n,o,i,s,r,a=chrome.i18n.getMessage("ui_gslides_translate_cta")+"",l=oo(e[4],Zt.TRANSLATOR),c=l&&HS();return{c(){t=rd("button"),n=ld(a),o=cd(),c&&c.c(),gd(t,"class","action-button svelte-c2z0h2"),t.disabled=e[5]},m(a,l){od(a,t,l),ed(t,n),ed(t,o),c&&c.m(t,null),i=!0,s||(r=ud(t,"click",(function(){Nc(e[0])&&e[0].apply(this,arguments)})),s=!0)},p(n,o){e=n,16&o&&(l=oo(e[4],Zt.TRANSLATOR)),l?c?16&o&&iu(c,1):(c=HS(),c.c(),iu(c,1),c.m(t,null)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou()),(!i||32&o)&&(t.disabled=e[5])},i(e){i||(iu(c),i=!0)},o(e){su(c),i=!1},d(e){e&&id(t),c&&c.d(),s=!1,r()}}}function zS(e){let t,n;return t=new cb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function WS(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("ui_gslides_write_cta")+"",c=oo(e[4],Zt.TRANSLATOR),d=c&&zS();return{c(){t=rd("button"),n=ld(l),o=cd(),d&&d.c(),gd(t,"class","action-button svelte-c2z0h2"),t.disabled=i=!es(e[3])||so(e[4],Zt.WRITE)},m(i,l){od(i,t,l),ed(t,n),ed(t,o),d&&d.m(t,null),s=!0,r||(a=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),r=!0)},p(n,o){e=n,16&o&&(c=oo(e[4],Zt.TRANSLATOR)),c?d?16&o&&iu(d,1):(d=zS(),d.c(),iu(d,1),d.m(t,null)):d&&(nu(),su(d,1,1,(()=>{d=null})),ou()),(!s||24&o&&i!==(i=!es(e[3])||so(e[4],Zt.WRITE)))&&(t.disabled=i)},i(e){s||(iu(d),s=!0)},o(e){su(d),s=!1},d(e){e&&id(t),d&&d.d(),r=!1,a()}}}function jS(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_;return r=new hf({props:{disabled:e[2],websiteSettings:e[7],value:e[3],showSortCode:!1,showRegionalVariants:!1,extraPadding:!0}}),r.$on("selection",e[11]),u=new hf({props:{disabled:e[2],websiteSettings:e[7],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[12]),m=new Np({props:{tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),isEnabled:e[5],zIndex:"10000000000",multiline:!0,$$slots:{default:[BS]},$$scope:{ctx:e}}}),f=new Np({props:{tooltip:so(e[4],Zt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:"10000000000",multiline:!0,$$slots:{default:[WS]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("div"),o=rd("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,i=cd(),s=rd("div"),pu(r.$$.fragment),a=cd(),l=rd("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=cd(),d=rd("div"),pu(u.$$.fragment),p=cd(),pu(m.$$.fragment),g=cd(),h=rd("div"),pu(f.$$.fragment),gd(o,"class","svelte-c2z0h2"),gd(s,"class","dropdown svelte-c2z0h2"),gd(l,"class","svelte-c2z0h2"),gd(d,"class","dropdown svelte-c2z0h2"),gd(n,"class","translate-container svelte-c2z0h2"),gd(h,"class","write-container svelte-c2z0h2"),gd(t,"class","dl-gslides-toolbar svelte-c2z0h2")},m(e,v){od(e,t,v),ed(t,n),ed(n,o),ed(n,i),ed(n,s),mu(r,s,null),ed(n,a),ed(n,l),ed(n,c),ed(n,d),mu(u,d,null),ed(n,p),mu(m,n,null),ed(t,g),ed(t,h),mu(f,h,null),_=!0},p(e,[t]){const n={};4&t&&(n.disabled=e[2]),8&t&&(n.value=e[3]),r.$set(n);const o={};4&t&&(o.disabled=e[2]),16&t&&(o.value=e[4].selectedTargetLanguage),u.$set(o);const i={};32&t&&(i.isEnabled=e[5]),8241&t&&(i.$$scope={dirty:t,ctx:e}),m.$set(i);const s={};16&t&&(s.tooltip=so(e[4],Zt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),8218&t&&(s.$$scope={dirty:t,ctx:e}),f.$set(s)},i(e){_||(iu(r.$$.fragment,e),iu(u.$$.fragment,e),iu(m.$$.fragment,e),iu(f.$$.fragment,e),_=!0)},o(e){su(r.$$.fragment,e),su(u.$$.fragment,e),su(m.$$.fragment,e),su(f.$$.fragment,e),_=!1},d(e){e&&id(t),gu(r),gu(u),gu(m),gu(f)}}}function FS(e,t,n){let o,i;const s=Dd("deepl_settings");Uc(e,s,(e=>n(4,i=e)));const r=Dd("deepl_website_settings");let{onTranslateSelection:a}=t,{onImproveSelection:l}=t,{isLoading:c}=t,{sourceLang:d}=t,{manualSourceLang:u}=t;const p=e=>{n(10,u=e)},m=e=>{Fc(s,i.selectedTargetLanguage=e,i)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,a=e.onTranslateSelection),"onImproveSelection"in e&&n(1,l=e.onImproveSelection),"isLoading"in e&&n(2,c=e.isLoading),"sourceLang"in e&&n(3,d=e.sourceLang),"manualSourceLang"in e&&n(10,u=e.manualSourceLang)},e.$$.update=()=>{16&e.$$.dirty&&n(5,o=so(i,Zt.TRANSLATOR))},[a,l,c,d,i,o,s,r,p,m,u,e=>{p(e.detail.selectedOption.value)},e=>{m(e.detail.selectedOption.value)}]}GS.HTML_TAG_NAME="deepl-gdocs-icon",GS.createElement=(e=document)=>{const t=e.createElement(GS.HTML_TAG_NAME),n=new GS(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.setReplaceData=n.setReplaceData,t.applyReplacement=n.applyReplacement,t.requestNewTranslation=n.requestNewTranslation,t.setDeeplWriteTrackingData=n.setDeeplWriteTrackingData,t.trackDeeplWriteInsertCopy=n.trackDeeplWriteInsertCopy,t.trackDeeplWriteDiscardCopy=n.trackDeeplWriteDiscardCopy,t.trackMaxCharExceeded=n.trackMaxCharExceeded,t.setContentProcessBuildingBlocks=n.setContentProcessBuildingBlocks,t.getContentProcessBuildingBlocks=n.getContentProcessBuildingBlocks,t};class qS extends fu{constructor(e){super(),hu(this,e,FS,jS,Dc,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:10})}}function VS(e){let t,n,o,i,s,r,a;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new qS({props:c}),Gd.push((()=>uu(n,"manualSourceLang",l))),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl-gslides-toolbar svelte-1esuwx"),gd(t,"dir",ns())},m(o,i){od(o,t,i),mu(n,t,null),s=!0,r||(a=[qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[13])],r=!0)},p(e,t){const i={};16&t&&(i.isLoading=e[4]),2&t&&(i.sourceLang=e[1]),!o&&1&t&&(o=!0,i.manualSourceLang=e[0],qd((()=>o=!1))),n.$set(i)},i(e){s||(iu(n.$$.fragment,e),Fd((()=>{s&&(i||(i=cu(t,tp,{},!0)),i.run(1))})),s=!0)},o(e){su(n.$$.fragment,e),i||(i=cu(t,tp,{},!1)),i.run(0),s=!1},d(e){e&&id(t),gu(n),e&&i&&i.end(),r=!1,Rc(a)}}}function ZS(e){let t,n;return t=new Wv({props:{small:!0}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function YS(e){let t,n,o,i,s,r,a,l,c=e[3]&&VS(e),d=e[4]&&ZS();return{c(){t=rd("div"),c&&c.c(),n=cd(),o=rd("button"),d&&d.c(),gd(o,"class","dl-gslides-button svelte-1esuwx"),gd(o,"title","Translate with DeepL"),bd(o,"is-loading",e[4]),gd(t,"class","dl-gslides-icon svelte-1esuwx"),gd(t,"style",s="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;")},m(i,s){od(i,t,s),c&&c.m(t,null),ed(t,n),ed(t,o),d&&d.m(o,null),r=!0,a||(l=ud(o,"click",e[6]),a=!0)},p(e,[i]){e[3]?c?(c.p(e,i),8&i&&iu(c,1)):(c=VS(e),c.c(),iu(c,1),c.m(t,n)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou()),e[4]?d?16&i&&iu(d,1):(d=ZS(),d.c(),iu(d,1),d.m(o,null)):d&&(nu(),su(d,1,1,(()=>{d=null})),ou()),(!r||16&i)&&bd(o,"is-loading",e[4]),(!r||4&i&&s!==(s="bottom: "+e[2].bottom+"px; "+e[2].horizonalAlignment+": "+e[2].horizonalOffset+"px;"))&&gd(t,"style",s)},i(e){r||(iu(c),iu(d),Fd((()=>{r&&(i||(i=cu(o,tp,{},!0)),i.run(1))})),r=!0)},o(e){su(c),su(d),i||(i=cu(o,tp,{},!1)),i.run(0),r=!1},d(e){e&&id(t),c&&c.d(),d&&d.d(),e&&i&&i.end(),a=!1,l()}}}const XS=16,KS="application/x-vnd.google-docs-drawings-object+wrapped",QS="application/x-vnd.google-docs-document-slice-clip+wrapped";function JS(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(15,o=e)));let s,{registerActionIconCallbacks:r}=t,{clearActionIconCallbacks:a}=t,{sourceLang:l}=t,{manualSourceLang:c}=t,{charLimitError:d}=t,u={bottom:0,right:0},p=!1,m=!1,g=[];const h=()=>{const e=document.querySelector("#canvas-container"),t=ns(),o="ltr"===t?"right":"left";if(e){const i=e.getBoundingClientRect();let s=XS;s="ltr"===t?i.right>window.innerWidth?0:window.innerWidth-i.right:i.left<0?0:i.left;const r=i.bottom>window.innerHeight?16:window.innerHeight-i.bottom;n(2,u={bottom:r+XS,horizonalOffset:s+XS,horizonalAlignment:o})}else n(2,u={bottom:XS,horizonalOffset:XS,horizonalAlignment:o})},f=async(e,t)=>{try{let i=e.clipboardData.getData(KS),r=e.clipboardData.getData(QS);if(i){if((e=>{let t=e.getData("application/x-vnd.google-docs-image-clip+wrapped");if(!t)return!1;const n=JSON.parse(t),o=JSON.parse(n.data).image_urls,i=Object.keys(o);let s=!1;for(const e of i)if(e.includes("PLACEHOLDER_")&&!g.includes(e)){g.push(e),s=!0;break}return s})(e.clipboardData))return void Jn(j,{theme:V.warning_theme});n(4,m=!0);const s=await(async(e,t)=>{const n=JSON.parse(e),i=JSON.parse(n.data),s=i.unresolved,{entities:r,sentencesToTranslate:a}=as(s),c=await xR({targetLang:o.selectedTargetLanguage,sourceLang:l,sentences:a,mode:t}),d=[];for(let e=0;e<r.length;e++)ls({entity:r[e],translatedSentences:c,modifiersToDelete:d});return i.unresolved=i.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(i),JSON.stringify(n)})(i,t);Cp("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),_(s),n(4,m=!1)}else if(r){n(4,m=!0);const i=await(async(e,t)=>await SR({event:e,sourceLang:l,targetLang:o.selectedTargetLanguage,mode:t}))(e,t);Cp("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),v(i),n(4,m=!1)}else await rs(),s=t,n(3,p=!1),Ai()}catch(e){console.log("errororr slidews",e),e.name===Bu?n(9,d=En):e.name===Hu?n(9,d=$n):e.name===Wu?n(9,d=Wu):e.name===ju&&n(9,d=ju),console.error(e),n(4,m=!1)}},_=e=>{const{editable:t}=ki();let n;if(To())n=new ClipboardEvent("paste",{dataType:KS,data:e});else{const t=new DataTransfer;t.setData(KS,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)},v=e=>{const{editable:t}=ki();let n;if(To())n=new ClipboardEvent("paste",{dataType:QS,data:e});else{const t=new DataTransfer;t.setData(QS,e),n=new ClipboardEvent("paste",{bubbles:!0,clipboardData:t})}t.dispatchEvent(n)};Md((()=>{setTimeout((()=>{const{editable:e}=ki();e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,f(e,t)}}))}),2e3),r({repositionActionIcon:h})})),Od((()=>{a()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&n(10,r=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&n(11,a=e.clearActionIconCallbacks),"sourceLang"in e&&n(1,l=e.sourceLang),"manualSourceLang"in e&&n(0,c=e.manualSourceLang),"charLimitError"in e&&n(9,d=e.charLimitError)},[c,l,u,p,m,i,()=>{n(3,p=!p)},()=>{s=Rt.translate,n(3,p=!1),Ai()},()=>{s=Rt.write,n(3,p=!1),Ai()},d,r,a,function(e){c=e,n(0,c)},()=>{n(3,p=!1)}]}let eC=class extends fu{constructor(e){super(),hu(this,e,JS,YS,Dc,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}};function tC(e){let t,n,o,i,s,r,a,l,c,d,u=e[1]&&nC();return a=new xS({props:{checked:e[3].isGSlidesEnabled}}),a.$on("change",e[8]),{c(){t=rd("div"),u&&u.c(),n=cd(),o=rd("div"),i=rd("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,s=cd(),r=rd("div"),pu(a.$$.fragment),gd(i,"class","legend"),gd(r,"class","switch svelte-19uh4k2"),gd(o,"class","turn-on-off-panel svelte-19uh4k2"),gd(t,"class","dl-gslides-top-icon-modal svelte-19uh4k2"),_d(t,"left",e[2]+"px"),gd(t,"dir",ns())},m(p,m){od(p,t,m),u&&u.m(t,null),ed(t,n),ed(t,o),ed(o,i),ed(o,s),ed(o,r),mu(a,r,null),l=!0,c||(d=[qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=nC(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGSlidesEnabled),a.$set(i),(!l||4&o)&&_d(t,"left",e[2]+"px")},i(e){l||(iu(a.$$.fragment,e),l=!0)},o(e){su(a.$$.fragment,e),l=!1},d(e){e&&id(t),u&&u.d(),gu(a),c=!1,Rc(d)}}}function nC(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=rd("div"),n=rd("div"),o=rd("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,i=cd(),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,r=cd(),a=rd("div"),l=rd("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=cd(),d=rd("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,gd(o,"class","svelte-19uh4k2"),gd(s,"class","beta-label svelte-19uh4k2"),gd(n,"class","header svelte-19uh4k2"),gd(l,"class","ups-item svelte-19uh4k2"),gd(d,"class","ups-item svelte-19uh4k2"),gd(a,"class","ups-list"),gd(t,"class","onboarding svelte-19uh4k2")},m(e,u){od(e,t,u),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(t,r),ed(t,a),ed(a,l),ed(a,c),ed(a,d)},p:Ac,d(e){e&&id(t)}}}function oC(e){let t,n,o,i,s,r,a=e[0]&&tC(e);return{c(){t=rd("button"),n=cd(),a&&a.c(),o=dd(),gd(t,"class","dl-gslides-top-icon svelte-19uh4k2"),_d(t,"left",e[2]+"px"),bd(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(l,c){od(l,t,c),od(l,n,c),a&&a.m(l,c),od(l,o,c),i=!0,s||(r=ud(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&_d(t,"left",e[2]+"px"),(!i||8&n)&&bd(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?a?(a.p(e,n),1&n&&iu(a,1)):(a=tC(e),a.c(),iu(a,1),a.m(o.parentNode,o)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&(id(t),id(n),id(o)),a&&a.d(e),s=!1,r()}}}function iC(e,t,n){let o;const i=Dd("deepl_settings");Uc(e,i,(e=>n(3,o=e)));let s,{registerTopIconCallbacks:r}=t,{clearTopIconCallbacks:a}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container"),t=null!=document.querySelector(".docs-titlebar-buttons-rtl");if(e){const o=e.getBoundingClientRect();n(2,s=t?n(2,s=o.left+40-32):o.left-40)}};Md((()=>{d(),r({repositionTopIcon:d})})),Od((()=>{a()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&n(5,r=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&n(6,a=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&Qn({action:Zn.dlTrackOnboardingModalShown,payload:{nicheIntegration:It.gslides}})},[l,c,s,o,i,r,a,()=>{n(0,l=!0),o.isGSlidesOnboardingShown||(Fc(i,o.isGSlidesOnboardingShown=!0,o),n(1,c=!0))},e=>Fc(i,o.isGSlidesEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class sC extends fu{constructor(e){super(),hu(this,e,iC,oC,Dc,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function rC(e){let t,n,o,i,s;function r(e,t){return e[0]===$n?cC:e[0]===En?lC:void 0}let a=r(e),l=a&&a(e);return{c(){t=rd("button"),n=cd(),l&&l.c(),o=dd(),gd(t,"class","close-button svelte-8x6yh8")},m(r,a){od(r,t,a),od(r,n,a),l&&l.m(r,a),od(r,o,a),i||(s=ud(t,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(t,n){a===(a=r(e=t))&&l?l.p(e,n):(l&&l.d(1),l=a&&a(e),l&&(l.c(),l.m(o.parentNode,o)))},i:Ac,o:Ac,d(e){e&&(id(t),id(n),id(o)),l&&l.d(e),i=!1,s()}}}function aC(e){let t,n;return t=new lh({props:{error:{error:e[0]},close:e[1],config:{nicheIntegration:It.gslides}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),2&n&&(o.close=e[1]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function lC(e){let t,n,o,i,s,r,a,l,c,d;return{c(){t=rd("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=cd(),o=rd("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,i=cd(),s=rd("div"),r=rd("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,a=cd(),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,gd(t,"class","svelte-8x6yh8"),gd(o,"class","svelte-8x6yh8"),gd(r,"class","btn-secondary svelte-8x6yh8"),gd(l,"class","btn-primary svelte-8x6yh8"),gd(s,"class","buttons-row svelte-8x6yh8")},m(u,p){od(u,t,p),od(u,n,p),od(u,o,p),od(u,i,p),od(u,s,p),ed(s,r),ed(s,a),ed(s,l),c||(d=[ud(r,"click",e[4]),ud(l,"click",e[3])],c=!0)},p:Ac,d(e){e&&(id(t),id(n),id(o),id(i),id(s)),c=!1,Rc(d)}}}function cC(e){let t,n,o,i,s,r,a,l;return{c(){t=rd("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=cd(),o=rd("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,i=cd(),s=rd("div"),r=rd("button"),r.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,gd(t,"class","svelte-8x6yh8"),gd(o,"class","svelte-8x6yh8"),gd(r,"class","btn-primary svelte-8x6yh8"),gd(s,"class","buttons-row svelte-8x6yh8")},m(c,d){od(c,t,d),od(c,n,d),od(c,o,d),od(c,i,d),od(c,s,d),ed(s,r),a||(l=ud(r,"click",e[3]),a=!0)},p:Ac,d(e){e&&(id(t),id(n),id(o),id(i),id(s)),a=!1,l()}}}function dC(e){let t,n,o,i,s,r,a;const l=[aC,rC],c=[];function d(e,t){return e[2]?0:1}return o=d(e),i=c[o]=l[o](e),{c(){t=rd("div"),n=rd("div"),i.c(),gd(n,"class","dl-char-limit-error-container svelte-8x6yh8"),bd(n,"is-translator-limit",!e[2]),gd(t,"class","dl-char-limit-error-overlay svelte-8x6yh8")},m(i,l){od(i,t,l),ed(t,n),c[o].m(n,null),s=!0,r||(a=[qc(kp.call(null,n,{isShadow:!0})),ud(n,"click_outside",(function(){Nc(e[1])&&e[1].apply(this,arguments)}))],r=!0)},p(t,[r]){let a=o;o=d(e=t),o===a?c[o].p(e,r):(nu(),su(c[a],1,1,(()=>{c[a]=null})),ou(),i=c[o],i?i.p(e,r):(i=c[o]=l[o](e),i.c()),iu(i,1),i.m(n,null)),(!s||4&r)&&bd(n,"is-translator-limit",!e[2])},i(e){s||(iu(i),s=!0)},o(e){su(i),s=!1},d(e){e&&id(t),c[o].d(),r=!1,Rc(a)}}}function uC(e,t,n){let o,{charLimitError:i}=t,{closeModal:s}=t;let r=!1;return e.$$set=e=>{"charLimitError"in e&&n(0,i=e.charLimitError),"closeModal"in e&&n(1,s=e.closeModal)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=i===Wu||i===ju)},[i,s,o,()=>{Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"gslides_customization"}}),s()},()=>{r||(Qn({action:Zn.dlTrackUILocationClicked,payload:Se}),r=!0,Qn({action:Hn.dlRequestLogin}).then((()=>{r=!1,s()})).catch((()=>{r=!1})))}]}class pC extends fu{constructor(e){super(),hu(this,e,uC,dC,Dc,{charLimitError:0,closeModal:1})}}function mC(e){let t,n;return t=new pC({props:{charLimitError:e[2],closeModal:e[10]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.charLimitError=e[2]),4&n&&(o.closeModal=e[10]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function gC(e){let t,n,o,i;function s(t){e[11](t)}function r(t){e[12](t)}let a={registerActionIconCallbacks:e[7],clearActionIconCallbacks:e[8],sourceLang:e[3]};return void 0!==e[0]&&(a.manualSourceLang=e[0]),void 0!==e[2]&&(a.charLimitError=e[2]),t=new eC({props:a}),Gd.push((()=>uu(t,"manualSourceLang",s))),Gd.push((()=>uu(t,"charLimitError",r))),{c(){pu(t.$$.fragment)},m(e,n){mu(t,e,n),i=!0},p(e,i){const s={};8&i&&(s.sourceLang=e[3]),!n&&1&i&&(n=!0,s.manualSourceLang=e[0],qd((()=>n=!1))),!o&&4&i&&(o=!0,s.charLimitError=e[2],qd((()=>o=!1))),t.$set(s)},i(e){i||(iu(t.$$.fragment,e),i=!0)},o(e){su(t.$$.fragment,e),i=!1},d(e){gu(t,e)}}}function hC(e){let t,n,o,i,s;t=new sC({props:{registerTopIconCallbacks:e[5],clearTopIconCallbacks:e[6]}});let r=e[2]&&mC(e),a=e[4].isGSlidesEnabled&&!e[1]&&gC(e);return{c(){pu(t.$$.fragment),n=cd(),r&&r.c(),o=cd(),a&&a.c(),i=dd()},m(e,l){mu(t,e,l),od(e,n,l),r&&r.m(e,l),od(e,o,l),a&&a.m(e,l),od(e,i,l),s=!0},p(e,[t]){e[2]?r?(r.p(e,t),4&t&&iu(r,1)):(r=mC(e),r.c(),iu(r,1),r.m(o.parentNode,o)):r&&(nu(),su(r,1,1,(()=>{r=null})),ou()),e[4].isGSlidesEnabled&&!e[1]?a?(a.p(e,t),18&t&&iu(a,1)):(a=gC(e),a.c(),iu(a,1),a.m(i.parentNode,i)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){s||(iu(t.$$.fragment,e),iu(r),iu(a),s=!0)},o(e){su(t.$$.fragment,e),su(r),su(a),s=!1},d(e){e&&(id(n),id(o),id(i)),gu(t,e),r&&r.d(e),a&&a.d(e)}}}function fC(e,t,n){let o,i,s,r,a,l,c;Uc(e,yu,(e=>n(4,i=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let d,u,p=!0;const m=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?g():h();return!0},g=()=>{s&&clearInterval(s),s=setInterval(f,800)},h=()=>{clearInterval(s)},f=()=>{r&&r(),a&&a(),c||_()},_=async()=>{n(9,l=await ss()||"EN-US")};Md((()=>{g(),d=new MutationObserver((()=>{window.document.querySelector(".punch-full-screen-element")?n(1,p=!0):n(1,p=!1)})),d.observe(window.document.body,{attributes:!0,childList:!0,subtree:!0}),Ap((()=>d.disconnect())),chrome.runtime.onMessage.addListener(m)})),Od((()=>{s&&h(),chrome.runtime.onMessage.removeListener(m),d.disconnect()}));return e.$$.update=()=>{513&e.$$.dirty&&n(3,o=c||l)},[c,p,u,o,i,e=>{r=e.repositionTopIcon},()=>{r=void 0},e=>{a=e.repositionActionIcon},()=>{a=void 0},l,()=>n(2,u=void 0),function(e){c=e,n(0,c)},function(e){u=e,n(2,u)}]}class _C extends fu{constructor(e){super(),hu(this,e,fC,hC,Dc,{})}}class vC{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new _C({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div");const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function wC(e){let t,n,o;return{c(){t=rd("p"),t.innerHTML='<strong class="svelte-xhv8yz">Help us improve DeepL for Arabic</strong>',n=cd(),o=rd("p"),o.textContent="Take 2 minutes to tell us what we can do better.",gd(t,"class","svelte-xhv8yz"),gd(o,"class","svelte-xhv8yz")},m(e,i){od(e,t,i),od(e,n,i),od(e,o,i)},p:Ac,d(e){e&&(id(t),id(n),id(o))}}}function TC(e){let t;return{c(){t=rd("p"),t.textContent=`${chrome.i18n.getMessage("segmentation_survey_copy")}`,gd(t,"class","svelte-xhv8yz")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function bC(e){let t,n,o,i;return{c(){t=rd("p"),n=rd("strong"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,o=cd(),i=rd("p"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,gd(n,"class","svelte-xhv8yz"),gd(t,"class","svelte-xhv8yz"),gd(i,"class","svelte-xhv8yz")},m(e,s){od(e,t,s),ed(t,n),od(e,o,s),od(e,i,s)},p:Ac,d(e){e&&(id(t),id(o),id(i))}}}function yC(e){let t,n,o,i;return{c(){t=rd("p"),n=rd("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,o=cd(),i=rd("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,gd(n,"class","svelte-xhv8yz"),gd(t,"class","svelte-xhv8yz"),gd(i,"class","svelte-xhv8yz")},m(e,s){od(e,t,s),ed(t,n),od(e,o,s),od(e,i,s)},p:Ac,d(e){e&&(id(t),id(o),id(i))}}}function EC(e){let t,n,o,i;return{c(){t=rd("p"),n=rd("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=cd(),i=rd("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,gd(n,"class","svelte-xhv8yz"),gd(t,"class","svelte-xhv8yz"),gd(i,"class","svelte-xhv8yz")},m(e,s){od(e,t,s),ed(t,n),od(e,o,s),od(e,i,s)},p:Ac,d(e){e&&(id(t),id(o),id(i))}}}function $C(e){let t,n,o,i;return{c(){t=rd("p"),n=rd("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=cd(),i=rd("p"),i.textContent=`${e[3].writeAReview.lineTwo}`,gd(n,"class","svelte-xhv8yz"),gd(t,"class","svelte-xhv8yz"),gd(i,"class","svelte-xhv8yz")},m(e,s){od(e,t,s),ed(t,n),od(e,o,s),od(e,i,s)},p:Ac,d(e){e&&(id(t),id(o),id(i))}}}function xC(e){let t,n,o,i;return{c(){t=rd("p"),t.textContent=`${e[3].howWasYourExperience.lineOne}`,n=cd(),o=rd("p"),i=rd("strong"),i.textContent=`${e[3].howWasYourExperience.lineTwo}`,gd(t,"class","svelte-xhv8yz"),gd(i,"class","svelte-xhv8yz"),gd(o,"class","svelte-xhv8yz")},m(e,s){od(e,t,s),od(e,n,s),od(e,o,s),ed(o,i)},p:Ac,d(e){e&&(id(t),id(n),id(o))}}}function SC(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML="<span>Start survey</span>",gd(t,"class","svelte-xhv8yz")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[10]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function CC(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("segmentation_survey_button")}`,gd(t,"class","svelte-xhv8yz")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[9]),o=!0)},p:Ac,d(e){e&&id(t),o=!1,i()}}}function LC(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,gd(t,"class","svelte-xhv8yz")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[8]),o=!0)},p:Ac,d(e){e&&id(t),o=!1,i()}}}function kC(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,gd(t,"class","svelte-xhv8yz")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[7]),o=!0)},p:Ac,d(e){e&&id(t),o=!1,i()}}}function AC(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,gd(t,"class","svelte-xhv8yz")},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[6]),o=!0)},p:Ac,d(e){e&&id(t),o=!1,i()}}}function IC(e){let t,n,o,i,s,r,a,l,c,d,u;return{c(){t=rd("button"),n=rd("i"),o=cd(),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,s=cd(),r=rd("button"),a=rd("i"),l=cd(),c=rd("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,gd(n,"class","icon-bad svelte-xhv8yz"),gd(t,"class","svelte-xhv8yz"),gd(a,"class","icon-good svelte-xhv8yz"),gd(r,"class","svelte-xhv8yz")},m(p,m){od(p,t,m),ed(t,n),ed(t,o),ed(t,i),od(p,s,m),od(p,r,m),ed(r,a),ed(r,l),ed(r,c),d||(u=[ud(t,"click",e[4]),ud(r,"click",e[5])],d=!0)},p:Ac,d(e){e&&(id(t),id(s),id(r)),d=!1,Rc(u)}}}function MC(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;function g(e,t){return e[0]===Ct.initial?xC:e[0]===Ct.review?$C:e[0]===Ct.feedback?EC:e[0]===Ct.gmail?yC:e[0]===Ct.gslides?bC:e[0]===Ct.customer_segmentation?TC:e[0]===Ct.arabic_survey?wC:void 0}let h=g(e),f=h&&h(e),_=e[2]&&function(e){let t;function n(e,t){return e[0]===Ct.initial?IC:e[0]===Ct.review?AC:e[0]===Ct.gmail?kC:e[0]===Ct.gslides?LC:e[0]===Ct.customer_segmentation?CC:e[0]===Ct.arabic_survey?SC:void 0}let o=n(e),i=o&&o(e);return{c(){t=rd("div"),i&&i.c(),gd(t,"class","buttons svelte-xhv8yz")},m(e,n){od(e,t,n),i&&i.m(t,null)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&id(t),i&&i.d()}}}(e);return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=cd(),s=rd("div"),r=rd("button"),a=cd(),f&&f.c(),l=cd(),_&&_.c(),gd(o,"class","logo svelte-xhv8yz"),gd(r,"class","close-icon svelte-xhv8yz"),bd(r,"rtl",!e[11]&&"rtl"===ns()),gd(s,"class","content svelte-xhv8yz"),gd(n,"class","body svelte-xhv8yz"),gd(t,"class","container svelte-xhv8yz"),gd(t,"dir",e[11]?"ltr":ns())},m(c,d){od(c,t,d),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(s,r),ed(s,a),f&&f.m(s,null),ed(t,l),_&&_.m(t,null),u=!0,p||(m=ud(r,"click",(function(){Nc(e[1])&&e[1].apply(this,arguments)})),p=!0)},p(t,[n]){h===(h=g(e=t))&&f?f.p(e,n):(f&&f.d(1),f=h&&h(e),f&&(f.c(),f.m(s,null))),e[2]&&_.p(e,n)},i(e){u||(Fd((()=>{u&&(d&&d.end(1),c=au(t,np,{x:100,duration:1e3}),c.start())})),u=!0)},o(e){c&&c.invalidate(),d=lu(t,np,{x:100,duration:1e3}),u=!1},d(e){e&&id(t),f&&f.d(),_&&_.d(),e&&d&&d.end(),p=!1,m()}}}function OC(e,t,n){let o;Uc(e,yu,(e=>n(12,o=e))),Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let{onClose:i}=t,{reviewStage:s=Ct.initial}=t;const r=[Ct.initial,Ct.review,Ct.gmail,Ct.gslides,Ct.customer_segmentation,Ct.arabic_survey].includes(s);let a=(()=>{let e;if(To())e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_firefox",lineTwo:"ui_toaster_how_was_your_experience_line_2_firefox"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_firefox"}};else{if(vo().browser===lo.edge)e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1_edge",lineTwo:"ui_toaster_how_was_your_experience_line_2_edge"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2_edge"}};else e={howWasYourExperience:{lineOne:"ui_toaster_how_was_your_experience_line_1",lineTwo:"ui_toaster_how_was_your_experience_line_2"},writeAReview:{lineTwo:"ui_toaster_write_a_review_line_2"}}}return{howWasYourExperience:{lineOne:chrome.i18n.getMessage(e.howWasYourExperience.lineOne),lineTwo:chrome.i18n.getMessage(e.howWasYourExperience.lineTwo)},writeAReview:{lineTwo:chrome.i18n.getMessage(e.writeAReview.lineTwo)}}})();const l=s==Ct.arabic_survey;return e.$$set=e=>{"onClose"in e&&n(1,i=e.onClose),"reviewStage"in e&&n(0,s=e.reviewStage)},[s,i,r,a,function(){yu.set({shouldDisplayFeedbackPopup:!0});const e=To()?qm:Mm;Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e}}),i()},function(){n(0,s=Ct.review)},function(){let e=Hm;if(chrome.runtime.id===bt)e=Bm;else if(To())e=jm;else{if(vo().browser===lo.edge)e=Bm;else e=Hm}Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e}}),i()},function(){Qn({action:Zn.dlTrackUILocationClicked,payload:ye}),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:zm}}),i()},function(){Qn({action:Zn.dlTrackUILocationClicked,payload:xe}),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Wm}}),i()},function(){(e=>!(!oo(e,Zt.TRANSLATOR)&&!oo(e,Zt.WRITE)))(o)?Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Zm}}):Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Vm}}),i()},function(){Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Ym}})},l]}vC.HTML_TAG_NAME="deepl-gslides-controller",vC.createElement=(e=document)=>{const t=e.createElement(vC.HTML_TAG_NAME),n=new vC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class RC extends fu{constructor(e){super(),hu(this,e,OC,MC,Dc,{onClose:1,reviewStage:0})}}class NC{constructor(e){this.createDOM=({reviewStage:e})=>{const t="rtl"===ns()?"left":"right";this.domElement.shadowContainer.style.cssText=`position: fixed; bottom: 32px; ${t}: 32px; z-index: ${P.deepl_inline_ui.z_index}`,this.domElement.mainComponent=new RC({target:this.domElement.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}function DC(e){let t,n;return t=new UE({props:{headsupText:chrome.i18n.getMessage("review_advanced_mode_onboarding_title"),informationText:chrome.i18n.getMessage("review_advanced_mode_onboarding_text"),position:e[0],onClose:e[1]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.position=e[0]),2&n&&(o.onClose=e[1]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function PC(e,t,n){let{position:o}=t,{onClose:i=()=>{}}=t;return e.$$set=e=>{"position"in e&&n(0,o=e.position),"onClose"in e&&n(1,i=e.onClose)},[o,i]}NC.HTML_TAG_NAME="deepl-ask-for-review-popup",NC.createElement=(e=document)=>{const t=e.createElement(NC.HTML_TAG_NAME),n=new NC(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};class UC extends fu{constructor(e){super(),hu(this,e,PC,DC,Dc,{position:0,onClose:1})}}function GC(e){let t,n,o,i;n=new Np({props:{tooltip:!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled"),"data-testid":"translate-service-disabled-tooltip",$$slots:{default:[BC]},$$scope:{ctx:e}}});let s=e[4]&&zC(e);return{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),s&&s.c(),gd(t,"class","tabs-container svelte-oq1fds")},m(e,r){od(e,t,r),mu(n,t,null),ed(t,o),s&&s.m(t,null),i=!0},p(e,o){const i={};512&o&&(i.tooltip=!!e[9]&&chrome.i18n.getMessage("contact_admin_info_translate_disabled")),2097699&o&&(i.$$scope={dirty:o,ctx:e}),n.$set(i),e[4]?s?(s.p(e,o),16&o&&iu(s,1)):(s=zC(e),s.c(),iu(s,1),s.m(t,null)):s&&(nu(),su(s,1,1,(()=>{s=null})),ou())},i(e){i||(iu(n.$$.fragment,e),iu(s),i=!0)},o(e){su(n.$$.fragment,e),su(s),i=!1},d(e){e&&id(t),gu(n),s&&s.d()}}}function HC(e){let t,n;return t=new cb({props:{size:24,translator:!0,dataTestId:"translate-pro-shield"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function BC(e){let t,n,o,i,s,r,a,l,c,d=oo(e[5],Zt.TRANSLATOR),u=d&&HC();return{c(){t=rd("button"),n=rd("div"),o=cd(),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_translator")}`,s=cd(),u&&u.c(),gd(n,"class","dl-translate-icon icon-size svelte-oq1fds"),t.disabled=e[9],gd(t,"class",r=jc("tab "+(e[0]===Rt.translate?"active":""))+" svelte-oq1fds")},m(r,d){od(r,t,d),ed(t,n),ed(t,o),ed(t,i),ed(t,s),u&&u.m(t,null),a=!0,l||(c=ud(t,"click",e[16]),l=!0)},p(e,n){32&n&&(d=oo(e[5],Zt.TRANSLATOR)),d?u?32&n&&iu(u,1):(u=HC(),u.c(),iu(u,1),u.m(t,null)):u&&(nu(),su(u,1,1,(()=>{u=null})),ou()),(!a||512&n)&&(t.disabled=e[9]),(!a||1&n&&r!==(r=jc("tab "+(e[0]===Rt.translate?"active":""))+" svelte-oq1fds"))&&gd(t,"class",r)},i(e){a||(iu(u),a=!0)},o(e){su(u),a=!1},d(e){e&&id(t),u&&u.d(),l=!1,c()}}}function zC(e){let t,n;return t=new Np({props:{tooltip:!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled"),"data-testid":"write-service-disabled-tooltip",$$slots:{default:[jC]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};256&n&&(o.tooltip=!!e[8]&&chrome.i18n.getMessage("contact_admin_info_write_disabled")),2097443&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function WC(e){let t,n;return t=new cb({props:{size:24,write:!0,dataTestId:"write-pro-shield"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function jC(e){let t,n,o,i,s,r,a,l,c,d=oo(e[5],Zt.WRITE),u=d&&WC();return{c(){t=rd("button"),n=rd("div"),o=cd(),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("layout_tab_write")}`,s=cd(),u&&u.c(),gd(n,"class","dl-write-icon icon-size svelte-oq1fds"),t.disabled=e[8],gd(t,"class",r=jc("tab "+(e[0]===Rt.write?"active":""))+" svelte-oq1fds")},m(r,d){od(r,t,d),ed(t,n),ed(t,o),ed(t,i),ed(t,s),u&&u.m(t,null),a=!0,l||(c=ud(t,"click",e[17]),l=!0)},p(e,n){32&n&&(d=oo(e[5],Zt.WRITE)),d?u?32&n&&iu(u,1):(u=WC(),u.c(),iu(u,1),u.m(t,null)):u&&(nu(),su(u,1,1,(()=>{u=null})),ou()),(!a||256&n)&&(t.disabled=e[8]),(!a||1&n&&r!==(r=jc("tab "+(e[0]===Rt.write?"active":""))+" svelte-oq1fds"))&&gd(t,"class",r)},i(e){a||(iu(u),a=!0)},o(e){su(u),a=!1},d(e){e&&id(t),u&&u.d(),l=!1,c()}}}function FC(e){let t,n,o,i;return n=new UC({props:{position:e[7],onClose:e[12]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"data-testid","headsup-popup-notification"),gd(t,"class","headsup-container svelte-oq1fds"),bd(t,"top","TOP"===e[7]),bd(t,"bottom","BOTTOM"===e[7]),bd(t,"top-left","TOP_LEFT"===e[7]),bd(t,"bottom-left","BOTTOM_LEFT"===e[7])},m(o,s){od(o,t,s),mu(n,t,null),e[18](t),i=!0},p(e,o){const s={};128&o&&(s.position=e[7]),n.$set(s),(!i||128&o)&&bd(t,"top","TOP"===e[7]),(!i||128&o)&&bd(t,"bottom","BOTTOM"===e[7]),(!i||128&o)&&bd(t,"top-left","TOP_LEFT"===e[7]),(!i||128&o)&&bd(t,"bottom-left","BOTTOM_LEFT"===e[7])},i(e){i||(iu(n.$$.fragment,e),o&&o.end(1),i=!0)},o(e){su(n.$$.fragment,e),e&&(o=lu(t,np,{x:100,duration:1e3})),i=!1},d(i){i&&id(t),gu(n),e[18](null),i&&o&&o.end()}}}function qC(e){let t,n,o;return{c(){t=rd("button"),gd(t,"class","dl-settings-icon svelte-oq1fds")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[11]),n=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),n=!1,o()}}}function VC(e){let t,n;return t=new Np({props:{tooltip:chrome.i18n.getMessage("review_advanced_mode_disable_advanced_window_tooltip"),$$slots:{default:[ZC]},$$scope:{ctx:e}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};2097152&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function ZC(e){let t,n,o;return{c(){t=rd("button"),gd(t,"class","dl-settings-icon svelte-oq1fds")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[11]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function YC(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h=e[2]&&GC(e),f=e[3]&&void 0!==e[7]&&FC(e);const _=[VC,qC],v=[];function w(e,t){return e[3]?0:1}return l=w(e),c=v[l]=_[l](e),{c(){t=rd("div"),n=rd("button"),o=cd(),h&&h.c(),i=cd(),s=rd("div"),r=rd("div"),f&&f.c(),a=cd(),c.c(),d=cd(),u=rd("button"),gd(n,"class","dl-logo svelte-oq1fds"),gd(n,"aria-label",chrome.i18n.getMessage("deepl_logo")),gd(r,"class","settings-container svelte-oq1fds"),gd(u,"class","dl-close-icon svelte-oq1fds"),gd(s,"class","dl-actions svelte-oq1fds"),gd(t,"class","dl-review-header svelte-oq1fds")},m(c,_){od(c,t,_),ed(t,n),ed(t,o),h&&h.m(t,null),ed(t,i),ed(t,s),ed(s,r),f&&f.m(r,null),ed(r,a),v[l].m(r,null),ed(s,d),ed(s,u),p=!0,m||(g=[ud(n,"click",e[10]),ud(u,"click",e[13])],m=!0)},p(e,[n]){e[2]?h?(h.p(e,n),4&n&&iu(h,1)):(h=GC(e),h.c(),iu(h,1),h.m(t,i)):h&&(nu(),su(h,1,1,(()=>{h=null})),ou()),e[3]&&void 0!==e[7]?f?(f.p(e,n),136&n&&iu(f,1)):(f=FC(e),f.c(),iu(f,1),f.m(r,a)):f&&(nu(),su(f,1,1,(()=>{f=null})),ou());let o=l;l=w(e),l===o?v[l].p(e,n):(nu(),su(v[o],1,1,(()=>{v[o]=null})),ou(),c=v[l],c?c.p(e,n):(c=v[l]=_[l](e),c.c()),iu(c,1),c.m(r,null))},i(e){p||(iu(h),iu(f),iu(c),p=!0)},o(e){su(h),su(f),su(c),p=!1},d(e){e&&id(t),h&&h.d(),f&&f.d(),v[l].d(),m=!1,Rc(g)}}}function XC(e,t,n){let o,i,s;Uc(e,yu,(e=>n(5,s=e)));let r,{closeWindow:a=()=>{}}=t,{extensionContext:l=0}=t,{textProcessingMode:c=Rt.translate}=t,{onChangeTextProcessingMode:d=e=>{}}=t,{showTranslateWriteTabs:u=!0}=t,{isInput:p=!1}=t,{isItaWriteEnabled:m=!1}=t;const g=()=>{if(s.hasITAPopupHideRemarkBeenShown)return;if(!r)return qE;const e=r.getBoundingClientRect();return QE(e)},h=()=>{p&&!s.hasITAPopupHideRemarkBeenShown&&yu.set({hasITAPopupHideRemarkBeenShown:!0}),n(7,_=void 0)};let f,_=g();Md((()=>{r&&(n(7,_=g()),f=Dp(r,(()=>n(7,_=g()))))})),Od((()=>{f?.(),h()}));return e.$$set=e=>{"closeWindow"in e&&n(14,a=e.closeWindow),"extensionContext"in e&&n(15,l=e.extensionContext),"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(1,d=e.onChangeTextProcessingMode),"showTranslateWriteTabs"in e&&n(2,u=e.showTranslateWriteTabs),"isInput"in e&&n(3,p=e.isInput),"isItaWriteEnabled"in e&&n(4,m=e.isItaWriteEnabled)},e.$$.update=()=>{1&e.$$.dirty&&ef.update({textProcessingMode:c}),32&e.$$.dirty&&n(9,o=so(s,Zt.TRANSLATOR)),32&e.$$.dirty&&n(8,i=so(s,Zt.WRITE))},[c,d,u,p,m,s,r,_,i,o,function(){Qn({action:Zn.dlTrackLogoClickedEvent,payload:{extensionContext:l}});let e=c===Rt.write?Um:Pm;Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e,utmContent:"review_window_logo"}})},function(){let e=c===Rt.write?jv.settings_writing:jv.settings_reading;Qn({action:Xn.dlOpenInternalPage,payload:{destination:e}})},h,()=>{Qn({action:Zn.dlTrackUILocationClicked,payload:tt}),a()},a,l,()=>d(Rt.translate),()=>d(Rt.write),function(e){Gd[e?"unshift":"push"]((()=>{r=e,n(6,r)}))}]}class KC extends fu{constructor(e){super(),hu(this,e,XC,YC,Dc,{closeWindow:14,extensionContext:15,textProcessingMode:0,onChangeTextProcessingMode:1,showTranslateWriteTabs:2,isInput:3,isItaWriteEnabled:4})}}const QC="ITA_REQUEST_TRANSLATION",JC="ITA_CLOSE_TRANSLATION_SESSION",eL="ITA_REQUEST_WRITE",tL="ITA_RESTORE_TRANSLATE_SESSION",nL="ITA_TRANSLATE_SOURCE_LANGUAGE",oL="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",iL="ITA_TARGET_TEXT_FIELD",sL="ITA_WRITE_TARGET_TEXT_FIELD",rL="ITA_UPDATE_FORMALITY",aL="ERROR",lL="ITA_DOCUMENT_STATE",cL="ITA_WRITE_DOCUMENT_STATE",dL="ITA_WRITE_UPDATE_REQUESTED_LANGUAGE",uL="ITA_WRITE_UPDATE_STYLE_VARIANT",pL="ITA_RESTORE_WRITE_SESSION",mL="ITA_WRITE_SOURCE_LANGUAGE",gL="ITA_WRITE_SOURCE_LANGUAGE_IS_AUTO_DETECTED",hL="ITA_CLOSE_WRITE_SESSION",fL="ITA_TRANSLATE_SOURCE_LANGUAGE_IS_UNSUPPORTED",_L="ITA_WRITE_SOURCE_LANGUAGE_IS_UNSUPPORTED",vL="ITA_TRANSLATE_GENERIC_ERROR",wL="ITA_WRITE_GENERIC_ERROR",TL={REQUEST:{ITA_SELECT_ALTERNATIVE:"ITA_SELECT_WRITE_ALTERNATIVE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_WRITE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_TRANSLATE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS"}},bL={REQUEST:{ITA_UPDATE_TARGET_LANGUAGE:"ITA_UPDATE_TARGET_LANGUAGE",ITA_SELECT_ALTERNATIVE:"ITA_SELECT_TRANSLATE_ALTERNATIVE",ITA_UPDATE_SOURCE_LANGUAGE:"ITA_UPDATE_SOURCE_LANGUAGE"},REPLY:{ITA_BACKEND_IDLE:"ITA_BACKEND_TRANSLATE_IDLE",ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:"ITA_WRITE_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS",ITA_TARGET_LANGUAGE:"ITA_TARGET_LANGUAGE"}};function yL(e){ef.update({translationState:u.none,error:e})}function EL(e){const t=[...i,...s].find((t=>t.langCodeForIta.toUpperCase()===e.toUpperCase()));return null==t?void 0:t.langCode}const $L=async t=>{await hv(e.websiteData.inputElement,{html:t,text:t},gv(e.websiteData.inputElement))},xL=()=>{ef.update({itaDocumentState:null,itaWriteDocumentState:null,itaTranslateTrigger:null,itaWriteTrigger:null}),YL({type:JC}),YL({type:hL})},SL=async(t,n=!1,o=Rt.translate)=>{if(FT(window)){const i=FT(window);if(n&&!(await BT(["useAdvancedWindowModeForInlineFunctionality"])).useAdvancedWindowModeForInlineFunctionality){const t=o===Rt.translate?(async t=>{const n=(await BT(["targetLanguageUserInput"])).selectedTargetLanguage,o=await Qn({action:qn.dlRequestInputTranslation,payload:{requests:[{text:t}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,targetLang:n}});o[0]?.text&&await $L(o[0]?.text)})(i):(async t=>{const n=await Qn({action:Wn.dlRequestImproveWriting,payload:{requests:[{text:t}],domainName:window.location.hostname,websiteLanguage:e.websiteData.websiteLanguage,sourceLang:e.websiteData.itaWriteSourceLanguage}});n[0]?.text&&await $L(n[0]?.text)})(i);return void await t}if(document.getElementsByTagName("deepl-review-translate-write-window").length||uM({websiteData:ef,onRemove:xL,isInput:n,textProcessingMode:o}),o!==Rt.translate)return ef.update({improvedSnippet:"",writeState:m,error:null,providedWriteAlternatives:[],writeStyle:null,itaWriteTrigger:n?Dn:Nn}),YL({type:eL,payload:{sourceText:i,domainName:window.location.hostname,trigger:n?Dn:Nn}});ef.update({translationState:u.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:i,itaTranslateSourceLanguage:"",itaTranslateSourceLanguageIsAutoDetected:null,itaDocumentState:null,error:null,providedTranslateAlternatives:[],itaTranslateTrigger:n?w:f}),YL({type:QC,payload:{sourceText:i,targetLanguage:t,domainName:window.location.hostname,trigger:n?w:f,websiteLanguage:e.websiteData.websiteLanguage}})}},CL=e=>null==e,LL=()=>{CL(e.websiteData.translatedSnippet)||ef.update({translationState:u.none})},kL=()=>{CL(e.websiteData.improvedSnippet)||ef.update({writeState:p})},AL=e=>{e&&ef.update({translationState:u.none,translatedSnippet:e,error:null})},IL=e=>{e&&ef.update({writeState:p,improvedSnippet:e,error:null})},ML=e=>{e&&ef.update({itaTranslateSourceLanguage:e.toUpperCase()})},OL=e=>{e&&ef.update({itaTranslateTargetLanguage:EL(e)})},RL=e=>{e&&ef.update({itaWriteSourceLanguage:e})},NL=e=>{ef.update({itaTranslateSourceLanguageIsAutoDetected:e})},DL=e=>{ef.update({itaWriteSourceLanguageIsAutoDetected:e})},PL=e=>{e&&ef.update({itaDocumentState:e})},UL=e=>{e&&ef.update({itaWriteDocumentState:e})};function GL(t){e.websiteData.itaDocumentState&&t.postMessage({type:tL,payload:{itaDocumentState:e.websiteData.itaDocumentState,domainName:window.location.host,trigger:e.websiteData.itaTranslateTrigger}}),e.websiteData.itaWriteDocumentState&&t.postMessage({type:pL,payload:{itaWriteDocumentState:e.websiteData.itaWriteDocumentState,domainName:window.location.host,trigger:e.websiteData.itaWriteTrigger}})}const HL=e=>{ef.update({isTranslateSourceLanguageUnsupported:e})},BL=e=>{ef.update({isWriteSourceLanguageUnsupported:e})},zL=()=>{ef.update({error:{error:om}})},WL=()=>{ef.update({error:{error:nm}})},jL=e=>{ef.update({providedWriteAlternatives:e})},FL=e=>{ef.update({providedTranslateAlternatives:e})};function qL(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&TR(t.sourceLang,v),o();break;case"dlShowOriginal":ef.update({translationState:u.showOriginal}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===u.none&&gM(),vM(),o();break;case"dlTabChanged":setTimeout((()=>{IR()}),500),o();break;case"dlTranslateInline":IR().then((()=>{SL(t.targetLang)})),o();break;case"dlImproveInline":IR().then((()=>SL(t.targetLang,!1,Rt.write))),o();break;case"dlTranslateInput":IR().then((async()=>{SL(t.targetLang,!0)})),o();break;case"dlImproveInput":IR().then((()=>SL(t.targetLang,!0,Rt.write))),o();break;case"dlTranslateSelectionRightClick":IR().then((()=>wR(t.payload))),o();break;case"dlGetWebsiteData":IR().then((()=>o(e.websiteData)));break;case"dlShowNotification":RM(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":PR(t.payload.state),o();break;case"dlShowAskForAReviewPopup":NM(Ct.initial),o();break;case"dlShowCustomerSegmentationSurvey":NM(Ct.customer_segmentation),o();break;case"dlShowArabicSurveyPopup":NM(Ct.arabic_survey),o();break;case"dlShowAlert":BR(t.payload),o();break;case"dlShowGmailFeedbackPopup":NM(Ct.gmail),o();break;case"dlShowSlidesFeedbackPopup":NM(Ct.gslides),o();break;case"ping":o({status:"active"})}return!0}let VL;function ZL(e){e.onMessage.addListener(XL),VL=e}function YL(e){VL&&(Ls()&&console.log(`Sending message to background port:\n type: ${e.type}, payload: ${JSON.stringify(e.payload)}`),VL.postMessage(e))}function XL(e){switch(Ls()&&console.log(`Received message from background port - type: ${e.type}`),e.type){case iL:AL(e.payload.targetText);break;case sL:IL(e.payload.targetText);break;case nL:ML(e.payload.language);break;case oL:NL(e.payload.isAutoDetected);break;case aL:yL(e.payload);break;case lL:PL(e.payload.itaDocumentState);break;case cL:UL(e.payload.itaDocumentState);break;case mL:RL(e.payload.language);break;case gL:DL(e.payload.isAutoDetected);break;case fL:HL(e.payload.isUnsupported);break;case _L:BL(e.payload.isUnsupported);break;case vL:zL();break;case wL:WL();break;case bL.REPLY.ITA_BACKEND_IDLE:LL();break;case TL.REPLY.ITA_BACKEND_IDLE:kL();break;case bL.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:FL(e.payload.providedAlternatives);break;case bL.REPLY.ITA_TARGET_LANGUAGE:OL(e.payload.language);break;case TL.REPLY.ITA_TARGET_TEXT_FIELD_PROVIDED_AUTOMATIC_TEXT_UNIT_ALTERNATIVES_ANNOTATIONS:Ls()&&console.log("ITA_WRITE_TARGET_TEXT_ALTERNATIVES",e.payload.providedAlternatives),jL(e.payload.providedAlternatives);break;default:Ls()&&console.log(`Unrecognised message type:\n ${e.type}, payload: ${JSON.stringify(e.payload)}`)}}function KL(e,t,n){const o=e.slice();return o[21]=t[n],o}function QL(e){let t,n,o=Ci(e[1])+"";return{c(){t=rd("div"),n=rd("div"),gd(t,"class","dictionary-error svelte-td4g2g"),bd(t,"display-dictionary-error",e[5])},m(e,i){od(e,t,i),ed(t,n),n.innerHTML=o},p(e,i){2&i&&o!==(o=Ci(e[1])+"")&&(n.innerHTML=o),32&i&&bd(t,"display-dictionary-error",e[5])},d(e){e&&id(t)}}}function JL(e){let t,n,o=du(e[6]),i=[];for(let t=0;t<o.length;t+=1)i[t]=ek(KL(e,o,t));return{c(){t=rd("div"),n=rd("div");for(let e=0;e<i.length;e+=1)i[e].c();gd(n,"class","alternatives-list svelte-td4g2g"),gd(t,"class","alternatives-container svelte-td4g2g")},m(e,o){od(e,t,o),ed(t,n);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(n,null)},p(e,t){if(8256&t){let s;for(o=du(e[6]),s=0;s<o.length;s+=1){const r=KL(e,o,s);i[s]?i[s].p(r,t):(i[s]=ek(r),i[s].c(),i[s].m(n,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}},d(e){e&&id(t),sd(i,e)}}}function ek(e){let t,n,o,i,s,r=Ci(e[21].text)+"";function a(){return e[19](e[21])}function l(...t){return e[20](e[21],...t)}return{c(){t=rd("div"),n=new Ed(!1),o=cd(),n.a=o,gd(t,"class","alternative svelte-td4g2g"),gd(t,"data-testid","dl-result-view-alternative"),gd(t,"tabindex","0"),gd(t,"role","button")},m(c,d){od(c,t,d),n.m(r,t),ed(t,o),i||(s=[ud(t,"click",a),ud(t,"keydown",l),ud(t,"mousedown",pd(e[16]))],i=!0)},p(t,o){e=t,64&o&&r!==(r=Ci(e[21].text)+"")&&n.p(r)},d(e){e&&id(t),i=!1,Rc(s)}}}function tk(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w=chrome.i18n.getMessage("ui_alternatives_title")+"",T=chrome.i18n.getMessage("ui_inline_translation_dictionary")+"",b=e[1]&&QL(e),y=e[4]&&JL(e);return h=new My({props:{originalSnippet:e[2].originalSnippet,sourceLanguage:e[2].itaTranslateSourceLanguage,targetLanguage:e[7].selectedTargetLanguage,websiteLanguage:e[2].websiteLanguage,showDictionary:e[3],setDictionaryLauncherState:e[11],resetDictionary:e[10]}}),{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=rd("button"),s=ld(w),a=cd(),l=rd("div"),c=rd("button"),d=ld(T),p=cd(),b&&b.c(),m=cd(),y&&y.c(),g=cd(),pu(h.$$.fragment),i.disabled=r=!e[6]||!e[6].length,gd(i,"class","svelte-td4g2g"),gd(o,"class","tab svelte-td4g2g"),gd(c,"class","dl-dictionary svelte-td4g2g"),c.disabled=u=!e[0],gd(l,"class","tab svelte-td4g2g"),gd(n,"class","tabs-container svelte-td4g2g"),gd(t,"class","dl-review-footer svelte-td4g2g")},m(r,u){od(r,t,u),ed(t,n),ed(n,o),ed(o,i),ed(i,s),ed(n,a),ed(n,l),ed(l,c),ed(c,d),ed(l,p),b&&b.m(l,null),ed(t,m),y&&y.m(t,null),ed(t,g),mu(h,t,null),f=!0,_||(v=[ud(i,"click",e[9]),ud(c,"click",e[17]),ud(c,"mouseenter",e[8]),ud(c,"mouseleave",e[18])],_=!0)},p(e,[n]){(!f||64&n&&r!==(r=!e[6]||!e[6].length))&&(i.disabled=r),(!f||1&n&&u!==(u=!e[0]))&&(c.disabled=u),e[1]?b?b.p(e,n):(b=QL(e),b.c(),b.m(l,null)):b&&(b.d(1),b=null),e[4]?y?y.p(e,n):(y=JL(e),y.c(),y.m(t,g)):y&&(y.d(1),y=null);const o={};4&n&&(o.originalSnippet=e[2].originalSnippet),4&n&&(o.sourceLanguage=e[2].itaTranslateSourceLanguage),128&n&&(o.targetLanguage=e[7].selectedTargetLanguage),4&n&&(o.websiteLanguage=e[2].websiteLanguage),8&n&&(o.showDictionary=e[3]),h.$set(o)},i(e){f||(iu(h.$$.fragment,e),f=!0)},o(e){su(h.$$.fragment,e),f=!1},d(e){e&&id(t),b&&b.d(),y&&y.d(),gu(h),_=!1,Rc(v)}}}function nk(e,t,n){let o,i,s;Uc(e,yu,(e=>n(7,i=e))),Uc(e,ef,(e=>n(2,s=e)));let{enableDictionaryButton:r=!1}=t,{dictionaryButtonError:a=""}=t,{isInput:l=!1}=t,{textProcessingMode:c=Rt.translate}=t,d=!1,u=!1,p=!1;function m(){r&&n(3,d=!d)}function g(e){var t;YL({type:c===Rt.write?TL.REQUEST.ITA_SELECT_ALTERNATIVE:bL.REQUEST.ITA_SELECT_ALTERNATIVE,payload:{alternative:e}}),Promise.allSettled([Qn({action:Zn.dlTrackAlternativeSelected,payload:{numberOfAlternatives:o.length,selectedAlternative:e.index+1,sourceLang:s.itaTranslateSourceLanguage,targetLang:i.selectedTargetLanguage,contentProcessingMode:c,alternativesSegmentation:(t=e,/^[\p{L}\p{M}\p{N}\p{Pc}]+$/u.test(t)?xn.WORD:xn.SENTENCE)}})]),n(4,u=!1)}return e.$$set=e=>{"enableDictionaryButton"in e&&n(0,r=e.enableDictionaryButton),"dictionaryButtonError"in e&&n(1,a=e.dictionaryButtonError),"isInput"in e&&n(14,l=e.isInput),"textProcessingMode"in e&&n(15,c=e.textProcessingMode)},e.$$.update=()=>{32772&e.$$.dirty&&n(6,o=(c===Rt.write?s.providedWriteAlternatives:s.providedTranslateAlternatives)??[])},[r,a,s,d,u,p,o,i,function(){if(n(5,p=!0),!r)try{Qn({action:Zn.dlTrackDisabledDictionaryHover,payload:{}})}catch(e){console.log(e)}},async function(){d&&m(),n(4,u=!u),Qn({action:Zn.dlTrackUILocationClicked,payload:c===Rt.write?ot:nt})},function(){n(3,d=!1)},function(e){n(1,a=e.dictionaryButtonError),n(0,r=e.enableDictionaryButton)},m,g,l,c,function(t){Pd.call(this,e,t)},()=>{n(4,u=!1),m()},()=>{n(5,p=!1)},e=>{g(e)},(e,t)=>{"Enter"===t.key&&g(e)}]}class ok extends fu{constructor(e){super(),hu(this,e,nk,tk,Dc,{enableDictionaryButton:0,dictionaryButtonError:1,isInput:14,textProcessingMode:15})}}function ik(e){let t,n,o=e[2],i=sk(e);return{c(){i.c(),t=dd()},m(e,o){i.m(e,o),od(e,t,o),n=!0},p(e,n){4&n&&Dc(o,o=e[2])?(nu(),su(i,1,1,Ac),ou(),i=sk(e),i.c(),iu(i,1),i.m(t.parentNode,t)):i.p(e,n)},i(e){n||(iu(i),n=!0)},o(e){su(i),n=!1},d(e){e&&id(t),i.d(e)}}}function sk(e){let t,n;return t=new ok({props:{enableDictionaryButton:lk,dictionaryButtonError:ak,textProcessingMode:e[2]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.textProcessingMode=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function rk(e){let t,n,o,i,s,r;n=new KC({props:{closeWindow:e[0],extensionContext:e[1],textProcessingMode:e[2],onChangeTextProcessingMode:e[3],isInput:e[5],showTranslateWriteTabs:!e[4],isItaWriteEnabled:e[6]}});const a=e[9].default,l=Gc(a,e,e[8],null);let c=!e[4]&&ik(e);return{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),i=rd("div"),l&&l.c(),s=cd(),c&&c.c(),gd(i,"class","dl-content svelte-jwy61a"),gd(t,"class","dl-layout svelte-jwy61a"),gd(t,"translate","no"),gd(t,"dir",e[7])},m(e,a){od(e,t,a),mu(n,t,null),ed(t,o),ed(t,i),l&&l.m(i,null),ed(t,s),c&&c.m(t,null),r=!0},p(e,[o]){const i={};1&o&&(i.closeWindow=e[0]),2&o&&(i.extensionContext=e[1]),4&o&&(i.textProcessingMode=e[2]),8&o&&(i.onChangeTextProcessingMode=e[3]),32&o&&(i.isInput=e[5]),16&o&&(i.showTranslateWriteTabs=!e[4]),64&o&&(i.isItaWriteEnabled=e[6]),n.$set(i),l&&l.p&&(!r||256&o)&&zc(l,a,e,e[8],r?Bc(a,e[8],o,null):Wc(e[8]),null),e[4]?c&&(nu(),su(c,1,1,(()=>{c=null})),ou()):c?(c.p(e,o),16&o&&iu(c,1)):(c=ik(e),c.c(),iu(c,1),c.m(t,null))},i(e){r||(iu(n.$$.fragment,e),iu(l,e),iu(c),r=!0)},o(e){su(n.$$.fragment,e),su(l,e),su(c),r=!1},d(e){e&&id(t),gu(n),l&&l.d(e),c&&c.d()}}}let ak="",lk=!1;function ck(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=Dd("text_direction");let{closeWindow:r=()=>{}}=t,{extensionContext:a}=t,{textProcessingMode:l=Rt.translate}=t,{onChangeTextProcessingMode:c}=t,{error:d}=t,{isInput:u=!1}=t,p=!1;return Md((()=>{n(6,p=!0)})),e.$$set=e=>{"closeWindow"in e&&n(0,r=e.closeWindow),"extensionContext"in e&&n(1,a=e.extensionContext),"textProcessingMode"in e&&n(2,l=e.textProcessingMode),"onChangeTextProcessingMode"in e&&n(3,c=e.onChangeTextProcessingMode),"error"in e&&n(4,d=e.error),"isInput"in e&&n(5,u=e.isInput),"$$scope"in e&&n(8,i=e.$$scope)},[r,a,l,c,d,u,p,s,i,o]}class dk extends fu{constructor(e){super(),hu(this,e,ck,rk,Dc,{closeWindow:0,extensionContext:1,textProcessingMode:2,onChangeTextProcessingMode:3,error:4,isInput:5})}}function uk(e){let t,n,o;return n=new hf({props:{languages:e[1],value:e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage,websiteSettings:ef,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-source-language-selection"}}),n.$on("selection",e[4]),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","language-dropdown-container svelte-r760fx")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.languages=e[1]),1&t&&(o.value=e[0].isTranslateSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaTranslateSourceLanguage),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function pk(e){let t,n,o,i,s;return i=new hf({props:{value:e[0].itaTranslateTargetLanguage,websiteSettings:ef,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1,dataQaButton:"deepl-target-language-selection"}}),i.$on("selection",e[3]),{c(){t=rd("div"),t.innerHTML='<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-r760fx"><path fill-rule="evenodd" clip-rule="evenodd" d="M9.5 15C9.5 14.5858 9.83579 14.25 10.25 14.25L20.8879 14.25L16.7302 10.2906C16.4316 10.0035 16.4223 9.52875 16.7094 9.23017C16.9965 8.93159 17.4713 8.92228 17.7698 9.20937L23.2698 14.4594C23.4169 14.6008 23.5 14.796 23.5 15C23.5 15.204 23.4169 15.3992 23.2698 15.5406L17.7698 20.7906C17.4713 21.0777 16.9965 21.0684 16.7094 20.7698C16.4223 20.4713 16.4316 19.9965 16.7302 19.7094L20.8879 15.75L10.25 15.75C9.83579 15.75 9.5 15.4142 9.5 15Z" fill="#848F9B"></path></svg>',n=cd(),o=rd("div"),pu(i.$$.fragment),gd(t,"class","arrow-icon svelte-r760fx"),gd(o,"class","language-dropdown-container svelte-r760fx")},m(e,r){od(e,t,r),od(e,n,r),od(e,o,r),mu(i,o,null),s=!0},p(e,t){const n={};1&t&&(n.value=e[0].itaTranslateTargetLanguage),i.$set(n)},i(e){s||(iu(i.$$.fragment,e),s=!0)},o(e){su(i.$$.fragment,e),s=!1},d(e){e&&(id(t),id(n),id(o)),gu(i)}}}function mk(e){let t,n,o,i=e[0].itaTranslateSourceLanguage&&uk(e),s=e[0].itaTranslateTargetLanguage&&pk(e);return{c(){t=rd("div"),i&&i.c(),n=cd(),s&&s.c(),gd(t,"class","language-selector-container svelte-r760fx")},m(e,r){od(e,t,r),i&&i.m(t,null),ed(t,n),s&&s.m(t,null),o=!0},p(e,[o]){e[0].itaTranslateSourceLanguage?i?(i.p(e,o),1&o&&iu(i,1)):(i=uk(e),i.c(),iu(i,1),i.m(t,n)):i&&(nu(),su(i,1,1,(()=>{i=null})),ou()),e[0].itaTranslateTargetLanguage?s?(s.p(e,o),1&o&&iu(s,1)):(s=pk(e),s.c(),iu(s,1),s.m(t,null)):s&&(nu(),su(s,1,1,(()=>{s=null})),ou())},i(e){o||(iu(i),iu(s),o=!0)},o(e){su(i),su(s),o=!1},d(e){e&&id(t),i&&i.d(),s&&s.d()}}}function gk(e,t,n){let o,i;Uc(e,ef,(e=>n(0,i=e)));const s={unavailableLanguage:"unavailable_language"};let{settings:r}=t,{isInput:a=!1}=t;const l=Ki(),c={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:s.unavailableLanguage};return e.$$set=e=>{"settings"in e&&n(5,r=e.settings),"isInput"in e&&n(6,a=e.isInput)},e.$$.update=()=>{1&e.$$.dirty&&n(1,o=((e,t,n)=>{const o=[...l];if(e)o.unshift(c);else if(t){const e=o.findIndex((e=>e.value===n)),t={...o[e]},i=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${i}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${i}`,o[e]=t}return o})(i.isTranslateSourceLanguageUnsupported,i.itaTranslateSourceLanguageIsAutoDetected,i.itaTranslateSourceLanguage))},[i,o,s,async function(e){const t=e.detail.selectedOption;a?await r.set({targetLanguageUserInput:t.value}):await r.set({selectedTargetLanguage:t.value,isTargetLanguageConfirmed:!0,regionalVariant:t.regionalVariant||""}),ef.update({translationState:u.ongoingTranslation}),YL({type:bL.REQUEST.ITA_UPDATE_TARGET_LANGUAGE,payload:{language:t.value}})},e=>{e.detail.selectedOption.value!==i.itaTranslateSourceLanguage&&e.detail.selectedOption.value!==s.unavailableLanguage&&YL({type:bL.REQUEST.ITA_UPDATE_SOURCE_LANGUAGE,payload:{language:e.detail.selectedOption.value}})},r,a]}class hk extends fu{constructor(e){super(),hu(this,e,gk,mk,Dc,{settings:5,isInput:6})}}function fk(e){let t,n,o,i;return{c(){t=rd("button"),n=rd("div"),gd(n,"class","glossary-icon svelte-q1f4m0"),gd(t,"class","glossary-button svelte-q1f4m0"),gd(t,"aria-label",chrome.i18n.getMessage("glossary_label"))},m(s,r){od(s,t,r),ed(t,n),o||(i=ud(t,"click",e[0]),o=!0)},p:Ac,d(e){e&&id(t),o=!1,i()}}}function _k(e){let t,n,o;return n=new Np({props:{tooltip:chrome.i18n.getMessage("glossary_label"),zIndex:"10000000000",isEnabled:!0,$$slots:{default:[fk]},$$scope:{ctx:e}}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","customisations-toolbar svelte-q1f4m0")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,[t]){const o={};2&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function vk(e){return[function(){const e=jv.settings_glossary;Qn({action:Xn.dlOpenInternalPage,payload:{destination:e}})}]}class wk extends fu{constructor(e){super(),hu(this,e,vk,_k,Dc,{})}}function Tk(e,t,n){const o=e.slice();return o[32]=t[n],o[34]=n,o}function bk(e){let t;let n=function(e){return e[15]()?Ek:yk}(e),o=n(e);return{c(){o.c(),t=dd()},m(e,n){o.m(e,n),od(e,t,n)},p(e,t){o.p(e,t)},i(e){iu(o)},o:Ac,d(e){e&&id(t),o.d(e)}}}function yk(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_;return{c(){t=rd("ul"),n=rd("li"),o=rd("span"),o.textContent=`${chrome.i18n.getMessage("ui_formality_formal")}`,i=cd(),s=rd("span"),s.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,r=cd(),a=rd("li"),l=rd("span"),l.textContent=`${chrome.i18n.getMessage("ui_formality_informal")}`,c=cd(),d=rd("span"),d.textContent=`${chrome.i18n.getMessage("login_translate_pages_pro_badge")}`,u=cd(),p=rd("li"),p.textContent=`${chrome.i18n.getMessage("ui_formality_automatic")}`,m=cd(),g=rd("li"),h=rd("button"),h.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,gd(s,"class","pro-label svelte-mfqqj4"),gd(n,"disabled",""),gd(n,"class","svelte-mfqqj4"),gd(d,"class","pro-label svelte-mfqqj4"),gd(a,"disabled",""),gd(a,"class","svelte-mfqqj4"),gd(p,"class","selected svelte-mfqqj4"),gd(h,"class","svelte-mfqqj4"),gd(g,"class","svelte-mfqqj4"),gd(t,"id","dropdown_list"),gd(t,"class","alternate-dropdown-list svelte-mfqqj4"),gd(t,"role","listbox"),gd(t,"aria-labelledby","dropdown_option"),gd(t,"tabindex","-1"),bd(t,"pro-dropdown",!0)},m(v,w){od(v,t,w),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(t,r),ed(t,a),ed(a,l),ed(a,c),ed(a,d),ed(t,u),ed(t,p),ed(t,m),ed(t,g),ed(g,h),f||(_=ud(h,"click",e[16]),f=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),f=!1,_()}}}function Ek(e){let t,n,o=du(e[10]),i=[];for(let t=0;t<o.length;t+=1)i[t]=$k(Tk(e,o,t));return{c(){t=rd("ul");for(let e=0;e<i.length;e+=1)i[e].c();gd(t,"id","dropdown_list"),gd(t,"class","alternate-dropdown-list svelte-mfqqj4"),gd(t,"role","listbox"),gd(t,"aria-labelledby","dropdown_option"),gd(t,"tabindex","-1"),gd(t,"style",`height: ${e[12].height}; top: ${e[12].top};`),gd(t,"data-qa",e[2])},m(n,o){od(n,t,o);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[24](t)},p(e,n){if(1161&n[0]){let s;for(o=du(e[10]),s=0;s<o.length;s+=1){const r=Tk(e,o,s);i[s]?i[s].p(r,n):(i[s]=$k(r),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}4&n[0]&&gd(t,"data-qa",e[2])},i(e){n||Fd((()=>{n=au(t,np,{y:-5,duration:500}),n.start()}))},o:Ac,d(n){n&&id(t),sd(i,n),e[24](null)}}}function $k(e){let t,n,o,i,s,r,a=e[32].label+"";function l(){return e[23](e[32])}return{c(){t=rd("li"),n=ld(a),o=cd(),gd(t,"role","option"),gd(t,"data-option-value",e[32].value),gd(t,"aria-selected",i=e[3]===e[32]),gd(t,"class","svelte-mfqqj4"),bd(t,"selected",e[3]===e[32]),bd(t,"keyboardSelected",e[34]===e[7])},m(i,a){od(i,t,a),ed(t,n),ed(t,o),s||(r=[ud(t,"click",l),ud(t,"mousedown",md(pd(e[20])))],s=!0)},p(n,o){e=n,8&o[0]&&i!==(i=e[3]===e[32])&&gd(t,"aria-selected",i),1032&o[0]&&bd(t,"selected",e[3]===e[32]),128&o[0]&&bd(t,"keyboardSelected",e[34]===e[7])},d(e){e&&id(t),s=!1,Rc(r)}}}function xk(e){let t,n,o,i,s,r,a=e[0]&&bk(e);return{c(){t=rd("div"),n=rd("button"),o=ld(e[5]),i=cd(),a&&a.c(),gd(n,"aria-haspopup","listbox"),gd(n,"id","dropdown_button"),gd(n,"aria-label","Formality dropdown"),gd(n,"aria-expanded",e[0]),gd(n,"data-qa",e[1]),gd(n,"class","dropdown-label svelte-mfqqj4"),gd(t,"class","dropdown__wrapper svelte-mfqqj4"),gd(t,"style",e[9])},m(l,c){od(l,t,c),ed(t,n),ed(n,o),e[22](n),ed(t,i),a&&a.m(t,null),e[26](t),s||(r=[ud(n,"click",e[13]),ud(n,"mousedown",md(pd(e[21]))),ud(n,"keydown",e[14]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[25])],s=!0)},p(e,i){32&i[0]&&hd(o,e[5]),1&i[0]&&gd(n,"aria-expanded",e[0]),2&i[0]&&gd(n,"data-qa",e[1]),e[0]?a?(a.p(e,i),1&i[0]&&iu(a,1)):(a=bk(e),a.c(),iu(a,1),a.m(t,null)):a&&(a.d(1),a=null),512&i[0]&&gd(t,"style",e[9])},i(e){iu(a)},o:Ac,d(n){n&&id(t),e[22](null),a&&a.d(),e[26](null),s=!1,Rc(r)}}}function Sk(e,t,n){let o,{isOpen:i=!1}=t,{dataQaButton:s="dl-dropdown-button"}=t,{dataQaList:r="dl-dropdown-list"}=t,{handleSelect:a}=t;const l=[{value:An,label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:In,label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")},{value:Mn,label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")}];let c=l.find((e=>e.value===Mn));const d=Dd("deepl_settings");Uc(e,d,(e=>n(29,o=e)));let u,p,m,g,h,f=0,_=c,v=-1,w="visibility: hidden; opacity:0; height:0;";Md((()=>{setTimeout((()=>{n(9,w="")}),100),g=Dp(m,(({clientWidth:e})=>{n(18,f=e)}))})),Od((()=>{g&&g()}));return e.$$set=e=>{"isOpen"in e&&n(0,i=e.isOpen),"dataQaButton"in e&&n(1,s=e.dataQaButton),"dataQaList"in e&&n(2,r=e.dataQaList),"handleSelect"in e&&n(17,a=e.handleSelect)},e.$$.update=()=>{917512&e.$$.dirty[0]&&(c&&_?.value!==c?.value&&(n(19,_=c),a({selectedOption:c}),Qn({action:Zn.dlTrackFormalitySelected,payload:{formality:c.value}})),f&&(Math.abs(u.getBoundingClientRect().top),Math.abs(window.innerHeight-u.getBoundingClientRect().bottom))),8&e.$$.dirty[0]&&c&&n(5,p=`${c.selectedOptionLabel}`)},[i,s,r,c,u,p,m,v,h,w,l,d,{},function(){n(0,i=!i),function(){let e=u.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},function(e){if(!i)return;if("ArrowUp"===e.key&&v>0)n(7,v-=1);else if("ArrowDown"===e.key&&v<l.length-1)n(7,v+=1);else if("Enter"===e.key&&-1!==v){const t=l[v];n(0,i=!1),n(3,c=t),n(7,v=-1),e.preventDefault(),e.stopPropagation()}else{if("Escape"!==e.key)return;n(0,i=!1),n(7,v=-1)}const t=l[v];var o=h.querySelector(`[data-option-value="${t.value}"]`).offsetTop-h.offsetTop;h.scrollTo({top:o,behavior:"smooth"})},function(){return oo(o,Zt.TRANSLATOR)},function(){const e=Rm;Qn({action:Zn.dlTrackUILocationClicked,payload:Z}),Qn({action:Xn.dlExternalURLRedirect,payload:{destination:e,utmContent:"inline_translator"}})},a,f,_,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(e){Gd[e?"unshift":"push"]((()=>{u=e,n(4,u)}))},e=>{n(0,i=!1),n(3,c=e),n(7,v=-1)},function(e){Gd[e?"unshift":"push"]((()=>{h=e,n(8,h)}))},()=>{n(0,i=!1)},function(e){Gd[e?"unshift":"push"]((()=>{m=e,n(6,m)}))}]}class Ck extends fu{constructor(e){super(),hu(this,e,Sk,xk,Dc,{isOpen:0,dataQaButton:1,dataQaList:2,handleSelect:17},null,[-1,-1])}}function Lk(e){let t,n,o,i,s;return n=new Ck({props:{dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",handleSelect:e[0]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"role","button"),gd(t,"class","formality-dropdown_container svelte-svjje"),gd(t,"tabindex","-1")},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=ud(t,"mousedown",md(pd(e[1]))),i=!0)},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,s()}}}function kk(e){return[function({selectedOption:e}){yu.set({formality:e.value}),YL({type:rL,payload:{formality:e.value}})},function(t){Pd.call(this,e,t)}]}class Ak extends fu{constructor(e){super(),hu(this,e,kk,Lk,Dc,{})}}function Ik(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;n=new hk({props:{settings:e[0],isInput:e[2]}});let _=e[4]&&Ok();r=new wk({});const v=[Nk,Rk],w=[];function T(e,t){return e[5].isTranslateSourceLanguageUnsupported?0:1}c=T(e),d=w[c]=v[c](e);let b=!e[5].isTranslateSourceLanguageUnsupported&&Dk(e);return{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),i=rd("div"),_&&_.c(),s=cd(),pu(r.$$.fragment),a=cd(),l=rd("div"),d.c(),p=cd(),b&&b.c(),m=dd(),gd(i,"class","translate-toolbar-buttons svelte-mpctqd"),gd(t,"class","translate-toolbar-container svelte-mpctqd"),gd(l,"class","result-frame svelte-mpctqd"),gd(l,"dir",u=ns(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage))},m(d,u){od(d,t,u),mu(n,t,null),ed(t,o),ed(t,i),_&&_.m(i,null),ed(i,s),mu(r,i,null),od(d,a,u),od(d,l,u),w[c].m(l,null),od(d,p,u),b&&b.m(d,u),od(d,m,u),g=!0,h||(f=ud(l,"mousedown",pd(e[8])),h=!0)},p(e,t){const o={};1&t&&(o.settings=e[0]),4&t&&(o.isInput=e[2]),n.$set(o),e[4]?_?16&t&&iu(_,1):(_=Ok(),_.c(),iu(_,1),_.m(i,s)):_&&(nu(),su(_,1,1,(()=>{_=null})),ou());let r=c;c=T(e),c===r?w[c].p(e,t):(nu(),su(w[r],1,1,(()=>{w[r]=null})),ou(),d=w[c],d?d.p(e,t):(d=w[c]=v[c](e),d.c()),iu(d,1),d.m(l,null)),(!g||12&t&&u!==(u=ns(e[2]?e[3].targetLanguageUserInput:e[3].selectedTargetLanguage)))&&gd(l,"dir",u),e[5].isTranslateSourceLanguageUnsupported?b&&(nu(),su(b,1,1,(()=>{b=null})),ou()):b?(b.p(e,t),32&t&&iu(b,1)):(b=Dk(e),b.c(),iu(b,1),b.m(m.parentNode,m))},i(e){g||(iu(n.$$.fragment,e),iu(_),iu(r.$$.fragment,e),iu(d),iu(b),g=!0)},o(e){su(n.$$.fragment,e),su(_),su(r.$$.fragment,e),su(d),su(b),g=!1},d(e){e&&(id(t),id(a),id(l),id(p),id(m)),gu(n),_&&_.d(),gu(r),w[c].d(),b&&b.d(e),h=!1,f()}}}function Mk(e){let t,n,o;return n=new Wv({}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","loading-spinner-container svelte-mpctqd")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function Ok(e){let t,n;return t=new Ak({}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Rk(e){let t,n,o=Vb(e[5].translatedSnippet)+"";return{c(){t=new Ed(!1),n=dd(),t.a=n},m(e,i){t.m(o,e,i),od(e,n,i)},p(e,n){32&n&&o!==(o=Vb(e[5].translatedSnippet)+"")&&t.p(o)},i:Ac,o:Ac,d(e){e&&(id(n),t.d())}}}function Nk(e){let t,n;return t=new lh({props:{error:{error:tm}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Dk(e){let t,n,o,i,s,r,a,l=e[2]&&Pk(e);return i=new ry({props:{sourceLang:e[5].websiteLanguage,targetLang:e[3].selectedTargetLanguage,sourceText:e[5].originalSnippet,targetText:e[5].translatedSnippet,platformBehaviour:e[1]}}),r=new Kb({props:{targetLang:e[3].selectedTargetLanguage,text:e[5].translatedSnippet,platformBehaviour:e[1]}}),{c(){t=rd("div"),l&&l.c(),n=cd(),o=rd("div"),pu(i.$$.fragment),s=cd(),pu(r.$$.fragment),gd(o,"class","dl-options-container svelte-mpctqd"),gd(t,"class","dl-btn-group svelte-mpctqd"),bd(t,"is-input",!e[2])},m(e,c){od(e,t,c),l&&l.m(t,null),ed(t,n),ed(t,o),mu(i,o,null),ed(o,s),mu(r,o,null),a=!0},p(e,o){e[2]?l?l.p(e,o):(l=Pk(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const s={};32&o&&(s.sourceLang=e[5].websiteLanguage),8&o&&(s.targetLang=e[3].selectedTargetLanguage),32&o&&(s.sourceText=e[5].originalSnippet),32&o&&(s.targetText=e[5].translatedSnippet),2&o&&(s.platformBehaviour=e[1]),i.$set(s);const c={};8&o&&(c.targetLang=e[3].selectedTargetLanguage),32&o&&(c.text=e[5].translatedSnippet),2&o&&(c.platformBehaviour=e[1]),r.$set(c),(!a||4&o)&&bd(t,"is-input",!e[2])},i(e){a||(iu(i.$$.fragment,e),iu(r.$$.fragment,e),a=!0)},o(e){su(i.$$.fragment,e),su(r.$$.fragment,e),a=!1},d(e){e&&id(t),l&&l.d(),gu(i),gu(r)}}}function Pk(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,gd(t,"class","svelte-mpctqd")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[6]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function Uk(e){let t,n,o,i;const s=[Mk,Ik],r=[];function a(e,t){return null==e[5]||e[5].translationState===u.ongoingTranslation?0:e[5].translatedSnippet?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=rd("div"),o&&o.c()},m(e,o){od(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,[i]){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)):o=null)},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),~n&&r[n].d()}}}function Gk(e,t,n){let o,i,s,r=Ac,a=()=>(r(),r=Pc(l,(e=>n(3,i=e))),l);Uc(e,ef,(e=>n(5,s=e))),e.$$.on_destroy.push((()=>r()));let{settings:l}=t;a();let{platformBehaviour:c}=t,{isInput:d=!1}=t,{closeWindow:u}=t;return e.$$set=e=>{"settings"in e&&a(n(0,l=e.settings)),"platformBehaviour"in e&&n(1,c=e.platformBehaviour),"isInput"in e&&n(2,d=e.isInput),"closeWindow"in e&&n(7,u=e.closeWindow)},e.$$.update=()=>{12&e.$$.dirty&&n(4,o=ts(d?i.targetLanguageUserInput:i.selectedTargetLanguage))},[l,c,d,i,o,s,()=>{hv(s.inputElement,{html:s.translatedSnippet??"",text:s.translatedSnippet??""},!0),Qn({action:Zn.dlTrackReplaceInField,payload:{replacementType:Un}}),u()},u,function(t){Pd.call(this,e,t)}]}class Hk extends fu{constructor(e){super(),hu(this,e,Gk,Uk,Dc,{settings:0,platformBehaviour:1,isInput:2,closeWindow:7})}}function Bk(e){let t,n;return t=new hf({props:{languages:e[1],value:e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage,websiteSettings:ef,customClass:"dropdown__wrapper--header",fontSize:"sm",autoHeight:!1}}),t.$on("selection",e[3]),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.languages=e[1]),1&n&&(o.value=e[0].isWriteSourceLanguageUnsupported?e[2].unavailableLanguage:e[0].itaWriteSourceLanguage),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function zk(e){let t,n,o=e[0].itaWriteSourceLanguage&&Bk(e);return{c(){t=rd("div"),o&&o.c(),gd(t,"class","language-selector-container svelte-tostmu")},m(e,i){od(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[0].itaWriteSourceLanguage?o?(o.p(e,n),1&n&&iu(o,1)):(o=Bk(e),o.c(),iu(o,1),o.m(t,null)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d()}}}function Wk(e,t,n){let o,s;Uc(e,ef,(e=>n(0,s=e)));const r={unavailableLanguage:"unavailable_language"},l=i.filter((e=>a.includes(e.langCodeForIta))).map((e=>{switch(e.langCode){case"EN-US":return Object.assign(Object.assign({},e),{langCode:"EN_US"});case"EN-GB":return Object.assign(Object.assign({},e),{langCode:"EN_UK"});case"PT-BR":return Object.assign(Object.assign({},e),{langCode:"PT_BR"});case"PT-PT":return Object.assign(Object.assign({},e),{langCode:"PT"});default:return e}})).map((e=>({value:e.langCodeForIta,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage()))),c={label:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),selectedOptionLabel:chrome.i18n.getMessage("ui_inline_translation_source_language_unavailable"),value:r.unavailableLanguage};return e.$$.update=()=>{1&e.$$.dirty&&n(1,o=((e,t,n)=>{const o=[...l];if(e)o.unshift(c);else if(t){const e=o.findIndex((e=>e.value===n)),t={...o[e]},i=chrome.i18n.getMessage("ui_inline_translation_source_language_detected");t.label=`${t.label} ${i}`,t.selectedOptionLabel=`${t.selectedOptionLabel} ${i}`,o[e]=t}return o})(s.isWriteSourceLanguageUnsupported,s.itaWriteSourceLanguageIsAutoDetected,s.itaWriteSourceLanguage))},[s,o,r,e=>{e.detail.selectedOption.value!==s.itaWriteSourceLanguage&&e.detail.selectedOption.value!==r.unavailableLanguage&&YL({type:dL,payload:{language:e.detail.selectedOption.value}})}]}class jk extends fu{constructor(e){super(),hu(this,e,Wk,zk,Dc,{})}}function Fk(e){let t,n,o,i,s,r,a,l,c;return{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_new")}`,o=cd(),i=rd("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,gd(n,"class","list-entry svelte-o3etn3"),gd(n,"data-qa","dl-toolbar-listener-button-target-lang"),bd(n,"dl-entry-notAvailable",!e[0]),gd(i,"class","list-entry svelte-o3etn3"),gd(i,"data-qa","dl-toolbar-listener-button-source-lang"),bd(i,"dl-entry-notAvailable",!e[0]),gd(t,"class","listen-list svelte-o3etn3"),gd(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,r){od(s,t,r),ed(t,n),ed(t,o),ed(t,i),a=!0,l||(c=[ud(n,"click",e[5]),ud(i,"click",e[6])],l=!0)},p(e,[t]){(!a||1&t)&&bd(n,"dl-entry-notAvailable",!e[0]),(!a||1&t)&&bd(i,"dl-entry-notAvailable",!e[0])},i(e){a||(Fd((()=>{a&&(r&&r.end(1),s=au(t,np,{y:-5,duration:500}),s.start())})),a=!0)},o(e){s&&s.invalidate(),r=lu(t,np,{y:-5,duration:500}),a=!1},d(e){e&&id(t),e&&r&&r.end(),l=!1,Rc(c)}}}function qk(e,t,n){let{isRequestedLanguageAvailable:o}=t,{requestedLang:i}=t,{sourceText:s}=t,{improvedText:r}=t,{listen:a=(e,t)=>null}=t;return e.$$set=e=>{"isRequestedLanguageAvailable"in e&&n(0,o=e.isRequestedLanguageAvailable),"requestedLang"in e&&n(1,i=e.requestedLang),"sourceText"in e&&n(2,s=e.sourceText),"improvedText"in e&&n(3,r=e.improvedText),"listen"in e&&n(4,a=e.listen)},[o,i,s,r,a,()=>{a(r,i)},()=>{a(s,i)}]}class Vk extends fu{constructor(e){super(),hu(this,e,qk,Fk,Dc,{isRequestedLanguageAvailable:0,requestedLang:1,sourceText:2,improvedText:3,listen:4})}}function Zk(e){let t,n,o,i,s;return n=new Np({props:{tooltip:e[6],zIndex:300,$$slots:{default:[Xk]},$$scope:{ctx:e}}}),{c(){t=rd("fragment"),pu(n.$$.fragment),gd(t,"role","navigation")},m(r,a){od(r,t,a),mu(n,t,null),o=!0,i||(s=[ud(t,"mouseover",e[9]),ud(t,"focus",e[9]),ud(t,"mouseleave",e[11])],i=!0)},p(e,t){const o={};64&t&&(o.tooltip=e[6]),65599&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n),i=!1,Rc(s)}}}function Yk(e){let t,n;return t=new Vk({props:{isRequestedLanguageAvailable:e[5],requestedLang:e[0],sourceText:e[1],improvedText:e[2],listen:e[7]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.isRequestedLanguageAvailable=e[5]),1&n&&(o.requestedLang=e[0]),2&n&&(o.sourceText=e[1]),4&n&&(o.improvedText=e[2]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function Xk(e){let t,n,o,i,s,r,a=e[4]&&Yk(e);return{c(){t=rd("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-17suwwx"></span>',n=cd(),a&&a.c(),o=dd(),gd(t,"type","button"),gd(t,"class","dl-btn svelte-17suwwx"),gd(t,"data-qa","dl-toolbar-listener-button"),bd(t,"dl-btn-active",e[3]),bd(t,"dl-btn-hovered",e[4])},m(l,c){od(l,t,c),od(l,n,c),a&&a.m(l,c),od(l,o,c),i=!0,s||(r=ud(t,"click",e[8]),s=!0)},p(e,n){(!i||8&n)&&bd(t,"dl-btn-active",e[3]),(!i||16&n)&&bd(t,"dl-btn-hovered",e[4]),e[4]?a?(a.p(e,n),16&n&&iu(a,1)):(a=Yk(e),a.c(),iu(a,1),a.m(o.parentNode,o)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&(id(t),id(n),id(o)),a&&a.d(e),s=!1,r()}}}function Kk(e){let t,n,o=e[5]&&Zk(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[5]?o?(o.p(e,n),32&n&&iu(o,1)):(o=Zk(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function Qk(e,t,n){let{platformBehaviour:o=It.default}=t,{requestedLang:i=""}=t,{sourceText:s=""}=t,{improvedText:r=""}=t,a=!1,l=!1,c=!1,d=!1;function u(){Qn({action:Bn.dlStopSpeech}),n(3,l=!1)}function p(e){try{Qn({action:Zn.dlTrackInlineListen,payload:e})}catch(e){console.error(e)}}async function m(e,t,o){if("dlVoiceOverStopped"===e.action)n(3,l=!1),o();return!0}function g(e){try{Qn({action:Zn.dlTrackVoiceOverStops,payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(m),Od((()=>{u(),chrome.runtime.onMessage.removeListener(m),l&&g({targetLang:i,targetLength:r.length,triggerType:R,nicheIntegration:o})}));return e.$$set=e=>{"platformBehaviour"in e&&n(10,o=e.platformBehaviour),"requestedLang"in e&&n(0,i=e.requestedLang),"sourceText"in e&&n(1,s=e.sourceText),"improvedText"in e&&n(2,r=e.improvedText)},e.$$.update=()=>{25&e.$$.dirty&&(i&&Qn({action:Bn.dlGetSupportedVoices}).then((e=>{n(5,a=e.includes(["EN-US","EN-GB"].includes(i)?"EN":["PT-PT","PT-BR"].includes(i)?"PT":["ZH-CN","ZH-HANT"].includes(i)?"ZH":i))})),!c&&l?setTimeout((()=>{n(6,d=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(6,d=!1))},[i,s,r,l,c,a,d,async function(e,t){l||(Qn({action:Bn.dlTextToSpeech,payload:{text:e,lang:t}}),n(3,l=!0),n(4,c=!1),p({targetLang:t,targetLength:e.length,actionType:mt,nicheIntegration:o}))},function(){l?(u(),n(3,l=!1),g({targetLang:i,targetLength:r.length,triggerType:O,nicheIntegration:o}),p({targetLang:i,targetLength:r.length,actionType:gt,nicheIntegration:o})):n(4,c=!0)},function(){l||n(4,c=!0)},o,()=>n(4,c=!1)]}class Jk extends fu{constructor(e){super(),hu(this,e,Qk,Kk,Dc,{platformBehaviour:10,requestedLang:0,sourceText:1,improvedText:2})}}function eA(e,t,n){const o=e.slice();return o[11]=t[n],o}function tA(e,t,n){const o=e.slice();return o[14]=t[n],o}function nA(e){let t,n,o;function i(){return e[8](e[14])}return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage(`writing_style_${e[14]}`)}`,gd(t,"class","svelte-i0wtba"),bd(t,"active",e[14]===e[0])},m(e,s){od(e,t,s),n||(o=ud(t,"click",i),n=!0)},p(n,o){e=n,1&o&&bd(t,"active",e[14]===e[0])},d(e){e&&id(t),n=!1,o()}}}function oA(e){let t,n,o;function i(){return e[9](e[11])}return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage(`writing_tone_${e[11]}`)}`,gd(t,"class","svelte-i0wtba"),bd(t,"active",e[11]===e[1])},m(e,s){od(e,t,s),n||(o=ud(t,"click",i),n=!0)},p(n,o){e=n,2&o&&bd(t,"active",e[11]===e[1])},d(e){e&&id(t),n=!1,o()}}}function iA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b,y=du(On),E=[];for(let t=0;t<y.length;t+=1)E[t]=nA(tA(e,y,t));let $=du(Rn),x=[];for(let t=0;t<$.length;t+=1)x[t]=oA(eA(e,$,t));return{c(){t=rd("div"),n=rd("div"),o=rd("div"),o.textContent=`${chrome.i18n.getMessage("write_style_options_headline_style")}`,i=cd(),s=rd("div");for(let e=0;e<E.length;e+=1)E[e].c();r=cd(),a=rd("div"),a.textContent=`${chrome.i18n.getMessage("write_style_options_description_style")}`,l=cd(),c=rd("div"),d=rd("div"),d.textContent=`${chrome.i18n.getMessage("write_style_options_headline_tone")}`,u=cd(),p=rd("div");for(let e=0;e<x.length;e+=1)x[e].c();m=cd(),g=rd("div"),g.textContent=`${chrome.i18n.getMessage("write_style_options_description_tone")}`,h=cd(),f=rd("div"),_=rd("button"),_.textContent=`${chrome.i18n.getMessage("write_style_options_cta_reset")}`,v=cd(),w=rd("button"),w.textContent=`${chrome.i18n.getMessage("write_style_options_cta_apply")}`,gd(o,"class","title svelte-i0wtba"),gd(s,"class","toggles svelte-i0wtba"),gd(a,"class","explanation svelte-i0wtba"),gd(n,"class","writing-style svelte-i0wtba"),gd(d,"class","title svelte-i0wtba"),gd(p,"class","toggles svelte-i0wtba"),gd(g,"class","explanation svelte-i0wtba"),gd(c,"class","tone svelte-i0wtba"),gd(_,"class","reset svelte-i0wtba"),gd(w,"class","apply svelte-i0wtba"),bd(w,"enabled",e[0]||e[1]),gd(f,"class","actions svelte-i0wtba"),gd(t,"class","container svelte-i0wtba")},m(y,$){od(y,t,$),ed(t,n),ed(n,o),ed(n,i),ed(n,s);for(let e=0;e<E.length;e+=1)E[e]&&E[e].m(s,null);ed(n,r),ed(n,a),ed(t,l),ed(t,c),ed(c,d),ed(c,u),ed(c,p);for(let e=0;e<x.length;e+=1)x[e]&&x[e].m(p,null);ed(c,m),ed(c,g),ed(t,h),ed(t,f),ed(f,_),ed(f,v),ed(f,w),T||(b=[ud(_,"click",e[5]),ud(w,"click",e[4])],T=!0)},p(e,[t]){if(5&t){let n;for(y=du(On),n=0;n<y.length;n+=1){const o=tA(e,y,n);E[n]?E[n].p(o,t):(E[n]=nA(o),E[n].c(),E[n].m(s,null))}for(;n<E.length;n+=1)E[n].d(1);E.length=y.length}if(10&t){let n;for($=du(Rn),n=0;n<$.length;n+=1){const o=eA(e,$,n);x[n]?x[n].p(o,t):(x[n]=oA(o),x[n].c(),x[n].m(p,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=$.length}3&t&&bd(w,"enabled",e[0]||e[1])},i:Ac,o:Ac,d(e){e&&id(t),sd(E,e),sd(x,e),T=!1,Rc(b)}}}function sA(e,t,n){const o=Rd();let{writingStyle:i}=t,{tone:s}=t,r=i,a=s;function l(e){n(1,a=void 0),n(0,r=e);try{Qn({action:Zn.dlTrackWriteTextStylesChanged,payload:{style:r||void 0}})}catch(e){console.error(e)}}function c(e){n(0,r=void 0),n(1,a=e);try{Qn({action:Zn.dlTrackWriteTextTonesChanged,payload:{tone:a||void 0}})}catch(e){console.error(e)}}return e.$$set=e=>{"writingStyle"in e&&n(6,i=e.writingStyle),"tone"in e&&n(7,s=e.tone)},[r,a,l,c,function(){n(6,i=r),n(7,s=a);try{Qn({action:Zn.dlTrackWriteTextStylesApplied,payload:{style:i||s||void 0}})}catch(e){console.error(e)}o("apply")},function(){n(1,a=void 0),n(0,r=void 0),n(7,s=void 0),n(6,i=void 0),o("reset")},i,s,e=>l(e),e=>c(e)]}class rA extends fu{constructor(e){super(),hu(this,e,sA,iA,Dc,{writingStyle:6,tone:7})}}function aA(e){let t,n,o,i,s,r;function a(t){e[6](t)}function l(t){e[7](t)}let c={};return void 0!==e[0]&&(c.writingStyle=e[0]),void 0!==e[1]&&(c.tone=e[1]),n=new rA({props:c}),Gd.push((()=>uu(n,"writingStyle",a))),Gd.push((()=>uu(n,"tone",l))),n.$on("apply",e[3]),n.$on("reset",e[3]),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","scoped svelte-2jkwvo")},m(e,o){od(e,t,o),mu(n,t,null),r=!0},p(e,t){const s={};!o&&1&t&&(o=!0,s.writingStyle=e[0],qd((()=>o=!1))),!i&&2&t&&(i=!0,s.tone=e[1],qd((()=>i=!1))),n.$set(s)},i(e){r||(iu(n.$$.fragment,e),e&&(s||Fd((()=>{s=au(t,np,{y:-5,duration:500}),s.start()}))),r=!0)},o(e){su(n.$$.fragment,e),r=!1},d(e){e&&id(t),gu(n)}}}function lA(e){let t,n,o,i,s,r,a=e[2]&&aA(e);return{c(){t=rd("div"),n=rd("button"),n.textContent=`${chrome.i18n.getMessage("write_style_options_button_label")}`,o=cd(),a&&a.c(),gd(n,"class","style-switch svelte-2jkwvo"),bd(n,"open",e[2]),bd(n,"active",e[0]||e[1]),gd(t,"role","button"),gd(t,"tabindex","-1")},m(l,c){od(l,t,c),ed(t,n),ed(t,o),a&&a.m(t,null),i=!0,s||(r=[ud(n,"click",e[5]),ud(t,"mousedown",md(pd(e[4])))],s=!0)},p(e,[o]){(!i||4&o)&&bd(n,"open",e[2]),(!i||3&o)&&bd(n,"active",e[0]||e[1]),e[2]?a?(a.p(e,o),4&o&&iu(a,1)):(a=aA(e),a.c(),iu(a,1),a.m(t,null)):a&&(nu(),su(a,1,1,(()=>{a=null})),ou())},i(e){i||(iu(a),i=!0)},o(e){su(a),i=!1},d(e){e&&id(t),a&&a.d(),s=!1,Rc(r)}}}function cA(e,t,n){let o,i,s=!1;return[o,i,s,function(){const e=o||i||null;ef.update({writeState:m,writeStyle:e}),YL({type:uL,payload:{styleVariant:e}}),n(2,s=!1)},function(t){Pd.call(this,e,t)},()=>n(2,s=!s),function(e){o=e,n(0,o)},function(e){i=e,n(1,i)}]}class dA extends fu{constructor(e){super(),hu(this,e,cA,lA,Dc,{})}}function uA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g;n=new jk({}),i=new dA({});const h=[gA,mA],f=[];function _(e,t){return e[2].isWriteSourceLanguageUnsupported?0:1}a=_(e),l=f[a]=h[a](e);let v=!e[2].isWriteSourceLanguageUnsupported&&hA(e);return{c(){t=rd("div"),pu(n.$$.fragment),o=cd(),pu(i.$$.fragment),s=cd(),r=rd("div"),l.c(),d=cd(),v&&v.c(),u=dd(),gd(t,"class","write-toolbar-container svelte-1t6fc8d"),gd(r,"class","result-frame svelte-1t6fc8d"),gd(r,"dir",c=ns(e[2].itaWriteSourceLanguage))},m(l,c){od(l,t,c),mu(n,t,null),ed(t,o),mu(i,t,null),od(l,s,c),od(l,r,c),f[a].m(r,null),od(l,d,c),v&&v.m(l,c),od(l,u,c),p=!0,m||(g=ud(r,"mousedown",pd(e[5])),m=!0)},p(e,t){let n=a;a=_(e),a===n?f[a].p(e,t):(nu(),su(f[n],1,1,(()=>{f[n]=null})),ou(),l=f[a],l?l.p(e,t):(l=f[a]=h[a](e),l.c()),iu(l,1),l.m(r,null)),(!p||4&t&&c!==(c=ns(e[2].itaWriteSourceLanguage)))&&gd(r,"dir",c),e[2].isWriteSourceLanguageUnsupported?v&&(nu(),su(v,1,1,(()=>{v=null})),ou()):v?(v.p(e,t),4&t&&iu(v,1)):(v=hA(e),v.c(),iu(v,1),v.m(u.parentNode,u))},i(e){p||(iu(n.$$.fragment,e),iu(i.$$.fragment,e),iu(l),iu(v),p=!0)},o(e){su(n.$$.fragment,e),su(i.$$.fragment,e),su(l),su(v),p=!1},d(e){e&&(id(t),id(s),id(r),id(d),id(u)),gu(n),gu(i),f[a].d(),v&&v.d(e),m=!1,g()}}}function pA(e){let t,n,o;return n=new Wv({}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","loading-spinner-container svelte-1t6fc8d")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p:Ac,i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function mA(e){let t,n,o=Vb(e[2].improvedSnippet)+"";return{c(){t=new Ed(!1),n=dd(),t.a=n},m(e,i){t.m(o,e,i),od(e,n,i)},p(e,n){4&n&&o!==(o=Vb(e[2].improvedSnippet)+"")&&t.p(o)},i:Ac,o:Ac,d(e){e&&(id(n),t.d())}}}function gA(e){let t,n;return t=new lh({props:{error:{error:em}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function hA(e){let t,n,o,i,s,r,a,l=e[1]&&fA(e);return i=new Jk({props:{requestedLang:e[2].itaWriteSourceLanguage,sourceText:e[2].originalSnippet,improvedText:e[2].improvedSnippet,platformBehaviour:e[0]}}),r=new Kb({props:{targetLang:e[2].itaWriteSourceLanguage,text:e[2].improvedSnippet,platformBehaviour:e[0]}}),{c(){t=rd("div"),l&&l.c(),n=cd(),o=rd("div"),pu(i.$$.fragment),s=cd(),pu(r.$$.fragment),gd(o,"class","dl-options-container svelte-1t6fc8d"),gd(t,"class","dl-btn-group svelte-1t6fc8d"),bd(t,"is-input",!e[1])},m(e,c){od(e,t,c),l&&l.m(t,null),ed(t,n),ed(t,o),mu(i,o,null),ed(o,s),mu(r,o,null),a=!0},p(e,o){e[1]?l?l.p(e,o):(l=fA(e),l.c(),l.m(t,n)):l&&(l.d(1),l=null);const s={};4&o&&(s.requestedLang=e[2].itaWriteSourceLanguage),4&o&&(s.sourceText=e[2].originalSnippet),4&o&&(s.improvedText=e[2].improvedSnippet),1&o&&(s.platformBehaviour=e[0]),i.$set(s);const c={};4&o&&(c.targetLang=e[2].itaWriteSourceLanguage),4&o&&(c.text=e[2].improvedSnippet),1&o&&(c.platformBehaviour=e[0]),r.$set(c),(!a||2&o)&&bd(t,"is-input",!e[1])},i(e){a||(iu(i.$$.fragment,e),iu(r.$$.fragment,e),a=!0)},o(e){su(i.$$.fragment,e),su(r.$$.fragment,e),a=!1},d(e){e&&id(t),l&&l.d(),gu(i),gu(r)}}}function fA(e){let t,n,o;return{c(){t=rd("button"),t.textContent=`${chrome.i18n.getMessage("replace_in_field")}`,gd(t,"class","svelte-1t6fc8d")},m(i,s){od(i,t,s),n||(o=ud(t,"click",e[3]),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function _A(e){let t,n,o,i;const s=[pA,uA],r=[];function a(e,t){return null==e[2]||e[2].writeState===m?0:e[2].improvedSnippet?1:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=rd("div"),o&&o.c()},m(e,o){od(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,[i]){let l=n;n=a(e),n===l?~n&&r[n].p(e,i):(o&&(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou()),~n?(o=r[n],o?o.p(e,i):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)):o=null)},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),~n&&r[n].d()}}}function vA(e,t,n){let o;Uc(e,ef,(e=>n(2,o=e)));let{platformBehaviour:i}=t,{isInput:s=!1}=t,{closeWindow:r}=t;return e.$$set=e=>{"platformBehaviour"in e&&n(0,i=e.platformBehaviour),"isInput"in e&&n(1,s=e.isInput),"closeWindow"in e&&n(4,r=e.closeWindow)},[i,s,o,()=>{hv(o.inputElement,{html:o.improvedSnippet??"",text:o.improvedSnippet??""},!0),Qn({action:Zn.dlTrackReplaceInField,payload:{replacementType:Gn}}),r()},r,function(t){Pd.call(this,e,t)}]}class wA extends fu{constructor(e){super(),hu(this,e,vA,_A,Dc,{platformBehaviour:0,isInput:1,closeWindow:4})}}function TA(e){let t,n;return t=new wA({props:{platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function bA(e){let t,n;return t=new Hk({props:{settings:yu,platformBehaviour:e[2],isInput:e[3],closeWindow:e[6]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),8&n&&(o.isInput=e[3]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function yA(e){let t,n;return t=new lh({props:{error:e[4].error}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.error=e[4].error),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function EA(e){let t,n,o,i;const s=[yA,bA,TA],r=[];function a(e,t){return e[4].error?0:e[0]===Rt.translate?1:e[0]===Rt.write?2:-1}return~(n=a(e))&&(o=r[n]=s[n](e)),{c(){t=rd("div"),o&&o.c(),gd(t,"class","tooltip-container svelte-1o980it"),gd(t,"data-qa","deepl-tooltip-container"),bd(t,"error",e[4].error)},m(e,o){od(e,t,o),~n&&r[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?~n&&r[n].p(e,l):(o&&(nu(),su(r[c],1,1,(()=>{r[c]=null})),ou()),~n?(o=r[n],o?o.p(e,l):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)):o=null),(!i||16&l)&&bd(t,"error",e[4].error)},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),~n&&r[n].d()}}}function $A(e){let t,n,o;return n=new dk({props:{closeWindow:e[6],extensionContext:e[5],textProcessingMode:e[0],isInput:e[3],onChangeTextProcessingMode:e[7],error:e[4].error,$$slots:{default:[EA]},$$scope:{ctx:e}}}),{c(){t=rd("div"),pu(n.$$.fragment)},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.textProcessingMode=e[0]),8&t&&(o.isInput=e[3]),16&t&&(o.error=e[4].error),4125&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function xA(e,t,n){let o,i=Ac,s=()=>(i(),i=Pc(a,(e=>n(4,o=e))),a);e.$$.on_destroy.push((()=>i()));let{closeTooltip:r}=t,{websiteSettings:a}=t;s();let{platformBehaviour:l=It.default}=t,{isInput:c=!1}=t,{textProcessingMode:d}=t,{setPositioningStatus:u}=t,p=k;return e.$$set=e=>{"closeTooltip"in e&&n(8,r=e.closeTooltip),"websiteSettings"in e&&s(n(1,a=e.websiteSettings)),"platformBehaviour"in e&&n(2,l=e.platformBehaviour),"isInput"in e&&n(3,c=e.isInput),"textProcessingMode"in e&&n(0,d=e.textProcessingMode),"setPositioningStatus"in e&&n(9,u=e.setPositioningStatus)},e.$$.update=()=>{532&e.$$.dirty&&!o.translationState&&l===It.default&&u&&(u(!0),setTimeout((()=>{u(!1)}),600))},[d,a,l,c,o,p,function(){r()},e=>{switch(e){case Rt.translate:n(0,d=Rt.translate),Qn(c?{action:qn.dlTriggerTranslateInput}:{action:qn.dlTriggerTranslateInline});break;case Rt.write:n(0,d=Rt.write),Qn(c?{action:Wn.dlTriggerImproveInput}:{action:Wn.dlTriggerImproveInline});break;default:return}},r,u]}class SA extends fu{constructor(e){super(),hu(this,e,xA,$A,Dc,{closeTooltip:8,websiteSettings:1,platformBehaviour:2,isInput:3,textProcessingMode:0,setPositioningStatus:9})}}function CA(e){let t,n,o,i,s,r,a,l;return s=new SA({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[4],setPositioningStatus:e[8],isInput:e[3]}}),{c(){t=rd("div"),n=rd("div"),o=cd(),i=rd("div"),pu(s.$$.fragment),gd(n,"class","tooltip-drag-handle svelte-1t6zxdj"),gd(i,"class","review-window-body svelte-1t6zxdj"),gd(t,"data-qa","review-translate-write-window"),gd(t,"class","review-window-wrapper svelte-1t6zxdj"),gd(t,"role","dialog"),gd(t,"style",e[7]),gd(t,"draggable",e[6]),gd(t,"dir",ns())},m(c,d){od(c,t,d),ed(t,n),ed(t,o),ed(t,i),mu(s,i,null),e[18](t),r=!0,a||(l=[ud(n,"mouseover",e[9]),ud(n,"mouseout",e[10]),qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[17]),ud(t,"dragstart",e[11])],a=!0)},p(e,[n]){const o={};1&n&&(o.closeTooltip=e[0]),2&n&&(o.websiteSettings=e[1]),4&n&&(o.platformBehaviour=e[2]),16&n&&(o.textProcessingMode=e[4]),8&n&&(o.isInput=e[3]),s.$set(o),(!r||128&n)&&gd(t,"style",e[7]),(!r||64&n)&&gd(t,"draggable",e[6])},i(e){r||(iu(s.$$.fragment,e),r=!0)},o(e){su(s.$$.fragment,e),r=!1},d(n){n&&id(t),gu(s),e[18](null),a=!1,Rc(l)}}}function LA(e,t,n){let o;Uc(e,yu,(e=>n(16,o=e))),Nd("deepl_settings",yu),Nd("text_direction",ns());let i,s,r,a,l,c,{closeWindow:d}=t,{websiteSettings:u}=t,{replaceElement:p}=t,{dragContainerTo:m}=t,{platformBehaviour:g=It.default}=t,{isInput:h=!1}=t,{textProcessingMode:f}=t,_=!1,v=!1,w="visibility: hidden; opacity:0; height:0;";let T={x:0,y:0};function b(e){let t=qb({dropEvent:e,document:document,dragConfig:{dragOffset:T,dragElementRect:l,dragBarWidth:16}});t&&m(t)}Md((()=>{n(15,c=o.isLoggedIn),setTimeout((()=>{n(7,w="")}),100),document.addEventListener("dragover",jb),document.addEventListener("drop",b),a=Dp(s,(({clientHeight:e})=>{n(14,r=e)}))})),Od((()=>{document.removeEventListener("dragover",jb),document.removeEventListener("drop",b),a&&a()}));return e.$$set=e=>{"closeWindow"in e&&n(0,d=e.closeWindow),"websiteSettings"in e&&n(1,u=e.websiteSettings),"replaceElement"in e&&n(12,p=e.replaceElement),"dragContainerTo"in e&&n(13,m=e.dragContainerTo),"platformBehaviour"in e&&n(2,g=e.platformBehaviour),"isInput"in e&&n(3,h=e.isInput),"textProcessingMode"in e&&n(4,f=e.textProcessingMode)},e.$$.update=()=>{var t,n;98305&e.$$.dirty&&!1===c&&!0===o.isLoggedIn&&d(),65536&e.$$.dirty&&(t=o.inlineTranslateTooltipPosition,i=p(r,t)),16384&e.$$.dirty&&(n=r,i=v||g===It.gdocs?p(n,o.inlineTranslateTooltipPosition):i)},[d,u,g,h,f,s,_,w,e=>{v=e},function(){n(6,_=!0)},function(){n(6,_=!1)},function(e){const t=Fb(e,g);T=t.dragOffset,l=t.dragElementRect},p,m,r,c,o,()=>d(),function(e){Gd[e?"unshift":"push"]((()=>{s=e,n(5,s)}))}]}class kA extends fu{constructor(e){super(),hu(this,e,LA,CA,Dc,{closeWindow:0,websiteSettings:1,replaceElement:12,dragContainerTo:13,platformBehaviour:2,isInput:3,textProcessingMode:4})}}var AA;class IA{constructor(e){AA.set(this,void 0),this.createDOM=(e,t,o,i=!1)=>{const{deepl_inline_ui:s}=P;this.domElement.shadowContainer&&this.domElement.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.domElement.platformBehaviour===It.default&&(this.domElement.selectionRange=window.getSelection().getRangeAt(0));let r=e(this.domElement.selectionRange);this.domElement.shadowContainer.appendChild(this.domElement.container);let a="visibility: initial !important; position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(s.z_index-100),l=`position: absolute; top: ${r.y}px; left: ${r.x-200}px; z-index: ${s.z_index-100};`;switch(this.domElement.platformBehaviour){case It.gdocs:l+="top: 600px; left: 10px;";break;case It.default:default:l+=""}this.domElement.shadowContainer.style.cssText=a,this.domElement.container.style.cssText=l,this.domElement.mainComponent=new kA({target:this.domElement.container,props:{closeWindow:t,websiteSettings:o,replaceElement:(t,o)=>{var i;r=e(this.domElement.selectionRange);const s={coords:r,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.domElement.container.style};let a=o;const l=zb(s),[c,d]=Wb(o),u=null!==(i=n(this,AA,"f"))&&void 0!==i?i:{x:0,y:0};if(this.domElement.platformBehaviour===It.gdocs){for(const e of d)if(Bb(e,s)){Hb(e,s,u);break}}else for(const e of c)if(Bb(e,s)){a="middle"!==e?e:void 0,Gb(e,s,u);break}return Object.assign(Object.assign({},l),{current:a})},platformBehaviour:this.domElement.platformBehaviour,textProcessingMode:this.domElement.textProcessingMode,dragContainerTo:this.dragContainerTo,isInput:i}})},this.dragContainerTo=e=>{var t,i,s,r;o(this,AA,{y:parseInt(this.domElement.container.style.top)-e.y+(null!==(i=null===(t=n(this,AA,"f"))||void 0===t?void 0:t.y)&&void 0!==i?i:0),x:parseInt(this.domElement.container.style.left)-e.x+(null!==(r=null===(s=n(this,AA,"f"))||void 0===s?void 0:s.x)&&void 0!==r?r:0)},"f"),this.domElement.container.style.top=`${e.y}px`,this.domElement.container.style.left=`${e.x}px`},this.cleanupDOM=()=>{this.domElement.container.remove(),this.domElement.shadowContainer.remove(),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.domElement=e,this.domElement.platformBehaviour=It.default,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.domElement.mainComponent,this.domElement.selectionRange;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}}AA=new WeakMap,IA.HTML_TAG_NAME="deepl-review-translate-write-window",IA.createElement=(e=document)=>{const t=e.createElement(IA.HTML_TAG_NAME),n=new IA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.dragContainerTo=n.dragContainerTo,t};const MA=async e=>{const t=To();let n,o=e.ownerDocument,i=dp(e).getSelection();n=t?i&&i.anchorNode&&"#text"==i.anchorNode.nodeName&&"Range"==i.type&&e.contains(i.anchorNode):i&&i.baseNode&&"#text"==i.baseNode.nodeName&&"Range"==i.type&&(e.contains(i.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&mp(e)===t.ownerDocument}(e,i.baseNode)),n||(e.focus(),await fp(e)),i=dp(e).getSelection();const{domElements:s,strings:r,container:a}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="block",i.style.position="fixed",i.style.height="0px",i.style.width="0px",i.style.top="-500px",i.style.left="-500px",i.style.overflow="hidden",document.body.appendChild(i);const{domElements:s,strings:r}=Mv(i);return{domElements:s,strings:r,container:i}}({thisDocument:o,selection:i});return{domElements:s,strings:r,container:a,isSubtextSelected:n}};const OA=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:i}=Mv(n);return{domElements:o,strings:i,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};const RA=new DOMParser,NA=(e,t)=>{const n=document.createElement(t),o=Array.from(e.attributes),i=e.tagName;for(;e.firstChild;)n.appendChild(e.firstChild);return e.parentNode?.replaceChild(n,e),{tagName:i.toLowerCase(),attributes:o}},DA=e=>{const t=[],n=new Map;for(let o=0;o<e.length;++o){const i=e[o],s=RA.parseFromString(i,"text/html"),r=Array.from(s.querySelectorAll("body *:not(head):not(html)"));for(let e of r){const t=`a${n.size+1}`,o=NA(e,t);n.set(t,o)}const a=s.body.innerHTML;t.push(a)}return{map:n,simplifiedHtml:t}},PA=(e,t)=>{const n=RA.parseFromString(t,"text/html"),o=Array.from(n.querySelectorAll("body *:not(head):not(html)"));for(const t of o){const n=e.get(t.tagName.toLowerCase());if(!n)continue;const o=document.createElement(n.tagName);for(const e of n.attributes)o.setAttribute(e.name,e.value);for(;t.firstChild;)o.appendChild(t.firstChild);t.parentNode?.replaceChild(o,t)}return n.body.innerHTML};async function UA(e,t,n){!function(){var e;const t=window.getSelection();return(null==t?void 0:t.toString())===(null===(e=null==t?void 0:t.focusNode)||void 0===e?void 0:e.textContent)}()?await hv(e,t,n):await yp(e,t)}var GA=Object.freeze({__proto__:null,injectContent:async function(e,t,n){await UA(e,t,n)},reassemble:function(e,t){Rv({strings:t[0]?.texts,domElements:e.domElements});const n=new Map;let o=0,i=0;for(const t of e.container.children)1===t.children.length&&"BR"===t.children[0].nodeName?i++:(n.set(o,i),o++);const s={text:t[0]?.texts?t[0]?.texts.map(((e,t)=>{const o=n.get(t+1)??0;return e+"\n".repeat(o)})).join("\n"):"",html:e.container.innerHTML};return e.container.remove(),s},split:async function(e,t){const n=await MA(e);t&&(n.strings=n.domElements.map((e=>e.innerText)));const o=n.strings.map((e=>({text:e})));return{textConfig:n,requests:o}}});var HA=Object.freeze({__proto__:null,injectContent:async function(e,t,n){await UA(e,t,n)}});async function BA(e,t){const{isWriteRequest:n,targetLang:o,nicheIntegration:i,sourceLang:s,isHtml:r,clearInnerHTML:a,removeFormatting:l}={isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,removeFormatting:!1,...t};let c,d={},u=[];const p=!mv(e),m=(g=window.location.host).includes("web.whatsapp.com")?GA:g.includes("facebook.com")?HA:void 0;var g;if(m?.split){const t=await m.split(e,l);d=t.textConfig,u=t.requests}else if(p)d=await MA(e),l&&(d.strings=d.domElements.map((e=>e.innerText))),u=d.strings.map((e=>({text:e})));else{const t=e.value;gv(e)&&(d.isSubtextSelected=!0),c=d.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,u.push({text:c})}if(0===u.length)return;let h,f;if(s)h=s;else try{h=document.documentElement.lang}catch(e){console.error(e)}const _=DA(u.map((e=>e.text)));f=n?await Qn({action:Wn.dlRequestImproveWriting,payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,sourceLang:s,...r&&{isHtml:!0},nicheIntegration:i}}):await Qn({action:qn.dlRequestInputTranslation,payload:{requests:_.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:h,targetLang:o,platformBehavior:i}}),f=f.map((e=>({...e,text:PA(_.map,e.text),texts:e.texts.map((e=>PA(_.map,e)))})));let v={text:"",html:""};m?.reassemble?v=m.reassemble(d,f):p?(Rv({strings:f[0]?.texts,domElements:d.domElements}),v.text=d.container.innerText,v.html=Ci(d.container.innerHTML),d.container.remove()):(v.text=f[0].text,v.html=f[0].text),p&&!d.isSubtextSelected&&(e=>{const t=gp(e),n=up(e);if(Cp("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}Cp("keyup",e)})(e),a&&!d.isSubtextSelected&&(e.innerHTML=""),await hv(e,v,d.isSubtextSelected)}const zA="deepl-writing-ui-added",WA=5e3;function jA(e){let t,n,o,i,s,r,a,l;return{c(){t=ad("svg"),n=ad("g"),o=ad("path"),i=ad("path"),s=ad("path"),r=ad("defs"),a=ad("clipPath"),l=ad("rect"),gd(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),gd(o,"fill","#0F2B46"),gd(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),gd(i,"fill","white"),gd(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),gd(s,"fill","white"),gd(n,"clip-path","url(#clip0)"),gd(l,"width","18.5294"),gd(l,"height","19"),gd(l,"fill","white"),gd(l,"transform","matrix(-1 0 0 1 18.5294 0)"),gd(a,"id","clip0"),gd(t,"width",e[1]),gd(t,"height",e[0]),gd(t,"class","deepl-logo-icon"),gd(t,"viewBox","0 0 19 19"),gd(t,"fill","none"),gd(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){od(e,t,c),ed(t,n),ed(n,o),ed(n,i),ed(n,s),ed(t,r),ed(r,a),ed(a,l)},p(e,[n]){2&n&&gd(t,"width",e[1]),1&n&&gd(t,"height",e[0])},i:Ac,o:Ac,d(e){e&&id(t)}}}function FA(e,t,n){let{height:o="16px"}=t,{width:i="16px"}=t;return e.$$set=e=>{"height"in e&&n(0,o=e.height),"width"in e&&n(1,i=e.width)},[o,i]}class qA extends fu{constructor(e){super(),hu(this,e,FA,jA,Dc,{height:0,width:1})}}function VA(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=rd("div"),n=cd(),o=rd("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,i=cd(),s=rd("div"),r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=cd(),d=rd("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,gd(t,"class","close-icon svelte-1pm9ytz"),gd(o,"class","title svelte-1pm9ytz"),gd(s,"class","body svelte-1pm9ytz"),gd(l,"class","secondary svelte-1pm9ytz"),gd(d,"class","primary svelte-1pm9ytz"),gd(a,"class","footer svelte-1pm9ytz")},m(g,h){od(g,t,h),od(g,n,h),od(g,o,h),od(g,i,h),od(g,s,h),s.innerHTML=m,od(g,r,h),od(g,a,h),ed(a,l),ed(a,c),ed(a,d),u||(p=[ud(t,"click",e[3]),ud(l,"click",e[4]),ud(d,"click",e[5])],u=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&(id(t),id(n),id(o),id(i),id(s),id(r),id(a)),u=!1,Rc(p)}}}function ZA(e){let t,n,o,i,s,r,a,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=rd("div"),n=cd(),o=rd("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,i=cd(),s=rd("div"),r=cd(),a=rd("div"),l=rd("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,gd(t,"class","close-icon svelte-1pm9ytz"),gd(o,"class","title svelte-1pm9ytz"),gd(s,"class","body svelte-1pm9ytz"),gd(l,"class","primary svelte-1pm9ytz"),gd(a,"class","footer svelte-1pm9ytz")},m(p,m){od(p,t,m),od(p,n,m),od(p,o,m),od(p,i,m),od(p,s,m),s.innerHTML=u,od(p,r,m),od(p,a,m),ed(a,l),c||(d=[ud(t,"click",e[3]),ud(l,"click",e[5])],c=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&(id(t),id(n),id(o),id(i),id(s),id(r),id(a)),c=!1,Rc(d)}}}function YA(e){let t,n;return t=new lh({props:{error:{error:e[0]},close:e[3],config:{nicheIntegration:It.gmail}}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.error={error:e[0]}),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function XA(e){let t,n,o,i,s,r;const a=[YA,ZA,VA],l=[];function c(e,t){return e[2]?0:e[1]?1:2}return n=c(e),o=l[n]=a[n](e),{c(){t=rd("div"),o.c(),gd(t,"class","dl-gmail-character-limit-popup svelte-1pm9ytz"),gd(t,"dir",ns()),bd(t,"is-translator-limit",!e[2])},m(o,a){od(o,t,a),l[n].m(t,null),i=!0,s||(r=[qc(kp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),ud(t,"click_outside",e[9])],s=!0)},p(e,[s]){let r=n;n=c(e),n===r?l[n].p(e,s):(nu(),su(l[r],1,1,(()=>{l[r]=null})),ou(),o=l[n],o?o.p(e,s):(o=l[n]=a[n](e),o.c()),iu(o,1),o.m(t,null)),(!i||4&s)&&bd(t,"is-translator-limit",!e[2])},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),l[n].d(),s=!1,Rc(r)}}}function KA(e,t,n){let o,i;Uc(e,yu,(e=>n(8,i=e))),Nd("text_direction",ns());let{onCloseCharLimitPopup:s}=t,{cleanUpDOM:r}=t,{limitType:a}=t,l=!1,c=!1;const d=()=>{s&&s(),r&&r()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&n(6,s=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&n(7,r=e.cleanUpDOM),"limitType"in e&&n(0,a=e.limitType)},e.$$.update=()=>{1&e.$$.dirty&&n(2,o=a===Wu||a===ju),256&e.$$.dirty&&n(1,c=!0===i.isLoggedIn)},[a,c,o,d,()=>{l||(Qn({action:Zn.dlTrackUILocationClicked,payload:be}),l=!0,Qn({action:Hn.dlRequestLogin}).then((()=>{l=!1,d()})).catch((()=>{l=!1})))},()=>{Qn({action:Xn.dlExternalURLRedirect,payload:{destination:Rm,utmContent:"gmail_customization"}}),d()},s,r,i,()=>{d()}]}class QA extends fu{constructor(e){super(),hu(this,e,KA,XA,Dc,{onCloseCharLimitPopup:6,cleanUpDOM:7,limitType:0})}}class JA{static HTML_TAG_NAME="deepl-gmail-character-limit-popup";static createElement=(e=document)=>{const t=e.createElement(JA.HTML_TAG_NAME),n=new JA(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({onCloseCharLimitPopup:e,limitType:t})=>{this.mainComponent=new QA({target:this.domElement.shadowContainer,props:{cleanUpDOM:this.domElement.cleanupDOM,onCloseCharLimitPopup:e,limitType:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function eI(e){let t,n,o,i;const s=[oI,nI],r=[];function a(e,t){return e[9]?0:1}return n=a(e),o=r[n]=s[n](e),{c(){t=rd("div"),o.c(),gd(t,"class","dl-gmail-translate-toolbar svelte-eo75ae"),bd(t,"hasLoaded",e[4]),bd(t,"isExpanded",e[5])},m(e,o){od(e,t,o),r[n].m(t,null),i=!0},p(e,l){let c=n;n=a(e),n===c?r[n].p(e,l):(nu(),su(r[c],1,1,(()=>{r[c]=null})),ou(),o=r[n],o?o.p(e,l):(o=r[n]=s[n](e),o.c()),iu(o,1),o.m(t,null)),(!i||16&l[0])&&bd(t,"hasLoaded",e[4]),(!i||32&l[0])&&bd(t,"isExpanded",e[5])},i(e){i||(iu(o),i=!0)},o(e){su(o),i=!1},d(e){e&&id(t),r[n].d()}}}function tI(e){let t,n,o,i,s,r,a,l,c;return o=new Np({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[15].z_index,$$slots:{default:[lI]},$$scope:{ctx:e}}}),r=new Np({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[15].z_index,$$slots:{default:[cI]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("div"),pu(o.$$.fragment),i=cd(),s=rd("div"),pu(r.$$.fragment),gd(n,"class","wrapper undo-wrapper svelte-eo75ae"),gd(s,"class","wrapper accept-wrapper svelte-eo75ae"),gd(t,"class","accept-changes svelte-eo75ae")},m(d,u){od(d,t,u),ed(t,n),mu(o,n,null),ed(t,i),ed(t,s),mu(r,s,null),a=!0,l||(c=[qc(kp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),ud(t,"click_outside",e[18])],l=!0)},p(e,t){const n={};33554432&t[1]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const i={};33554432&t[1]&&(i.$$scope={dirty:t,ctx:e}),r.$set(i)},i(e){a||(iu(o.$$.fragment,e),iu(r.$$.fragment,e),a=!0)},o(e){su(o.$$.fragment,e),su(r.$$.fragment,e),a=!1},d(e){e&&id(t),gu(o),gu(r),l=!1,Rc(c)}}}function nI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b;return s=new jp({props:{selectedOption:e[1],items:e[8],placeholder:"...",allowLabelHtml:!0}}),s.$on("valueselected",e[22]),p=new hf({props:{value:e[13]||e[2].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[23]),h=new Np({props:{isEnabled:e[14],tooltip:chrome.i18n.getMessage("contact_admin_info_translate_disabled"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[sI]},$$scope:{ctx:e}}}),T=new Np({props:{isEnabled:!0,tooltip:so(e[2],Zt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang"),zIndex:e[15].z_index,multiline:!0,$$slots:{default:[aI]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("div"),n.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,o=cd(),i=rd("div"),pu(s.$$.fragment),r=cd(),a=rd("div"),l=rd("div"),l.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,c=cd(),d=rd("div"),u=rd("div"),pu(p.$$.fragment),m=cd(),g=rd("div"),pu(h.$$.fragment),f=cd(),_=rd("div"),v=cd(),w=rd("div"),pu(T.$$.fragment),gd(n,"class","translation-label svelte-eo75ae"),gd(i,"class","wrapper shortcode-wrapper svelte-eo75ae"),gd(t,"class","translation-selection-wrapper svelte-eo75ae"),gd(l,"class","translation-label svelte-eo75ae"),gd(u,"class","dropdown"),gd(d,"class","wrapper language-wrapper svelte-eo75ae"),gd(a,"class","translation-selection-wrapper svelte-eo75ae"),gd(g,"class","wrapper button-wrapper"),gd(_,"class","divider svelte-eo75ae"),gd(w,"class","wrapper button-wrapper")},m(e,y){od(e,t,y),ed(t,n),ed(t,o),ed(t,i),mu(s,i,null),od(e,r,y),od(e,a,y),ed(a,l),ed(a,c),ed(a,d),ed(d,u),mu(p,u,null),od(e,m,y),od(e,g,y),mu(h,g,null),od(e,f,y),od(e,_,y),od(e,v,y),od(e,w,y),mu(T,w,null),b=!0},p(e,t){const n={};2&t[0]&&(n.selectedOption=e[1]),256&t[0]&&(n.items=e[8]),s.$set(n);const o={};8196&t[0]&&(o.value=e[13]||e[2].targetLanguageUserInput),p.$set(o);const i={};16384&t[0]&&(i.isEnabled=e[14]),24644&t[0]|33554432&t[1]&&(i.$$scope={dirty:t,ctx:e}),h.$set(i);const r={};4&t[0]&&(r.tooltip=so(e[2],Zt.WRITE)?chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin"):chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")),196&t[0]|33554432&t[1]&&(r.$$scope={dirty:t,ctx:e}),T.$set(r)},i(e){b||(iu(s.$$.fragment,e),iu(p.$$.fragment,e),iu(h.$$.fragment,e),iu(T.$$.fragment,e),b=!0)},o(e){su(s.$$.fragment,e),su(p.$$.fragment,e),su(h.$$.fragment,e),su(T.$$.fragment,e),b=!1},d(e){e&&(id(t),id(r),id(a),id(m),id(g),id(f),id(_),id(v),id(w)),gu(s),gu(p),gu(h),gu(T)}}}function oI(e){let t,n;return t=new Wv({}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p:Ac,i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function iI(e){let t,n;return t=new cb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function sI(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("gmail_compose_translate_button")+"",c=oo(e[2],Zt.TRANSLATOR),d=c&&iI();return{c(){t=rd("button"),n=ld(l),o=cd(),d&&d.c(),t.disabled=i=e[6]||!e[13]||e[14],gd(t,"class","svelte-eo75ae"),bd(t,"isTranslating",e[6])},m(i,l){od(i,t,l),ed(t,n),ed(t,o),d&&d.m(t,null),s=!0,r||(a=ud(t,"mousedown",md(pd(e[16]))),r=!0)},p(e,n){4&n[0]&&(c=oo(e[2],Zt.TRANSLATOR)),c?d?4&n[0]&&iu(d,1):(d=iI(),d.c(),iu(d,1),d.m(t,null)):d&&(nu(),su(d,1,1,(()=>{d=null})),ou()),(!s||24640&n[0]&&i!==(i=e[6]||!e[13]||e[14]))&&(t.disabled=i),(!s||64&n[0])&&bd(t,"isTranslating",e[6])},i(e){s||(iu(d),s=!0)},o(e){su(d),s=!1},d(e){e&&id(t),d&&d.d(),r=!1,a()}}}function rI(e){let t,n;return t=new cb({props:{size:16,marginStart:8,alternateColor:"white"}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function aI(e){let t,n,o,i,s,r,a,l=chrome.i18n.getMessage("gmail_compose_improve_button")+"",c=oo(e[2],Zt.WRITE),d=c&&rI();return{c(){t=rd("button"),n=ld(l),o=cd(),d&&d.c(),t.disabled=i=so(e[2],Zt.WRITE)||e[6]||!e[7],gd(t,"class","svelte-eo75ae"),bd(t,"isTranslating",e[6])},m(i,l){od(i,t,l),ed(t,n),ed(t,o),d&&d.m(t,null),s=!0,r||(a=ud(t,"mousedown",md(pd(e[17]))),r=!0)},p(e,n){4&n[0]&&(c=oo(e[2],Zt.WRITE)),c?d?4&n[0]&&iu(d,1):(d=rI(),d.c(),iu(d,1),d.m(t,null)):d&&(nu(),su(d,1,1,(()=>{d=null})),ou()),(!s||196&n[0]&&i!==(i=so(e[2],Zt.WRITE)||e[6]||!e[7]))&&(t.disabled=i),(!s||64&n[0])&&bd(t,"isTranslating",e[6])},i(e){s||(iu(d),s=!0)},o(e){su(d),s=!1},d(e){e&&id(t),d&&d.d(),r=!1,a()}}}function lI(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',gd(t,"class","confirm-button svelte-eo75ae")},m(i,s){od(i,t,s),n||(o=ud(t,"click",md(pd(e[19]))),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function cI(e){let t,n,o;return{c(){t=rd("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-eo75ae"></path></svg>',gd(t,"class","confirm-button right svelte-eo75ae")},m(i,s){od(i,t,s),n||(o=ud(t,"click",md(pd(e[18]))),n=!0)},p:Ac,d(e){e&&id(t),n=!1,o()}}}function dI(e){let t,n,o,i,s,r,a,l,c,d,u,p;const m=[tI,eI],g=[];function h(e,t){return e[3]?0:1}return o=h(e),i=g[o]=m[o](e),l=new qA({props:{height:"20px",width:"20px"}}),{c(){t=rd("div"),n=rd("div"),i.c(),s=cd(),r=rd("div"),a=rd("div"),pu(l.$$.fragment),gd(a,"class","wrapper icon-wrapper svelte-eo75ae"),gd(r,"class","dl-toolbar-closed svelte-eo75ae"),gd(n,"class","dl-toolbar-positioner svelte-eo75ae"),gd(t,"class","deepl-gmail-write-toolbar svelte-eo75ae"),gd(t,"style",c=`top: ${e[10]}px; left: ${e[11]}px`),gd(t,"dir",ns())},m(i,c){od(i,t,c),ed(t,n),g[o].m(n,null),ed(n,s),ed(n,r),ed(r,a),mu(l,a,null),d=!0,u||(p=[ud(a,"click",e[24]),ud(t,"click",md(pd(e[25]))),qc(kp.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),ud(t,"click_outside",e[26])],u=!0)},p(e,r){let a=o;o=h(e),o===a?g[o].p(e,r):(nu(),su(g[a],1,1,(()=>{g[a]=null})),ou(),i=g[o],i?i.p(e,r):(i=g[o]=m[o](e),i.c()),iu(i,1),i.m(n,s)),(!d||3072&r[0]&&c!==(c=`top: ${e[10]}px; left: ${e[11]}px`))&&gd(t,"style",c)},i(e){d||(iu(i),iu(l.$$.fragment,e),d=!0)},o(e){su(i),su(l.$$.fragment,e),d=!1},d(e){e&&id(t),g[o].d(),gu(l),u=!1,Rc(p)}}}function uI(e,t,n){let o,i;Uc(e,yu,(e=>n(2,i=e))),Nd("text_direction",ns());const{deepl_inline_ui:s}=P;let{messageContainer:r}=t,{updateLockStatus:a}=t,{subjectInput:l}=t;const c="WRITE",d="TRANSLATE";let u,p,m,g,h,f,_,v,w,T,b,y,E,$,x=null,S=!1,C=!1,L=!1,k=!1;Nd("deepl_settings",yu),Md((async()=>{r&&(r.addEventListener("input",I),r.addEventListener("paste",I),r.classList.add("deepl-gmail-message-container"),A(),l&&l.value&&(f=l.value)),n(8,g=jI()),n(13,$=i.targetLanguageUserInput),B(),j(),window.addEventListener("popstate",R)})),Od((()=>{window.removeEventListener("popstate",R),r.removeEventListener("input",I),r.removeEventListener("paste",I),r.classList.remove("deepl-gmail-message-container"),z()}));const A=async()=>{const e=Ci(r.innerHTML),t=e.replace(/<[^>]+>/g,"");const o=await Yi(t);o.length&&(e=>{const t=g.find((t=>t.value===e));t&&n(1,x=t)})(o)},I=()=>{S&&O(!1),M()},M=()=>{A()},O=(e,t)=>{if(!e)return n(3,S=!1),p=null,void(u=null);n(3,S=!0),p=t},R=()=>{document.querySelectorAll(JA.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},N=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},D=e=>{const t=N(r);t&&(_=JA.createElement(),_.createDOM({onCloseCharLimitPopup:R,limitType:e}),t.appendChild(_))},U=()=>{n(9,v=!0)},G=()=>{n(9,v=!1)},H=e=>{ef.update({error:e.message?e.message:e})},B=()=>{w=setInterval(W,800)},z=()=>{clearInterval(w)},W=()=>{const e=JSON.stringify(r.getBoundingClientRect());e!==T&&(T=e,j())},j=()=>{const e=ns(),t=N(r),o=t.getBoundingClientRect();if(!t||!o)return;const i=(()=>{const e=N(r),t=e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")})(),s=(()=>{const e=N(r),t=e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=n.querySelectorAll("[role='button']");if(!n||!o)return;const i=Array.from(o);return i[i.length-1]})();if(i&&0!==i.getBoundingClientRect().top){const t=i.getBoundingClientRect();return s&&s.getBoundingClientRect()?(n(10,b=t.top-10),void n(11,y="ltr"===e?s.getBoundingClientRect().right-30:s.getBoundingClientRect().right+30)):(n(10,b=t.top-10),void n(11,y="ltr"===e?o.right-45:o.left+45))}if(!s||!s.getBoundingClientRect())return;const a=s.getBoundingClientRect();n(10,b=a.top-18),n(11,y="ltr"===e?a.right-30:a.right+30)},F=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:It.gmail,trigger:Pn}},q=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{u={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:It.gmail}},V=e=>{const t=e?rn:an;Qn({action:Zn.dlTrackTranslateAcceptOrRevertEvent,payload:{eventType:t,acceptOrRevertMetadata:u}})},Z=e=>{Qn({action:Zn.dlTrackGmailCharLimitReached,payload:{gmailActionType:AT(e)}})};return e.$$set=e=>{"messageContainer"in e&&n(20,r=e.messageContainer),"updateLockStatus"in e&&n(0,a=e.updateLockStatus),"subjectInput"in e&&n(21,l=e.subjectInput)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(8,g=jI(x)),2&e.$$.dirty[0]&&x&&x.value&&n(7,k=es(x.value)),4&e.$$.dirty[0]&&n(14,o=so(i,Zt.TRANSLATOR))},[a,x,i,S,C,L,m,k,g,v,b,y,E,$,o,s,async()=>{if(!r)return;h=Ci(r.innerHTML);const e=l&&l.value;e&&(f=l.value);const t=r.innerText,o=t.length>WA;if(!oo(i,Zt.TRANSLATOR)&&o)return D(),void Z(gn);U();const s=E?E.value:x.value;try{if(await BA(r,{targetLang:$,nicheIntegration:It.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await Qn({action:qn.dlRequestInputTranslation,payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:s,targetLang:$,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;n(21,l.value=t,l)}}n(6,m=!1),O(!0,d),G(),q({sourceLang:s,targetLang:$,sourceLength:t.length,targetLength:r.innerText.length})}catch(e){H(e),G(),n(6,m=!1),O(!1)}},async()=>{if(!r)return;const e=l&&l.value;h=Ci(r.innerHTML),e&&(f=l.value);const t=r.innerText;n(6,m=!0),U();const o=x.value,i="FR"===o||"ES"===o;try{if(await BA(r,{isWriteRequest:!0,sourceLang:o,nicheIntegration:It.gmail,isHtml:!0,clearInnerHTML:!0,removeFormatting:i}),e){const e=await Qn({action:Wn.dlRequestImproveWriting,payload:{requests:[{text:l.value}],domainName:window.location.hostname,websiteLanguage:o,sourceLang:o,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;n(21,l.value=t,l)}}F({lang:o,sourceLength:t.length,targetLength:r.innerText.length}),n(6,m=!1),O(!0,c),G()}catch(e){switch(e.error){case Wu:case ju:D(e.error),Z(hn);break;default:H(e)}n(6,m=!1),O(!1),G()}},()=>{p===d?V(!0):HR({eventType:nn,...u}),h=null,f=null,O(!1),A(),n(5,L=!1)},()=>{p===d?V(!1):HR({eventType:on,...u}),n(20,r.innerHTML=Ci(h),r),l&&f&&n(21,l.value=f,l),A(),O(!1)},r,l,e=>{n(12,E=e.detail.selectedOption)},async e=>{n(13,$=e.detail.selectedOption.value)},()=>{a(!0),n(5,L=!L),n(4,C=!0)},()=>{a(!0)},()=>{a(!1),n(5,L=!1)}]}class pI extends fu{constructor(e){super(),hu(this,e,uI,dI,Dc,{messageContainer:20,updateLockStatus:0,subjectInput:21},null,[-1,-1])}}class mI{static HTML_TAG_NAME="deepl-gmail-message-write-ui";static createElement=(e=document)=>{const t=e.createElement(mI.HTML_TAG_NAME),n=new mI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e,subjectInput:t,updateLockStatus:n})=>{this.mainComponent=new pI({target:this.domElement.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function gI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w,T,b=e[3]&&hI(),y=null!=e[5]&&fI(e);return c=new hf({props:{disabled:e[0],websiteSettings:ef,value:e[1].selectedTargetLanguage,extraPadding:!0}}),c.$on("selection",e[16]),p=new Np({props:{tooltip:chrome.i18n.getMessage("gmail_reading_translate_button"),multiline:!1,zIndex:3,isEnabled:e[8]<bI,$$slots:{default:[_I]},$$scope:{ctx:e}}}),h=new Np({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:3,$$slots:{default:[vI]},$$scope:{ctx:e}}}),v=new Np({props:{tooltip:chrome.i18n.getMessage("gmail_reading_forward_button"),multiline:!1,zIndex:2,isEnabled:e[8]<bI,$$slots:{default:[wI]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("div"),o=rd("span"),i=cd(),b&&b.c(),s=cd(),r=rd("div"),y&&y.c(),a=cd(),l=rd("div"),pu(c.$$.fragment),d=cd(),u=rd("div"),pu(p.$$.fragment),m=cd(),g=rd("div"),pu(h.$$.fragment),f=cd(),_=rd("div"),pu(v.$$.fragment),gd(o,"class","deepl-logo svelte-1lme20r"),gd(r,"class","language-selection-wrapper svelte-1lme20r"),gd(l,"class","language-selection-wrapper svelte-1lme20r"),gd(n,"class","left-side svelte-1lme20r"),gd(_,"class","right-side svelte-1lme20r"),gd(t,"class","dl-gmail-email-toolbar svelte-1lme20r"),gd(t,"dir",ns()),Fd((()=>e[17].call(t))),bd(t,"smallMode",e[8]<bI)},m(E,$){od(E,t,$),ed(t,n),ed(n,o),ed(n,i),b&&b.m(n,null),ed(n,s),ed(n,r),y&&y.m(r,null),ed(n,a),ed(n,l),mu(c,l,null),ed(n,d),ed(n,u),mu(p,u,null),ed(n,m),ed(n,g),mu(h,g,null),ed(t,f),ed(t,_),mu(v,_,null),w=function(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=rd("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=Td();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=ud(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=ud(n.contentWindow,"resize",t),t()}),ed(e,n),()=>{(o||i&&n.contentWindow)&&i(),id(n)}}(t,e[17].bind(t)),T=!0},p(e,o){e[3]?b?8&o[0]&&iu(b,1):(b=hI(),b.c(),iu(b,1),b.m(n,s)):b&&(nu(),su(b,1,1,(()=>{b=null})),ou()),null!=e[5]?y?(y.p(e,o),32&o[0]&&iu(y,1)):(y=fI(e),y.c(),iu(y,1),y.m(r,null)):y&&(nu(),su(y,1,1,(()=>{y=null})),ou());const i={};1&o[0]&&(i.disabled=e[0]),2&o[0]&&(i.value=e[1].selectedTargetLanguage),c.$set(i);const a={};256&o[0]&&(a.isEnabled=e[8]<bI),1&o[0]|8&o[1]&&(a.$$scope={dirty:o,ctx:e}),p.$set(a);const l={};4&o[0]|8&o[1]&&(l.$$scope={dirty:o,ctx:e}),h.$set(l);const d={};256&o[0]&&(d.isEnabled=e[8]<bI),4&o[0]|8&o[1]&&(d.$$scope={dirty:o,ctx:e}),v.$set(d),(!T||256&o[0])&&bd(t,"smallMode",e[8]<bI)},i(e){T||(iu(b),iu(y),iu(c.$$.fragment,e),iu(p.$$.fragment,e),iu(h.$$.fragment,e),iu(v.$$.fragment,e),T=!0)},o(e){su(b),su(y),su(c.$$.fragment,e),su(p.$$.fragment,e),su(h.$$.fragment,e),su(v.$$.fragment,e),T=!1},d(e){e&&id(t),b&&b.d(),y&&y.d(),gu(c),gu(p),gu(h),gu(v),w()}}}function hI(e){let t,n;return t=new cb({props:{size:24,translator:!0}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function fI(e){let t,n;return t=new hf({props:{disabled:e[0],value:e[5],websiteSettings:ef,customClass:"borderless",fontSize:"sm",extraPadding:!0}}),t.$on("selection",e[15]),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),32&n[0]&&(o.value=e[5]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function _I(e){let t,n,o,i,s,r;return{c(){t=rd("button"),n=rd("div"),n.innerHTML='<svg width="20px" height="20px" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path id="Icon" d="M1.5 3.16667H11.5M6.5 1.5V3.16667M7.37349 11.0833C6.10069 9.76482 5.06727 8.21371 4.34322 6.5M9.41667 14H15.25M8.16667 16.5L12.3333 8.16667L16.5 16.5M9.62594 3.16667C8.81922 7.97518 5.72474 12.0079 1.5 14.1075" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=cd(),i=rd("span"),i.textContent=`${chrome.i18n.getMessage("gmail_reading_translate_button")}`,gd(n,"class","icon svelte-1lme20r"),gd(i,"class","svelte-1lme20r"),gd(t,"class","translate-button svelte-1lme20r"),t.disabled=e[0],gd(t,"paddingx","none")},m(a,l){od(a,t,l),ed(t,n),ed(t,o),ed(t,i),s||(r=ud(t,"click",md(pd(e[10]))),s=!0)},p(e,n){1&n[0]&&(t.disabled=e[0])},d(e){e&&id(t),s=!1,r()}}}function vI(e){let t,n,o,i,s,r;return{c(){t=rd("button"),n=ad("svg"),o=ad("path"),gd(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),gd(o,"stroke",i=e[2]?"#000":"#848F9B"),gd(o,"stroke-width","1.5"),gd(o,"stroke-linecap","round"),gd(o,"stroke-linejoin","round"),gd(n,"width","24"),gd(n,"height","24"),gd(n,"viewBox","0 0 24 24"),gd(n,"fill","none"),gd(n,"xmlns","http://www.w3.org/2000/svg"),gd(n,"class","svelte-1lme20r"),gd(t,"class","show-original-button svelte-1lme20r"),gd(t,"paddingx","none"),bd(t,"enabled",e[2])},m(i,a){od(i,t,a),ed(t,n),ed(n,o),s||(r=ud(t,"click",md(pd(e[9]))),s=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&gd(o,"stroke",i),4&n[0]&&bd(t,"enabled",e[2])},d(e){e&&id(t),s=!1,r()}}}function wI(e){let t,n,o,i,s,r,a,l,c;return{c(){t=rd("button"),n=ad("svg"),o=ad("path"),s=cd(),r=rd("span"),r.textContent=`${chrome.i18n.getMessage("gmail_reading_forward_button")}`,gd(o,"d","M17 8L21 12M21 12L17 16M21 12L3 12"),gd(o,"stroke",i=e[2]?"#000":"#848F9B"),gd(o,"stroke-width","1.5"),gd(o,"stroke-linecap","round"),gd(o,"stroke-linejoin","round"),gd(n,"width","24"),gd(n,"height","24"),gd(n,"viewBox","0 0 24 24"),gd(n,"fill","none"),gd(n,"xmlns","http://www.w3.org/2000/svg"),gd(n,"class","svelte-1lme20r"),gd(r,"class","svelte-1lme20r"),t.disabled=a=!e[2],gd(t,"class","forward-button svelte-1lme20r"),gd(t,"paddingx","none")},m(i,a){od(i,t,a),ed(t,n),ed(n,o),ed(t,s),ed(t,r),l||(c=ud(t,"click",e[11]),l=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&gd(o,"stroke",i),4&n[0]&&a!==(a=!e[2])&&(t.disabled=a)},d(e){e&&id(t),l=!1,c()}}}function TI(e){let t,n,o=e[6]&&e[7]&&gI(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,n){e[6]&&e[7]?o?(o.p(e,n),192&n[0]&&iu(o,1)):(o=gI(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}const bI=900;function yI(e,t,n){let o,i,s,r,a,l,c,d,u;Uc(e,yu,(e=>n(1,o=e))),Nd("text_direction",ns());let p,m,g,h,f,_=!1,v=!1,w=!1,T=!1,b=!1,{container:y}=t;Md((async()=>{L(),k(),await S(),n(4,p=o.selectedTargetLanguage),setTimeout((()=>{n(7,b=!0)}),200),window.addEventListener("popstate",x)})),Od((()=>{window.removeEventListener("popstate",x)}));const E=()=>{i.innerText=s.innerText,i.innerHTML=Ci(s.innerHTML),c.innerText=l,n(13,v=!1)},$=e=>{c&&(e?c.classList.add("deepl-gmail-loading-skeleton"):c.classList.remove("deepl-gmail-loading-skeleton"))},x=()=>{document.querySelectorAll(JA.HTML_TAG_NAME).forEach((e=>{e.cleanupDOM,e.remove()}))},S=async()=>{if(!r)return;if(d=await Yi(r),n(6,h=Vi(d)),!h)return;const e=Qi(Zi(d));n(5,g=e)},C=async()=>{const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;const o=Ci(i.innerHTML);if(_)t=o;else{t=`${o}<br>${`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`}`}const s=(new DOMParser).parseFromString(t,"text/html"),r={html:t,text:cp(s.body)},a=document.querySelector("[contenteditable='true']");a.focus(),setTimeout((()=>{a.focus(),xp(a,r,!1),n(14,T=!1)}),500)},L=()=>{const e=Array.from(y.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(s=o.cloneNode(!0),i=o,r=o.innerText)},k=()=>{const e=document.querySelector("[data-thread-perm-id]");e&&(c=e,a=e.innerText,l=e.innerText)};return e.$$set=e=>{"container"in e&&n(12,y=e.container)},e.$$.update=()=>{24577&e.$$.dirty[0]&&n(2,u=v&&!w&&!T),2&e.$$.dirty[0]&&n(3,_=oo(o,Zt.TRANSLATOR))},[w,o,u,_,p,g,h,b,f,E,async()=>{if(!i)return;const{domElements:e,strings:t,cloneContainer:o}=OA(i),s=t.reduce(((e,t)=>e+t.length),0);if(!_&&s>WA)return Qn({action:Zn.dlTrackGmailCharLimitReached,payload:{gmailActionType:AT(mn)}}),m=JA.createElement(),m.createDOM({onCloseCharLimitPopup:x}),void document.body.appendChild(m);n(0,w=!0);const r=t.map((e=>({text:e}))),l=[{text:a}],d=DA(r.map((e=>e.text)));(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${i=35,s=99,Math.floor(Math.random()*(s-i+1))+i}%" class="deepl-gmail-loading-skeleton">line</div>`);var i,s;e.innerHTML=Ci(o.join(""))})(i),$(!0);try{let[t,s]=await Promise.all([Qn({action:qn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:p,sourceLang:g,requests:d.simplifiedHtml.map((e=>({text:e}))),domainName:window.location.hostname}}),Qn({action:qn.dlRequestGmailReceivedEmailTranslation,payload:{targetLang:p,sourceLang:g,requests:l,domainName:window.location.hostname}})]);if(t=t.map((e=>({...e,text:PA(d.map,e.text),texts:e.texts.map((e=>PA(d.map,e)))}))),Rv({strings:t[0]?.texts,domElements:e}),i.innerText=o.innerText,i.innerHTML=Ci(o.innerHTML),$(!1),s[0]?.text){const e=s[0]?.text;a=e,c.innerText=e}n(0,w=!1),n(13,v=!0)}catch(e){(e=>{ef.update({error:e.message?e.message:e})})(e),n(0,w=!1),E()}},()=>{n(14,T=!0);if(!YI())return void n(14,T=!1);const e=XI();e?(e.scrollIntoView(),setTimeout((()=>{VI(e),ZI("[contenteditable='true']",C)}),300)):n(14,T=!1)},y,v,T,e=>{n(5,g=e.detail.selectedOption.value)},e=>{n(4,p=e.detail.selectedOption.value)},function(){f=this.offsetWidth,n(8,f)}]}let EI=class extends fu{constructor(e){super(),hu(this,e,yI,TI,Dc,{container:12},null,[-1,-1])}};class $I{static HTML_TAG_NAME="deepl-gmail-translate-email-toolbar";static createElement=(e=document)=>{const t=e.createElement($I.HTML_TAG_NAME),n=new $I(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.container=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=({container:e})=>{this.mainComponent=new EI({target:this.domElement.shadowContainer,props:{container:e}})};cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function xI(e){let t;return{c(){t=rd("div"),gd(t,"class","dot svelte-o9amr0")},m(e,n){od(e,t,n)},d(e){e&&id(t)}}}function SI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m=!e[0].wasGmailOnboardingShown&&CI();return c=new xS({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[6]),{c(){t=rd("div"),n=rd("div"),m&&m.c(),o=cd(),i=rd("div"),s=rd("div"),r=rd("div"),r.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,a=cd(),l=rd("div"),pu(c.$$.fragment),gd(n,"class","svelte-o9amr0"),bd(n,"content",!e[0].wasGmailOnboardingShown),gd(r,"class","switch-content svelte-o9amr0"),gd(l,"class","switch"),gd(s,"class","switch-container svelte-o9amr0"),bd(s,"topBorder",!e[0].wasGmailOnboardingShown),gd(i,"class","footer"),gd(t,"class","onboarding-popup svelte-o9amr0")},m(g,h){od(g,t,h),ed(t,n),m&&m.m(n,null),ed(t,o),ed(t,i),ed(i,s),ed(s,r),ed(s,a),ed(s,l),mu(c,l,null),d=!0,u||(p=[qc(kp.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),ud(t,"click_outside",e[7])],u=!0)},p(e,t){e[0].wasGmailOnboardingShown?m&&(nu(),su(m,1,1,(()=>{m=null})),ou()):m?(m.p(e,t),1&t&&iu(m,1)):(m=CI(),m.c(),iu(m,1),m.m(n,null)),(!d||1&t)&&bd(n,"content",!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&bd(s,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(iu(m),iu(c.$$.fragment,e),d=!0)},o(e){su(m),su(c.$$.fragment,e),d=!1},d(e){e&&id(t),m&&m.d(),gu(c),u=!1,Rc(p)}}}function CI(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w;return r=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new vf({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=rd("div"),n=rd("p"),n.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,o=cd(),i=rd("div"),s=rd("div"),pu(r.$$.fragment),a=cd(),l=rd("div"),l.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,c=cd(),d=rd("div"),pu(u.$$.fragment),p=cd(),m=rd("div"),m.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,g=cd(),h=rd("div"),pu(f.$$.fragment),_=cd(),v=rd("div"),v.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,gd(n,"class","svelte-o9amr0"),gd(t,"class","title svelte-o9amr0"),gd(l,"class","copy-text svelte-o9amr0"),gd(s,"class","copy svelte-o9amr0"),gd(m,"class","copy-text svelte-o9amr0"),gd(d,"class","copy svelte-o9amr0"),gd(v,"class","copy-text svelte-o9amr0"),gd(h,"class","copy svelte-o9amr0"),gd(i,"class","body svelte-o9amr0")},m(e,T){od(e,t,T),ed(t,n),od(e,o,T),od(e,i,T),ed(i,s),mu(r,s,null),ed(s,a),ed(s,l),ed(i,c),ed(i,d),mu(u,d,null),ed(d,p),ed(d,m),ed(i,g),ed(i,h),mu(f,h,null),ed(h,_),ed(h,v),w=!0},p:Ac,i(e){w||(iu(r.$$.fragment,e),iu(u.$$.fragment,e),iu(f.$$.fragment,e),w=!0)},o(e){su(r.$$.fragment,e),su(u.$$.fragment,e),su(f.$$.fragment,e),w=!1},d(e){e&&(id(t),id(o),id(i)),gu(r),gu(u),gu(f)}}}function LI(e){let t,n,o,i,s,r,a,l=e[2]&&xI(),c=e[1]&&SI(e);return{c(){t=rd("div"),n=rd("div"),o=cd(),l&&l.c(),i=cd(),c&&c.c(),gd(n,"class","icon svelte-o9amr0"),gd(n,"id","dl-gmail-settings-icon"),bd(n,"notification",e[2]),bd(n,"isOnboardingPopupOpen",e[1]),bd(n,"enabled",e[0].isGmailEnabled),gd(t,"class","deepl-gmail-header-toolbar svelte-o9amr0"),gd(t,"dir",ns())},m(d,u){od(d,t,u),ed(t,n),ed(t,o),l&&l.m(t,null),ed(t,i),c&&c.m(t,null),s=!0,r||(a=ud(n,"click",md(pd(e[5]))),r=!0)},p(e,[o]){(!s||4&o)&&bd(n,"notification",e[2]),(!s||2&o)&&bd(n,"isOnboardingPopupOpen",e[1]),(!s||1&o)&&bd(n,"enabled",e[0].isGmailEnabled),e[2]?l||(l=xI(),l.c(),l.m(t,i)):l&&(l.d(1),l=null),e[1]?c?(c.p(e,o),2&o&&iu(c,1)):(c=SI(e),c.c(),iu(c,1),c.m(t,null)):c&&(nu(),su(c,1,1,(()=>{c=null})),ou())},i(e){s||(iu(c),s=!0)},o(e){su(c),s=!1},d(e){e&&id(t),l&&l.d(),c&&c.d(),r=!1,a()}}}function kI(e,t,n){let o;Uc(e,yu,(e=>n(0,o=e))),Nd("text_direction",ns());let i=!1,s=!1;const r=async e=>{n(1,i=e),e||o.wasGmailOnboardingShown||await yu.set({wasGmailOnboardingShown:!0}),Qn({action:Zn.dlTrackUILocationClicked,payload:Te}),e&&Qn({action:Zn.dlTrackOnboardingModalShown,payload:{nicheIntegration:It.gmail}})},a=async e=>{await yu.set({isGmailEnabled:e}),Qn({action:Zn.dlTrackCustomizationEnabledEvent,payload:{nicheIntegration:It.gmail,uiLocation:we,customizationEnabled:e}})};return e.$$.update=()=>{1&e.$$.dirty&&n(2,s=!o.wasGmailOnboardingShown)},[o,i,s,r,a,()=>{r(!i)},e=>a(e.detail.checked),()=>{r(!1)}]}class AI extends fu{constructor(e){super(),hu(this,e,kI,LI,Dc,{})}}class II{static HTML_TAG_NAME="deepl-gmail-header-toolbar";static createElement=(e=document)=>{const t=e.createElement(II.HTML_TAG_NAME),n=new II(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t};constructor(e){this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM=()=>{this.domElement.mainComponent=new AI({target:this.domElement.shadowContainer})};cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}function MI(e){let t;return{c(){t=rd("div"),gd(t,"class","dl-gmail"),gd(t,"dir",ns())},m(e,n){od(e,t,n)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t)}}}function OI(e,t,n){let o,i,s,r,a;Uc(e,yu,(e=>n(5,o=e))),Nd("text_direction",ns());let l=!1;const c=()=>{p(),o.isGmailEnabled?d():u()},d=()=>{m(),g()},u=()=>{const e=[JA.HTML_TAG_NAME,$I.HTML_TAG_NAME,mI.HTML_TAG_NAME];UI(e)},p=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const i=II.createElement();o.insertAdjacentElement("afterend",i),i.createDOM(),t.setAttribute(e,!0)},m=()=>{if(GI()){const e=HI();if(!e)return;e.forEach((e=>{const t=WI(e);if(!t||BI(e))return;const n=t.parentNode;if(!n)return;const o=$I.createElement();n.after(o),o.createDOM({container:e})}))}},g=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=zI(e),o=e.hasAttribute(zA),i=e!==r,s=!a&&(!t||n||i),c=t&&(!o||i)&&!n;!s||c||l?(l=!1,s&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=mI.createElement();s=t,r=e,e.setAttribute(zA,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:_})},f=()=>{s&&s.cleanupDOM();const e=Array.from(document.querySelectorAll(mI.HTML_TAG_NAME));for(const t of e)t.remove();document.querySelectorAll(`[contenteditable][${zA}="true"]`).forEach((e=>e.removeAttribute(zA))),s=null},_=e=>{a=e},v=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?w():T();return!0},w=()=>{i&&clearInterval(i),i=setInterval(c,800)},T=()=>{clearInterval(i)};return Md((()=>{w(),chrome.runtime.onMessage.addListener(v)})),Od((()=>{u(),i&&T(),chrome.runtime.onMessage.removeListener(v)})),[]}class RI extends fu{constructor(e){super(),hu(this,e,OI,MI,Dc,{})}}class NI{constructor(e){this.createDOM=()=>{this.domElement.mainComponent=new RI({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this}})},this.cleanupDOM=()=>{this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()},this.showOnboarding=()=>{this.domElement.mainComponent.showOnboarding()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div");const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer),this.domElement.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.domElement.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}}NI.HTML_TAG_NAME="deepl-gmail-controller",NI.createElement=(e=document)=>{const t=e.createElement(NI.HTML_TAG_NAME),n=new NI(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.showOnboarding=n.showOnboarding,t};const{scope:DI}=I_(),PI=()=>document.querySelector(NI.HTML_TAG_NAME),UI=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){Ls()&&console.error(e),Cu(e,DI)}},GI=()=>document.querySelectorAll("[data-message-id]").length>0,HI=()=>document.querySelectorAll("[data-message-id]"),BI=e=>!!e&&!!e.querySelector($I.HTML_TAG_NAME),zI=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,i=n-30;let s=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(r=i,a=o,l=t.getBoundingClientRect(),r>=l.left&&r<=l.right&&a>=l.top&&a<=l.bottom);var r,a,l;const c=t.contains(e);n&&!c&&(s=!0)})),s},WI=e=>{if(e)return e.querySelector("table")},jI=e=>{const t=Xi(),n=t.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),o=t.find((e=>"EN-GB"===e.value)),i=t.find((e=>"PT-PT"===e.value));return[...[...n,...[{...o,value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`},{...i,value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`}]].map((t=>e&&t.value===e.value?{...t,label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}:t))].sort(((e,t)=>e.value.localeCompare(t.value)))},FI=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},qI=(e,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});document.elementFromPoint(e,t)?.dispatchEvent(n)},VI=e=>{const{x:t,y:n}=FI(e);qI(t,n)},ZI=(e,t)=>{const n=document.body;new MutationObserver(((o,i)=>{for(const s of o)if("childList"===s.type&&n.querySelector(e)){i.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},YI=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},XI=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],i=o.previousElementSibling;if(i&&"SPAN"===i.tagName&&"link"===i.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),i=Array.from(e.children).filter((e=>e.matches("span")));2!==(2===n.length&&i.length)&&3!==(3===n.length&&i.length)||(t=o)}}return t};let KI,QI,JI,eM,tM,nM,oM,iM,sM,rM,aM,lM;const{scope:cM}=I_(),{deepl_inline_ui:dM}=P;function uM({websiteData:e,platformBehaviour:t=It.default,onRemove:n=()=>{},textProcessingMode:o,isInput:i=!1}){try{let s;switch(pM(),lM=IA.createElement(),lM.platformBehaviour=t,lM.textProcessingMode=o,lM.style.zIndex=dM.z_index,document.documentElement.appendChild(lM),t){case It.gdocs:s=Mi;break;case It.default:default:s=Cv}lM.createDOM(s,(()=>pM(n)),e,i),ef.update({isReviewTranslateWriteWindowInjected:!0})}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function pM(e){try{lM&&(lM.cleanupDOM(),Array.from(document.getElementsByTagName(IA.HTML_TAG_NAME),(e=>e.remove())),ef.update({isReviewTranslateWriteWindowInjected:!1}),QI=void 0,e&&e())}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function mM({websiteData:e,platformBehaviour:t=It.default,textProcessingMode:n=Rt.translate}){try{let o;switch(gM(),QI=NE.createElement(),QI.platformBehaviour=t,QI.textProcessingMode=n,QI.style.zIndex=dM.z_index,document.documentElement.appendChild(QI),t){case It.gdocs:o=Mi;break;case It.default:default:o=Cv}QI.createDOM(o,gM,e),ef.update({isTranslationTooltipInjected:!0})}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function gM(){try{QI&&(QI.cleanupDOM(),Array.from(document.getElementsByTagName(NE.HTML_TAG_NAME),(e=>e.remove())),ef.update({isTranslationTooltipInjected:!1}),QI=void 0)}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function hM(e=It.default){try{if(JI)return;let t;switch(JI=Nb.createElement(),JI.style.zIndex=dM.z_index,document.documentElement.appendChild(JI),e){case It.gdocs:t="deepl-gdocs-icon";break;case It.default:default:t=N$.HTML_TAG_NAME}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:r,height:a,width:l}=t;return{x:i-n.left,y:r-n.top,top:o,bottom:r,right:n.width-s,left:i+window.pageXOffset,width:l,height:a}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));JI.createDOM(n,fM),ef.update({isInlineTranslateSettingsTooltipInjected:!0}),Ap((()=>{fM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function fM(){try{if(!JI)return;JI.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),ef.update({isInlineTranslateSettingsTooltipInjected:!1}),JI=void 0}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function _M(){try{if(document.querySelector(yS.HTML_TAG_NAME))return;KI=yS.createElement(),document.documentElement.appendChild(KI),KI.createDOM(),document.addEventListener("click",vM),Ap((()=>{vM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function vM(){try{KI&&(KI.cleanupDOM(),Array.from(document.getElementsByTagName(yS.HTML_TAG_NAME),(e=>e.remove())),KI=void 0,document.removeEventListener("click",vM))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function wM(){try{if(document.querySelector(GS.HTML_TAG_NAME))return;iM=GS.createElement(),document.documentElement.appendChild(iM),iM.createDOM(),Ap((()=>{bM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function TM(){try{if(document.querySelector(vC.HTML_TAG_NAME))return;sM=vC.createElement(),document.documentElement.appendChild(sM),sM.createDOM(),Ap((()=>{yM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function bM(){try{iM&&(iM.cleanupDOM(),Array.from(document.getElementsByTagName(GS.HTML_TAG_NAME),(e=>e.remove())),iM=void 0,document.removeEventListener("click",bM))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function yM(){try{sM&&(sM.cleanupDOM(),Array.from(document.getElementsByTagName(vC.HTML_TAG_NAME),(e=>e.remove())),sM=void 0,document.removeEventListener("click",yM))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function EM(){try{if(R_())return;rM=N_(),document.documentElement.appendChild(rM),rM.createDOM(),Ap((()=>{$M()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function $M(){try{rM&&(rM.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),rM=void 0,document.removeEventListener("click",$M))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function xM(){try{if(document.querySelector($O.HTML_TAG_NAME))return;nM=$O.createElement(),document.body.appendChild(nM),nM.createDOM({useIconForShortcutOnly:!1}),Ap((()=>{LM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function SM(){try{if(PI())return;aM=NI.createElement(),document.documentElement.appendChild(aM),aM.createDOM(),Ap((()=>{CM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function CM(){try{aM&&(aM.cleanupDOM(),Array.from(document.getElementsByTagName(NI.HTML_TAG_NAME),(e=>e.remove())),aM=void 0,document.removeEventListener("click",CM))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function LM(){try{if(nM){nM.cleanupDOM();const e=Array.from(document.querySelectorAll($O.HTML_TAG_NAME));for(const t of e)t.remove();nM=void 0,document.removeEventListener("click",LM)}}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function kM(e){return t(this,void 0,void 0,(function*(){try{if(!eM)return;eM.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),eM=void 0;if(!(yield BT(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(eM)){try{Qn({action:Zn.dlTrackCloseInlineHighlighter,payload:{trigger:At}})}catch(e){console.error(e)}yu.set({isInlineHighlighterShown:!0})}}catch(e){Ls()&&console.error(e),Cu(e,cM)}}))}function AM(){return t(this,void 0,void 0,(function*(){try{if(!tM)return;tM.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-input-selection-trigger"),(e=>e.remove())),tM=void 0}catch(e){Ls()&&console.error(e),Cu(e.message)}}))}function IM(e,t){kM();try{eM=N$.createElement(),eM.style.zIndex=dM.z_index,document.documentElement.appendChild(eM),eM.createDOM(e,t),Ap((()=>{kM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}function MM(e,n){return t(this,void 0,void 0,(function*(){yield AM();try{tM=D$.createElement(),tM.style.zIndex=dM.z_index,document.documentElement.appendChild(tM),tM.createDOM(e,n);const o=()=>t(this,void 0,void 0,(function*(){yield AM()}));e.addEventListener("input",o),Ap((()=>t(this,void 0,void 0,(function*(){yield AM(),e.removeEventListener("input",o)}))))}catch(e){Ls()&&console.error(e),Cu(e.message)}}))}function OM(e){return t(this,void 0,void 0,(function*(){const n=n=>t(this,void 0,void 0,(function*(){requestAnimationFrame((()=>t(this,void 0,void 0,(function*(){var t,o,i,s,r,a,l,c,d;if(!n||!n.target)return;const u=window.getSelection();if(!(null===(t=FT(window))||void 0===t?void 0:t.trim()))return;if(2===n.button)return;const p="TEXTAREA"===n.target.tagName,m=e=>{if(!e)return!1;const t=e.childNodes;for(let e=0;e<t.length;e++){const n=t[e];if(n.isContentEditable||"TEXTAREA"===n.tagName)return t[e]}return!1};if(u.isCollapsed||(null===(i=null===(o=u.anchorNode)||void 0===o?void 0:o.parentNode)||void 0===i?void 0:i.isContentEditable)||!u.getRangeAt){if((null===(a=null===(r=u.anchorNode)||void 0===r?void 0:r.parentNode)||void 0===a?void 0:a.isContentEditable)||p||m(u.anchorNode)){let e={clientX:n.clientX||0,pageY:n.pageY||0,detail:(null==n?void 0:n.detail)||0,isOutsideOfView:DM(n)};if(null===(c=null===(l=u.anchorNode)||void 0===l?void 0:l.parentNode)||void 0===c?void 0:c.isContentEditable)yield MM(null===(d=u.anchorNode)||void 0===d?void 0:d.parentNode,e);else if(p)yield MM(n.target,e);else{const t=m(u.anchorNode);yield MM(t,e)}}}else{const t=null===(s=u.getRangeAt(0))||void 0===s?void 0:s.commonAncestorContainer;if(!t.contains(n.target)&&!n.target.contains(t))return;let o={clientX:n.clientX||0,pageY:n.pageY||0,detail:(null==n?void 0:n.detail)||0,isOutsideOfView:DM(n)};IM(e,o)}}))))})),o=()=>t(this,void 0,void 0,(function*(){FT(window)||(kM(),AM())})),i=e=>{"Escape"===e.key&&AM()};document.addEventListener("mouseup",n),document.addEventListener("mousedown",kM),document.addEventListener("selectionchange",o),document.addEventListener("keydown",i),Ap((()=>{document.removeEventListener("mouseup",n),document.removeEventListener("mousedown",kM),document.removeEventListener("selectionchange",o),document.removeEventListener("keydown",i)}))}))}function RM(e,t){try{oM=cx.createElement(),oM.style.zIndex=dM.z_index,document.documentElement.appendChild(oM),oM.createDOM(e,t),Ap((()=>{null==oM||oM.cleanupDOM()}))}catch(e){Ls()&&console.error(e),Cu(e,cM)}}const NM=(e=Ct.initial)=>{const t=NC.createElement();document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),Ap((()=>{t.cleanupDOM()}))};function DM({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function PM(e){switch(e){case"web.whatsapp.com":bw();break;case"twitter.com":case"tweetdeck.twitter.com":case"x.com":Hw();break;case"www.linkedin.com":!function(){let e=new MutationObserver((()=>{sT()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),Ap((()=>e.disconnect()))}();break;case"www.youtube.com":$T()}}async function UM(e){const t=e.split(".");if("deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")){document.body.dataset.dlBrowserExtensionPresent="true";try{const{requireLogin:e,suggestIdp:t}=await chrome.storage.managed.get(["requireLogin","suggestIdp"]);e&&(document.body.dataset.dlBrowserExtensionRequireLogin="true"),t&&(document.body.dataset.dlBrowserExtensionSuggestIdp=t)}catch{}}}async function GM(e){const t=await BT(["shouldDisplayFeedbackPopup"]);if("https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi"===e)t.shouldDisplayFeedbackPopup&&(yu.set({shouldDisplayFeedbackPopup:!1}),NM(Ct.feedback))}function HM(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function BM(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}const zM=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&"chatgpt.com"===e.hostname},WM=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&WM.forEach((e=>e.resize.disconnect()))};const{scope:jM}=I_();const FM=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&(e.rows>1||zM());const qM=({inputArea:e})=>{const t=XM(e);return{position:"absolute",top:t.top,left:t.left,right:t.right,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension"),isChatGPTPresent:zM()}},VM=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)ZM(n)&&t.push(n);return t},ZM=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)},YM=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},XM=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=YM(n,e);if(i)n=i;else if(ZM(t))return o}return n=YM(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},KM=[{domain:"zendesk.com",selectors:['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],uniqueDataAttributes:[{key:"testId",value:"ticket-rich-text-editor"}]}];function QM(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1opaki9")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function JM(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1opaki9")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function eO(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1opaki9")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function tO(e){let t;return{c(){t=rd("span"),gd(t,"class","svelte-1opaki9")},m(e,n){od(e,t,n)},p:Ac,d(e){e&&id(t)}}}function nO(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f,_,v,w;return o=new Np({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[QM]},$$scope:{ctx:e}}}),r=new Np({props:{tooltip:e[9],showProShield:oo(e[3],Zt.WRITE),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[JM]},$$scope:{ctx:e}}}),u=new Np({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_select_target_lang"),parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[eO]},$$scope:{ctx:e}}}),g=new Np({props:{showProShield:oo(e[3],Zt.TRANSLATOR),tooltip:e[7],parentIsRTL:e[1],ignoreTextDirection:!0,$$slots:{default:[tO]},$$scope:{ctx:e}}}),{c(){t=rd("div"),n=rd("div"),pu(o.$$.fragment),i=cd(),s=rd("div"),pu(r.$$.fragment),a=cd(),l=rd("div"),c=cd(),d=rd("div"),pu(u.$$.fragment),p=cd(),m=rd("div"),pu(g.$$.fragment),h=cd(),f=rd("div"),gd(n,"class","dl-icon-circle dl-on-off svelte-1opaki9"),gd(s,"class","dl-icon-circle dl-improve svelte-1opaki9"),bd(s,"disabled",!e[8]),gd(l,"class","spacer svelte-1opaki9"),gd(d,"class","dl-icon-circle dl-settings svelte-1opaki9"),bd(d,"disabled",e[2]),gd(m,"class","dl-icon-circle dl-icon svelte-1opaki9"),gd(m,"data-qa","input-translation-icon"),bd(m,"disabled",e[2]),gd(f,"class","dl-icon-circle dl-loading svelte-1opaki9"),gd(t,"class","dl-input-icon svelte-1opaki9"),bd(t,"is-input-translation-disabled",e[10]),bd(t,"is-loading",e[6]),bd(t,"is-minimized",e[5])},m(T,b){od(T,t,b),ed(t,n),mu(o,n,null),ed(t,i),ed(t,s),mu(r,s,null),ed(t,a),ed(t,l),ed(t,c),ed(t,d),mu(u,d,null),ed(t,p),ed(t,m),mu(g,m,null),e[39](m),ed(t,h),ed(t,f),_=!0,v||(w=[ud(n,"mousedown",md(pd(e[30]))),ud(n,"mouseenter",e[31]),ud(n,"click",e[32]),ud(s,"mousedown",md(pd(e[29]))),ud(s,"mouseenter",e[33]),ud(s,"click",e[34]),ud(d,"mousedown",md(pd(e[28]))),ud(d,"mouseenter",e[35]),ud(d,"click",e[36]),ud(m,"mousedown",md(pd(e[27]))),ud(m,"click",e[37]),ud(m,"mouseenter",e[38])],v=!0)},p(e,n){const i={};2&n[0]&&(i.parentIsRTL=e[1]),16384&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const a={};512&n[0]&&(a.tooltip=e[9]),8&n[0]&&(a.showProShield=oo(e[3],Zt.WRITE)),2&n[0]&&(a.parentIsRTL=e[1]),16384&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),(!_||256&n[0])&&bd(s,"disabled",!e[8]);const l={};2&n[0]&&(l.parentIsRTL=e[1]),16384&n[1]&&(l.$$scope={dirty:n,ctx:e}),u.$set(l),(!_||4&n[0])&&bd(d,"disabled",e[2]);const c={};8&n[0]&&(c.showProShield=oo(e[3],Zt.TRANSLATOR)),128&n[0]&&(c.tooltip=e[7]),2&n[0]&&(c.parentIsRTL=e[1]),16384&n[1]&&(c.$$scope={dirty:n,ctx:e}),g.$set(c),(!_||4&n[0])&&bd(m,"disabled",e[2]),(!_||1024&n[0])&&bd(t,"is-input-translation-disabled",e[10]),(!_||64&n[0])&&bd(t,"is-loading",e[6]),(!_||32&n[0])&&bd(t,"is-minimized",e[5])},i(e){_||(iu(o.$$.fragment,e),iu(r.$$.fragment,e),iu(u.$$.fragment,e),iu(g.$$.fragment,e),_=!0)},o(e){su(o.$$.fragment,e),su(r.$$.fragment,e),su(u.$$.fragment,e),su(g.$$.fragment,e),_=!1},d(n){n&&id(t),gu(o),gu(r),gu(u),gu(g),e[39](null),v=!1,Rc(w)}}}function oO(e,t,n){let o,i,s;const r=Dd("deepl_settings");Uc(e,r,(e=>n(3,s=e)));let a,l,c,{inputArea:d}=t,{lockActiveElement:u}=t,{openSettings:p}=t,{closeSettings:m}=t,{hideOnboardingHighlighter:g}=t,{registerIconCallbacks:h}=t,{unregisterIconCallbacks:f}=t,{getActiveElement:_}=t,{setErrorMessage:v}=t,{isInputAreaRTL:T}=t,{useIconForShortcutOnly:b=!1}=t,y=!1,E=!1,$="",x={},S=chrome.i18n.getMessage("input_translation_tooltip_improve_lang_not_supported");const C=()=>{L()},L=()=>{n(5,y=fv(d,a))};async function k(e){await r.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),I()}const A=async(e,t,o)=>{const r=_();switch(e.action){case"dlTriggerTranslationShortcut":if(v(void 0),r!==d)return;try{Qn({action:Zn.dlTrackUseOfShortcut,payload:{shortcutType:it,location:Q}})}catch(e){console.error(e)}if(i)return void o();if(s&&s.targetLanguageUserInput){n(6,E=!0);try{await BA(d)}catch(e){v(e)}n(6,E=!1)}else p({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(r!==d)return;if(i)return void o();n(6,E=!0);try{p({fromShortcut:!0})}catch(e){v(e)}n(6,E=!1),o()}return!0};async function I(e){if(v(void 0),g(),s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput||e?.isWriteRequest){m(),n(6,E=!0);try{await BA(d,e),l||Jn(U)}catch(e){v(e)}n(6,E=!1)}else p()}function M(e){Qn({action:Zn.dlTrackIconHover,payload:{uiLocation:e,domainName:window.location.host}})}const O=()=>{u(),s.targetLanguageUserInput?I():p(),Qn({action:Zn.dlTrackUILocationClicked,payload:Q})};async function R(){let e;e=mv(d)?d.value:d.innerText,n(26,x=await Yi(e,!0)),x.isReliable;try{e&&function(e){try{return e.replace(/[^\p{L}]/gu,"").length}catch(t){return e.replace(/[^a-zA-Z]/g,"").length}}(e)>0&&Qn({action:Zn.dlTrackLanguageDetectionForTextProcessing,payload:{lang:x.langCode,isReliable:x.isReliable,trigger:w,textLength:e.length,domainName:window.location.hostname}})}catch(e){console.error(e)}}Md((()=>{chrome.runtime.onMessage.addListener(A),h({processRefreshCycle:C,languageChanged:k,triggerTranslation:I})})),Od((()=>{chrome.runtime.onMessage.removeListener(A),f()}));return e.$$set=e=>{"inputArea"in e&&n(16,d=e.inputArea),"lockActiveElement"in e&&n(17,u=e.lockActiveElement),"openSettings"in e&&n(0,p=e.openSettings),"closeSettings"in e&&n(18,m=e.closeSettings),"hideOnboardingHighlighter"in e&&n(19,g=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&n(20,h=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&n(21,f=e.unregisterIconCallbacks),"getActiveElement"in e&&n(22,_=e.getActiveElement),"setErrorMessage"in e&&n(23,v=e.setErrorMessage),"isInputAreaRTL"in e&&n(1,T=e.isInputAreaRTL),"useIconForShortcutOnly"in e&&n(24,b=e.useIconForShortcutOnly)},e.$$.update=()=>{if(67108872&e.$$.dirty[0]&&(so(s,Zt.WRITE)?n(9,S=chrome.i18n.getMessage("input_translation_tooltip_improve_disabled_by_admin")):es(x.langCode)?n(9,S=chrome.i18n.getMessage("input_translation_tooltip_improve_supported_lang")):n(9,S=chrome.i18n.getMessage("write_language_not_supported")),n(8,c=!x.langCode||es(x.langCode)&&!so(s,Zt.WRITE))),8&e.$$.dirty[0]&&n(2,i=so(s,Zt.TRANSLATOR)),12&e.$$.dirty[0])if(i)n(7,$=chrome.i18n.getMessage("contact_admin_info_translate_disabled"));else if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){let e;Qn({action:Fn.dlCheckCommandShortcuts}).then((t=>{e=t?t.filter((e=>e.name==it))[0].shortcut:"",e?(e=`(${e})`,l=!0):l=!1,n(7,$=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else n(7,$=chrome.i18n.getMessage("input_translation_tooltip_translate_text"));16777224&e.$$.dirty[0]&&n(10,o=b||!s.enableInputTranslation||yv(window.location.host,window.location.href)||s.blacklistDomainsForWriting.includes(window.location.host)||s.isGmailEnabled&&pv())},[p,T,i,s,a,y,E,$,c,S,o,r,I,M,O,R,d,u,m,g,h,f,_,v,b,k,x,function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},function(t){Pd.call(this,e,t)},()=>M(ee),()=>p({page:d$}),()=>{M(J)},()=>{c&&I({isWriteRequest:!0})},()=>M(ee),()=>{!i&&p({page:c$})},()=>i?null:O(),()=>{R(),M(Q)},function(e){Gd[e?"unshift":"push"]((()=>{a=e,n(4,a)}))}]}class iO extends fu{constructor(e){super(),hu(this,e,oO,nO,Dc,{inputArea:16,lockActiveElement:17,openSettings:0,closeSettings:18,hideOnboardingHighlighter:19,registerIconCallbacks:20,unregisterIconCallbacks:21,getActiveElement:22,setErrorMessage:23,isInputAreaRTL:1,useIconForShortcutOnly:24,onLanguageChanged:25},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[25]}}function sO(e){let t,n,o,i,s,r,a,l,c,d,u,p,m,g,h,f;return{c(){t=rd("div"),n=rd("div"),o=rd("div"),i=rd("div"),s=rd("div"),s.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,r=cd(),a=rd("div"),a.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,l=cd(),c=rd("button"),gd(s,"class","headline svelte-1vokldc"),gd(i,"class","text-wrapper svelte-1vokldc"),gd(o,"class","content svelte-1vokldc"),gd(c,"class","close-icon svelte-1vokldc"),gd(n,"class",d=jc(`body body__${e[0]}`)+" svelte-1vokldc"),gd(t,"class",u="container container__"+e[0]+" svelte-1vokldc")},m(d,u){od(d,t,u),ed(t,n),ed(n,o),ed(o,i),ed(i,s),ed(i,r),ed(i,a),ed(n,l),ed(n,c),e[13](t),g=!0,h||(f=ud(c,"click",e[12]),h=!0)},p(e,o){(!g||1&o&&d!==(d=jc(`body body__${e[0]}`)+" svelte-1vokldc"))&&gd(n,"class",d),(!g||1&o&&u!==(u="container container__"+e[0]+" svelte-1vokldc"))&&gd(t,"class",u)},i(e){g||(Fd((()=>{g&&(m&&m.end(1),p=au(t,np,{x:100,duration:1e3}),p.start())})),g=!0)},o(e){p&&p.invalidate(),m=lu(t,np,{x:100,duration:1e3}),g=!1},d(n){n&&id(t),e[13](null),n&&m&&m.end(),h=!1,f()}}}function rO(e){let t,n,o=e[1]&&sO(e);return{c(){o&&o.c(),t=dd()},m(e,i){o&&o.m(e,i),od(e,t,i),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&iu(o,1)):(o=sO(e),o.c(),iu(o,1),o.m(t.parentNode,t)):o&&(nu(),su(o,1,1,(()=>{o=null})),ou())},i(e){n||(iu(o),n=!0)},o(e){su(o),n=!1},d(e){e&&id(t),o&&o.d(e)}}}function aO(t,n,o){let i,s,{onClose:r}=n,{icon:a}=n,{position:l="top"}=n,{registerHighlighterCallbacks:c}=n,{unregisterHighlighterCallbacks:d}=n,{textDirection:u}=n,p={top:0,bottom:0,left:0,right:0},m={height:0,width:0},g=190,h=305;const f=()=>{if(a){const e=a.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==p[n]&&(t[n]=e[n]);Object.keys(t).length&&o(8,p={...p,...t});let n={};window.innerHeight!==m.height&&(n.height=window.innerHeight),window.innerWidth!==m.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(9,m={...m,...n})}else o(8,p={top:0,bottom:0,left:0,right:0})};function _(e=Lt){r();try{Qn({action:Zn.dlTrackCloseInputHighlighter,payload:{trigger:e}})}catch(e){console.error(e)}}Md((async()=>{c({recalculateHighlighterCoords:f});try{Qn({action:Zn.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}}),f()}catch(e){console.error(e)}s=Dp(i,(({clientHeight:e,clientWidth:t})=>{o(10,g=e),o(11,h=t)}))})),Od((()=>{d(),s&&s()}));return t.$$set=e=>{"onClose"in e&&o(4,r=e.onClose),"icon"in e&&o(1,a=e.icon),"position"in e&&o(0,l=e.position),"registerHighlighterCallbacks"in e&&o(5,c=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&o(6,d=e.unregisterHighlighterCallbacks),"textDirection"in e&&o(7,u=e.textDirection)},t.$$.update=()=>{3840&t.$$.dirty&&o(0,l=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!a)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:p,viewportSize:m,highlighterHeight:g,highlighterWidth:h}))},[l,a,i,_,r,c,d,u,p,m,g,h,()=>_(),function(e){Gd[e?"unshift":"push"]((()=>{i=e,o(2,i)}))}]}class lO extends fu{constructor(e){super(),hu(this,e,aO,rO,Dc,{onClose:4,icon:1,position:0,registerHighlighterCallbacks:5,unregisterHighlighterCallbacks:6,textDirection:7})}}function cO(e){let t,n,o,i,s,r;return n=new lh({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class",o="error-container error-container__"+e[0]+" svelte-16e3fjt")},m(o,a){od(o,t,a),mu(n,t,null),e[12](t),i=!0,s||(r=[qc(kp.call(null,t,{isShadow:!0})),ud(t,"click_outside",e[13])],s=!0)},p(e,[s]){const r={};2&s&&(r.error=e[1]),4&s&&(r.close=e[2]),n.$set(r),(!i||1&s&&o!==(o="error-container error-container__"+e[0]+" svelte-16e3fjt"))&&gd(t,"class",o)},i(e){i||(iu(n.$$.fragment,e),i=!0)},o(e){su(n.$$.fragment,e),i=!1},d(o){o&&id(t),gu(n),e[12](null),s=!1,Rc(r)}}}function dO(e,t,n){let o,i,{errorMessage:s}=t,{icon:r}=t,{position:a="top"}=t,{registerErrorCallbacks:l}=t,{unregisterErrorCallbacks:c}=t,{close:d}=t,u=140,p=387,m={top:0,bottom:0,left:0,right:0},g={height:0,width:0};const h=()=>{if(r){const e=r.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&n(10,m={...m,...t});let o={};window.innerHeight!==g.height&&(o.height=window.innerHeight),window.innerWidth!==g.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(11,g={...g,...o})}else n(10,m={top:0,bottom:0,left:0,right:0})};Md((()=>{h(),l({recalculateErrorCoords:h}),i=Dp(o,(({clientHeight:e,clientWidth:t})=>{n(8,u=e),n(9,p=t)}))})),Od((()=>{c(),i&&i()}));return e.$$set=e=>{"errorMessage"in e&&n(1,s=e.errorMessage),"icon"in e&&n(4,r=e.icon),"position"in e&&n(0,a=e.position),"registerErrorCallbacks"in e&&n(5,l=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(6,c=e.unregisterErrorCallbacks),"close"in e&&n(2,d=e.close)},e.$$.update=()=>{3840&e.$$.dirty&&n(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!r)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:g,popupHeight:u,popupWidth:p}))},[a,s,d,o,r,l,c,h,u,p,m,g,function(e){Gd[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},()=>d()]}class uO extends fu{constructor(e){super(),hu(this,e,dO,cO,Dc,{errorMessage:1,icon:4,position:0,registerErrorCallbacks:5,unregisterErrorCallbacks:6,close:2,recalculateErrorCoords:7})}get recalculateErrorCoords(){return this.$$.ctx[7]}}function pO(e){let t,n,o;return{c(){t=rd("div")},m(i,s){od(i,t,s),n||(o=[ud(t,"click_outside",e[17]),qc(kp.call(null,t,{isShadow:!0}))],n=!0)},p:Ac,i:Ac,o:Ac,d(e){e&&id(t),n=!1,Rc(o)}}}function mO(e){let t,n,o,i,s,r,a,l,c,d,u,p,m;o=new iO({props:{inputArea:e[2],lockActiveElement:e[18],openSettings:e[21],closeSettings:e[22],hideOnboardingHighlighter:e[19],registerIconCallbacks:e[23],unregisterIconCallbacks:e[24],getActiveElement:e[20],isInputAreaRTL:e[10],setErrorMessage:e[35],useIconForShortcutOnly:e[0]}});let g=e[4]&&gO(e),h=e[5]&&hO(e),f=e[8]&&fO(e);return{c(){t=rd("div"),n=rd("div"),pu(o.$$.fragment),i=cd(),g&&g.c(),s=cd(),h&&h.c(),r=cd(),f&&f.c(),gd(n,"class","dl-input-placeholder svelte-d7i1bp"),bd(n,"disabled",e[13]),bd(n,"reduced-space",!e[14]),bd(n,"other-extension-present",e[12]),bd(n,"chat-gpt-present",e[1].isChatGPTPresent),gd(t,"class","dl-input-positioner svelte-d7i1bp"),gd(t,"dir",c=e[10]?"rtl":"ltr"),gd(t,"style",d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")),bd(t,"debug-mode",vO)},m(a,l){od(a,t,l),ed(t,n),mu(o,n,null),ed(n,i),g&&g.m(n,null),ed(n,s),h&&h.m(n,null),ed(n,r),f&&f.m(n,null),e[39](n),u=!0,p||(m=[qc(kp.call(null,n,{isShadow:!0})),ud(n,"click_outside",e[38]),ud(n,"click",e[18])],p=!0)},p(e,i){const a={};4&i[0]&&(a.inputArea=e[2]),1024&i[0]&&(a.isInputAreaRTL=e[10]),256&i[0]&&(a.setErrorMessage=e[35]),1&i[0]&&(a.useIconForShortcutOnly=e[0]),o.$set(a),e[4]?g?(g.p(e,i),16&i[0]&&iu(g,1)):(g=gO(e),g.c(),iu(g,1),g.m(n,s)):g&&(nu(),su(g,1,1,(()=>{g=null})),ou()),e[5]?h?(h.p(e,i),32&i[0]&&iu(h,1)):(h=hO(e),h.c(),iu(h,1),h.m(n,r)):h&&(nu(),su(h,1,1,(()=>{h=null})),ou()),e[8]?f?(f.p(e,i),256&i[0]&&iu(f,1)):(f=fO(e),f.c(),iu(f,1),f.m(n,null)):f&&(nu(),su(f,1,1,(()=>{f=null})),ou()),(!u||8192&i[0])&&bd(n,"disabled",e[13]),(!u||16384&i[0])&&bd(n,"reduced-space",!e[14]),(!u||4096&i[0])&&bd(n,"other-extension-present",e[12]),(!u||2&i[0])&&bd(n,"chat-gpt-present",e[1].isChatGPTPresent),(!u||1024&i[0]&&c!==(c=e[10]?"rtl":"ltr"))&&gd(t,"dir",c),(!u||2&i[0]&&d!==(d=[`top: ${e[1].top}px;`,`left: ${e[1].left}px;`,`height: ${e[1].height}px;`,`width: ${e[1].width}px;`,`position: ${e[1].position};`].join(" ")))&&gd(t,"style",d)},i(e){u||(iu(o.$$.fragment,e),iu(g),iu(h),iu(f),Fd((()=>{u&&(l&&l.end(1),a=au(n,tp,{duration:100}),a.start())})),u=!0)},o(e){su(o.$$.fragment,e),su(g),su(h),su(f),a&&a.invalidate(),l=lu(n,tp,{duration:150}),u=!1},d(n){n&&id(t),gu(o),g&&g.d(),h&&h.d(),f&&f.d(),e[39](null),n&&l&&l.end(),p=!1,Rc(m)}}}function gO(e){let t,n,o,i;return n=new lO({props:{onClose:e[19],position:"top",registerHighlighterCallbacks:e[29],unregisterHighlighterCallbacks:e[30],icon:e[3]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl-onboarding-highlighter svelte-d7i1bp"),gd(t,"dir",o=e[10]?"rtl":"ltr")},m(e,o){od(e,t,o),mu(n,t,null),i=!0},p(e,s){const r={};8&s[0]&&(r.icon=e[3]),n.$set(r),(!i||1024&s[0]&&o!==(o=e[10]?"rtl":"ltr"))&&gd(t,"dir",o)},i(e){i||(iu(n.$$.fragment,e),i=!0)},o(e){su(n.$$.fragment,e),i=!1},d(e){e&&id(t),gu(n)}}}function hO(e){let t,n;return t=new _$({props:{icon:e[3],startPage:e[6],fromShortcut:e[7],position:"top",registerSettingsCallbacks:e[25],unregisterSettingsCallbacks:e[26],closeSettings:e[22]}}),t.$on("languageChanged",e[36]),t.$on("close",e[22]),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.icon=e[3]),64&n[0]&&(o.startPage=e[6]),128&n[0]&&(o.fromShortcut=e[7]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function fO(e){let t,n;return t=new uO({props:{errorMessage:e[8],icon:e[3],position:"top",registerErrorCallbacks:e[27],unregisterErrorCallbacks:e[28],close:e[37]}}),{c(){pu(t.$$.fragment)},m(e,o){mu(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.errorMessage=e[8]),8&n[0]&&(o.icon=e[3]),256&n[0]&&(o.close=e[37]),t.$set(o)},i(e){n||(iu(t.$$.fragment,e),n=!0)},o(e){su(t.$$.fragment,e),n=!1},d(e){gu(t,e)}}}function _O(e){let t,n,o,i;const s=[mO,pO],r=[];function a(e,t){return e[11]&&e[1]&&e[15]?0:1}return t=a(e),n=r[t]=s[t](e),{c(){n.c(),o=dd()},m(e,n){r[t].m(e,n),od(e,o,n),i=!0},p(e,i){let l=t;t=a(e),t===l?r[t].p(e,i):(nu(),su(r[l],1,1,(()=>{r[l]=null})),ou(),n=r[t],n?n.p(e,i):(n=r[t]=s[t](e),n.c()),iu(n,1),n.m(o.parentNode,o))},i(e){i||(iu(n),i=!0)},o(e){su(n),i=!1},d(e){e&&id(o),r[t].d(e)}}}const vO=!1;function wO(t,n,o){let i,s,r,a,l;const c=Dd("deepl_settings");Uc(t,c,(e=>o(34,l=e)));const d=20,u=40;let p,m,g,h,f,_,v,w,T,b,y=!1,E=!1,$=!1,x=!1,S=!1,{trackInputInjectionIfNecessary:C}=n,{registerPositionerCallbacks:L}=n,{unregisterPositionerCallbacks:k}=n,{useIconForShortcutOnly:A=!1}=n,I=!1,M=[],O={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1,isChatGPTPresent:zM()},R=!1;const N=()=>{o(2,p=document.activeElement);const e=function(e){const t=KM.find((({domain:t})=>{const n=t.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(e)}));return t||null}(window.location.href);if(e?.uniqueDataAttributes&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if(p.dataset[t.key]===t.value)return;if(e?.selectors&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=Gv(e),o=Gv(p),i=n.toString()===o.toString();if(e===p||e.isSameNode(p)||i)return}M=VM({inputArea:p}),j(),C(),P()},D=()=>{y=!1},P=()=>{if(!r&&!l.isInputHighlighterShown&&!pv()){Fc(c,l.isInputHighlighterShown=!0,l),o(4,E=!0);try{Qn({action:Zn.dlTrackOpenInputHighlighter,payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}},U=()=>{o(4,E=!1)},G=()=>{B(),R&&(o(10,I=os(p)),z(),b&&b(),E&&_&&_(),$&&v&&v(),w&&w())},H=(e=document.activeElement)=>{const t=e.contentDocument;return t&&t.activeElement?H(t.activeElement):e},B=()=>{const e=H(),t=!y&&e!==p,n=e&&FM(e),i=p&&!p.isConnected;!t||n||S?(S=!1,(t||i)&&(U(),o(8,h=void 0),F(),M=[],o(2,p=void 0)),n&&N()):S=!0},z=()=>{o(1,O=qM({inputArea:p}))},W=()=>{z()},j=()=>{o(11,R=!0),z();for(const e of M)e.addEventListener("scroll",W);window.addEventListener("scroll",W)},F=()=>{o(11,R=!1);for(const e of M)e.removeEventListener("scroll",W);window.removeEventListener("scroll",W),Z()},q=()=>{f&&f()},V=({page:e,fromShortcut:t=!1}={})=>{o(6,g=e),o(7,x=t),$||(o(5,$=!0),Qn({action:Zn.dlTrackInlineSettingOpened,payload:{uiFunction:ut,uiLocation:Q}}))},Z=()=>{$&&o(5,$=!1)};Md((()=>{M=VM({inputArea:p}),L({processRefreshCycle:G,triggerTranslation:q,openSettings:V})})),Od((()=>{for(const e of M)e.removeEventListener("scroll",W);k()}));return t.$$set=e=>{"trackInputInjectionIfNecessary"in e&&o(31,C=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&o(32,L=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&o(33,k=e.unregisterPositionerCallbacks),"useIconForShortcutOnly"in e&&o(0,A=e.useIconForShortcutOnly)},t.$$.update=()=>{2&t.$$.dirty[0]&&o(15,i=O.height>=d),2&t.$$.dirty[0]&&o(14,s=O.height>=u),1&t.$$.dirty[0]|8&t.$$.dirty[1]&&o(13,r=A||!l.enableInputTranslation||yv(window.location.host,window.location.href)||l.blacklistDomainsForWriting.includes(window.location.host)||l.isGmailEnabled&&pv()),2&t.$$.dirty[0]&&o(12,a=O.isLanguageToolsPresent||O.isGrammarlyPresent)},[A,O,p,m,E,$,g,x,h,T,I,R,a,r,s,i,c,D,()=>{y=!0},U,H,V,Z,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{b=e,o(9,T=t),f=n},()=>{b=void 0,o(9,T=void 0),f=void 0},({recalculateSettingsCoords:e})=>{v=e},()=>{v=void 0},({recalculateErrorCoords:e})=>{w=e},()=>{w=void 0},({recalculateHighlighterCoords:e})=>{_=e},()=>{_=void 0},C,L,k,l,e=>{o(8,h=e)},e=>T&&T(e.detail.lang),()=>{o(8,h=void 0)},()=>{D(),Z()},function(e){Gd[e?"unshift":"push"]((()=>{m=e,o(3,m)}))}]}class TO extends fu{constructor(e){super(),hu(this,e,wO,_O,Dc,{trackInputInjectionIfNecessary:31,registerPositionerCallbacks:32,unregisterPositionerCallbacks:33,useIconForShortcutOnly:0},null,[-1,-1])}}function bO(e){let t,n,o;return n=new TO({props:{trackInputInjectionIfNecessary:e[1],registerPositionerCallbacks:e[2],unregisterPositionerCallbacks:e[3],useIconForShortcutOnly:e[0]}}),{c(){t=rd("div"),pu(n.$$.fragment),gd(t,"class","dl-input-translation-container svelte-95aucy")},m(e,i){od(e,t,i),mu(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.useIconForShortcutOnly=e[0]),n.$set(o)},i(e){o||(iu(n.$$.fragment,e),o=!0)},o(e){su(n.$$.fragment,e),o=!1},d(e){e&&id(t),gu(n)}}}function yO(e,t,n){Nd("deepl_settings",yu),Nd("deepl_website_settings",ef),Nd("text_direction",ns());let o,i,s,r,{useIconForShortcutOnly:a=!1}=t,l=!0,c=!1;const d=()=>{o&&o()},u=async(e,t,o)=>{if("dlChangeActiveTabStatus"===e.action)n(6,l=e.payload.isActive),o();return!0},p=()=>{r&&clearInterval(r),r=setInterval(d,300)},m=()=>{clearInterval(r)};return Md((()=>{p(),chrome.runtime.onMessage.addListener(u)})),Od((()=>{r&&m(),chrome.runtime.onMessage.removeListener(u)})),e.$$set=e=>{"useIconForShortcutOnly"in e&&n(0,a=e.useIconForShortcutOnly)},e.$$.update=()=>{64&e.$$.dirty&&(l?p():m())},[a,()=>{c||(c=!0,Qn({action:Zn.dlTrackInputTranslationInjection,payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{o=e,i=t,s=n},()=>{o=void 0,i=void 0,s=void 0},()=>{i&&i()},()=>{s&&s({fromShortcut:!1})},l]}class EO extends fu{constructor(e){super(),hu(this,e,yO,bO,Dc,{useIconForShortcutOnly:0,triggerTranslation:4,openSettingsFromShortcut:5})}get triggerTranslation(){return this.$$.ctx[4]}get openSettingsFromShortcut(){return this.$$.ctx[5]}}class $O{constructor(e){this.createDOM=({useIconForShortcutOnly:e})=>{this.domElement.mainComponent=new EO({target:this.domElement.shadowContainer,props:{onClose:this.domElement.cleanupDOM,controller:this.domElement,useIconForShortcutOnly:e}})},this.triggerTranslation=()=>{this.domElement.mainComponent.triggerTranslation()},this.openSettingsFromShortcut=()=>{this.domElement.mainComponent.openSettingsFromShortcut()},this.domElement=e,this.domElement.setAttribute("translate","no"),this.domElement.shadow=this.domElement.attachShadow({mode:"open"}),this.domElement.shadowContainer=document.createElement("div"),this.domElement.shadowContainer.dir="ltr",this.domElement.mainComponent;const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",chrome.runtime.getURL("build/content.css"));this.domElement.shadowContainer.style.cssText="visibility: initial !important;",this.domElement.shadow.appendChild(t),this.domElement.shadow.appendChild(this.domElement.shadowContainer)}cleanupDOM(){this.domElement.shadowContainer.remove(),this.domElement.mainComponent&&this.domElement.mainComponent.$destroy()}}$O.HTML_TAG_NAME="deepl-input-controller",$O.createElement=(e=document)=>{const t=e.createElement($O.HTML_TAG_NAME),n=new $O(t);return t.createDOM=n.createDOM,t.cleanupDOM=n.cleanupDOM,t.triggerTranslation=n.triggerTranslation,t.openSettingsFromShortcut=n.openSettingsFromShortcut,t};class xO{constructor(e){this._callback=e,this._observer=new MutationObserver(((e,t)=>{this._handleMutations(e,t)})),this._subObservers=new Map,this._options=null}takeRecords(){const e=this._observer.takeRecords();for(const t of this._subObservers.values())e.push(...t.takeRecords());return e}observe(e,t){this._options=null!=t?t:null,this._observer.observe(e,t),this._walkShadows(e)}disconnect(){this._observer.disconnect();for(const e of this._subObservers.values())e.disconnect();this._subObservers.clear()}_handleMutations(e,t){for(const t of e){for(const e of t.addedNodes)this._walkShadows(e);for(const e of t.removedNodes)this._unobserveShadows(e)}this._callback(e,t)}_walkShadows(e){if(e instanceof Element){e.shadowRoot&&"open"===e.shadowRoot.mode&&this.observeShadowRoot(e.shadowRoot);for(const t of Array.from(e.children))this._walkShadows(t)}}_unobserveShadows(e){if(e instanceof Element){if(e.shadowRoot&&"open"===e.shadowRoot.mode){const t=this._subObservers.get(e.shadowRoot);t&&(t.disconnect(),this._subObservers.delete(e.shadowRoot))}for(const t of Array.from(e.children))this._unobserveShadows(t)}}observeShadowRoot(e){var t;if(this._subObservers.has(e))return;const n=new MutationObserver(((e,t)=>{this._handleMutations(e,t)}));n.observe(e,null!==(t=this._options)&&void 0!==t?t:void 0),this._subObservers.set(e,n);for(const t of Array.from(e.children))this._walkShadows(t)}}const SO="PT-456",CO={dlUniqueId:0,translationState:void 0,translatedDOM:[],scrollingHandler:void 0,observer:void 0,currentTargetLanguage:void 0,lastTranslationState:void 0,isLoggedIn:!1,translatorServiceType:void 0},LO={pt456Enabled:!1},kO=()=>{CO.translatedDOM.forEach((e=>{var t,n;qO(e.original,e.clone),zO(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),UO(e.original,!1)})),CO.observer&&(CO.observer.disconnect(),CO.observer=void 0),CO.scrollingHandler&&(document.removeEventListener("scroll",CO.scrollingHandler),CO.scrollingHandler=void 0),CO.translationState=u.none},AO=ef.subscribe((e=>{CO.translationState=e.translationState,e.translatedDOM&&(CO.translatedDOM=e.translatedDOM.map((e=>e))),e.translationState!==CO.lastTranslationState&&(CO.lastTranslationState=e.translationState,CO.translationState===u.showOriginal&&kO())})),IO=yu.subscribe((e=>{if(0!==Object.keys(e).length){if(CO.isLoggedIn=e.isLoggedIn,CO.translatorServiceType=e.translatorServiceType,CO.currentTargetLanguage&&CO.currentTargetLanguage!==e.selectedTargetLanguage){const e=CO.translationState!==u.none;e&&kO(),ef.update({translatedDOM:[]}),CO.translatedDOM=[],e&&ef.update({translationState:u.none})}CO.currentTargetLanguage=e.selectedTargetLanguage}})),MO=$u.subscribe((e=>{const t=((e,t)=>{if(!e||!Array.isArray(e)||0===e.length)return 1;const n=e.find((e=>e.name===t));return n?n.variant:1})(e,SO);LO.pt456Enabled=2===t}));let OO;const RO=()=>{if(OO)return;const e=()=>{AO(),IO(),MO(),NO()};Ap(e),OO=()=>{var t;t=e,document.removeEventListener("deepl-reset-event",t),OO=void 0}},NO=()=>{var e,t;null===(e=CO.observer)||void 0===e||e.disconnect(),CO.observer=void 0,null===(t=CO.translatedNodeObserver)||void 0===t||t.disconnect(),CO.translatedNodeObserver=void 0,CO.scrollingHandler&&(document.removeEventListener("scroll",CO.scrollingHandler),CO.scrollingHandler=void 0)},DO={dlTranslated:"dlTranslated"},PO=e=>{if(void 0!==e.dataset&&(void 0===e.dataset[DO.dlTranslated]||"false"===e.dataset[DO.dlTranslated]))return!1;for(const t of e.childNodes)if(!VO(t)&&!PO(t))return!1;return!0},UO=(e,t)=>{if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(const n of e.childNodes)UO(n,t)}},GO=e=>{if("option"===e.nodeName.toLowerCase()){const t=e.getBoundingClientRect();if(0===t.height&&0===t.width)return e.parentElement}return e},HO=(e,t)=>{LO.pt456Enabled&&(e=GO(e));const n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*t||n.right<0-o*t||n.top>i*(1+t)||n.left>o*(1+t))return!1;const s=window.getComputedStyle(e).position;return!("absolute"!==s&&"fixed"!==s&&null===e.offsetParent)},BO=e=>!!e.contentDocument&&HO(e,.3),zO=(e,t)=>{const n=[];for(;e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(const e of n)t.appendChild(e)},WO=(e,t)=>{if(null===e.parentNode||null===t.parentNode)return;const n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),zO(e,t)},jO=e=>{if("no"==e.getAttribute("translate"))return!0;const t=e.className;return null!=t&&null!=t.split&&t.split(" ").includes("notranslate")},FO=(e,t)=>{var n;if(void 0===t.dataset)return null;if((null===(n=e.dataset)||void 0===n?void 0:n.dlUid)&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(const n of e.childNodes){const e=FO(n,t);if(null!==e)return e}return null},qO=(e,t)=>{for(const n of t.childNodes){const t=FO(e,n);if(t){let o;o=t.dataset&&"true"===t.dataset.dlOriginal?t:t.cloneNode(!1),WO(o,n),qO(e,o)}else qO(e,n)}},VO=e=>"#text"==e.nodeName||"#comment"==e.nodeName,ZO=e=>"textarea"===e.tagName.toLowerCase(),YO=e=>"input"===e.tagName.toLowerCase()&&"submit"!==e.getAttribute("type"),XO=()=>t(void 0,void 0,void 0,(function*(){yield Qn({action:Zn.dlTrackIframeTranslationSuccessful})})),KO=e=>t(void 0,void 0,void 0,(function*(){yield Qn({action:Zn.dlTrackIframeTranslationFailed,payload:{errorCode:e.name,errorMessage:e.message}})})),QO=(e,n,o,i,s)=>t(void 0,void 0,void 0,(function*(){return yield Qn({action:qn.dlRequestHtmlTranslation,payload:{sourceLang:n,trigger:o,texts:e,isFirstTime:i,domainName:s}})})),JO=(e,n,o,i,s)=>t(void 0,void 0,void 0,(function*(){const t=e.map((e=>e.translationStrategy.domActions.extractTranslatable(e))).map((e=>Ci(e.translatable)));if(!LO.pt456Enabled){return(yield QO(t,n,o,i,s)).map((e=>({translated:e})))}const{map:r,simplifiedHtml:a}=DA(t);return(yield QO(a,n,o,i,s)).map((e=>PA(r,e))).map((e=>({translated:e})))})),eR={domActions:{extractTranslatable:e=>({translatable:e.clone.innerHTML}),insertTranslation:(e,t)=>{e.clone.innerHTML=t.translated}},attributeActions:{attributeCleanup:e=>lR(e.clone)}};function tR(t,n=!0){var o;if(t instanceof HTMLFormElement&&Hv(t))return;if(t.isContentEditable&&n)return;if(VO(t))return;if(!BM(t,e.websiteData.hostname))return;if(ZO(t))return;if(YO(t))return"button"==t.getAttribute("type")&&t.value?{domActions:{extractTranslatable:e=>({translatable:e.clone.value}),insertTranslation:(e,t)=>e.original.value=t.translated,revertTranslationState:e=>{const{original:t,clone:n}=e;[t.value,n.value]=[n.value,t.value]}}}:void 0;if(Uv(t))return;const i=t.childNodes;if(!nR(i)){if(oR(i))return eR;for(const e of i)if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&(!Pv(e)||Uv(e)||"inline"!=window.getComputedStyle(e).display||Ov(t)))return;if(!LO.pt456Enabled||!rR(i))return void 0!==t.textContent&&""!=(null===(o=t.textContent)||void 0===o?void 0:o.trim())?eR:void 0}}const nR=e=>1===e.length&&void 0!==tR(e[0]),oR=e=>{for(const t of e){if("font"==t.nodeName)return!0;if("#text"==t.nodeName&&""!=t.wholeText.trim())return!LO.pt456Enabled||!sR(t)}return!1},iR=/[`!@#$%^&*()_+\-=[\]{};':"\\|,./?~]/,sR=e=>[...e.wholeText.trim()].every((e=>iR.test(e))),rR=e=>!oR(e);function aR(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=CO.dlUniqueId++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(const t of e.childNodes)aR(t)}}const lR=e=>{if(!(e instanceof HTMLFormElement&&Hv(e))&&function(e){if(!(null==e?void 0:e.attributes))return!1;const t=e.attributes,n=t instanceof NamedNodeMap,o=t.constructor===NamedNodeMap,i=Object.getPrototypeOf(t)===NamedNodeMap.prototype;return n&&o&&i}(e)){if(void 0!==e.attributes){let t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(const t of e.childNodes)lR(t)}},cR=(e,t,n)=>{var o,i;aR(t);const s=t.cloneNode(!0),r={original:t,clone:s,translationStrategy:n};e.push(r),null===(i=null===(o=n.attributeActions)||void 0===o?void 0:o.attributeCleanup)||void 0===i||i.call(o,r),UO(t,!0)};function dR(e,t){var n;if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!jO(t)){const o=tR(t);if(o)HO(t,.3)&&!PO(t)&&cR(e,t,o);else{const o="open"===(null===(n=null==t?void 0:t.shadowRoot)||void 0===n?void 0:n.mode)?[...t.childNodes,...t.shadowRoot.childNodes]:t.childNodes;for(const t of o)dR(e,t)}}}const uR=(e,n,o,i,s,r)=>t(void 0,void 0,void 0,(function*(){if(e.length<=0)return;const t=yield JO(e,n,i,s,r);if(t&&t.length>0)for(let n=0;n<e.length;++n){const{original:o,clone:i,translationStrategy:s}=e[n];s.domActions.insertTranslation(e[n],{translated:Ci(t[n].translated)}),qO(o,i),zO(o,i),UO(o,!0)}})),pR=(e,n,o)=>{const i=[];dR(i,o);try{document.querySelectorAll("iframe").forEach((o=>function(e,n,o){return t(this,void 0,void 0,(function*(){try{const t=e.contentDocument||e.contentWindow.document;if(!e||!BO(e))return;const i=[];if(dR(i,t.documentElement),0===i.length)return;yield uR(i,n.sourceLang,n.noTranslationLanguages,n.trigger,o,window.location.hostname),e.translatedDOM=[...e.translatedDOM||[],...i],XO()}catch(e){console.error("error",e),e instanceof Error&&KO(e)}}))}(o,e,n)))}catch(e){Ls()&&console.error(e)}return i};function mR(e,n){return t(this,arguments,void 0,(function*(e,t,n=document.documentElement){if(!oo({isLoggedIn:CO.isLoggedIn,translatorServiceType:CO.translatorServiceType},Zt.TRANSLATOR))return;let o=[];try{if(o=pR(e,t,n),0===o.length)return;ef.update({translationState:u.ongoingTranslation}),yield uR(o,e.sourceLang,e.noTranslationLanguages,e.trigger,t,window.location.hostname)}catch(e){console.error("error",e);for(const e of o)UO(e.original,!1);return ef.update({translationState:u.none,error:e.name?e.name:e}),CO.observer&&CO.observer.disconnect(),void(CO.scrollingHandler&&document.removeEventListener("scroll",CO.scrollingHandler))}ef.update({translationState:u.isTranslationComplete}),o.length>0&&ef.update({translatedDOM:[...CO.translatedDOM,...o]})}))}const gR=e=>{const n=()=>CO.translationState!==u.isTranslationComplete,o=((e=500,n)=>{let o;return i=>{o&&clearTimeout(o),o=setTimeout((()=>t(void 0,void 0,void 0,(function*(){try{yield n(i)}finally{o=void 0}}))),e)}})(250,(()=>t(void 0,void 0,void 0,(function*(){yield mR(e,!1)}))));CO.scrollingHandler=()=>{n()||o()},document.addEventListener("scroll",CO.scrollingHandler),CO.observer=new xO((e=>{if(n())return;e.some((e=>e.addedNodes&&e.addedNodes.length>0))&&o()}));CO.observer.observe(document.body,{childList:!0,subtree:!0}),LO.pt456Enabled&&(CO.translatedNodeObserver=new xO((e=>{if(n())return;const t=e.filter((e=>{var t,n;const o=e.target;switch(e.type){case"characterData":return e.oldValue!==e.target.nodeValue&&"true"===(null===(n=null===(t=null==o?void 0:o.parentElement)||void 0===t?void 0:t.dataset)||void 0===n?void 0:n.dlTranslated);case"childList":return(null==o?void 0:o.dataset)&&"true"===o.dataset.dlTranslated;default:return!1}}));if(0!==t.length){for(const e of t){let t;t="characterData"===e.type?e.target.parentElement:e.target,t.dataset.dlTranslated="false"}o()}})),CO.translatedNodeObserver.observe(document.body,{subtree:!0,attributeFilter:["data-dl-translated"],characterData:!0,characterDataOldValue:!0}))};function hR(e){return t(this,void 0,void 0,(function*(){NO();let t=!1;CO.translatedDOM.length>0?(ef.update({translationState:u.ongoingTranslation}),kO(),CO.translatedDOM.forEach((e=>{var t,n,o,i;zO(e.original,e.clone),zO(e.original,e.clone),null===(n=(t=e.translationStrategy.domActions).revertTranslationState)||void 0===n||n.call(t,e),null===(i=(o=e.translationStrategy.domActions).revertTranslationState)||void 0===i||i.call(o,e),UO(e.original,!0)})),ef.update({translationState:u.isTranslationComplete})):t=!0,yield mR(e,t),gR(e),RO()}))}const fR="translate",_R="write",vR=t=>{if(t.targetLang&&window.getSelection()?.toString()){const t=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||mM({websiteData:ef}),ef.update({translationState:u.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),Qn({action:"dlRequestInlineTranslation",payload:{requests:[{text:t}],domainName:window.location.hostname,trigger:f,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{ef.update({translationState:u.none,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:t,websiteLanguage:e[0].detected_source_language})})).catch((e=>{ef.update({translationState:u.none,originalSnippet:t,error:e.message?e.message:e})}))}},wR=async e=>{const t=await Qn({action:Fn.dlGetAppSettings});let n=window.getSelection().anchorNode;"#text"===n.nodeName.toLowerCase()&&(n=n.parentNode);const o="textarea"===n.nodeName.toLowerCase(),i=n.closest('[contenteditable="true"]'),s=n.closest("textarea"),r=n.querySelector("textarea"),a=r&&r.selectionStart!==r.selectionEnd,l=o&&n||i||s||a&&r;l?((e,t,n)=>{const o=document.querySelector($O.HTML_TAG_NAME);o&&(t?o.openSettingsFromShortcut():n?o.triggerTranslation():o.openSettingsFromShortcut())})(0,e,t.targetLanguageUserInput):vR({targetLang:t.selectedTargetLanguage}),Qn({action:Zn.dlTrackRightClick,payload:{translationType:l?h:g,domainName:window.location.host}})},TR=async(e,t)=>{gM(),pM();const n=await Qn({action:Fn.dlGetAppSettings}),o={sourceLang:e,trigger:t,isFirstTime:!0,noTranslationLanguages:(i=n.languagesForTranslation,Object.keys(i).filter((e=>i[e]===d)))};var i;try{await hR(o)}catch(e){ef.update({translationState:u.none,error:e.message?e.message:e})}},bR=async(e,t)=>{let n=5e3;if(t===Zt.WRITE&&(n=2e3),e.length<=n)return!1;const o=await MR();return!oo(o,t)},yR=async(e,t)=>{const n=e.length,o=await MR(),i=oo(o,Zt.TRANSLATOR),s=oo(o,Zt.WRITE);if(t===Rt.write){const e=o.isLoggedIn?S:x;if(i&&!s&&n>e)throw new Yu(e,"Char limit exceeded (Translator Pro, Write Free)");if(!s&&n>e)throw new Zu(e,"Char limit exceeded (Write Free Or Anonymous)")}if(!o.isLoggedIn&&n>E)throw new Vu(E,"Limit exceeded (anonymous user). Please upgrade");if(o.isLoggedIn&&!oo(o,Zt.TRANSLATOR)&&n>$)throw new qu($,"Limit exceeded (free account). Please upgrade")},ER=async e=>{const{event:t,targetLang:n}=e,o=document.querySelector("deepl-gdocs-icon");if(n&&o){const{originalText:e,textLines:i,entities:s,contentReference:r,originalObject:a}=Ni(t);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||mM({websiteData:ef,platformBehaviour:It.gdocs}),await bR(e,Zt.TRANSLATOR))return void ef.update({translationState:u.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:e});ef.update({translationState:u.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const t=await Qn({action:jn.dlRequestGDocsSplitText,payload:{mode:fR,texts:i}}),l=t.result.lang.detected,c=[],d=[];for(const e of t.result.texts){const t=[];for(const n of e.chunks)for(const e of n.sentences)d.push(e),t.push(d.length-1);c.push(t)}const p=(await Qn({action:qn.dlRequestGDocsProcessContent,payload:{mode:fR,sentences:d,sourceLang:l,targetLang:n,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:d[t].prefix,text:e.beams[0].sentences[0].text})));o.setContentProcessBuildingBlocks({detectedSourceLanguage:l,targetLang:n.substring(0,2),sentences:d,processedSentences:p,textLines:i,textLinesComponents:c,entities:s,contentReference:r,originalObject:a}),ef.update({translationState:u.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:l,originalSnippet:e,websiteLanguage:l})}catch(t){console.error(t),ef.update({translationState:u.none,originalSnippet:e,error:t.message?t.message:t})}}},$R=async({event:e,lang:t})=>{const{originalText:n,textLines:o,entities:i,contentReference:s,originalObject:r}=Ni(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||mM({websiteData:ef,platformBehaviour:It.gdocs,textProcessingMode:Rt.write});const a=document.querySelector("deepl-gdocs-icon"),l={lang:t,sourceLength:n.length,targetLength:0,nicheIntegration:It.gdocs,error:"",trigger:Pn};if(await bR(n,Zt.WRITE))return ef.update({translationState:u.anonymousUserMaxCharExceeded,translatedSnippet:"",originalSnippet:n}),void(a&&a.setDeeplWriteTrackingData(l));ef.update({translationState:u.ongoingTranslation,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const e=await Qn({action:jn.dlRequestGDocsSplitText,payload:{mode:_R,texts:o}}),t=e.result.lang.detected,c=[],d=[];for(const t of e.result.texts){const e=[];for(const n of t.chunks)for(const t of n.sentences)d.push(t),e.push(d.length-1);c.push(e)}const p=(await Qn({action:qn.dlRequestGDocsProcessContent,payload:{mode:_R,sentences:d,sourceLang:t,targetLang:t,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:d[t].prefix,text:e.beams[0].sentences[0].text})));a.setContentProcessBuildingBlocks({detectedSourceLanguage:t,targetLang:t,sentences:d,processedSentences:p,textLines:o,textLinesComponents:c,entities:i,contentReference:s,originalObject:r}),a.setDeeplWriteTrackingData(l),ef.update({translationState:u.none,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:t,originalSnippet:n,websiteLanguage:t}),HR({eventType:Qt,...l})}catch(e){const t=e.message?e.message:e;ef.update({translationState:u.none,originalSnippet:n,error:t}),HR({eventType:sn,...l,error:t})}},xR=async e=>{const{sentences:t,targetLang:n,sourceLang:o,mode:i}=e;if(n){await yR(t.join(""),i);try{const e=await Qn({action:qn.dlRequestInputTranslation,payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:n,targetLang:n,sourceLang:o,platformBehavior:It.gslides,isHtml:!0,isWriteRequest:i===Rt.write}}),s=e[0]?.texts;return s}catch(e){throw console.error(e),Error(e)}}},SR=async({event:e,targetLang:t,sourceLang:n,mode:o})=>{if(t){const{textLines:t,entities:i,contentReference:s,originalObject:r}=Ni(e);await yR(t.join(""),o);try{const e=await Qn({action:"dlRequestInlineTranslation",payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,trigger:f,sourceLang:n,nicheIntegration:It.gslides,isWriteRequest:o===Rt.write}}),{processedText:a,processedEntities:l}=Hi({textLines:e.map((e=>e.text)),entities:i,contentReference:s});return Fi({entities:l,text:a,originalObject:r})}catch(e){console.error(e)}}},CR=async e=>{const{element:t,targetLang:n,content:o}=e;let i,s="";if(n)try{const i=await Qn({action:qn.dlRequestZendeskInputTranslation,payload:{content:o,domainName:window.location.hostname,websiteLanguage:n,targetLang:n,...e.formality&&{formality:e.formality}}}),r=i[0]?.texts;s=r?.[0]?.join(""),t.innerHTML="",Qn({action:Zn.dlOnSuccessfulZendeskTranslation})}catch(e){console.error(e),i=e}return[s,i]},LR=async e=>{const{targetLang:t,sourceLang:n,text:o,trigger:i}=e;let s,r="";if(n&&t)try{r=await Qn({action:qn.dlRequestZendeskMessageTranslation,payload:{domainName:window.location.hostname,sourceLang:n,targetLang:t,text:o,trigger:i}})}catch(e){console.error(e),s=e}return[r,s]},kR=async()=>{let e,t=[];try{const[n,o]=await Qn({action:Vn.dlRequestTermbases});o?e=o:t=n}catch(t){console.error(t),e=t}return[t,e]},AR=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let t="";const n=await chrome.i18n.detectLanguage(e);n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substring(0,2).toUpperCase());try{Qn({action:Zn.dlTrackDetectLanguage,payload:{language:t,domainName:window.location.host}})}catch(e){console.error(e)}return t},IR=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),Ev(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substring(0,2).toUpperCase();try{ef.update({translationState:u.ongoingAutoDetection});const e=await AR();return ef.update({translationState:u.none}),e}catch(e){ef.update({translationState:u.none,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=Ev(window.location.href),i=await t();ef.update({websiteLanguage:i,hostname:window.location.hostname,isSupportedLanguage:Vi(i),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const s=new MutationObserver((async()=>{const e=await t();ef.update({websiteLanguage:e,isSupportedLanguage:Vi(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));s.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),Ap((()=>{s.disconnect()}))}},MR=async()=>await Qn({action:Hn.dlGetUserState}),OR=async(t,n=!1)=>{if(t&&!t.isTrusted&&!n)return;const o=await Qn({action:Fn.dlGetAppSettings});DR(),await IR();const i=await MR();var s,r;oo(i,Zt.TRANSLATOR)&&(Vi(e.websiteData.websiteLanguage)&&(s=o.selectedTargetLanguage,r=e.websiteData.websiteLanguage,(Zi(s)!==r||e.websiteData.isGoogleTranslatedActive)&&(Ji(e.websiteData.websiteLanguage,o.languagesForTranslation,d)||o.blacklistDomains.includes(e.websiteData.hostname)||bv(window.location.host,Tv)||(Ji(e.websiteData.websiteLanguage,o.languagesForTranslation,c)&&TR(e.websiteData.websiteLanguage,_),o.enableFullPageTranslation&&window===window.parent&&_M()))))},RR=async()=>{await IR(),document.getElementsByTagName("deepl-input-controller").length||xM()},NR=async()=>{await IR(),await OM(ef)},DR=()=>{Li()&&wM(),is()&&TM(),O_()&&EM(),pv()&&SM()},PR=e=>{hm.set(e)},UR=async e=>{const t=()=>{for(const t of Object.keys($t))if($t[t]&&e.match($t[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(xt))if(xt[e]&&t.includes(xt[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(St))if(St[e]&&document.querySelector(`#${St[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},n=t();n?Qn({action:Zn.dlTrackLandingOnWebsite,payload:{website:n}}):setTimeout((()=>{const e=t();e&&Qn({action:Zn.dlTrackLandingOnWebsite,payload:{website:e}})}),2e3)},GR=async({eventType:e,controller:t,sourceTextLength:n,targetTextLength:o,error:i,metaDataOverride:s={}})=>{const r=t?.getTicketLanguageInformation(),a={agentLanguage:(await Qn({action:Fn.dlGetAppSettings})).selectedTargetLanguage,ticketLanguage:r?.language,isTicketLanguageAutodetected:r?.isDetected,isTicketLanguageSupported:r?.isSupported,isAutoTranslateEnabled:t.getIsAutoTranslatedEnabled(),sourceTextLength:n,targetTextLength:o,inputHasSelection:t.getInputHasSelection(),error:i,...s};await Qn({action:Zn.dlTrackZendeskCustomizationEvent,payload:{eventType:e,zendeskMetaData:a}})},HR=async({eventType:e,lang:t,sourceLength:n,targetLength:o,nicheIntegration:i=It.default,error:s,metaDataOverride:r={},trigger:a})=>{await Qn({action:Zn.dlTrackDeeplWriteEvent,payload:{eventType:e,deeplWriteMetaData:{lang:t,sourceLength:n,targetLength:o,nicheIntegration:i,error:s,trigger:a,...r}}})};function BR(e){Jh(e)}function zR(){const e=bo();e&&Jn(F,{theme:V.ads_theme,matchedWord:e})}const WR=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},jR=()=>qR()||FR(),FR=()=>{const e=new URL(window.location.href);return"https:"===e.protocol&&("service-now.com"===e.hostname||"servicenow.com"===e.hostname)},qR=()=>/\.service-now\.com$/.test(window.location.hostname),VR=()=>!WR()&&(!O_()&&!jR()),ZR=()=>!WR()&&(!O_()&&!jR());Ls()||(window.addEventListener("error",(function(e){const t=e.message||e.error&&e.error.message||"";xu(t)&&e.preventDefault()})),window.addEventListener("unhandledrejection",(function(e){const t=e.reason&&e.reason.message||"";xu(t)&&e.preventDefault()})));const{client:YR,scope:XR}=I_();if(YR.init(),Ls()&&{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.HOT_RELOAD.active&&!To()){new WebSocket(`ws://localhost:${{IS_PROD:!0,BASE_URLS:{dapApi:"https://s.deepl.com/chrome/statistics",toolingApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApiPro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",toolingWriteApi:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApi:"https://www2.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiPro:"https://api.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWrite:"https://write-free.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiWritePro:"https://write-pro.www.deepl.com/jsonrpc?client=chrome-extension,1.44.0",classicApiGlossary:"https://api.deepl.com/termbases/jsonrpc?client=chrome-extension,1.44.0",interactiveTextApiFree:"https://ita-free.www.deepl.com/v1",interactiveTextApiPro:"https://ita-pro.www.deepl.com/v1",oneShotApiPro:"https://oneshot-pro.deepl.com/v1",login:"https://www.deepl.com/auth/login",token:"https://w.deepl.com/oidc/token",cookieBearerExchange:"https://w.deepl.com/oidc/cookie_bearer_exchange",logout:"https://www.deepl.com/auth/logout",feedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",newFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_cMvbeX0WZGvkKGi",sidepanelShareFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_2reZXhr31K2MeDI",firefoxFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eyfDZqQmXuNTFOK",uninstallSurvey:"https://deepl.qualtrics.com/jfe/form/SV_eJxAD8c7J5hqSRU",gslidesFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_9XBLSAbDmLq5emO",deeplDomain:"https://www.deepl.com",deeplPro:"https://www.deepl.com/pro",deeplProWrite:"https://www.deepl.com/pro-write",deeplTranslator:"https://www.deepl.com/translator",deeplDoctrans:"https://www.deepl.com/translator/files",deeplTermsOfServiceFree:"https://www.deepl.com/en/pro-license?tab=free",deeplCreateAccount:"https://www.deepl.com/signup",extensionStorePage:"https://bit.ly/DeepL-Chrome",supportArticle:"https://support.deepl.com/hc/articles/4407580229522",deeplSupport:"https://support.deepl.com/hc",chromeWebstore:"https://chrome.google.com/webstore/detail/deepl-translate-reading-w/cofdbpoegempjloogbagkncekinflcnj",edgeWebstore:"https://microsoftedge.microsoft.com/addons/detail/deepl-translate-reading-/fancfknaplihpclbhbpclnmmjcjanbaf",firefoxWebstore:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate",firefoxShortcutDocs:"https://support.mozilla.org/kb/manage-extension-shortcuts-firefox",firefoxPrivacyPolicy:"https://addons.mozilla.org/en-US/firefox/addon/deepl-translate/privacy/",clientStateApi:"https://w.deepl.com/web",experimentsEndpoint:"https://experimentation.deepl.com/experiments",gmailFeedbackSurvey:"https://deepl.qualtrics.com/jfe/form/SV_db8ItFTmYBcZjYW",customerSegmentationSurveyFree:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2071",customerSegmentationSurveyPro:"https://deepl.qualtrics.com/jfe/form/SV_3LbBcdg4mjQuCCq?desc=TG-2070",arabicSurvey:"https://deepl.qualtrics.com/jfe/form/SV_ekTrC2ePp0wn7xQ",msAddinsDeepLAds:"https://www.deepl.com/en/microsoft-365",getFreeAccount:"https://www.deepl.com/en/signup?cta=free-login-signup",uninstallPage:"https://www.deepl.com/extension-uninstall",accountApi:"https://w.deepl.com/account?request_type=jsonrpc&il=en&method=getCurrentAccount",organizationApi:"https://w.deepl.com/organization"},APP_VERSION:"1.44.0",FEATURE_FLAGS:{TRANSLATE_INPUT:!0,PAGE_TRANSLATION:!0,IMPROVE_WRITING:!0,DOCUMENT_TRANSLATION:!0,RECOMMEND_TO_A_FRIEND:!0,PRO_LOGIN:!0,WEBPAGE_CUSTOMIZER:!0,GDOCS_INTEGRATION:!0,ZENDESK_INTEGRATION:!0,GMAIL_INTEGRATION:!0,GSLIDES_INTEGRATION:!0,ON_INSTALL_ONBOARDING:!0,WHATSAPP_TRANSLATE_ALL_CHAT:!1,DEEPL_WRITE_GENERAL:!1,DEEPL_WRITE_GDOCS:!0,SHOW_CUSTOMER_SEGMENTATION_SURVEY:!1,ARABIC_SURVEY:!0,BATCH_TRANSLATE_HTML_REQUEST:!0,SIDE_PANEL_FIREFOX:!1}}.HOT_RELOAD.webSocketServerPort}`).addEventListener("message",(e=>{"file-change"===e.data&&chrome.runtime.sendMessage("reload")}))}document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(qL),Ap((()=>{ef.update({translationState:u.showOriginal}),tf(),chrome.runtime.onMessage.removeListener(qL)}))}catch(e){console.error(e),Cu(e,XR)}function KR(e){e.error&&Ls()&&console.error(`SERVICE_WORKER_TEST: Port disconnected due to error: ${e.error.message}`),document.hasFocus()?setTimeout((()=>{QR()}),1e3):window.addEventListener("focus",QR)}function QR(){window.removeEventListener("focus",QR);{const e=$s();Ls()&&console.log("Connecting to background port",e);const t=chrome.runtime.connect({name:e});return ZL(t),GL(t),t.onDisconnect.addListener(KR),t}}try{UM(window.location.host),UR(window.location.host),GM(window.location.href),"complete"===document.readyState?OR(null,!0):window.addEventListener("load",OR),VR()&&RR(),ZR()&&NR(),PM(window.location.host),QR(),zR()}catch(e){console.error(e),Cu(e,XR)}function JR(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function eN(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function tN(e,t){const n=eN(e),o=eN(t),i=function(e,t){const n=(e,t)=>e===t,o=(()=>{let o=0;for(;n(e[o],t[o])&&o<e.length;)++o;return o})();if(o===e.length&&e.length===t.length)return[o];const i=(()=>{let i=e.length-1,s=t.length-1;for(;n(e[i],t[s])&&i>o&&s>o;)--i,--s;return e.length-i-1})(),s=e.length-o-i+1,r=t.length-o-i+1,a=s+r,l=new Map,c=new Map;l.set(1,0),c.set(1,null);for(let d=0;d<=a;++d)for(let a=-d;a<=d;a+=2){let u,p,m;for(a==-d||a!=d&&l.get(a-1)<l.get(a+1)?(u=l.get(a+1),m=[c.get(a+1),void 0,void 0]):(u=l.get(a-1)+1,m=[c.get(a-1),void 0,void 0]),p=u-a;u<s&&p<r&&n(e[u+o],t[p+o]);)++u,++p;if(u>=s&&p>=r){m[1]=s+i-1,m[2]=r+i-1;let e=-1,t=-1;const n=[];for(;m;)n.push([m[1],m[2]]),m=m[0];let a=[],l=null;for(;n.length;){const o=n.pop(),i=o[0],s=o[1],r=i-e,c=s-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],a.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],a.push(l))),d>0&&(a.push(d),l=null),e=i,t=s}return a[0]=a[0]-1+o,a}l.set(a,u),m[1]=u,m[2]=p,c.set(a,m)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let r=0,a=0,l=0;for(;r<i.length;){const e=i[r];let t=0;for(let o=a+e-1;o>=a;o-=1)t+=n[o]?.match(/^\s/)?2:1;a+=e,l+=e;let c=0,d=0;if(a<n.length&&l<o.length&&n[a]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),r+=1,r<i.length){const[e,t]=i[r];for(let t=a+e-1;t>=a;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),r+=1,a+=e,l+=t}}return[s,n,o,i]}return e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=WA,e.GMAIL_INTERVAL=800,e.GMAIL_UI_ADDED_ATTRIBUTE=zA,e.autodetectLanguage=AR,e.backgroundPortListener=XL,e.buildGDocsPasteData=Fi,e.calculateNewIconPosition=Oi,e.canInjectInlineTranslation=ZR,e.canInjectInputTranslation=VR,e.canTranslateElementForDomain=BM,e.checkForIntersectionWithOpenDialogs=zI,e.checkIfInputHasSelection=cv,e.clearMessageControllers=av,e.clickAtCoordinates=qI,e.clickOnElement=VI,e.createAlert=Jh,e.createGmailController=SM,e.createGmailControllerUtil=()=>document.createElement(NI.HTML_TAG_NAME),e.createGoogleDocsIcon=wM,e.createGoogleSlidesController=TM,e.createHighlightsForSentence=function(e,t){const n=tN(t,e),o=[];let i=0,s=0,r=0,a=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=r,c.originalLength=l.length,c.originalOffset=a,r+=t.length,a+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),r+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),a+=o,i+=e,s+=e}})),o},e.createInlineTranslateSettingsTooltip=hM,e.createInlineTranslateTooltip=mM,e.createInlineTranslationTrigger=IM,e.createInlineTranslationTriggerListener=OM,e.createInputTranslationController=xM,e.createNotification=RM,e.createPageLoadPopup=_M,e.createReviewTranslateWriteWindow=uM,e.createSubmitButtonTooltip=dv,e.createTicketController=G_,e.createZendeskController=EM,e.createZendeskControllerElement=N_,e.customizePage=PM,e.dataSetKeys=DO,e.detectTicketLanguageInLiveChat=J_,e.detectTicketLanguageInTicket=Q_,e.detectTicketType=V_,e.disableExtension=z_,e.displayAds=zR,e.doesElementOnlyHoldSingleTranslatableChild=nR,e.doesNodeOnlyWrapIndividualSemanticBlocks=rR,e.elementHasTranslateToolbar=BI,e.executeFullpageTranslation=hR,e.extractSentencesAndEntitiesFromData=as,e.findEditableContent=function n(o,i){return t(this,void 0,void 0,(function*(){try{if(i.dataset&&"true"===i.dataset.dlInputTranslation||i.dataset&&"true"===i.dataset.dlNoInputTranslation)return;if("true"===i.contentEditable||"TEXTAREA"===i.nodeName&&i.rows>1){if("none"===window.getComputedStyle(i).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(i))return;if(!HM(i,e.websiteData.hostname))return;i.dataset.dlInputTranslation="true",o.push(i)}for(const e of i.childNodes)n(o,e)}catch(e){Ls()&&console.error(e),Cu(e,jM)}}))},e.findEmailToAndFromAddressTable=WI,e.findForwardButtonInDocument=XI,e.findOriginalElement=FO,e.findSiblingDivWithAnyMessageId=YI,e.fptExperimentationState=LO,e.fptState=CO,e.generateLanguagesWithShortcodeForDropdown=jI,e.getActivePane=P_,e.getActiveTermbases=()=>{const e=R_();return e?e.getActiveTermbases():[]},e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,r]=JR(e,t,o);if("end"===s&&(i=!0),o<r&&n.push({block:"main",text:e.substring(o,r)}),i)break;const a=e.indexOf(`</${s}>`,r);-1===a?(n.push({block:s,text:e.substring(r+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(r+`<${s}>`.length,a)}),o=a+`</${s}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=Z_(e).map(K_).map((e=>e.innerText)),o=[],i=[];for(let e=0;e<n.length;e++){const s=e%2==0?"start":"end";let r=Math.floor(e/2);if("end"===s&&(r=n.length-1-r),t.includes(r))break;if([...o,...i].reduce(((e,t)=>e+t.length),0)+n[r].length>3e3)break;"end"===s?i.unshift(n[r]):o.push(n[r]),t.push(r)}return[...o,...i]},e.getControllerFromMessage=sv,e.getCoordsOfWord=(e,t,n,o,i)=>{const s=document.createRange();if("#text"===e.nodeName)s.setStart(e,t),s.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return console.error("Invalid textNode with no child text node."),null;{const o=e.firstChild;s.setStart(o,t),s.setEnd(o,t+n)}}const r=s.getBoundingClientRect();return{top:r.top,left:r.left,right:r.right,bottom:r.bottom,original:o,replace:i,textNode:e,changeIndex:t,changeLength:n}},e.getElementCenterCoordinates=FI,e.getEnableAdvancedTriggerIcon=jT,e.getGDocsisEditMode=Ri,e.getGmailControllerUtil=PI,e.getIFrameAndEditable=ki,e.getIconCoordinates=Mi,e.getItaInputEnabled=function(){return!0},e.getItaTranslateEnabled=function(){return!0},e.getItaWriteEnabled=WT,e.getMessageContent=K_,e.getMessageViewContainers=HI,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=Z_,e.getScrollableElements=VM,e.getSelectedText=FT,e.getSelectionContent=Ii,e.getSentryClient=I_,e.getSourceLangFromSlide=ss,e.getTermbases=kR,e.getTicketController=U_,e.getTicketId=D_,e.getTicketStartingMessage=Y_,e.getTicketStartingMessages=X_,e.getTranslatabilityInformation=tR,e.getUserState=MR,e.getWebsiteSettings=IR,e.getWordsFromSentence=zi,e.getZendeskController=R_,e.handleInlineTrigger=SL,e.handleItaTranslateBackendIdle=LL,e.handleItaWriteBackendIdle=kL,e.hasImmediateNonEmptyTextChild=oR,e.hasNoTranslateFlag=jO,e.improveGDocsSelectionContent=$R,e.injectAskAReviewPopup=NM,e.injectControllerInMessage=rv,e.injectInlineTranslation=NR,e.injectInputTranslation=RR,e.injectMissingMessageControllers=iv,e.injectMissingUIElements=H_,e.isAlreadyTranslated=PO,e.isChatGPT=zM,e.isDeepLCom=WR,e.isGDocs=Li,e.isGSlides=is,e.isGmail=pv,e.isIframeInView=BO,e.isInView=HO,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)},e.isInputArea=FM,e.isNonSubmitInput=YO,e.isOnMessageViewScreen=GI,e.isPlainTextElement=VO,e.isServiceNow=jR,e.isTextArea=ZO,e.isTextNodeOnlySpecialCharacters=sR,e.isZendesk=O_,e.onOpenPage=OR,e.pageListener=qL,e.processEntityAfterTranslation=ls,e.processGDocsCopyEvent=Ni,e.reassembleGDocsTranslatedResult=Hi,e.reconnectItaSessionIfPresent=GL,e.registerResetEventListener=RO,e.removeAllAttributes=lR,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=Bi,e.removeGmailController=CM,e.removeGoogleDocsIcon=bM,e.removeGoogleSlidesController=yM,e.removeInlineTranslateSettingsTooltip=fM,e.removeInlineTranslateTooltip=gM,e.removeInlineTranslateTrigger=kM,e.removeInputTextProcessorTrigger=AM,e.removeInputTranslationController=LM,e.removePageLoadPopup=vM,e.removeReviewTranslateWriteWindow=pM,e.removeUIElementsFromList=UI,e.removeZendeskController=$M,e.removeZendeskToolbar=uv,e.removeZendeskUIElements=B_,e.replaceTranslatedGDocsContent=Wi,e.resetFptStateSubscriptions=NO,e.restoreOriginalChildElements=qO,e.revertTranslationState=kO,e.runCustomScriptsForDomain=UM,e.runCustomScriptsForSpecificUrl=GM,e.sendMessageToBackgroundPort=YL,e.sendTranslationRequest=QO,e.setAlreadyTranslated=UO,e.setBackgroundPort=ZL,e.setErrorVisibility=PR,e.shouldInjectInputIcon=HM,e.showAlert=BR,e.simulateGSLidesSelectAll=rs,e.swapChildren=zO,e.swapElements=WO,e.trackDeeplWriteEvent=HR,e.trackIFrameTranslationFailed=KO,e.trackPageLandingIfNeeded=UR,e.trackSuccessfulIFrameTranslation=XO,e.trackZendeskCustomizationEvent=GR,e.translateDomNodes=JO,e.translateGDocsSelectionContent=ER,e.translateGSlidesInbloxkSelectionContent=SR,e.translateGSlidesSelectionContent=xR,e.translateInlineText=vR,e.translateSelectionRightClick=wR,e.translateWebsite=TR,e.translateZendeskMessage=LR,e.translateZendeskSelectionContent=CR,e.triggerCopyEvent=Ai,e.twitterState=$w,e.unsubscribeToWebsiteState=tf,e.updateInputIconLanguageInformation=ov,e.updateInputPositionerCoords=qM,e.updateIntegrationPanelIfExists=lv,e.updateToolbarAutoTranslateStatus=tv,e.updateToolbarLanguageInformation=ev,e.updateTopIconLanguageInformation=nv,e.updateWebsiteStateWithError=yL,e.updateWebsiteStateWithITADocumentState=PL,e.updateWebsiteStateWithITAFormality=e=>{ef.update({formality:e})},e.updateWebsiteStateWithITASourceLanguage=ML,e.updateWebsiteStateWithITASourceLanguageAutoDetected=NL,e.updateWebsiteStateWithITATargetText=AL,e.updateWebsiteStateWithITATranslateSourceLanguageUnsupported=HL,e.updateWebsiteStateWithITATranslateTargetLanguage=OL,e.updateWebsiteStateWithITATranslateTargetTextAlternatives=FL,e.updateWebsiteStateWithITAWriteDocumentState=UL,e.updateWebsiteStateWithITAWriteSourceLanguage=RL,e.updateWebsiteStateWithITAWriteSourceLanguageAutoDetected=DL,e.updateWebsiteStateWithITAWriteSourceLanguageUnsupported=BL,e.updateWebsiteStateWithITAWriteTargetText=IL,e.updateWebsiteStateWithITAWriteTargetTextAlternatives=jL,e.updateWebsiteStateWithTranslateGenericError=zL,e.updateWebsiteStateWithWriteGenericError=WL,e.waitForElement=ZI,e.walkToClientRectResolveableElement=GO,e.websiteState=ef,e.whatsAppState=tw,e.youTubeState=aT,e}({});
//# sourceMappingURL=content.js.map
