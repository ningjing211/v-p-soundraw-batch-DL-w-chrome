var d=["www.baidu.com","fastapi.tiangolo.com","www.figma.com","ds4sd.github.io"],i=class{constructor(){this.protectedRootList=[],this.observer=null,d.includes(location.host)&&(this.observer=new MutationObserver(t=>{if(!(this.protectedRootList.length<=0))for(let e of t)if(e.type==="childList"&&e.removedNodes.length>0)e.removedNodes.forEach(r=>{let o=r,s=this.protectedRootList.findIndex(c=>c.rootId===o.id);if(s>=0&&!document.getElementById(o.id)){let n=this.protectedRootList[s];n.reactRoot&&n.reactRoot.unmount(),this.removeProtectedRoot(o.id),n.renderFn()}});else for(let r=0;r<this.protectedRootList.length;r++){let o=this.protectedRootList[r];if(!document.getElementById(o.rootId))o.reactRoot&&o.reactRoot.unmount(),this.removeProtectedRoot(o.rootId),o.renderFn();else continue}}),this.observer.observe(document,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",()=>{this.observer?.disconnect()}))}addProtectedRoot(t){this.protectedRootList.push(t)}removeProtectedRoot(t){this.protectedRootList=this.protectedRootList.filter(e=>e.rootId!==t)}},l=new i;export{l as a};
