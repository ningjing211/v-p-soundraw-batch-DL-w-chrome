import{c as g}from"./JVSFDP7Y.js";import{c as i,d as m,g as d,h as c,i as p}from"./HFEXSQX6.js";import{a as E}from"./4B6UFNBQ.js";import{a as I}from"./PJ57C2TE.js";import{f as l}from"./GAV6HCJA.js";var f=l(E()),T=l(I());var s=class{constructor(t={}){this.runtime=t.runtime||"client"}async postMessage(t){try{return await T.default.runtime.sendMessage({id:g,event:t.event,data:{...t.data,_RUNTIME_:this.runtime}})}catch(n){return{success:!1,message:n.message,data:{}}}}destroy(){}};var M=()=>{let e=document.querySelector(`#${i}`)?.shadowRoot?.activeElement;return e===void 0?null:e},_=()=>{let e=document.querySelector(`#${i}`)?.shadowRoot?.querySelector(`#${m}`);return e===void 0?null:e},v=()=>{let e=document.querySelector(`#${c}`)?.shadowRoot?.activeElement;return e===void 0?null:e},A=()=>{let e=document.querySelector(`#${c}`)?.shadowRoot?.querySelectorAll(`#${p}`)||[];return Array.from(e).find(n=>n.innerHTML!=="")},h=()=>document.querySelector(`#${d}`)?.shadowRoot?.querySelector("div");var R=async e=>{let{key:t,url:n,query:r,active:o=!0}=e;if(!n&&!t)return null;let a=new s,u=null;return t?u=await a.postMessage({event:"Client_openUrl",data:{key:t,query:r,active:o}}):u=await a.postMessage({event:"Client_openUrl",data:{url:n,query:r,active:o}}),a.destroy(),u.data?.tabId||null},S=async e=>{let{tabId:t,url:n}=e;if(!t&&!n)return!1;let r=new s,o=null;return n?o=await r.postMessage({event:"Client_closeUrl",data:{url:n}}):o=await r.postMessage({event:"Client_closeUrl",data:{tabId:t}}),r.destroy(),o.success};var F=async(e,t,n)=>{let o=await new s({runtime:"client"}).postMessage({event:"Client_backgroundRunFunction",data:{command:e,commandFunctionName:t,commandFunctionData:n}});return o.success?o.data:null};var D=e=>new Promise(t=>setTimeout(t,e)),P=()=>parseFloat((window.outerWidth/window.innerWidth).toFixed(2));export{s as a,M as b,_ as c,v as d,A as e,h as f,R as g,S as h,F as i,D as j,P as k};
