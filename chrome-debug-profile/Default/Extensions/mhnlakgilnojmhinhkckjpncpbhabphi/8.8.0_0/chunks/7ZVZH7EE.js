import{g as y}from"./PX63O6JF.js";import{b as N}from"./V2XRVCZW.js";import{g as L}from"./YQYYOIEY.js";import{q as A}from"./GIH46LXY.js";import{s as T,t as E,z as $}from"./76I7HRZL.js";import{b as X}from"./KFSXHSE2.js";import{c as I}from"./QACMIT2E.js";import{b as D}from"./2SX2IMMC.js";import{f as v}from"./QSM5JSHK.js";import{ga as F,ka as c,oa as u}from"./NSOQXCT3.js";import{l as M}from"./Z2GQCHLU.js";import{O as k,P as B,f as S}from"./ONVH27HX.js";import{a as b}from"./4B6UFNBQ.js";import{m as z}from"./WUP5AHVL.js";import{f}from"./GAV6HCJA.js";var m=f(b()),q=F(E)(({theme:o})=>({height:10,borderRadius:5,[`&.${T.colorPrimary}`]:{backgroundColor:o.palette.mode==="dark"?o.palette.grey[800]:o.palette.grey[300]},[`& .${T.bar}`]:{borderRadius:5,backgroundColor:"#1a90ff"}})),G=o=>{let{documentType:l,title:n,fileSize:e,progress:i,sx:s}=o;return m.default.createElement(c,{gap:2,direction:"row",justifyContent:"center",alignItems:"flex-start",sx:{border:"1px solid",borderColor:"border.main",borderRadius:2,bgcolor:"background.paper",width:"calc(100% - 16px)",maxWidth:400,boxSizing:"border-box",p:2,...s}},m.default.createElement(N,{documentType:l,sx:{fontSize:46}}),m.default.createElement(c,{flex:1,width:0,gap:.5},m.default.createElement(c,{gap:2,direction:"row",alignItems:"center"},m.default.createElement(u,{flex:1,fontSize:16,fontWeight:500,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",color:"text.primary",textAlign:"left"},n||"-"),m.default.createElement(I,{size:20,sx:{color:"text.secondary"}})),m.default.createElement(u,{fontSize:14,fontWeight:400,color:"text.secondary",textAlign:"left"},B(e||0)),m.default.createElement(c,{gap:2,direction:"row",justifyContent:"center",alignItems:"center"},m.default.createElement(q,{variant:"determinate",value:i||0,sx:{flex:1}}),m.default.createElement(u,{fontSize:14,fontWeight:500,color:"text.primary"},Math.floor(i||0)," %"))))},to=G;var W=f(X());var d=f(b()),H=o=>{let{icon:l,title:n,loading:e,onClose:i,sx:s,children:p}=o,{t}=S();return d.default.createElement(c,{direction:"row",gap:.5,sx:{boxSizing:"border-box",width:"100%",alignItems:"center",px:2,py:1.5,borderBottom:"1px solid",borderColor:"border.main",...s}},d.default.createElement(c,{sx:{width:"18px",height:"18px",position:"relative",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:0,"& > img":{width:e?"12px":"18px",height:e?"12px":"18px",boxSizing:"border-box",borderRadius:e?"50%":"4px",overflow:"hidden",transition:"all 0.3s ease-in-out"},"& > svg":{fontSize:e?"12px":"18px",boxSizing:"border-box",borderRadius:e?"50%":"4px",overflow:"hidden",transition:"all 0.3s ease-in-out"}}},d.default.createElement(I,{thickness:5,size:18,sx:{position:"absolute",color:"primary.main",display:e?"block":"none"}}),l),d.default.createElement(u,{color:"text.primary",fontSize:16,fontWeight:500,textAlign:"left",width:0,flex:1,ml:.5,noWrap:!0},n),d.default.createElement(c,{direction:"row",alignItems:"center"},p,d.default.createElement(y,{title:t("package__common:close"),onClick:i},d.default.createElement(W.default,null))))},mo=H;var x=f(b()),bo=o=>{let{sx:l,...n}=o;return x.default.createElement(D,{sx:{height:24,width:"1px",mx:1,bgcolor:"border.main",...l},...n})},J=o=>{let{freeze:l,enableFreeze:n,disableFreeze:e,sx:i,children:s}=o;return(0,x.useEffect)(()=>(n?.(),()=>{e?.()}),[]),x.default.createElement(v,{in:!l},x.default.createElement(D,{position:"absolute",left:"50%",bottom:26,height:48,borderRadius:1,bgcolor:"background.paper",border:"1px solid",borderColor:"border.main",boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.16);0px 0px 1px 0px rgba(0, 0, 0, 0.24)",sx:{maxWidth:"calc(100% - 16px)",overflow:"auto",transform:"translateX(-50%)",...i},onMouseEnter:e,onMouseLeave:n},x.default.createElement(c,{flexDirection:"row",alignItems:"center",height:"100%",minWidth:"max-content",boxSizing:"border-box",px:2,gap:1,sx:{"&:empty":{display:"none"}}},s)))},ho=J;var P=f(b());var g=f(b()),_=o=>{let[l,n]=(0,g.useState)(!1),{check:e}=L(),i=(0,g.useCallback)((t,a)=>{let r=document.createElement("a");r.href=t,r.download=a||"\u672A\u547D\u540D\u6587\u4EF6",r.click(),r.remove()},[]),s=(0,g.useCallback)(async(t,a)=>{let r=await M.loadFile(t);if(!r){i(t,a);return}return k(r,a||r.name||"\u672A\u547D\u540D\u6587\u4EF6"),r},[i]),p=(0,g.useCallback)(async t=>{let a=t?.file??o?.file,r=t?.fileLink??o?.fileLink,h=t?.fileName??o?.fileName,C=t?.onSuccess??o?.onSuccess,j=t?.onError??o?.onError,U=t?.onComplete??o?.onComplete;if(!(!r&&!a))try{if(n(!0),!r&&a){k(a,h||(a instanceof File?a.name:"")||"\u672A\u547D\u540D\u6587\u4EF6"),C?.();return}if(!r)return;z?await s(r,h):e()?await s(r,h):i(r,h),C?.()}catch(w){j?.(w instanceof Error?w:new Error(String(w)))}finally{n(!1),U?.()}},[i,e,o,s]);return{isDownloading:l,download:p}};var K=o=>{let{file:l,fileLink:n,fileName:e,...i}=o,{t:s}=S(),{isDownloading:p,download:t}=_({file:l,fileLink:n,fileName:e}),a=()=>{p||t()};return P.default.createElement(y,{title:s(p?"package__common:downloading":"package__common:download"),onClick:a,...i},P.default.createElement(A,{sx:{fontSize:"20px",scale:p?"0.8":"1"},icon:p?"Loading":"FileDownload"}))},Bo=K;export{mo as a,_ as b,bo as c,ho as d,to as e,Bo as f};
