import{a as i}from"./SNEXM654.js";import{J as u}from"./RHEDGG6N.js";import{f as t}from"./ONVH27HX.js";import{a as p}from"./4B6UFNBQ.js";import{a as d}from"./PJ57C2TE.js";import{f as g}from"./GAV6HCJA.js";var s=g(p());var f=g(d());var a=new i("i18n"),h=()=>{let{userSettings:o}=u(),{i18n:e}=t();(0,s.useEffect)(()=>{let r=o?.preferredLanguage||e.language;e?.hasResourceBundle?.(r,"name")||fetch(f.default.runtime.getURL(`i18n/locales/${r}/index.json`)).then(n=>n.json()).then(n=>{Object.keys(n).forEach(c=>{e.addResourceBundle(r,c,n[c],!0,!0)}),a.info("load i18n resources success",r)}).catch(n=>{a.error("load i18n resources error",n)})},[e,o?.preferredLanguage])};var R=()=>{let{i18n:o}=t(),{userSettings:e}=u();h(),(0,s.useEffect)(()=>{e?.preferredLanguage&&o.changeLanguage(e?.preferredLanguage,r=>{r&&a.error("change language error",r)})},[e?.preferredLanguage]),(0,s.useEffect)(()=>{e?.preferredLanguage&&o.changeLanguage(e?.preferredLanguage,r=>{r&&a.error("change language error",r)})},[e])};export{R as a};
