var p=(t,r)=>{let o=document.elementsFromPoint(t,r);for(let n of o){let e=window.getComputedStyle(n).backgroundColor;if(e!=="transparent"&&e!=="rgba(0, 0, 0, 0)")return e}return null};var d=()=>{let o=document.documentElement.clientWidth/11,n={};[100,200,300,400,500,800].forEach(a=>{for(let s=1;s<11;s++){let i=Math.floor(s*o),l=p(i,a);l&&(n[l]=(n[l]||0)+1)}});let e=Object.entries(n).reduce((a,[s,i])=>i>a.count?{color:s,count:i}:a,{color:"",count:0});return e.count>10/2?e.color:null},u=null,h=()=>{if(!u){let t=document.createElement("canvas");t.width=1,t.height=1,u=t}return u},m=t=>{if(!t)return!1;let r,o,n;if(t.startsWith("#"))t.length===4?(r=parseInt(t[1]+t[1],16),o=parseInt(t[2]+t[2],16),n=parseInt(t[3]+t[3],16)):(r=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16));else if(t.startsWith("rgb")){let e=t.match(/\d+/g);e&&([r,o,n]=e.map(Number))}else{let e=h(),c=e.getContext("2d");if(!c)return!1;c.clearRect(0,0,e.width,e.height),c.fillStyle=t,c.fillRect(0,0,e.width,e.height);let s=c.getImageData(0,0,1,1).data;r=s[0],o=s[1],n=s[2]}return typeof r!="number"||typeof o!="number"||typeof n!="number"?!1:r*.299+o*.587+n*.114>128},f=()=>{let t=d();return t?m(t)?"light":"dark":null};export{f as a};
