import{B as b,J as d}from"./RHEDGG6N.js";import{ja as f,l as s}from"./DPE42NE6.js";import{ra as a}from"./ONVH27HX.js";import{a as x}from"./4B6UFNBQ.js";import{f as C}from"./GAV6HCJA.js";var c="SUGGESTED",y=["9642aa63-4c26-4b5a-8109-e51c4a92df0b","6b9f9cb4-b1b1-4897-9156-903dbc52b2a1"];var E=e=>e.startsWith(c),M=e=>{let r=s(e);return{...r,prompt_id:c+r.prompt_id,parent_prompt_id:c}};var I=async e=>(await b()).buttonSettings?.[e];var u=C(x()),j=()=>{let{appSettings:e,setAppSettings:r}=d(),[g,m]=(0,u.useState)(()=>e.buttonSettings),l=async(i,n)=>{r(o=>o.buttonSettings?{...o,buttonSettings:{...o.buttonSettings,[i]:n}}:o)},S=async(i,n)=>{let o=await I(i);if(!o)return!1;let t=s(o);return n?t.visibility.isWhitelistMode=!1:(t.visibility.isWhitelistMode=!0,t.visibility.whitelist=[]),await l(i,t),!0},h=async i=>{let n=a(),o=e.buttonSettings?.[i];if(o){let t=s(o);t.visibility.isWhitelistMode?t.visibility.whitelist.includes(n)?t.visibility.whitelist=t.visibility.whitelist.filter(p=>p!==n):t.visibility.whitelist.push(n):t.visibility.blacklist.includes(n)?t.visibility.blacklist=t.visibility.blacklist.filter(p=>p!==n):t.visibility.blacklist.push(n),await l(i,t)}return!1};return(0,u.useEffect)(()=>{m(i=>f(i,e.buttonSettings)?i:e.buttonSettings)},[e.buttonSettings]),{loaded:!!e.buttonSettings,buttonSettings:g,updateButtonSettings:l,toggleButtonSettings:S,updateButtonSettingsWithDomain:h}};export{c as a,y as b,E as c,M as d,j as e};
