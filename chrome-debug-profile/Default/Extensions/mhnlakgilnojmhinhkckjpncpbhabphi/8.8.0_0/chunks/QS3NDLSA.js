import{a as T}from"./SYG5TBVI.js";import{z as Re}from"./76I7HRZL.js";import{a as le,g as N}from"./3MKI6XLK.js";import{a as ue}from"./2KT44S3D.js";import{g as Z}from"./YUYFDNT7.js";import{w as J}from"./NSOQXCT3.js";import{a as ae}from"./GFMUSIRW.js";import{K as v,b as ee,c as te,d as L,n as _,x as re,z as ne}from"./RHEDGG6N.js";import{Ga as oe,Ha as ie,Ja as H,Ka as se,Oa as ce}from"./DPE42NE6.js";import{f as Y,n as Q,o as D,va as K}from"./ONVH27HX.js";import{a as d}from"./4B6UFNBQ.js";import{c as A,f as b}from"./GAV6HCJA.js";var be=A((jr,ge)=>{ge.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,r=[],n=0;n<e.rangeCount;n++)r.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),t&&t.focus()}}});var Ee=A((Gr,he)=>{"use strict";var Ge=be(),ve={"text/plain":"Text","text/html":"Url",default:"Text"},Ve="Copy to clipboard: #{key}, Enter";function Be(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Fe(e,t){var r,n,o,i,u,s,l=!1;t||(t={}),r=t.debug||!1;try{o=Ge(),i=document.createRange(),u=document.getSelection(),s=document.createElement("span"),s.textContent=e,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",function(c){if(c.stopPropagation(),t.format)if(c.preventDefault(),typeof c.clipboardData>"u"){window.clipboardData.clearData();var f=ve[t.format]||ve.default;window.clipboardData.setData(f,e)}else c.clipboardData.clearData(),c.clipboardData.setData(t.format,e);t.onCopy&&(c.preventDefault(),t.onCopy(c.clipboardData))}),document.body.appendChild(s),i.selectNodeContents(s),u.addRange(i);var a=document.execCommand("copy");if(!a)throw new Error("copy command was unsuccessful");l=!0}catch{try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch{n=Be("message"in t?t.message:Ve),window.prompt(n,e)}}finally{u&&(typeof u.removeRange=="function"?u.removeRange(i):u.removeAllRanges()),s&&document.body.removeChild(s),o()}return l}he.exports=Fe});var Se=A(P=>{"use strict";function F(e){"@babel/helpers - typeof";return F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(e)}Object.defineProperty(P,"__esModule",{value:!0});P.CopyToClipboard=void 0;var R=Te(d()),Xe=Te(Ee()),qe=["text","onCopy","options","children"];function Te(e){return e&&e.__esModule?e:{default:e}}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?we(Object(r),!0).forEach(function(n){q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ze(e,t){if(e==null)return{};var r=$e(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $e(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t,r){return t&&xe(e.prototype,t),r&&xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}function X(e,t){return X=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},X(e,t)}function Je(e){var t=Ke();return function(){var n=k(e),o;if(t){var i=k(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return Ze(this,o)}}function Ze(e,t){if(t&&(F(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oe(e)}function Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},k(e)}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ce=function(e){Qe(r,e);var t=Je(r);function r(){var n;We(this,r);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=t.call.apply(t,[this].concat(i)),q(Oe(n),"onClick",function(s){var l=n.props,a=l.text,c=l.onCopy,f=l.children,y=l.options,x=R.default.Children.only(f),M=(0,Xe.default)(a,y);c&&c(a,M),x&&x.props&&typeof x.props.onClick=="function"&&x.props.onClick(s)}),n}return Ye(r,[{key:"render",value:function(){var o=this.props,i=o.text,u=o.onCopy,s=o.options,l=o.children,a=ze(o,qe),c=R.default.Children.only(l);return R.default.cloneElement(c,Ie(Ie({},a),{},{onClick:this.onClick}))}}]),r}(R.default.PureComponent);P.CopyToClipboard=Ce;q(Ce,"defaultProps",{onCopy:void 0,options:void 0})});var tt=A((Br,Ae)=>{"use strict";var et=Se(),z=et.CopyToClipboard;z.CopyToClipboard=z;Ae.exports=z});var j=b(d());var G=()=>{let[e,t]=Q(ne),{email:r,userInfo:n,isFreeUser:o}=v(),i=async(a=!1,c=!0)=>{try{c&&t(y=>({...y,loading:!0}));let f=await re.getUserGroupInfo(a);return t(y=>({...y,...f,loading:!1})),f}catch{return null}},u=e?.group_owner_email,s=(0,j.useMemo)(()=>r===u,[r,u]),l=(0,j.useMemo)(()=>!u||!r?e.members??[]:s&&e.members?e.members:[{email:u,group_role:"ADMIN"},{email:r,group_role:"MEMBER"}],[s,e.members,u,r]);return{groupId:n?.group_id,isGroupOwner:o?!1:s,isGroupMember:o?!1:!s,groupOwnerEmail:u,syncUserGroupInfo:i,members:l,...e}};var fe=b(d()),ke=(e=!0)=>{let{isLogin:t}=L(),{userInfo:r,isPayingUser:n}=v(),{syncUserGroupInfo:o}=G(),i=!!r;return(0,fe.useEffect)(()=>{t&&i&&n&&o(e)},[t,i,n,e]),null};var V=b(d());var Pe=(e=!0)=>{let{isLogin:t}=L(),r=D(te),{syncUserInfo:n,userInfoFetchHasError:o}=v(),i=D(ee);ue(()=>{u()}),(0,V.useEffect)(()=>{t&&n(e)},[t,e]),le(()=>{o||(u(),n(void 0,!0))});let u=async()=>{_.checkAccessToken();let s=await _.getAuthTokens(),a=!(s?.refreshToken?_.isTokenExpired(s.refreshToken):!0)&&!!s;i(a&&s?c=>c.isLogin===a?c:{...c,isLogin:a,authTokens:s}:c=>c.isLogin===a?c:{...c,isLogin:!1,authTokens:null}),r(!0)};return(0,V.useEffect)(()=>{u()},[]),null};var pe=b(d());var Me=()=>{let{t:e}=Y(),{loaded:t,currentUserPlan:r,subscriptionType:n}=v();return(0,pe.useMemo)(()=>{if(!t)return"";if(r.name==="free")return"Free";let o=ae(r.name);switch(n){case"monthly":o+=` \xB7 ${e("package__common:monthly")}`;break;case"yearly":o+=` \xB7 ${e("package__common:yearly")}`;break;case"quarterly":o+=` \xB7 ${e("package__common:quarterly")}`;break;default:break}return o},[e,t,r,n])};var S=b(d()),Ue=e=>{let{currentUserPlan:t,userInfo:r}=v(),n=(0,S.useRef)(null),o=(0,S.useRef)(e);o.current=e,(0,S.useEffect)(()=>{r&&n.current!==t.name&&(o.current(r.role),n.current=t.name)},[t.name,r])};var me=()=>{let{popupContainer:e}=T();return e};var B=b(d()),De=(e,t)=>(0,B.useMemo)(()=>oe(e,t),[e,t]);var Wt=(e,t)=>(0,B.useMemo)(()=>ie(e,t),[e,t]);var w=b(d());var Kt=(e=480)=>{let{theme:t,popupContainer:r}=T(),[n,o]=(0,w.useState)("xl"),[i,u]=(0,w.useState)(e);(0,w.useEffect)(()=>{let l=()=>{let a=t.breakpoints.values,c=window.innerWidth,f="xl";c<a.sm?f="xs":c<a.md?f="sm":c<a.lg?f="md":c<a.xl&&(f="lg"),o(f),u(r?.offsetWidth||e)};return l(),window.addEventListener("resize",l),()=>{window.removeEventListener("resize",l)}},[t.breakpoints.values,r]);let s=(0,w.useMemo)(()=>i<=e?"xs":i<=600?"sm":i<=960?"md":i<=1280?"lg":i<=1920?"xl":"xs",[i,e]);return K()?s:n};var I=b(d());var or=(e,t)=>{let{intersectionConfig:r,scrollableParents:n,needCheckScrollParentsInInit:o=!0}=t??{},[i,u]=(0,I.useState)(()=>se(e,{needCheckScrollableParents:o,scrollableParents:n})),s=(0,I.useRef)(r);return s.current=r,(0,I.useEffect)(()=>{if(!e){u(!1);return}let l=new IntersectionObserver(c=>{u(c[0].isIntersecting)},s.current),a=new ResizeObserver(c=>{let{width:f,height:y}=c[0].contentRect;(f===0||y===0)&&u(!1)});return l.observe(e),a.observe(e),()=>{l.disconnect(),a.disconnect()}},[e]),i},ir=(e,t,r={})=>{let n=N(t),o=N(r);(0,I.useEffect)(()=>{let i=e?.current;if(!i)return;let u=[],s=new IntersectionObserver(l=>{l.forEach(a=>{let c=n.current(a.isIntersecting);c&&u.push(c)})},o.current);return s.observe(i),()=>{s.disconnect(),u.forEach(l=>{l()})}},[n,o,e])};var ur=()=>{let e=Z();return{isDownSm:J(e.breakpoints.down("sm"))}};var m=b(d()),Ne=[e=>e===document.body,e=>!!e?.tagName.includes("MAX-AI")],je=e=>Ne.some(t=>t(e)),fr=(e,t,r=1)=>{let n=(0,m.useRef)([]),[o,i]=(0,m.useState)({x:0,y:0}),[u,s]=(0,m.useState)(!0),l=(0,m.useRef)(null),a=(0,m.useRef)(null),c=(0,m.useRef)(!1),f=(0,m.useRef)(!1),y=(0,m.useRef)(!1),[x,M]=(0,m.useState)(null),U=(0,m.useCallback)(()=>{i({x:0,y:0})},[]);return(0,m.useEffect)(()=>{let p=()=>{a.current=l.current};return document.addEventListener("keydown",p,!0),()=>{document.removeEventListener("keydown",p,!0)}},[]),(0,m.useEffect)(()=>{let p=h=>{["ArrowUp","ArrowDown","PageUp","PageDown","Space"].includes(h.code)&&(y.current=!0,a.current=l.current)},E=()=>{y.current&&(y.current=!1)};return document.addEventListener("keydown",p,!0),document.addEventListener("keyup",E,!0),()=>{document.removeEventListener("keydown",p,!0),document.removeEventListener("keyup",E,!0)}},[]),(0,m.useEffect)(()=>{let p=h=>{(h.offsetX>h.target.clientWidth||h.offsetY>h.target.clientHeight)&&(f.current=!0,a.current=l.current)},E=h=>{f.current&&(f.current=!1,c.current&&(c.current=!1))};return document.addEventListener("mousedown",p,!0),document.addEventListener("mouseup",E,!0),()=>{document.removeEventListener("mousedown",p,!0),document.removeEventListener("mouseup",E,!0)}},[]),(0,m.useEffect)(()=>{let p=null;if(je(e)&&(p=l.current),p||(p=e),M(p),!p||(n.current=H(p,r),U(),n.current.length===0))return;let E=n.current.map(g=>({top:g.scrollTop,left:g.scrollLeft})),h=()=>{c.current=!0,(f.current||y.current)&&(p=a.current);let g=H(p,r);g.length!==E.length&&(E=g.map(C=>({top:C.scrollTop,left:C.scrollLeft})),n.current=g);let Le=n.current.reduce((C,$,_e)=>{let W=E[_e]||{top:0,left:0};return{x:C.x+(W.left-$.scrollLeft),y:C.y+(W.top-$.scrollTop)}},{x:0,y:0});i(Le)};return n.current.forEach(g=>{g.addEventListener("scroll",h,!0)}),l.current=p,a.current=null,()=>{n.current.forEach(g=>{g.removeEventListener("scroll",h,!0)})}},[t,e,U,r]),{scrollState:o,resetScrollState:U,currentTarget:x,inParentScrollView:u}};var O=b(d());var de=b(d()),Ir=()=>{let e=me();return(0,de.useCallback)(()=>e?.parentNode?.nodeName==="#document-fragment"?e?.parentNode?.getSelection?.()||window.getSelection()||null:window.getSelection()||null,[e])};var ye=b(d()),Hr=()=>{let{theme:e}=T();return(0,ye.useEffect)(()=>{ce.theme=e},[e]),null};export{G as a,ke as b,Pe as c,Me as d,Ue as e,tt as f,De as g,Wt as h,Kt as i,or as j,ir as k,ur as l,fr as m,me as n,Ir as o,Hr as p};
