import{a as sn,b as ln}from"./VPQKTHV6.js";import{G as on,L as nn,Q as Ot,R as Et,W as rn,X as kt,Y as an,h as Bt,i as Lt,u as Yr}from"./CL5ONEUR.js";import"./AZ7IDPMI.js";import"./ZRYDJGAJ.js";import"./UAB7UEHC.js";import"./SGC75SOE.js";import"./PX63O6JF.js";import{a as Qo,b as z,d as Ko,e as Zo}from"./XCJE7H4N.js";import{p as $o}from"./2KV3QHEC.js";import"./YRXPW3SH.js";import"./LU2HGRXL.js";import"./IAZGMYQO.js";import{Ha as Pt,Ia as Mt}from"./BBEJE4ZB.js";import"./6WYGM23H.js";import"./7DYLEKAB.js";import"./YQYYOIEY.js";import{d as Hr,n as qr,q as dt}from"./GIH46LXY.js";import"./5D53VMIZ.js";import"./IA7EOSRE.js";import"./XHCCXCYD.js";import"./TIMUG6T2.js";import"./3YHG6AB5.js";import"./SDKIB65Q.js";import{i as fe}from"./WAO3NQ2W.js";import{c as Eo,j as wt}from"./QS3NDLSA.js";import"./SYG5TBVI.js";import{h as Wo,i as zo,z as $t}from"./76I7HRZL.js";import"./AKHNMYRV.js";import"./EO5NI5PG.js";import"./M5EUKMX7.js";import{h as qo,i as Yo}from"./QMYX3O5Q.js";import"./NJ5K6VPN.js";import{a as ko}from"./GAQAA6QT.js";import{h as Uo}from"./KFSXHSE2.js";import{C as Fo,c as Do,m as mt,t as No}from"./IGY2MCYY.js";import"./4AHPLCY6.js";import"./7DLHESNS.js";import"./ONOBNLBL.js";import"./XXHIGHFM.js";import{b as pt}from"./4NWBLZJZ.js";import"./TK3EYKNW.js";import"./OMLGX5X7.js";import"./X23QQTWI.js";import{a as Lo}from"./PM3LLVI3.js";import"./R5Q6YK7C.js";import{c as Oo}from"./QACMIT2E.js";import{a as jo}from"./7E2Y3OCR.js";import{b as Jo}from"./YJGF2X6B.js";import"./FU7FJIIR.js";import"./6I47KYK3.js";import"./EDMY23AH.js";import"./DHWD6FYA.js";import"./RIFBUVK3.js";import{g as Ho}from"./3MKI6XLK.js";import"./PGX2QCH2.js";import"./P3KSR7Y5.js";import"./UXV3QMB6.js";import{a as Ur}from"./ZBHADXRO.js";import{b as U}from"./2SX2IMMC.js";import"./7SFXISDJ.js";import"./JQWMDYRH.js";import{a as j}from"./MIYXIYDF.js";import{c as Go}from"./S6H5XQH6.js";import{a as et}from"./2KT44S3D.js";import{a as ge}from"./AWZ7Z3LK.js";import{a as W}from"./GHDEJCPS.js";import"./F5Z7XADF.js";import"./6XK6ENHE.js";import"./ZIQ3BN2D.js";import{b as vo,c as Ao}from"./7SPDRKKT.js";import"./P3TOHEEA.js";import"./KFLHMKZY.js";import"./QSM5JSHK.js";import{e as Q}from"./I3C4LBBJ.js";import"./AJYLX3ZQ.js";import"./YUYFDNT7.js";import"./EP4CV5DW.js";import"./2KFG7XKF.js";import{b as Nr}from"./BCWF2JUJ.js";import{a as Mo,b as Er,c as Io,d as kr,f as Dr,ga as me,ka as b,oa as vt}from"./NSOQXCT3.js";import{a as Or,d as So}from"./PCHDBHHN.js";import"./ADNQVRZ5.js";import"./OXBAKQ6O.js";import"./IRJH4GTA.js";import"./Y6ZMR5CC.js";import{a as jt,b as K}from"./UJVCA7OP.js";import"./YXBTMGDF.js";import{a as _e}from"./VNZROBYV.js";import"./PW2PVNG6.js";import"./Z2GQCHLU.js";import"./6CLNRQN2.js";import"./XMSUU4RH.js";import"./BYL62TPW.js";import{J as en}from"./W76RXALD.js";import"./N5EAU2XY.js";import{c as G,e as tn}from"./454JMIH7.js";import"./RY63BUJF.js";import"./DRLHFEB5.js";import"./P3KYY2HQ.js";import"./77DTOUOQ.js";import"./AVXABA5R.js";import"./6OS2OCGS.js";import"./IPQKZCT2.js";import"./GFMUSIRW.js";import{a as Ro}from"./HPHM72CW.js";import"./SNEXM654.js";import{a as Xo,c as Vo,g as he,i as qe}from"./4VYUSQN4.js";import{a as At}from"./27O46L5C.js";import"./JVSFDP7Y.js";import"./VOKYBSBD.js";import"./DBAIQPWT.js";import"./WBYFOOBE.js";import"./V3YOWZUQ.js";import{C as Bo,J as O,d as pe}from"./RHEDGG6N.js";import{b as de}from"./ENA3LJHP.js";import{La as Fr,ba as $,l as Po}from"./DPE42NE6.js";import"./U7QPOJB4.js";import"./57QVGQHC.js";import{f as _,g as He,i as yt,m as Vt,n as Rt,o as Qt,q as Co,xa as wo}from"./ONVH27HX.js";import"./UB52WFCV.js";import{c as yo}from"./HFEXSQX6.js";import{a as x}from"./4B6UFNBQ.js";import{b as Gt,l as To,s as Xt}from"./WUP5AHVL.js";import{a as Lr}from"./PJ57C2TE.js";import{c as tt,f}from"./GAV6HCJA.js";var Jt=tt(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.dontSetMe=Rr;It.findInArray=zr;It.int=Vr;It.isFunction=Gr;It.isNum=Xr;function zr(t,e){for(let o=0,n=t.length;o<n;o++)if(e.apply(e,[t[o],o,t]))return t[o]}function Gr(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Xr(t){return typeof t=="number"&&!isNaN(t)}function Vr(t){return parseInt(t,10)}function Rr(t,e,o){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(o," - do not set this, set it on the child."))}});var pn=tt(Ct=>{"use strict";Object.defineProperty(Ct,"__esModule",{value:!0});Ct.browserPrefixToKey=mn;Ct.browserPrefixToStyle=Qr;Ct.default=void 0;Ct.getPrefix=cn;var Ye=["Moz","Webkit","O","ms"];function cn(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";let o=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!o||e in o)return"";for(let n=0;n<Ye.length;n++)if(mn(e,Ye[n])in o)return Ye[n];return""}function mn(t,e){return e?"".concat(e).concat($r(t)):t}function Qr(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t}function $r(t){let e="",o=!0;for(let n=0;n<t.length;n++)o?(e+=t[n].toUpperCase(),o=!1):t[n]==="-"?o=!0:e+=t[n];return e}var Li=Ct.default=cn()});var xe=tt(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.addClassName=hn;M.addEvent=Jr;M.addUserSelectStyles=ua;M.createCSSTransform=aa;M.createSVGTransform=ia;M.getTouch=sa;M.getTouchIdentifier=la;M.getTranslation=We;M.innerHeight=oa;M.innerWidth=na;M.matchesSelector=fn;M.matchesSelectorAndParentsTo=Kr;M.offsetXYFromParent=ra;M.outerHeight=ta;M.outerWidth=ea;M.removeClassName=_n;M.removeEvent=Zr;M.removeUserSelectStyles=ca;var H=Jt(),dn=jr(pn());function gn(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(gn=function(n){return n?o:e})(t)}function jr(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=gn(e);if(o&&o.has(t))return o.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var i=r?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}return n.default=t,o&&o.set(t,n),n}var be="";function fn(t,e){return be||(be=(0,H.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,H.isFunction)(t[o])})),(0,H.isFunction)(t[be])?t[be](e):!1}function Kr(t,e,o){let n=t;do{if(fn(n,e))return!0;if(n===o)return!1;n=n.parentNode}while(n);return!1}function Jr(t,e,o,n){if(!t)return;let r={capture:!0,...n};t.addEventListener?t.addEventListener(e,o,r):t.attachEvent?t.attachEvent("on"+e,o):t["on"+e]=o}function Zr(t,e,o,n){if(!t)return;let r={capture:!0,...n};t.removeEventListener?t.removeEventListener(e,o,r):t.detachEvent?t.detachEvent("on"+e,o):t["on"+e]=null}function ta(t){let e=t.clientHeight,o=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,H.int)(o.borderTopWidth),e+=(0,H.int)(o.borderBottomWidth),e}function ea(t){let e=t.clientWidth,o=t.ownerDocument.defaultView.getComputedStyle(t);return e+=(0,H.int)(o.borderLeftWidth),e+=(0,H.int)(o.borderRightWidth),e}function oa(t){let e=t.clientHeight,o=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,H.int)(o.paddingTop),e-=(0,H.int)(o.paddingBottom),e}function na(t){let e=t.clientWidth,o=t.ownerDocument.defaultView.getComputedStyle(t);return e-=(0,H.int)(o.paddingLeft),e-=(0,H.int)(o.paddingRight),e}function ra(t,e,o){let r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),a=(t.clientX+e.scrollLeft-r.left)/o,i=(t.clientY+e.scrollTop-r.top)/o;return{x:a,y:i}}function aa(t,e){let o=We(t,e,"px");return{[(0,dn.browserPrefixToKey)("transform",dn.default)]:o}}function ia(t,e){return We(t,e,"")}function We(t,e,o){let{x:n,y:r}=t,a="translate(".concat(n).concat(o,",").concat(r).concat(o,")");if(e){let i="".concat(typeof e.x=="string"?e.x:e.x+o),s="".concat(typeof e.y=="string"?e.y:e.y+o);a="translate(".concat(i,", ").concat(s,")")+a}return a}function sa(t,e){return t.targetTouches&&(0,H.findInArray)(t.targetTouches,o=>e===o.identifier)||t.changedTouches&&(0,H.findInArray)(t.changedTouches,o=>e===o.identifier)}function la(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function ua(t){if(!t)return;let e=t.getElementById("react-draggable-style-el");e||(e=t.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body&&hn(t.body,"react-draggable-transparent-selection")}function ca(t){if(t)try{if(t.body&&_n(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{let e=(t.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function hn(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function _n(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}});var Ge=tt(ot=>{"use strict";Object.defineProperty(ot,"__esModule",{value:!0});ot.canDragX=da;ot.canDragY=ga;ot.createCoreData=ha;ot.createDraggableData=_a;ot.getBoundPosition=ma;ot.getControlPosition=fa;ot.snapToGrid=pa;var q=Jt(),Dt=xe();function ma(t,e,o){if(!t.props.bounds)return[e,o];let{bounds:n}=t.props;n=typeof n=="string"?n:ba(n);let r=ze(t);if(typeof n=="string"){let{ownerDocument:a}=r,i=a.defaultView,s;if(n==="parent"?s=r.parentNode:s=a.querySelector(n),!(s instanceof i.HTMLElement))throw new Error('Bounds selector "'+n+'" could not find an element.');let l=s,u=i.getComputedStyle(r),c=i.getComputedStyle(l);n={left:-r.offsetLeft+(0,q.int)(c.paddingLeft)+(0,q.int)(u.marginLeft),top:-r.offsetTop+(0,q.int)(c.paddingTop)+(0,q.int)(u.marginTop),right:(0,Dt.innerWidth)(l)-(0,Dt.outerWidth)(r)-r.offsetLeft+(0,q.int)(c.paddingRight)-(0,q.int)(u.marginRight),bottom:(0,Dt.innerHeight)(l)-(0,Dt.outerHeight)(r)-r.offsetTop+(0,q.int)(c.paddingBottom)-(0,q.int)(u.marginBottom)}}return(0,q.isNum)(n.right)&&(e=Math.min(e,n.right)),(0,q.isNum)(n.bottom)&&(o=Math.min(o,n.bottom)),(0,q.isNum)(n.left)&&(e=Math.max(e,n.left)),(0,q.isNum)(n.top)&&(o=Math.max(o,n.top)),[e,o]}function pa(t,e,o){let n=Math.round(e/t[0])*t[0],r=Math.round(o/t[1])*t[1];return[n,r]}function da(t){return t.props.axis==="both"||t.props.axis==="x"}function ga(t){return t.props.axis==="both"||t.props.axis==="y"}function fa(t,e,o){let n=typeof e=="number"?(0,Dt.getTouch)(t,e):null;if(typeof e=="number"&&!n)return null;let r=ze(o),a=o.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,Dt.offsetXYFromParent)(n||t,a,o.props.scale)}function ha(t,e,o){let n=!(0,q.isNum)(t.lastX),r=ze(t);return n?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:o,x:e,y:o}:{node:r,deltaX:e-t.lastX,deltaY:o-t.lastY,lastX:t.lastX,lastY:t.lastY,x:e,y:o}}function _a(t,e){let o=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/o,y:t.state.y+e.deltaY/o,deltaX:e.deltaX/o,deltaY:e.deltaY/o,lastX:t.state.x,lastY:t.state.y}}function ba(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function ze(t){let e=t.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}});var Ve=tt(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=xa;function xa(){}});var xn=tt(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var Re=Sa(x()),E=$e(So()),Ta=$e(He()),v=xe(),gt=Ge(),Qe=Jt(),Zt=$e(Ve());function $e(t){return t&&t.__esModule?t:{default:t}}function bn(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(bn=function(n){return n?o:e})(t)}function Sa(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=bn(e);if(o&&o.has(t))return o.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var i=r?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}return n.default=t,o&&o.set(t,n),n}function A(t,e,o){return e=ya(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function ya(t){var e=Ma(t,"string");return typeof e=="symbol"?e:String(e)}function Ma(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ft=R.mouse,Nt=class extends Re.Component{constructor(){super(...arguments),A(this,"dragging",!1),A(this,"lastX",NaN),A(this,"lastY",NaN),A(this,"touchIdentifier",null),A(this,"mounted",!1),A(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;let o=this.findDOMNode();if(!o||!o.ownerDocument||!o.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");let{ownerDocument:n}=o;if(this.props.disabled||!(e.target instanceof n.defaultView.Node)||this.props.handle&&!(0,v.matchesSelectorAndParentsTo)(e.target,this.props.handle,o)||this.props.cancel&&(0,v.matchesSelectorAndParentsTo)(e.target,this.props.cancel,o))return;e.type==="touchstart"&&e.preventDefault();let r=(0,v.getTouchIdentifier)(e);this.touchIdentifier=r;let a=(0,gt.getControlPosition)(e,r,this);if(a==null)return;let{x:i,y:s}=a,l=(0,gt.createCoreData)(this,i,s);(0,Zt.default)("DraggableCore: handleDragStart: %j",l),(0,Zt.default)("calling",this.props.onStart),!(this.props.onStart(e,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,v.addUserSelectStyles)(n),this.dragging=!0,this.lastX=i,this.lastY=s,(0,v.addEvent)(n,ft.move,this.handleDrag),(0,v.addEvent)(n,ft.stop,this.handleDragStop))}),A(this,"handleDrag",e=>{let o=(0,gt.getControlPosition)(e,this.touchIdentifier,this);if(o==null)return;let{x:n,y:r}=o;if(Array.isArray(this.props.grid)){let s=n-this.lastX,l=r-this.lastY;if([s,l]=(0,gt.snapToGrid)(this.props.grid,s,l),!s&&!l)return;n=this.lastX+s,r=this.lastY+l}let a=(0,gt.createCoreData)(this,n,r);if((0,Zt.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(e,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{let l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=n,this.lastY=r}),A(this,"handleDragStop",e=>{if(!this.dragging)return;let o=(0,gt.getControlPosition)(e,this.touchIdentifier,this);if(o==null)return;let{x:n,y:r}=o;if(Array.isArray(this.props.grid)){let l=n-this.lastX||0,u=r-this.lastY||0;[l,u]=(0,gt.snapToGrid)(this.props.grid,l,u),n=this.lastX+l,r=this.lastY+u}let a=(0,gt.createCoreData)(this,n,r);if(this.props.onStop(e,a)===!1||this.mounted===!1)return!1;let s=this.findDOMNode();s&&this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(s.ownerDocument),(0,Zt.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,s&&((0,Zt.default)("DraggableCore: Removing handlers"),(0,v.removeEvent)(s.ownerDocument,ft.move,this.handleDrag),(0,v.removeEvent)(s.ownerDocument,ft.stop,this.handleDragStop))}),A(this,"onMouseDown",e=>(ft=R.mouse,this.handleDragStart(e))),A(this,"onMouseUp",e=>(ft=R.mouse,this.handleDragStop(e))),A(this,"onTouchStart",e=>(ft=R.touch,this.handleDragStart(e))),A(this,"onTouchEnd",e=>(ft=R.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;let e=this.findDOMNode();e&&(0,v.addEvent)(e,R.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;let e=this.findDOMNode();if(e){let{ownerDocument:o}=e;(0,v.removeEvent)(o,R.mouse.move,this.handleDrag),(0,v.removeEvent)(o,R.touch.move,this.handleDrag),(0,v.removeEvent)(o,R.mouse.stop,this.handleDragStop),(0,v.removeEvent)(o,R.touch.stop,this.handleDragStop),(0,v.removeEvent)(e,R.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,v.removeUserSelectStyles)(o)}}findDOMNode(){var e,o;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current:Ta.default.findDOMNode(this)}render(){return Re.cloneElement(Re.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Te.default=Nt;A(Nt,"displayName","DraggableCore");A(Nt,"propTypes",{allowAnyClick:E.default.bool,children:E.default.node.isRequired,disabled:E.default.bool,enableUserSelectHack:E.default.bool,offsetParent:function(t,e){if(t[e]&&t[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:E.default.arrayOf(E.default.number),handle:E.default.string,cancel:E.default.string,nodeRef:E.default.object,onStart:E.default.func,onDrag:E.default.func,onStop:E.default.func,onMouseDown:E.default.func,scale:E.default.number,className:Qe.dontSetMe,style:Qe.dontSetMe,transform:Qe.dontSetMe});A(Nt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})});var yn=tt(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});Object.defineProperty(ee,"DraggableCore",{enumerable:!0,get:function(){return Me.default}});ee.default=void 0;var Se=va(x()),y=te(So()),Ia=te(He()),Ca=te(Fr()),Tn=xe(),Ft=Ge(),je=Jt(),Me=te(xn()),ye=te(Ve());function te(t){return t&&t.__esModule?t:{default:t}}function Sn(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,o=new WeakMap;return(Sn=function(n){return n?o:e})(t)}function va(t,e){if(!e&&t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var o=Sn(e);if(o&&o.has(t))return o.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in t)if(a!=="default"&&Object.prototype.hasOwnProperty.call(t,a)){var i=r?Object.getOwnPropertyDescriptor(t,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=t[a]}return n.default=t,o&&o.set(t,n),n}function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},Ke.apply(this,arguments)}function Ut(t,e,o){return e=Aa(e),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function Aa(t){var e=wa(t,"string");return typeof e=="symbol"?e:String(e)}function wa(t,e){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var n=o.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ht=class extends Se.Component{static getDerivedStateFromProps(e,o){let{position:n}=e,{prevPropsPosition:r}=o;return n&&(!r||n.x!==r.x||n.y!==r.y)?((0,ye.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:r}),{x:n.x,y:n.y,prevPropsPosition:{...n}}):null}constructor(e){super(e),Ut(this,"onDragStart",(o,n)=>{if((0,ye.default)("Draggable: onDragStart: %j",n),this.props.onStart(o,(0,Ft.createDraggableData)(this,n))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),Ut(this,"onDrag",(o,n)=>{if(!this.state.dragging)return!1;(0,ye.default)("Draggable: onDrag: %j",n);let r=(0,Ft.createDraggableData)(this,n),a={x:r.x,y:r.y,slackX:0,slackY:0};if(this.props.bounds){let{x:s,y:l}=a;a.x+=this.state.slackX,a.y+=this.state.slackY;let[u,c]=(0,Ft.getBoundPosition)(this,a.x,a.y);a.x=u,a.y=c,a.slackX=this.state.slackX+(s-a.x),a.slackY=this.state.slackY+(l-a.y),r.x=a.x,r.y=a.y,r.deltaX=a.x-this.state.x,r.deltaY=a.y-this.state.y}if(this.props.onDrag(o,r)===!1)return!1;this.setState(a)}),Ut(this,"onDragStop",(o,n)=>{if(!this.state.dragging||this.props.onStop(o,(0,Ft.createDraggableData)(this,n))===!1)return!1;(0,ye.default)("Draggable: onDragStop: %j",n);let a={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){let{x:s,y:l}=this.props.position;a.x=s,a.y=l}this.setState(a)}),this.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:{...e.position},slackX:0,slackY:0,isElementSVG:!1},e.position&&(e.onDrag||e.onStop)}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var e,o;return(e=(o=this.props)===null||o===void 0||(o=o.nodeRef)===null||o===void 0?void 0:o.current)!==null&&e!==void 0?e:Ia.default.findDOMNode(this)}render(){let{axis:e,bounds:o,children:n,defaultPosition:r,defaultClassName:a,defaultClassNameDragging:i,defaultClassNameDragged:s,position:l,positionOffset:u,scale:c,...d}=this.props,h={},m=null,S=!!!l||this.state.dragging,I=l||r,ct={x:(0,Ft.canDragX)(this)&&S?this.state.x:I.x,y:(0,Ft.canDragY)(this)&&S?this.state.y:I.y};this.state.isElementSVG?m=(0,Tn.createSVGTransform)(ct,u):h=(0,Tn.createCSSTransform)(ct,u);let C=(0,Ca.default)(n.props.className||"",a,{[i]:this.state.dragging,[s]:this.state.dragged});return Se.createElement(Me.default,Ke({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Se.cloneElement(Se.Children.only(n),{className:C,style:{...n.props.style,...h},transform:m}))}};ee.default=Ht;Ut(Ht,"displayName","Draggable");Ut(Ht,"propTypes",{...Me.default.propTypes,axis:y.default.oneOf(["both","x","y","none"]),bounds:y.default.oneOfType([y.default.shape({left:y.default.number,right:y.default.number,top:y.default.number,bottom:y.default.number}),y.default.string,y.default.oneOf([!1])]),defaultClassName:y.default.string,defaultClassNameDragging:y.default.string,defaultClassNameDragged:y.default.string,defaultPosition:y.default.shape({x:y.default.number,y:y.default.number}),positionOffset:y.default.shape({x:y.default.oneOfType([y.default.number,y.default.string]),y:y.default.oneOfType([y.default.number,y.default.string])}),position:y.default.shape({x:y.default.number,y:y.default.number}),className:je.dontSetMe,style:je.dontSetMe,transform:je.dontSetMe});Ut(Ht,"defaultProps",{...Me.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})});var In=tt((Ui,Ie)=>{"use strict";var{default:Mn,DraggableCore:Pa}=yn();Ie.exports=Mn;Ie.exports.default=Mn;Ie.exports.DraggableCore=Pa});var Rn=tt(Ae=>{"use strict";"use client";var za=Or();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var Ga=za(Ur()),Xa=Dr(),tl=Ae.default=(0,Ga.default)((0,Xa.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward")});var P=f(x());var J=f(x());var Kt={sceneType:"QUICK_ACCESS_CTA_BUTTON",id:"ONBOARDING_TOOLTIP__QUICK_ACCESS_CTA_BUTTON",anchorElementSelectors:'[data-testid="quick-access-maxai-mini-button-main"]',CtaButtonClickedName:"Onboarding > QuickAccessCTAButton > Got it"},Wr=t=>{let{showStateTrigger:e,...o}=t,{t:n}=_(),{chatBoxShortCutKey:r}=_e(),[a,i]=(0,J.useState)(!1);(0,J.useEffect)(()=>{e?Ot(Kt.sceneType).then(l=>{l||Et(Kt.sceneType).then(()=>{i(!0)})}):i(!1)},[e]);let s={bgcolor:l=>l.palette.mode==="dark"?"rgba(255, 255, 255, 0.16) !important":"rgba(0, 0, 0, 0.08) !important",color:l=>l.palette.mode==="dark"?"rgba(255, 255, 255, 0.7) !important":"rgba(0, 0, 0, 0.7) !important"};return J.default.createElement(Lt,{autoCloseOnMouseDownAndUp:!0,hideBackdrop:!0,sx:{visibility:"hidden"},placement:"left",fallbackPlacements:["right"],trigger:a,anchorElementSelectors:Kt.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":Kt.CtaButtonClickedName},popoverBoxSx:{minWidth:"180px"},id:Kt.id,footerLeft:J.default.createElement(kt,null),...o},J.default.createElement(b,{spacing:.5},J.default.createElement(vt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},n("onboarding:onboarding_tooltip__QUICK_ACCESS_CTA_BUTTON__text")),r&&J.default.createElement(ge,{sx:s},r)))},un=Wr;var g=f(x()),gr=f(In());var Z=f(x());var vn=f(Lr());var qt=f(x());var Ce=yt({key:"pageTranslationEnableAtom",default:!1}),Cn=yt({key:"pageTranslationLoadingAtom",default:!1}),ve=yt({key:"currentPageLanguageNotEqualTargetLanguageAtom",default:!1}),Je=yt({key:"showTranslateSameLanguageTooltipAtom",default:!1});var Ze=!0,Ba=()=>{let{userSettings:t}=O(),[e,o]=Rt(Ce),[n,r]=Rt(Cn),{needStartShowTranslateSameLanguageTooltip:a}=to(),i=(0,qt.useMemo)(()=>t?.pageTranslation?.targetLanguage??t?.preferredLanguage??jt(navigator.language)??"en",[t?.pageTranslation?.targetLanguage,t?.preferredLanguage]),s=(0,qt.useRef)(i);return(0,qt.useEffect)(()=>{s.current=i},[i]),{loading:n,translationEnable:e,setTranslationEnable:o,toggleTranslation:async u=>{if(!await fe({emitEvent:!0})||n)return;let d=u??!e;d&&a();let m=(()=>{let p=Xt[s.current];if(p)return p.en_label;let S="";return Object.keys(Xt).forEach(I=>{if(Xt[I].microsoft_translator_code===s.current){S=Xt[I].en_label;return}}),S})();Lo("prompt_used",{prompt_name:"Translate this page",prompt_details:m?`Translate to ${m}`:void 0}),K.toggle(d),setTimeout(()=>{o(d),Ze&&(Ze=!1)},Ze?600:0)},setLoading:r,targetLanguage:i}},nt=Ba;var An=()=>Vt(ve),wn=()=>{let t=Vt(Je),{needStartShowTranslateSameLanguageTooltip:e}=to();return{showTranslateSameLanguageTooltip:t,needStartShowTranslateSameLanguageTooltip:e}},to=()=>{let t=Qt(Je),e=(0,Z.useRef)(null),o=Co(({snapshot:n})=>async()=>{await n.getPromise(ve)||(t(!0),e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{t(!1)},2e3))});return{setShowTranslateSameLanguageTooltip:t,needStartShowTranslateSameLanguageTooltip:o}},La=()=>{let[t,e]=(0,Z.useState)(!0),[o,n]=(0,Z.useState)(null),{targetLanguage:r}=nt(),a=(0,Z.useCallback)(async()=>{let l="";if(G()==="notion.so")return document.documentElement.lang;if(!l){let u=document.body.innerText.slice(500,3e3),c=await vn.default.i18n.detectLanguage(u),d=c?.languages?.[0];if(c.isReliable&&d&&d.percentage>0&&d.language)return d.language}return null},[]),i=(0,Z.useCallback)(async()=>{let u=(await qe("tabs","query",[{active:!0,currentWindow:!0}])||[])[0],c=u?.id;return u&&c?await qe("tabs","detectLanguage",[c]):null},[]),s=Qt(ve);return(0,Z.useEffect)(()=>{if(!r||!o)return;let l=r.includes("_")?r?.split("_")[0]:r?.split("-")[0],u=o.includes("_")?o?.split("_")[0]:o?.split("-")[0];s(l!==u)},[r,o,s]),et(()=>{setTimeout(async()=>{e(!0);let l=await a();if(l){n(l),e(!1);return}let u=await i();if(u){n(u),e(!1);return}},500)}),{currentPageLanguage:o}},Pn=La;var eo=f(x());var oo=yt({key:"MaxAIMinimumHideState",default:!1}),Bn=()=>{let{t}=_(["common","client"]);return t("client:quick_access__hide_button__title")},Oa=t=>{let{isDragging:e}=t,o=Qt(oo);return eo.default.createElement(b,{"data-testid":"quick-access-maxai-close-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center",opacity:"0.4","&:hover":{opacity:"1"}},onClick:()=>{e||o(!0)}},eo.default.createElement(dt,{sx:{fontSize:"20px",color:"inherit"},icon:"Close"}))},Ln=Oa;var re=f(x());var w=f(x());var On=f(x()),Ea=t=>{let{onClick:e,children:o,sx:n,testId:r,...a}=t;return On.default.createElement(Q,{"data-testid":r,sx:{position:"relative",minWidth:"var(--mini-button-height)",minHeight:"var(--mini-button-height)",width:"var(--mini-button-height)",height:"var(--mini-button-height)",padding:0,borderRadius:"50%",display:"flex",color:i=>i.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&:hover":{backgroundColor:i=>i.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.06)",color:"primary.main"},...n},...a,onClick:i=>{i.stopPropagation(),e?.(i)}},o)},En=Ea;var kn=t=>{let{testId:e,setOpen:o,isDragging:n,onClick:r,isOnThePageLeft:a}=t,i=t.Component;return w.default.createElement(En,{testId:e,onClick:r,...t.buttonProps},i&&w.default.createElement(i,{setOpen:o,isDragging:n,isOnThePageLeft:a}))},ka=t=>{let{tooltip:e,children:o,open:n,setOpen:r,isOnThePageLeft:a}=t;if(!e)return o;if(e.customNode){let i=e.customNode;return w.default.createElement(i,{open:n,setOpen:r,testId:e.testId,isOnThePageLeft:a},o)}return e.tooltipProps?w.default.createElement(j,{testId:e.testId,arrow:!0,open:n,minimumTooltip:!0,placement:"left",...e.tooltipProps,PopperProps:{sx:{whiteSpace:"nowrap"}}},o):o},Da=t=>{let{priorityTooltip:e,isMiddleButton:o=!1,mainButton:n,childButtons:r=[],isDragging:a,isOnThePageLeft:i,...s}=t,{sx:l,...u}=s||{},[c,d]=(0,w.useState)(n.tooltip),[h,m]=(0,w.useState)(!1),p=e||c,S=!!e||h,{devShowAuxiliaryLine:I,devAlwaysShowTooltip:ct}=Bt();return w.default.createElement(U,{sx:{"--middle-button-width":"8px","--main-button-width":o?"calc(var(--mini-button-height) + var(--middle-button-width))":"var(--mini-button-height)","--main-button-width-wrapper":o?"calc(var(--mini-button-height-wrapper) + var(--middle-button-width))":"var(--mini-button-height-wrapper)","--expanded-width":o?`calc(var(--mini-button-height-wrapper) * ${r.length+1} + var(--middle-button-width))`:`calc(var(--mini-button-height-wrapper) * ${r.length+1})`,position:"relative",boxSizing:"border-box",height:"var(--mini-button-height-wrapper)",width:"var(--mini-button-height-wrapper)",...i?{marginRight:o?"-2px":0}:{marginLeft:o?"-2px":0},...l,...I?{}:{}},...u,onMouseLeave:()=>{m(!1)}},!a&&w.default.createElement(ka,{isOnThePageLeft:i,open:ct||S,key:`${ct||S}`,tooltip:p,setOpen:m},w.default.createElement("div",{style:{position:"absolute",top:0,...i?{left:0}:{right:0},width:"var(--expanded-width)",height:"100%",pointerEvents:"none",marginRight:o?"calc(-1 * var(--middle-button-width) - 2px)":0,...I?{outline:"1px solid #f0f"}:{}}})),w.default.createElement(b,{direction:i?"row":"row-reverse",spacing:.5,alignItems:"center",sx:{boxSizing:"border-box",position:"absolute",overflow:"hidden",top:0,...i?{left:0}:{right:0},borderRadius:o?i?"0 var(--mini-button-height-wrapper) var(--mini-button-height-wrapper) 0":"var(--mini-button-height-wrapper) 0 0 var(--mini-button-height-wrapper)":"var(--mini-button-height-wrapper)",padding:"2px",marginRight:o?"calc(-1 * var(--middle-button-width) - 2px)":0,boxShadow:" 0px 0px 1px 0px rgba(0, 0, 0, 0.08), 0px 5px 25px 0px rgba(0, 0, 0, 0.04), 0px 3.2px 12px 0px rgba(0, 0, 0, 0.08)",bgcolor:"background.paper",transition:"width 0.24s",width:S?"var(--expanded-width)":"var(--main-button-width-wrapper)",...I?{outline:"1px solid #0f8"}:{}},onMouseEnter:()=>{m(!0)}},w.default.createElement(kn,{setOpen:m,isDragging:a,isOnThePageLeft:i,...n,buttonProps:{sx:{minWidth:"var(--main-button-width)",width:"var(--main-button-width)",...o?{borderRadius:i?"0 var(--mini-button-height-wrapper) var(--mini-button-height-wrapper) 0":"var(--mini-button-height-wrapper) 0 0 var(--mini-button-height-wrapper)"}:{}},onMouseEnter:()=>{n.tooltip&&d(n.tooltip)}}}),r?.map((C,F)=>{let zt=C.customNode?C.customNode:w.default.createElement(kn,{key:F,setOpen:m,isDragging:a,isOnThePageLeft:i,buttonProps:{onMouseEnter:()=>{C.tooltip&&d(C.tooltip)}},...C,onClick:Tt=>{Tt.stopPropagation(),Tt.preventDefault()}});return w.default.isValidElement(zt)?zt:null})))},oe=Da;var ht=f(x());var no=f(x()),Na=()=>no.default.createElement(b,{sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"}},no.default.createElement(dt,{icon:"Power",sx:{fontSize:"20px"}})),Dn=Na;var rt=f(x());var Fa=t=>{let{open:e,setOpen:o,isOnThePageLeft:n}=t,{t:r}=_(["client","common"]),{updateAppSettings:a}=on(),{userSettings:i,setUserSettings:s}=O(),l=p=>{p.stopPropagation(),he({key:"options",query:"?id=quick-access#/appearance"})},u=async p=>{p.stopPropagation(),await s({...i,quickAccess:{visibility:{...i?.quickAccess?.visibility||{whitelist:[],blacklist:[],isWhitelistMode:!1},blacklist:[...i?.quickAccess?.visibility?.blacklist||[],G()]}}}),a()},c=async p=>{p.stopPropagation(),await s({...i,quickAccess:{visibility:{...i?.quickAccess?.visibility||{whitelist:[],blacklist:[]},isWhitelistMode:!0}}}),a()},d=(0,rt.useRef)(null),[h,m]=(0,rt.useState)(0);return(0,rt.useEffect)(()=>{d.current&&m(Math.max(d.current.getBoundingClientRect().bottom-window.innerHeight,0))},[e]),e&&rt.default.createElement(U,{sx:{marginLeft:"0px!important",color:"#fff",position:"absolute",...n?{left:"calc(72px - 5px)"}:{right:"calc(72px - 5px)"},top:h>0?-h-8:0},onClick:p=>p.stopPropagation(),onMouseDown:p=>p.stopPropagation(),onMouseLeave:()=>o(!1)},rt.default.createElement(rn,{ref:d,sx:{...n?{marginLeft:"10px"}:{marginRight:"10px"}},hideThisSiteItemDataButtonClickedName:"max_ai__quick_access__hide_menu__this_site",hideThisSiteItemText:r("client:floating_menu__mini_menu__image__close_item__hide_on_this_site"),hideThisSiteConfirmCardTitle:r("client:quick_access__confirm_card__hide_this_site__title"),hideThisSiteConfirmCardOkText:r("client:floating_menu__mini_menu__image__close_item__hide_on_this_site"),hideThisSiteConfirmCardCancelText:r("common:cancel"),onHideThisSiteConfirmCardClickOk:u,onHideThisSiteConfirmCardClickCancel:()=>{},hideAllSitesItemDataButtonClickedName:"max_ai__quick_access__hide_menu__all_sites",hideAllSitesItemText:r("client:floating_menu__mini_menu__image__close_item__hide_always"),hideAllSitesConfirmCardTitle:r("client:quick_access__confirm_card__hide_all_sites__title"),hideAllSitesConfirmCardOkText:r("client:floating_menu__mini_menu__image__close_item__hide_always"),hideAllSitesConfirmCardCancelText:r("common:cancel"),onHideAllSitesConfirmCardClickOk:c,onHideAllSitesConfirmCardClickCancel:()=>{},openSettingsItemTextI18nKey:"client:floating_menu__button__menu_settings",onClickSettings:l}))},Nn=Fa;var ro=f(x());var Fn=()=>{let{t}=_(["common","client"]);return t("client:sidebar__button__immersive_chat")},Ua=t=>{let{setOpen:e,isDragging:o}=t,n=()=>{o||(e?.(!1),setTimeout(()=>{he({url:Jo})},10))};return ro.default.createElement(b,{"data-testid":"quick-access-maxai-immersive-chat-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>n()},ro.default.createElement(dt,{sx:{fontSize:"20px",color:"inherit"},icon:"Fullscreen"}))},Un=Ua;var ne=f(x());var Hn=()=>{let{t}=_(["client"]);return t("client:quick_access__maxai_button__title")},qn=()=>{let{chatBoxShortCutKey:t}=_e();return t&&ne.default.createElement(ge,null,t)},Ha=t=>{let{isDragging:e,isOnThePageLeft:o}=t,n=()=>{if(e)return;new Xo().postMessage({event:"Client_emitCMDJ",data:{}})};return ne.default.createElement(b,{"data-testid":"quick-access-maxai-mini-button",sx:{width:"100%",height:"100%",alignItems:o?"flex-end":"flex-start",justifyContent:"center"},onClick:()=>n()},ne.default.createElement(b,{sx:{width:"var(--mini-button-height)",height:"var(--mini-button-height)",alignItems:"center",justifyContent:"center"}},ne.default.createElement(W,{sx:{fontSize:"20px"}})))},Yn=Ha;var Wn=f(Yr());var ao=f(x());var zn=()=>{let{t}=_(["common","client"]);return t("client:sidebar__mini_button__screenshot__tooltip")},qa=t=>{let{isDragging:e}=t,o=()=>{if(e)return;z("QuickAccessScreenshot",{});let n=setInterval(()=>{let r=Vo()?.querySelector('button[data-testid="maxai-take-screenshot"]');r&&(clearInterval(n),r.click())},200)};return ao.default.createElement(b,{"data-testid":"quick-access-maxai-screenshot-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>o()},ao.default.createElement(Wn.default,{sx:{transform:"rotate(-90deg)",color:"inherit",fontSize:"18px"}}))},Gn=qa;var io=f(x());var Ya=()=>{switch($()){case"DEFAULT_EMAIL_SUMMARY":return"client:sidebar__tabs__summary__tooltip__default_email";case"PAGE_SUMMARY":return"client:sidebar__tabs__summary__tooltip__page";case"PDF_CRX_SUMMARY":return"client:sidebar__tabs__summary__tooltip__pdf_crx";case"YOUTUBE_VIDEO_SUMMARY":return"client:sidebar__tabs__summary__tooltip__youtube_video";default:return"client:sidebar__tabs__summary__tooltip__page"}},Xn=()=>{let{t}=_(["common","client"]);return t(Ya())},Wa=t=>{let{isDragging:e}=t,o=()=>{e||z("QuickAccessSummary",{pageSummaryType:$()})};return io.default.createElement(b,{"data-testid":"quick-access-maxai-summary-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:()=>o()},io.default.createElement(dt,{sx:{fontSize:"20px",color:"inherit"},icon:"Summarize"}))},Vn=Wa;var jn=f(Rn());var Y=f(x());var $n=f(Nr());var at=f(x());var so={am:{label:"\u12A0\u121B\u122D\u129B",en_label:"Amharic"},ar:{label:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",en_label:"Arabic"},bg:{label:"\u0411\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438",en_label:"Bulgarian"},bn:{label:"\u09AC\u09BE\u0982\u09B2\u09BE",en_label:"Bengali"},ca:{label:"Catal\xE0",en_label:"Catalan"},cs:{label:"\u010Ce\u0161tina",en_label:"Czech"},da:{label:"Dansk",en_label:"Danish"},de:{label:"Deutsch",en_label:"German"},el:{label:"\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",en_label:"Greek"},en:{label:"English",en_label:"English"},en_GB:{label:"English (UK)",en_label:"English (UK)"},en_US:{label:"English (US)",en_label:"English (US)"},es:{label:"Espa\xF1ol",en_label:"Spanish"},es_419:{label:"Espa\xF1ol (Latinoam\xE9rica)",en_label:"Spanish (Latin America)"},et:{label:"Eesti",en_label:"Estonian"},fa:{label:"\u0641\u0627\u0631\u0633\u06CC",en_label:"Persian"},fi:{label:"Suomi",en_label:"Finnish"},fil:{label:"Filipino",en_label:"Filipino"},fr:{label:"Fran\xE7ais",en_label:"French"},gu:{label:"\u0A97\u0AC1\u0A9C\u0AB0\u0ABE\u0AA4\u0AC0",en_label:"Gujarati"},he:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA",en_label:"Hebrew"},he_IL:{label:"\u05E2\u05D1\u05E8\u05D9\u05EA (\u05D9\u05E9\u05E8\u05D0\u05DC)",en_label:"Hebrew (Israel)"},hi:{label:"\u0939\u093F\u0928\u094D\u0926\u0940",en_label:"Hindi"},hr:{label:"Hrvatski",en_label:"Croatian"},hy:{label:"\u0540\u0561\u0575\u0565\u0580\u0565\u0576",en_label:"Armenian"},hu:{label:"Magyar",en_label:"Hungarian"},in:{label:"Bahasa Indonesia",en_label:"Indonesian"},id:{label:"Indonesia",en_label:"Indonesian"},it:{label:"Italiano",en_label:"Italian"},ja:{label:"\u65E5\u672C\u8A9E",en_label:"Japanese"},kn:{label:"\u0C95\u0CA8\u0CCD\u0CA8\u0CA1",en_label:"Kannada"},ko:{label:"\uD55C\uAD6D\uC5B4",en_label:"Korean"},lt:{label:"Lietuvi\u0173",en_label:"Lithuanian"},lv:{label:"Latvie\u0161u",en_label:"Latvian"},ml:{label:"\u0D2E\u0D32\u0D2F\u0D3E\u0D33\u0D02",en_label:"Malayalam"},mr:{label:"\u092E\u0930\u093E\u0920\u0940",en_label:"Marathi"},ms:{label:"Melayu",en_label:"Malay"},nl:{label:"Nederlands",en_label:"Dutch"},no:{label:"Norsk",en_label:"Norwegian"},pl:{label:"Polski",en_label:"Polish"},pt_BR:{label:"Portugu\xEAs (Brasil)",en_label:"Portuguese (Brazil)"},pt_PT:{label:"Portugu\xEAs (Portugal)",en_label:"Portuguese (Portugal)"},ro:{label:"Rom\xE2n\u0103",en_label:"Romanian"},ru:{label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",en_label:"Russian"},sk:{label:"Sloven\u010Dina",en_label:"Slovak"},sl:{label:"Sloven\u0161\u010Dina",en_label:"Slovenian"},sr:{label:"\u0421\u0440\u043F\u0441\u043A\u0438",en_label:"Serbian"},sv:{label:"Svenska",en_label:"Swedish"},sw:{label:"Kiswahili",en_label:"Swahili"},ta:{label:"\u0BA4\u0BAE\u0BBF\u0BB4\u0BCD",en_label:"Tamil"},te:{label:"\u0C24\u0C46\u0C32\u0C41\u0C17\u0C41",en_label:"Telugu"},th:{label:"\u0E44\u0E17\u0E22",en_label:"Thai"},tr:{label:"T\xFCrk\xE7e",en_label:"Turkish"},ua:{label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",en_label:"Ukrainian",microsoft_translator_code:"uk"},uk:{label:"\u0627\u0631\u062F\u0648",en_label:"Urdu",microsoft_translator_code:"ur"},vi:{label:"Ti\u1EBFng Vi\u1EC7t",en_label:"Vietnamese"},zh_CN:{label:"\u7B80\u4F53\u4E2D\u6587",en_label:"Simplified Chinese",microsoft_translator_code:"zh-Hans"},zh_TW:{label:"\u7E41\u9AD4\u4E2D\u6587",en_label:"Traditional Chinese",microsoft_translator_code:"zh-Hant"}};function Va(t,{inputValue:e}){return t.filter(o=>{let n=o.label.toLowerCase(),r=o.origin?.en_label?.toLowerCase()||"",a=o.value.toLowerCase(),i=e.toLowerCase();return n.includes(i)||a.includes(i)||r.includes(i)})}var Qn=Object.keys(so).map(t=>{let e=so[t];return{label:e.label,value:t,origin:{value:t,...e}}}),Ra={label:"English",value:"en",origin:{value:"en",label:"English",en_label:"English"}},Qa=t=>{let{label:e="Choose a language",defaultValue:o="",expandOptionsHandler:n,onChange:r=m=>{},sx:a,disableTransition:i=!1}=t,[s,l]=at.default.useState(!1),{t:u}=_(["common"]),c=(0,at.useMemo)(()=>n?n(Qn):Qn,[n]),[d,h]=at.default.useState(()=>c.find(m=>jt(m.value)===jt(o))||Ra);return(0,at.useEffect)(()=>{if(!(G()==="youtube.com")||!s)return;let p=S=>{S.key==="i"&&S.stopPropagation()};return window.addEventListener("keydown",p,!0),()=>{window.removeEventListener("keydown",p,!0)}},[s]),at.default.createElement(Yo,{"data-testid":"maxai--language-code-select",open:s,onOpen:()=>{l(!0)},onClose:()=>{l(!1)},noOptionsText:u("common:no_options"),disableClearable:!0,value:d,size:"small",sx:{width:160,[`.${No.root}`]:{fontSize:a?.fontSize??16,...i&&{transition:"none !important"}},[`.${mt.root}`]:{fontSize:a?.fontSize??16},[`.${mt.root} fieldset > legend`]:{fontSize:14},[`.${qo.popupIndicator} .${$n.svgIconClasses.root}`]:{fontSize:24},...i&&{[`& .${Fo.notchedOutline} > legend`]:{transition:"none !important"}},...a},slotProps:{paper:{sx:{fontSize:a?.fontSize??16}},popper:{sx:{zIndex:2147483648}}},autoHighlight:!0,getOptionLabel:m=>m.label,options:c,onChange:(m,p)=>{m.stopPropagation(),h(p),r(p.value)},filterOptions:Va,renderInput:m=>at.default.createElement(Uo,{...m,label:e,inputProps:{...m.inputProps,autoComplete:"new-password"}})})},lo=Qa;var $a=me(({className:t,...e})=>Y.default.createElement(Ao,{...e,classes:{popper:t}}))({[`& .${vo.tooltip}`]:{maxWidth:"none",padding:0}}),ja=t=>{let{children:e,open:o,setOpen:n,testId:r}=t,{toggleTranslation:a,targetLanguage:i}=nt(),{userSettings:s,setUserSettings:l}=O(),{t:u}=_(["client"]),c=(0,Y.useCallback)(m=>[{label:u("translation_advanced__source_lang_select__option__detected_language"),value:""}].concat(m.map(S=>S?.origin?.microsoft_translator_code?{...S,value:S.origin.microsoft_translator_code}:S)),[u]),d=(0,Y.useCallback)(m=>m.map(p=>p?.origin?.microsoft_translator_code?{...p,value:p.origin.microsoft_translator_code}:p),[]),h=async({fromCode:m,toCode:p})=>{if(!await fe({emitEvent:!0}))return;await l({pageTranslation:{...s?.pageTranslation,sourceLanguage:m,targetLanguage:p}});let S=!1;(m||m==="")&&(S=!0,K.updateFromCode(m)),p&&(S=!0,K.updateToCode(p)),S&&(K.retranslate(),a(!0)),n(!1)};return(0,Y.useEffect)(()=>{(s?.pageTranslation?.targetLanguage===""||s?.pageTranslation?.targetLanguage===void 0)&&s?.preferredLanguage&&l({...s,pageTranslation:{...s?.pageTranslation,targetLanguage:s?.preferredLanguage}})},[l,s,s?.pageTranslation?.targetLanguage,s?.preferredLanguage]),Y.default.createElement($a,{open:o,placement:"left",title:Y.default.createElement(U,{"data-testid":r,id:"MaxAIPageTranslateAdvancedCard",sx:{marginRight:"-10px",borderRadius:"8px",boxShadow:"0px 4px 8px 0px rgba(0, 0, 0, 0.16)",minWidth:358,height:"45px",display:"flex",alignItems:"stretch",justifyContent:"center",flexDirection:"row",border:"1px solid rgba(0, 0, 0, 0.08)",backgroundColor:"background.paper",padding:"0 4px!important"},onClick:m=>m.stopPropagation(),onMouseDown:m=>m.stopPropagation()},Y.default.createElement(b,{sx:{flexDirection:"row",alignItems:"center",spacing:2,width:"100%"}},Y.default.createElement(lo,{sx:{flexShrink:0,width:0,flex:1,fontSize:14,[`.${mt.root} > fieldset`]:{borderWidth:0},[`.${mt.root} > input`]:{textAlign:"left",cursor:"pointer"}},label:"",expandOptionsHandler:c,defaultValue:s?.pageTranslation?.sourceLanguage,onChange:async m=>{await h({fromCode:m,toCode:s?.pageTranslation?.targetLanguage})}}),Y.default.createElement(jn.default,{sx:{color:m=>m.palette.mode==="dark"?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",fontSize:"20px"}}),Y.default.createElement(lo,{expandOptionsHandler:d,sx:{fontSize:14,[`.${mt.root} > fieldset`]:{borderWidth:0},[`.${mt.root} > input`]:{textAlign:"left",cursor:"pointer"}},label:"",defaultValue:i,onChange:async m=>{await h({fromCode:s?.pageTranslation?.sourceLanguage,toCode:m})}})))},e)},Kn=ja;var Jn=f(Hr()),Zn=f(qr());var X=f(x());var tr=()=>{let{t}=_(["common","client"]),{translationEnable:e}=nt();return t(e?"common:show_original_text":"common:web_translation")},Ka=me(zo)(({theme:t})=>({[`& .${Wo.badge}`]:{right:4,top:-5}})),Ja=t=>{let{isDragging:e,icon:o}=t,{userSettings:n}=O(),{isLogin:r}=pe(),{translationEnable:a,targetLanguage:i,loading:s,setLoading:l,toggleTranslation:u}=nt(),c=(0,X.useMemo)(()=>a&&!s&&document.querySelectorAll("maxai-trans:not(.maxai-trans-hide)").length>0,[a,s]);(0,X.useEffect)(()=>{r&&n?.pageTranslation?.sourceLanguage&&K.updateFromCode(n.pageTranslation.sourceLanguage)},[n?.pageTranslation?.sourceLanguage,r]),(0,X.useEffect)(()=>{r&&K.updateToCode(i)},[r,i]),et(()=>{K.setOnFetchingChange(de(l,40))});let d=()=>{e||u()};return s?X.default.createElement(b,{alignItems:"center",justifyContent:"center",sx:{width:"100%",height:"100%",borderRadius:"50%",opacity:o?"0.4":"1"}},o||X.default.createElement(Oo,{size:20,sx:{m:"0 auto"}})):X.default.createElement(b,{"data-testid":"quick-access-maxai-translate-button",sx:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},onClick:h=>{h.stopPropagation(),h.preventDefault(),d()}},o||X.default.createElement(Ka,{badgeContent:c?X.default.createElement(Jn.default,{sx:{fontSize:10,color:"rgba(52, 168, 83, 1)",bgcolor:"background.paper",borderRadius:"50%"}}):null,anchorOrigin:{vertical:"bottom",horizontal:"right"}},X.default.createElement(Zn.default,{sx:{fontSize:"20px",color:"inherit"}})))},we=Ja;var Pe=f(x());var Za=t=>{let{isDragging:e}=t,{targetLanguage:o}=nt(),n=(0,Pe.useMemo)(()=>{let r=o;return r&&r.length>=2&&(r=r.charAt(0).toUpperCase()+r.charAt(1).toLowerCase()),r},[o]);return Pe.default.createElement(we,{icon:n,isDragging:e})},er=Za;var or={type:"quick-access",isMiddleButton:!0,mainButton:{testId:"maxai__quick_access__open_sidebar_button",Component:Yn,tooltip:{testId:"maxai__quick_access__open_sidebar_button_tooltip",tooltipProps:{title:ht.default.createElement(Hn,null),description:()=>ht.default.createElement(qn,null)}}},childButtons:[{testId:"maxai__quick_access__immersive_chat_button",Component:Un,tooltip:{testId:"maxai__quick_access__immersive_chat_button_tooltip",tooltipProps:{title:ht.default.createElement(Fn,null)}}}]},uo={type:"translate",mainButton:{testId:"maxai__quick_access__translate_button",Component:we,tooltip:{testId:"maxai__quick_access__translate_button_tooltip",tooltipProps:{title:ht.default.createElement(tr,null)}}},childButtons:[{testId:"maxai__quick_access__translate_target_button",Component:er,tooltip:{testId:"maxai__quick_access__translate_target_button_tooltip",customNode:Kn}}]},ti={type:"summarize",mainButton:{testId:"maxai__quick_access__summarize_button",Component:Vn,tooltip:{testId:"maxai__quick_access__summarize_button_tooltip",tooltipProps:{title:ht.default.createElement(Xn,null)}}}},ei={type:"screenshot",mainButton:{testId:"maxai__quick_access__screenshot_button",Component:Gn,tooltip:{testId:"maxai__quick_access__screenshot_button_tooltip",tooltipProps:{title:ht.default.createElement(zn,null)}}}},nr={type:"hide-quick-access",mainButton:{testId:"maxai__quick_access__hide_button",Component:Ln,tooltip:{testId:"maxai__quick_access__hide_button_tooltip",tooltipProps:{title:ht.default.createElement(Bn,null)}}},childButtons:[{testId:"maxai__quick_access__hide_more_button",Component:Dn,tooltip:{testId:"maxai__quick_access__hide_more_button_tooltip",customNode:Nn}}]},rr=[ei,ti];var oi=t=>{let{isDragging:e,isOnThePageLeft:o,onClick:n,onMouseEnter:r,onMouseLeave:a,aboveNode:i,underNode:s}=t,{devShowAuxiliaryLine:l}=Bt();return re.default.createElement(b,{direction:"row",sx:{width:42,height:"var(--mini-button-height-wrapper)",position:"relative",pointerEvents:"auto",...l?{outline:"2px solid blue"}:{}}},re.default.createElement(oe,{isDragging:e,isOnThePageLeft:o,...or,onMouseEnter:u=>{r?.(u)},onMouseLeave:u=>{a?.(u)},onClick:u=>{n?.(u)}}),i&&re.default.createElement(b,{sx:{position:"absolute",left:0,width:42,bottom:"var(--mini-button-height-wrapper)",pb:"6px"}},i),s&&re.default.createElement(b,{sx:{position:"absolute",left:0,width:42,top:"var(--mini-button-height-wrapper)",pt:"6px"}},s))},ar=oi;var co="MAXAI_FLOATING_MINIMUM_Y",Be="FLOATING_MINIMUM_IS_ON_THE_LEFT",Le="MAXAI_FLOATING_MINIMUM_IS_TOP_HALF",Oe="MAXAI_FLOATING_MINIMUM_OFFSET_TOP",Ee="MAXAI_FLOATING_MINIMUM_OFFSET_BOTTOM";var ke=window.innerHeight-160;var mo=()=>{let t=G(),e=typeof window<"u"?window.location.pathname:"";if(["article","news","doc","docs","blog","blogs","review","product","recipe","profile","website","stories","manual"].some(p=>e.includes(`/${p}/`)))return!0;let r=`${t}${e}`;if(["linkedin.com/feed/update","stackoverflow.com/questions"].find(p=>r.startsWith(p)))return!0;if(["figma.com/file"].some(p=>r.includes(p))||[/figma\.com\/design\/.{15,}\/.{5,}/].some(p=>r.match(p)))return!1;let l=[/github.com\/.+/,/reddit.com\/r\/.+/,/quora.com\/.+/],u=`${t}${e.slice(0,5)}`;if(l.find(p=>u.match(p)))return!0;let c=document.querySelector('script[type="application/ld+json"]');if(c)try{let p=JSON.parse(c.textContent||"{}");if(["Article","BlogPosting","NewsArticle","ProfilePage","ProductPage","Review","Recipe"].includes(p["@type"]||""))return!0}catch{}let d=document.querySelector('meta[property="og:type"]');if(document.querySelector('meta[property="article:author"]')||document.querySelector('meta[name="author"]')||d&&["article","blog","news","profile","product","review","recipe"].includes(d.getAttribute("content")||""))return!0;let m=document.querySelector('link[rel="author"]');return!!(m&&m.getAttribute("href"))};var po=Pt(co,ke),ir=Pt(Be,!1),sr=Pt(Le,!1),lr=Pt(Oe,0),ur=Pt(Ee,0),cr=async(t,e)=>{let o=await po();Math.abs(o-t)<10||(await Mt(co,t),e?.())},mr=(t,e)=>{if(!e)return t;if(t<56||e+160<=56)return 56;if(t>e-160)return e-160;if(e-36<=t){let o=e-36;return o<=0?56:o}return t};var pr=f(x());var ni=t=>{let{children:e,open:o,testId:n}=t,{t:r}=_(["common","client"]);return pr.default.createElement(ko,{testId:n,open:o,placement:"right",title:r("client:quick_access__translate__same_language_tooltip")},e)},dr=ni;var ri=({onDrag:t})=>{Pn();let{devShowAuxiliaryLine:e,devAlwaysExpandAllButtons:o}=Bt(),[n]=Rt(oo),[r,a]=(0,g.useState)(!1),[i,s]=(0,g.useState)(()=>ke),[l,u]=(0,g.useState)(!1),[c,d]=(0,g.useState)(!1),[h,m]=(0,g.useState)(!1),[p,S]=(0,g.useState)(!1),I=Vt(Ce),ct=An(),C=(0,g.useRef)(0),[F,zt]=(0,g.useState)(!1),Tt=(0,g.useRef)(!1),le=(0,g.useRef)(0),ue=(0,g.useRef)(0),go=(0,g.useCallback)((T,B=!1)=>{let L=mr(T,C.current);B&&cr(L),s(L)},[]),[vr,Ar]=(0,g.useState)(!1);et(()=>{let T=()=>{C.current=window.innerHeight,go(Tt.current?le.current:C.current-ue.current)};return(async()=>{try{let[L,St,ce,Pr,Br]=await Promise.all([po(),sr(),lr(),ur(),ir()]);C.current=window.innerHeight,Tt.current=St,le.current=ce||L,ue.current=Pr||C.current-L,zt(Br),T()}catch{}finally{Ar(!0),S(!0)}})(),window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}});let wr=de(()=>{a(mo())},1e3);et(()=>{a(mo())}),en(async T=>{if(T==="Client_listenTabUrlUpdate")return wr(),{success:!0,message:"ok",data:{}}});let Fe=(0,g.useMemo)(()=>wo()||document.querySelector('body > embed[type="application/pdf"][internalid]')?!1:l||I||ct,[l,I,ct]),{showTranslateSameLanguageTooltip:fo}=wn(),Ue=(0,g.useMemo)(()=>l||r,[l,r]),ho=(0,g.useCallback)(T=>{if(o)return!0;switch(T){case"summarize":return Ue;case"translate":return Fe;case"screenshot":return l;case"hide-quick-access":return l;default:return!1}},[l,Ue,Fe,o]),_o=(0,g.useMemo)(()=>{let T=uo;return fo&&(T=Po(uo),T.priorityTooltip={testId:"maxai__quick_access__translate_same_language_tooltip",customNode:dr}),[T,nr]},[fo]);(0,g.useEffect)(()=>{},[_o]);let bo=Ho(h);(0,g.useEffect)(()=>{let T=B=>{bo.current&&B.preventDefault()};return document.addEventListener("contextmenu",T),()=>document.removeEventListener("contextmenu",T)},[bo]);let xo=(0,g.useRef)(0);return!p||n?null:g.default.createElement(g.default.Fragment,null,h&&g.default.createElement(U,{sx:{width:"100vw",height:"100vh",position:"fixed",top:0,left:0,zIndex:2147483618,cursor:"grab"}}),g.default.createElement(U,{sx:{width:0,height:"100vh",position:"fixed",visibility:vr?"visible":"hidden",top:0,...F?{left:0}:{right:0},zIndex:2147483619,"--mini-button-height-wrapper":"36px","--mini-button-height":"32px","@media print":{display:"none !important"}}},g.default.createElement(gr.default,{disabled:!c,position:{x:0,y:i},bounds:{top:56,bottom:window.innerHeight-160,left:F?0:-window.innerWidth+48,right:F?window.innerWidth-48:0},axis:"both",scale:1,onStart:()=>{xo.current=Date.now()},onStop:(T,B)=>{if(h){if(C.current){if(Tt.current=B.y<C.current/2,le.current=B.y,ue.current=C.current-B.y,Math.abs(B.x)>window.innerWidth/2){let L=B.x<0;zt(L),Mt(Be,L)}Mt(Le,Tt.current),Mt(Oe,le.current),Mt(Ee,ue.current)}go(B.y,!0),requestAnimationFrame(()=>{u(!1),m(!1)})}},onDrag:(T,B)=>{t?.(),Date.now()-xo.current>90&&(m(!0),u(!0))}},g.default.createElement(U,{"data-testid":"quick-access-maxai-mini-button-main",sx:{position:"absolute",width:42,...F?{left:0}:{right:0},top:0,userSelect:"none"}},h?g.default.createElement(U,{sx:{cursor:"grab",width:"36px",height:"36px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:"text.primary",bgcolor:"background.paper",boxShadow:" 0px 0px 1px 0px rgba(0, 0, 0, 0.08), 0px 5px 25px 0px rgba(0, 0, 0, 0.04), 0px 3.2px 12px 0px rgba(0, 0, 0, 0.08)",transform:"translate(0, 37px)"}},g.default.createElement(W,{sx:{transform:"translateX(-1px)"}})):g.default.createElement(Do,{onClickAway:()=>{u(!1),m(!1)}},g.default.createElement(b,{sx:{justifyContent:"center",width:"110px",height:"110px","--hover-outset-distance":"15px",...F?{borderRadius:"0 50% 50% 0",paddingRight:"var(--hover-outset-distance)",marginRight:"calc(-1 * var(--hover-outset-distance))",alignItems:"flex-end",float:"right"}:{borderRadius:"50% 0 0 50%",paddingLeft:"var(--hover-outset-distance)",marginLeft:"calc(-1 * var(--hover-outset-distance))"},transform:l||Ue||Fe||o?"translateX(0)":F?"translateX(-10px)":"translateX(10px)",transition:"0.1s all",...e?{outline:"1px solid red"}:{}},onMouseLeave:()=>{u(!1),d(!1)},onMouseEnter:()=>{u(!0),d(!0)},onClick:T=>{if(h)return;let B=document.elementsFromPoint(T.clientX,T.clientY);for(let L of B)if(L!==T.target&&L instanceof HTMLElement){let St=L,ce=!0;for(;St&&St!==document.body;){if(St.tagName.toLowerCase()==="max-ai-minimum-app"){ce=!1;break}St=St.parentElement}if(ce){L.click();return}}}},g.default.createElement(ar,{onMouseLeave:()=>{d(!1)},isDragging:h,isOnThePageLeft:F,aboveNode:g.default.createElement(b,{spacing:"4px",sx:{position:"absolute",...F?{left:"6px"}:{right:"6px"},bottom:"4px",alignItems:"flex-end",...e?{}:{}}},rr.map(T=>ho(T.type)&&g.default.createElement(oe,{key:T.type,isDragging:h,isOnThePageLeft:F,...T}))),underNode:g.default.createElement(b,{spacing:"4px",sx:{position:"absolute",...F?{left:"6px"}:{right:"6px"},top:"4px",alignItems:"flex-end",...e?{}:{}}},_o.map(T=>ho(T.type)&&g.default.createElement(oe,{key:T.type,isDragging:h,isOnThePageLeft:F,...T})))})))))))},fr=ri;var lt=f(x());var k=f(x());Er();kr();var it=f(x()),hr=f(He());var ai=t=>{let{rootContainer:e,customElementName:o,children:n,style:r,checkVisibility:a=!0,onSetContainer:i}=t,[s,l]=(0,it.useState)(null),u=(0,it.useRef)(null);return(0,it.useEffect)(()=>{if(e&&!s){if(a&&!At(e))return;let c="customElements"in window,d=document.createElement(c?o:"div");r&&(d.style.cssText=r),e.insertBefore(d,e.firstChild);let h=d.attachShadow({mode:"open"}),m=document.createElement("style"),p=document.createElement("div");h.appendChild(m),h.appendChild(p);let S=String(o).toLowerCase().replace(/_/g,"-");u.current=Mo({key:`${S}-emotion-cache`,prepend:!0,container:m}),l(I=>(I&&I.getRootNode()?.host?.remove(),p))}else s&&!e&&l(null);return()=>{}},[e,s,o,a,r]),(0,it.useEffect)(()=>{i&&s&&i(s)},[s,i]),!s||!u.current?null:(0,hr.createPortal)(it.default.createElement(Io,{value:u.current},n),s)},_t=ai;var V=f(x());var ii=(t,e)=>{let[o,n]=(0,V.useState)(void 0),[r,a]=(0,V.useState)([]),{interval:i=1e3,style:s}=e||{};return(0,V.useEffect)(()=>{let l=setInterval(()=>{if(!o){let u=document.querySelectorAll(t);if(u.length>0){let c=Array.from(u).map(d=>(s&&d.setAttribute("style",s),d));a(c),n(c[0])}}},i);return()=>{l&&clearInterval(l)}},[t,i,o]),(0,V.useEffect)(()=>{let l=setInterval(()=>{if(o){if(At(o))return;n(void 0),a([])}},1e3);return()=>{l&&clearInterval(l)}},[o]),{elements:r,element:o}},Wt=ii,_r=async(t,e=5e3,o=0)=>new Promise((r,a)=>{let i=t();if(i)r(i);else{if(o>e)return r(null);setTimeout(()=>r(_r(t,e,o+500)),500)}}),br=t=>{let[e,o]=(0,V.useState)(null),n=(0,V.useRef)(null),r=(0,V.useRef)(null),a=(0,V.useRef)(!1),i=async()=>{if(a.current){try{let u=await _r(t,1100);n.current=u,o(u)}catch{}r.current=setTimeout(()=>{i()},1e3)}},s=()=>{a.current||(a.current=!0,i())},l=()=>{r.current&&clearTimeout(r.current),a.current=!1};return(0,V.useEffect)(()=>(setTimeout(()=>s(),0),()=>{l()}),[]),{element:e}};var bt=f(x());var ie={sceneType:"EMAIL_SUMMARY_BUTTON",id:"ONBOARDING_TOOLTIP__EMAIL_SUMMARY_BUTTON",anchorElementSelectors:['button[data-testid="maxai-gmail-summary-button"]','button[data-testid="maxai-outlook-summary-button"]'],CtaButtonClickedName:"Onboarding > EmailSummarizeButton > Got it"},si=t=>{let{showStateTrigger:e,...o}=t,{t:n}=_(),[r,a]=(0,bt.useState)(!1);return(0,bt.useEffect)(()=>{e?Ot(ie.sceneType).then(i=>{i||Et(ie.sceneType).then(()=>{a(!0)})}):a(!1)},[e]),bt.default.createElement(Lt,{hideBackdrop:!0,sx:{visibility:"hidden"},placement:"bottom",fallbackPlacements:["left","right"],trigger:r,anchorElementSelectors:ie.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":ie.CtaButtonClickedName},id:ie.id,footerLeft:bt.default.createElement(kt,null),...o},bt.default.createElement(vt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},n("onboarding:onboarding_tooltip__EMAIL_SUMMARY_BUTTON__text")))},De=si;var li=()=>{let{t}=_(["client"]),e=location.pathname.includes("popout"),{element:o}=Wt(e?"div[jsaction] .G-tF":"div[jsaction] > .adF"),[n,r]=(0,k.useState)(null),[a,i]=(0,k.useState)(!1),s=wt(o,{needCheckScrollParentsInInit:!1});return(0,k.useEffect)(()=>{let l=()=>{let c=document?.querySelector("div[jsaction] .G-tF svg");if(!c)return;let d=c?getComputedStyle(c).color:"";i(d==="rgb(255, 255, 255)")},u=setInterval(l,500);return l(),()=>{clearInterval(u)}},[]),k.default.createElement(k.default.Fragment,null,k.default.createElement(_t,{rootContainer:o,customElementName:"max-ai-gmail-summary-button",onSetContainer:r},k.default.createElement(U,{sx:e?{height:36,position:"absolute",right:16,top:4}:{height:20,position:"relative",top:-8,mr:1}},k.default.createElement(j,{arrow:!0,PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:t("client:sidebar__tabs__summary__tooltip__default_email")},k.default.createElement(Q,{sx:{borderRadius:"18px",color:a?"#d6d6d6":"#444746",backgroundColor:"transparent","&:hover":{color:a?"white":"rgba(0, 0, 0, 0.87)",backgroundColor:a?"rgba(255,255,255,0.2)":"rgba(32,33,36,0.059)"}},startIcon:k.default.createElement(W,{sx:{fontSize:16,color:a?"white":"rgba(0, 0, 0, 0.87)"}}),id:"page-summary-button","data-testid":"maxai-gmail-summary-button",variant:"contained",onClick:l=>{pt("maxai-gmail-summary-button",l.currentTarget),z("QuickAccessSummary",{pageSummaryType:$()})}},t("client:social_media_summary_button__text"))))),n&&s&&k.default.createElement(De,{showStateTrigger:!0,anchorElementSelectorsRootContainer:n}))},xr=li;var D=f(x());var ui=()=>{let{t}=_(["client"]),{element:e}=Wt('#ReadingPaneContainerId div[role="heading"]',{style:"display: flex;align-items: center;gap: 8px;"}),[o,n]=(0,D.useState)(null),[r,a]=(0,D.useState)(!1),i=wt(e,{needCheckScrollParentsInInit:!1});return(0,D.useEffect)(()=>{a(Ro()==="dark")},[]),D.default.createElement(D.default.Fragment,null,D.default.createElement(_t,{rootContainer:e,customElementName:"max-ai-outlook-summary-button",style:"order:1",onSetContainer:n},D.default.createElement(j,{arrow:!0,placement:"bottom",PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:t("client:sidebar__tabs__summary__tooltip__default_email")},D.default.createElement(Q,{sx:{height:"28px",px:"9px",mr:1,borderRadius:"4px",color:r?"#d6d6d6":"#444746",backgroundColor:"transparent","&:hover":{color:r?"white":"rgba(0, 0, 0, 0.87)",backgroundColor:r?"rgba(255,255,255,0.2)":"rgba(32,33,36,0.059)"}},id:"page-summary-button","data-testid":"maxai-outlook-summary-button",variant:"contained",onClick:s=>{pt("maxai-outlook-summary-button",s.currentTarget),z("QuickAccessSummary",{pageSummaryType:$()})}},D.default.createElement(b,{direction:"row",alignItems:"center",gap:1},D.default.createElement(W,{sx:{fontSize:16,color:"inherit"}}),t("client:social_media_summary_button__text"))))),o&&i&&D.default.createElement(De,{showStateTrigger:!0,anchorElementSelectorsRootContainer:o}))},Tr=ui;var st=f(x());var ci=()=>{let{t}=_(["client"]),{element:e}=Wt("#toolbarViewerRight"),[o,n]=(0,st.useState)(null);return st.default.createElement(_t,{rootContainer:e,customElementName:"max-ai-pdf-summary-button",onSetContainer:n},st.default.createElement(j,{arrow:!0,PopperProps:{disablePortal:!0,sx:{"& > div":{maxWidth:"unset",width:"max-content"}}},title:t("client:sidebar__tabs__summary__tooltip__pdf_crx")},st.default.createElement(Q,{sx:{py:0,px:1,mr:1,mt:.5,borderRadius:"12px",border:"1px solid",backgroundColor:"transparent",color:"white",borderColor:"white","&:hover":{backgroundColor:"transparent",color:"white",borderColor:"white"}},variant:"contained",id:"page-summary-button","data-testid":"maxai-pdf-summary-button",onClick:r=>{pt("maxai-pdf-summary-button",r.currentTarget),z("QuickAccessSummary",{pageSummaryType:"PDF_CRX_SUMMARY"})}},st.default.createElement(b,{direction:"row",alignItems:"center",gap:1},st.default.createElement(W,{sx:{fontSize:14,color:"inherit"}}),t("client:social_media_summary_button__text")))),o&&st.default.createElement(ln,{sceneType:"PDF_SUMMARY_BUTTON",container:o}))},Sr=ci;var N=f(x());var xt=f(x());var se={sceneType:"YOUTUBE_SUMMARY_BUTTON",id:"ONBOARDING_TOOLTIP__YOUTUBE_SUMMARY_BUTTON",anchorElementSelectors:'button[data-testid="maxai-youtube-summary-button"]',CtaButtonClickedName:"Onboarding > YoutubeSummarizeButton > Got it"},mi=t=>{let{showStateTrigger:e,...o}=t,{t:n}=_(),[r,a]=(0,xt.useState)(!1);return(0,xt.useEffect)(()=>{e?Ot(se.sceneType).then(i=>{i||Et(se.sceneType).then(()=>{a(!0)})}):a(!1)},[e]),xt.default.createElement(Lt,{hideBackdrop:!0,sx:{visibility:"hidden"},placement:"left",fallbackPlacements:["right","bottom"],trigger:r,anchorElementSelectors:se.anchorElementSelectors,CtaButtonProps:{"data-button-clicked-name":se.CtaButtonClickedName},id:se.id,footerLeft:xt.default.createElement(kt,null),...o},xt.default.createElement(vt,{fontSize:14,lineHeight:1.4,color:"text.primary",fontWeight:400,textAlign:"left"},n("onboarding:onboarding_tooltip__YOUTUBE_SUMMARY_BUTTON__text")))},yr=mi;var Ne="max-ai-youtube-summary-button",pi=()=>{let t=document.querySelector("ytd-watch-metadata div#title h1 yt-formatted-string");return t&&t.innerText?.length>0&&At(t)?t:null},di=()=>{let{t}=_(["client"]),{element:e}=br(pi),[o,n]=N.default.useState(null),r=wt(e,{needCheckScrollParentsInInit:!1}),[a,i]=N.default.useState(null),s=(0,N.useMemo)(()=>{switch($()){case"DEFAULT_EMAIL_SUMMARY":return"client:sidebar__tabs__summary__tooltip__default_email";case"PAGE_SUMMARY":return"client:sidebar__tabs__summary__tooltip__page";case"PDF_CRX_SUMMARY":return"client:sidebar__tabs__summary__tooltip__pdf_crx";case"YOUTUBE_VIDEO_SUMMARY":return"client:sidebar__tabs__summary__tooltip__youtube_video__page_button";default:return"client:sidebar__tabs__summary__tooltip__page"}},[window.location.href]),l=!!document?.documentElement.hasAttribute("dark");return(0,N.useEffect)(()=>{let u=null;if(e){let c=document.querySelector(`.${Ne}`)??document.createElement("div");if(c.className=Ne,c.style.cssText=`
          display: flex;
          align-items: center;
          justify-content: start;
          margin-left: auto;
          flex-shrink: 0;
        `,c.parentNode===e.parentNode){n(c);return}u=setTimeout(()=>{let d=e.parentNode;d&&(d.style.cssText+="display: flex;align-items: center;gap: 8px;",e.parentNode?.append(c)),n(c)},0)}else Array.from(document.querySelectorAll(`.${Ne}`)).filter(d=>{d.remove()}),n(null);return()=>{u&&clearTimeout(u)}},[e]),o?N.default.createElement(N.default.Fragment,null,N.default.createElement(_t,{checkVisibility:!1,customElementName:Ne,rootContainer:o,onSetContainer:i},N.default.createElement(j,{arrow:!0,PopperProps:{disablePortal:!0},title:t(s),placement:"left"},N.default.createElement(Q,{id:"page-summary-button","data-testid":"maxai-youtube-summary-button",onClick:u=>{pt("maxai-youtube-summary-button",u.currentTarget),z("QuickAccessSummary",{pageSummaryType:$()})},sx:{maxHeight:"36px",borderRadius:"18px",backgroundColor:l?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.05)",color:l?"#f1f1f1":"#0f0f0f","&:hover":{backgroundColor:l?"rgba(255,255,255,0.2)":"rgba(0,0,0,0.1)",color:l?"#f1f1f1":"#0f0f0f"}},variant:"contained",startIcon:N.default.createElement(W,{sx:{fontSize:16,color:"inherit"}})},t("client:youtube_summary_button__text")))),a&&r&&N.default.createElement(yr,{showStateTrigger:!0,anchorElementSelectorsRootContainer:a})):null},Mr=di;var gi=()=>{let{userSettings:t}=O(),[e]=(0,lt.useState)(G);return lt.default.createElement(lt.default.Fragment,null,t?.summarizeButton?.gmail&&e==="mail.google.com"&&lt.default.createElement(xr,null),t?.summarizeButton?.youtube&&e==="youtube.com"&&lt.default.createElement(Mr,null),t?.summarizeButton?.pdf&&tn()&&lt.default.createElement(Sr,null),t?.summarizeButton?.outlook&&(e==="outlook.live.com"||e==="outlook.office.com"||e==="outlook.office365.com")&&lt.default.createElement(Tr,null))},Ir=gi;var ut=f(x());var fi=()=>{let{setAppSettingsState:t}=O(),{getLocalSettings:e}=Go();return nn(),(0,ut.useEffect)(()=>{let o=async()=>{let n=await Ko();n&&t({...n}),e()};return o(),window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),ut.default.createElement(ut.default.Fragment,null)},hi=()=>(Qo(),an(),Eo(!1),$o("minimum"),ut.default.createElement(ut.default.Fragment,null,ut.default.createElement(fi,null),ut.default.createElement(jo,null))),Cr=hi;var _i=()=>{let{userSettings:t,setUserSettings:e}=O(),[o,n]=(0,P.useState)(!1),{isLogin:r}=pe(),a=(0,P.useRef)(()=>{});et(()=>{let c=setInterval(()=>{let h=document.querySelector(`#${yo}`),m=new MutationObserver(p=>{p.forEach(S=>{if(S.type==="attributes"){let I=S.target?.classList?.contains("open");n(I||!1)}})});h&&(clearInterval(c),m.observe(h,{attributes:!0}))},500),d=({data:h})=>{let{event:m,data:p}=h;m===sn&&p.open&&(n(p.open),window.removeEventListener("message",d))};window.addEventListener("message",d)});let i=(0,P.useMemo)(()=>{let c=t?.quickAccess?.visibility;return c?!c.isWhitelistMode&&Bo(c):!0},[e,t]),s=P.default.useMemo(()=>{let c=[`${Gt}/login/email`,`${Gt}/login/google`,`${Gt}/auth`,"https://accounts.google.com/o/oauth2"];return typeof window<"u"&&c.find(d=>window.location.href.startsWith(d))?!1:i&&!o},[i,o]),l=P.default.useMemo(()=>{if(s){let c=G();return c==="app.maxai.me"||c==="accounts.google.com"&&location.pathname.startsWith("/o/oauth2")?r:!0}},[r,s]),u=(0,P.useMemo)(()=>!(o||Gt.includes(location.host)),[o]);return P.default.createElement(Zo,null,P.default.createElement(Cr,null),s&&P.default.createElement(fr,{onDrag:()=>{a.current()}}),P.default.createElement(Ir,null),u&&P.default.createElement(un,{updateRef:a,showStateTrigger:l}))},zm=_i;export{zm as default};
